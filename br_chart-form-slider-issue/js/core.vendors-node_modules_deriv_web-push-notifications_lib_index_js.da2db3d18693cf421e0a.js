/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(self["webpackChunk"] = self["webpackChunk"] || []).push([["vendors-node_modules_deriv_web-push-notifications_lib_index_js"],{

/***/ "../../../node_modules/@deriv/web-push-notifications/lib/index.js":
/*!************************************************************************!*\
  !*** ../../../node_modules/@deriv/web-push-notifications/lib/index.js ***!
  \************************************************************************/
/***/ (function(module) {

eval("!function(root,factory){if(true)module.exports=factory();else { var i, a; }}(this,function(){return function(modules){var installedModules={};function __nested_webpack_require_318__(moduleId){if(installedModules[moduleId])return installedModules[moduleId].exports;var module=installedModules[moduleId]={i:moduleId,l:!1,exports:{}};return modules[moduleId].call(module.exports,module,module.exports,__nested_webpack_require_318__),module.l=!0,module.exports}return __nested_webpack_require_318__.m=modules,__nested_webpack_require_318__.c=installedModules,__nested_webpack_require_318__.d=function(exports,name,getter){__nested_webpack_require_318__.o(exports,name)||Object.defineProperty(exports,name,{configurable:!1,enumerable:!0,get:getter})},__nested_webpack_require_318__.r=function(exports){Object.defineProperty(exports,\"__esModule\",{value:!0})},__nested_webpack_require_318__.n=function(module){var getter=module&&module.__esModule?function(){return module.default}:function(){return module};return __nested_webpack_require_318__.d(getter,\"a\",getter),getter},__nested_webpack_require_318__.o=function(object,property){return Object.prototype.hasOwnProperty.call(object,property)},__nested_webpack_require_318__.p=\"\",__nested_webpack_require_318__(__nested_webpack_require_318__.s=77)}([function(module,exports,__nested_webpack_require_1351__){\"use strict\";var support=__nested_webpack_require_1351__(7),base64=__nested_webpack_require_1351__(58),nodejsUtils=__nested_webpack_require_1351__(31),setImmediate=__nested_webpack_require_1351__(100),external=__nested_webpack_require_1351__(26);function identity(input){return input}function stringToArrayLike(str,array){for(var i=0;i<str.length;++i)array[i]=255&str.charCodeAt(i);return array}exports.newBlob=function(part,type){exports.checkSupport(\"blob\");try{return new Blob([part],{type:type})}catch(e){try{var builder=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);return builder.append(part),builder.getBlob(type)}catch(e){throw new Error(\"Bug : can't construct the Blob.\")}}};var arrayToStringHelper={stringifyByChunk:function(array,type,chunk){var result=[],k=0,len=array.length;if(len<=chunk)return String.fromCharCode.apply(null,array);for(;k<len;)\"array\"===type||\"nodebuffer\"===type?result.push(String.fromCharCode.apply(null,array.slice(k,Math.min(k+chunk,len)))):result.push(String.fromCharCode.apply(null,array.subarray(k,Math.min(k+chunk,len)))),k+=chunk;return result.join(\"\")},stringifyByChar:function(array){for(var resultStr=\"\",i=0;i<array.length;i++)resultStr+=String.fromCharCode(array[i]);return resultStr},applyCanBeUsed:{uint8array:function(){try{return support.uint8array&&1===String.fromCharCode.apply(null,new Uint8Array(1)).length}catch(e){return!1}}(),nodebuffer:function(){try{return support.nodebuffer&&1===String.fromCharCode.apply(null,nodejsUtils.allocBuffer(1)).length}catch(e){return!1}}()}};function arrayLikeToString(array){var chunk=65536,type=exports.getTypeOf(array),canUseApply=!0;if(\"uint8array\"===type?canUseApply=arrayToStringHelper.applyCanBeUsed.uint8array:\"nodebuffer\"===type&&(canUseApply=arrayToStringHelper.applyCanBeUsed.nodebuffer),canUseApply)for(;chunk>1;)try{return arrayToStringHelper.stringifyByChunk(array,type,chunk)}catch(e){chunk=Math.floor(chunk/2)}return arrayToStringHelper.stringifyByChar(array)}function arrayLikeToArrayLike(arrayFrom,arrayTo){for(var i=0;i<arrayFrom.length;i++)arrayTo[i]=arrayFrom[i];return arrayTo}exports.applyFromCharCode=arrayLikeToString;var transform={};transform.string={string:identity,array:function(input){return stringToArrayLike(input,new Array(input.length))},arraybuffer:function(input){return transform.string.uint8array(input).buffer},uint8array:function(input){return stringToArrayLike(input,new Uint8Array(input.length))},nodebuffer:function(input){return stringToArrayLike(input,nodejsUtils.allocBuffer(input.length))}},transform.array={string:arrayLikeToString,array:identity,arraybuffer:function(input){return new Uint8Array(input).buffer},uint8array:function(input){return new Uint8Array(input)},nodebuffer:function(input){return nodejsUtils.newBufferFrom(input)}},transform.arraybuffer={string:function(input){return arrayLikeToString(new Uint8Array(input))},array:function(input){return arrayLikeToArrayLike(new Uint8Array(input),new Array(input.byteLength))},arraybuffer:identity,uint8array:function(input){return new Uint8Array(input)},nodebuffer:function(input){return nodejsUtils.newBufferFrom(new Uint8Array(input))}},transform.uint8array={string:arrayLikeToString,array:function(input){return arrayLikeToArrayLike(input,new Array(input.length))},arraybuffer:function(input){return input.buffer},uint8array:identity,nodebuffer:function(input){return nodejsUtils.newBufferFrom(input)}},transform.nodebuffer={string:arrayLikeToString,array:function(input){return arrayLikeToArrayLike(input,new Array(input.length))},arraybuffer:function(input){return transform.nodebuffer.uint8array(input).buffer},uint8array:function(input){return arrayLikeToArrayLike(input,new Uint8Array(input.length))},nodebuffer:identity},exports.transformTo=function(outputType,input){if(input||(input=\"\"),!outputType)return input;exports.checkSupport(outputType);var inputType=exports.getTypeOf(input);return transform[inputType][outputType](input)},exports.getTypeOf=function(input){return\"string\"==typeof input?\"string\":\"[object Array]\"===Object.prototype.toString.call(input)?\"array\":support.nodebuffer&&nodejsUtils.isBuffer(input)?\"nodebuffer\":support.uint8array&&input instanceof Uint8Array?\"uint8array\":support.arraybuffer&&input instanceof ArrayBuffer?\"arraybuffer\":void 0},exports.checkSupport=function(type){if(!support[type.toLowerCase()])throw new Error(type+\" is not supported by this platform\")},exports.MAX_VALUE_16BITS=65535,exports.MAX_VALUE_32BITS=-1,exports.pretty=function(str){var code,i,res=\"\";for(i=0;i<(str||\"\").length;i++)res+=\"\\\\x\"+((code=str.charCodeAt(i))<16?\"0\":\"\")+code.toString(16).toUpperCase();return res},exports.delay=function(callback,args,self){setImmediate(function(){callback.apply(self||null,args||[])})},exports.inherits=function(ctor,superCtor){var Obj=function(){};Obj.prototype=superCtor.prototype,ctor.prototype=new Obj},exports.extend=function(){var i,attr,result={};for(i=0;i<arguments.length;i++)for(attr in arguments[i])arguments[i].hasOwnProperty(attr)&&void 0===result[attr]&&(result[attr]=arguments[i][attr]);return result},exports.prepareContent=function(name,inputData,isBinary,isOptimizedBinaryString,isBase64){return external.Promise.resolve(inputData).then(function(data){return support.blob&&(data instanceof Blob||-1!==[\"[object File]\",\"[object Blob]\"].indexOf(Object.prototype.toString.call(data)))&&\"undefined\"!=typeof FileReader?new external.Promise(function(resolve,reject){var reader=new FileReader;reader.onload=function(e){resolve(e.target.result)},reader.onerror=function(e){reject(e.target.error)},reader.readAsArrayBuffer(data)}):data}).then(function(data){var dataType=exports.getTypeOf(data);return dataType?(\"arraybuffer\"===dataType?data=exports.transformTo(\"uint8array\",data):\"string\"===dataType&&(isBase64?data=base64.decode(data):isBinary&&!0!==isOptimizedBinaryString&&(data=function(str){return stringToArrayLike(str,support.uint8array?new Uint8Array(str.length):new Array(str.length))}(data))),data):external.Promise.reject(new Error(\"Can't read the data of '\"+name+\"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?\"))})}},function(module,exports,__webpack_require__){\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:!0}),exports.DEFAULT_SERVICE_WORKER_URL=\"/pushwoosh-service-worker.js\",exports.DEFAULT_API_URL=\"https://cp.pushwoosh.com/json/1.3/\",exports.FACEBOOK_APP_ID=\"436711767081797\",exports.FACEBOOK_HWID_KEY=\"FACEBOOK_HWID_KEY\",exports.PERIOD_SEND_APP_OPEN=36e5,exports.PERIOD_GOAL_EVENT=864e5,exports.DEFAULT_NOTIFICATION_DURATION=10,exports.MIN_NOTIFICATION_DURATION=10,exports.MAX_NOTIFICATION_DURATION=55,exports.WAKE_UP_SERVICE_WORKER_INTERVAL=20,exports.DEFAULT_NOTIFICATION_TITLE=\"Pushwoosh notification\",exports.DEFAULT_NOTIFICATION_IMAGE=\"https://cp.pushwoosh.com/img/logo-medium.png\",exports.DEFAULT_NOTIFICATION_URL=\"/\",exports.KEY_API_PARAMS=\"API_PARAMS\",exports.KEY_INIT_PARAMS=\"INIT_PARAMS\",exports.KEY_SDK_VERSION=\"SDK_VERSION\",exports.KEY_WORKER_VERSION=\"WORKER_VERSION\",exports.KEY_LAST_SENT_APP_OPEN=\"LAST_SENT_APP_OPEN\",exports.KEY_LAST_OPEN_MESSAGE=\"LAST_OPEN_MESSAGE\",exports.KEY_API_BASE_URL=\"API_BASE_URL\",exports.KEY_SHOW_SUBSCRIBE_WIDGET=\"WIDGET_SHOWED\",exports.KEY_CLICK_SUBSCRIBE_WIDGET=\"WIDGET_CLICKED\",exports.KEY_DELAYED_EVENT=\"DELAYED_EVENT\",exports.KEY_COMMUNICATION_ENABLED=\"COMMUNICATION_ENABLED\",exports.KEY_DEVICE_DATA_REMOVED=\"DEVICE_DATA_REMOVED\",exports.KEY_INTERNAL_EVENTS=\"INTERNAL_EVENTS\",exports.KEY_UNSUBSCRIBED_DUE_TO_UNDEFINED_KEYS=\"UNSUBSCRIBED_DUE_TO_UNDEFINED_KEYS\",exports.KEY_FAKE_PUSH_TOKEN=\"fakePushToken\",exports.KEY_DEVICE_REGISTRATION_STATUS=\"deviceRegistrationStatus\",exports.KEY_SAFARI_PREVIOUS_PERMISSION=\"safariPreviousPermission\",exports.MANUAL_SET_LOGGER_LEVEL=\"PW_SET_LOGGER_LEVEL\",exports.DEVICE_REGISTRATION_STATUS_REGISTERED=\"registered\",exports.DEVICE_REGISTRATION_STATUS_UNREGISTERED=\"unregistered\",exports.KEY_SENDER_ID=\"GCM_SENDER_ID\",exports.KEY_FCM_SUBSCRIPTION=\"FCM_SUBSCRIPTION\",exports.PERMISSION_DENIED=\"denied\",exports.PERMISSION_GRANTED=\"granted\",exports.PERMISSION_PROMPT=\"default\",exports.EVENT_ON_LOAD=\"onLoad\",exports.EVENT_ON_READY=\"onReady\",exports.EVENT_ON_SUBSCRIBE=\"onSubscribe\",exports.EVENT_ON_UNSUBSCRIBE=\"onUnsubscribe\",exports.EVENT_ON_REGISTER=\"onRegister\",exports.EVENT_ON_PERMISSION_PROMPT=\"onPermissionPrompt\",exports.EVENT_ON_PERMISSION_DENIED=\"onPermissionDenied\",exports.EVENT_ON_PERMISSION_GRANTED=\"onPermissionGranted\",exports.EVENT_ON_SW_INIT_ERROR=\"onSWInitError\",exports.EVENT_ON_PUSH_DELIVERY=\"onPushDelivery\",exports.EVENT_ON_NOTIFICATION_CLICK=\"onNotificationClick\",exports.EVENT_ON_NOTIFICATION_CLOSE=\"onNotificationClose\",exports.EVENT_ON_CHANGE_COMMUNICATION_ENABLED=\"onChangeCommunicationEnabled\",exports.EVENT_ON_PUT_NEW_MESSAGE_TO_INBOX_STORE=\"onPutNewMessageToInboxStore\",exports.EVENT_ON_UPDATE_INBOX_MESSAGES=\"onUpdateInboxMessages\",exports.EVENT_ON_SHOW_NOTIFICATION_PERMISSION_DIALOG=\"onShowNotificationPermissionDialog\",exports.EVENT_ON_HIDE_NOTIFICATION_PERMISSION_DIALOG=\"onHideNotificationPermissionDialog\",exports.EVENT_ON_SHOW_SUBSCRIPTION_WIDGET=\"onShowSubscriptionWidget\",exports.EVENT_ON_HIDE_SUBSCRIPTION_WIDGET=\"onHideSubscriptionWidget\",exports.EVENT_SHOW_SUBSCRIBE_BUTTON=\"showSubscribeButton\",exports.EVENT_CLICK_SUBSCRIBE_BUTTON=\"clickSubscribeButton\",exports.EVENT_GDPR_CONSENT=\"GDPRConsent\",exports.EVENT_GDPR_DELETE=\"GDPRDelete\",exports.EVENT_PW_SITE_OPENED=\"PW_SiteOpened\",exports.MANUAL_UNSUBSCRIBE=\"MANUAL_UNSUBSCRIBE\",exports.PAGE_VISITED_URL=\"PAGE_VISITED_URL\",exports.CHANNELS=\"CHANNELS\",exports.SUBSCRIPTION_SEGMENT_EVENT=\"Subscription Segments\",exports.SUBSCRIPTION_WIDGET_USE_CASE_NOT_SET=\"not-set\",exports.SUBSCRIPTION_WIDGET_USE_CASE_NOT_USED=\"not-used\",exports.SUBSCRIPTION_WIDGET_USE_CASE_DEFAULT=\"default\",exports.SUBSCRIPTION_WIDGET_USE_CASE_TOPIC_BASED=\"topic-based\",exports.BROWSER_TYPE_CHROME=\"chrome\",exports.BROWSER_TYPE_FF=\"firefox\",exports.BROWSER_TYPE_SAFARI=\"safari\",exports.SUBSCRIPTION_PROMPT_WIDGET_DEFAULT_CONFIG={headerText:\"Subscribe to our news\",headerTextColor:\"#000000\",subheaderText:\"Don't miss out on the latest news and updates!\",subheaderTextColor:\"#000000\",buttonAcceptText:\"Agree\",buttonAcceptTextColor:\"#1A72E8\",buttonAcceptRound:\"4px\",buttonAcceptBackgroundColor:\"#FFFFFF\",buttonAcceptBorderColor:\"#E3E4E8\",buttonCancelText:\"Deny\",buttonCancelTextColor:\"#1A72E8\",buttonCancelRound:\"4px\",buttonCancelBackgroundColor:\"#FFFFFF\",buttonCancelBorderColor:\"#E3E4E8\",cappingCount:3,cappingDelay:144e5,backgroundColor:\"#FFFFFF\"}},function(module,exports,__webpack_require__){\"use strict\";function GenericWorker(name){this.name=name||\"default\",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}GenericWorker.prototype={push:function(chunk){this.emit(\"data\",chunk)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit(\"end\"),this.cleanUp(),this.isFinished=!0}catch(e){this.emit(\"error\",e)}return!0},error:function(e){return!this.isFinished&&(this.isPaused?this.generatedError=e:(this.isFinished=!0,this.emit(\"error\",e),this.previous&&this.previous.error(e),this.cleanUp()),!0)},on:function(name,listener){return this._listeners[name].push(listener),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(name,arg){if(this._listeners[name])for(var i=0;i<this._listeners[name].length;i++)this._listeners[name][i].call(this,arg)},pipe:function(next){return next.registerPrevious(this)},registerPrevious:function(previous){if(this.isLocked)throw new Error(\"The stream '\"+this+\"' has already been used.\");this.streamInfo=previous.streamInfo,this.mergeStreamInfo(),this.previous=previous;var self=this;return previous.on(\"data\",function(chunk){self.processChunk(chunk)}),previous.on(\"end\",function(){self.end()}),previous.on(\"error\",function(e){self.error(e)}),this},pause:function(){return!this.isPaused&&!this.isFinished&&(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;this.isPaused=!1;var withError=!1;return this.generatedError&&(this.error(this.generatedError),withError=!0),this.previous&&this.previous.resume(),!withError},flush:function(){},processChunk:function(chunk){this.push(chunk)},withStreamInfo:function(key,value){return this.extraStreamInfo[key]=value,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var key in this.extraStreamInfo)this.extraStreamInfo.hasOwnProperty(key)&&(this.streamInfo[key]=this.extraStreamInfo[key])},lock:function(){if(this.isLocked)throw new Error(\"The stream '\"+this+\"' has already been used.\");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var me=\"Worker \"+this.name;return this.previous?this.previous+\" -> \"+me:me}},module.exports=GenericWorker},function(module,exports,__nested_webpack_require_14274__){\"use strict\";var __extends=this&&this.__extends||function(){var extendStatics=function(d,b){return(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p])})(d,b)};return function(d,b){function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}}(),__assign=this&&this.__assign||function(){return(__assign=Object.assign||function(t){for(var s,i=1,n=arguments.length;i<n;i++)for(var p in s=arguments[i])Object.prototype.hasOwnProperty.call(s,p)&&(t[p]=s[p]);return t}).apply(this,arguments)},__awaiter=this&&this.__awaiter||function(thisArg,_arguments,P,generator){return new(P||(P=Promise))(function(resolve,reject){function fulfilled(value){try{step(generator.next(value))}catch(e){reject(e)}}function rejected(value){try{step(generator.throw(value))}catch(e){reject(e)}}function step(result){result.done?resolve(result.value):function(value){return value instanceof P?value:new P(function(resolve){resolve(value)})}(result.value).then(fulfilled,rejected)}step((generator=generator.apply(thisArg,_arguments||[])).next())})},__generator=this&&this.__generator||function(thisArg,body){var f,y,t,g,_={label:0,sent:function(){if(1&t[0])throw t[1];return t[1]},trys:[],ops:[]};return g={next:verb(0),throw:verb(1),return:verb(2)},\"function\"==typeof Symbol&&(g[Symbol.iterator]=function(){return this}),g;function verb(n){return function(v){return function(op){if(f)throw new TypeError(\"Generator is already executing.\");for(;_;)try{if(f=1,y&&(t=2&op[0]?y.return:op[0]?y.throw||((t=y.return)&&t.call(y),0):y.next)&&!(t=t.call(y,op[1])).done)return t;switch(y=0,t&&(op=[2&op[0],t.value]),op[0]){case 0:case 1:t=op;break;case 4:return _.label++,{value:op[1],done:!1};case 5:_.label++,y=op[1],op=[0];continue;case 7:op=_.ops.pop(),_.trys.pop();continue;default:if(!(t=(t=_.trys).length>0&&t[t.length-1])&&(6===op[0]||2===op[0])){_=0;continue}if(3===op[0]&&(!t||op[1]>t[0]&&op[1]<t[3])){_.label=op[1];break}if(6===op[0]&&_.label<t[1]){_.label=t[1],t=op;break}if(t&&_.label<t[2]){_.label=t[2],_.ops.push(op);break}t[2]&&_.ops.pop(),_.trys.pop();continue}op=body.call(thisArg,_)}catch(e){op=[6,e],y=0}finally{f=t=0}if(5&op[0])throw op[1];return{value:op[0]?op[1]:void 0,done:!0}}([n,v])}}},__rest=this&&this.__rest||function(s,e){var t={};for(var p in s)Object.prototype.hasOwnProperty.call(s,p)&&e.indexOf(p)<0&&(t[p]=s[p]);if(null!=s&&\"function\"==typeof Object.getOwnPropertySymbols){var i=0;for(p=Object.getOwnPropertySymbols(s);i<p.length;i++)e.indexOf(p[i])<0&&Object.prototype.propertyIsEnumerable.call(s,p[i])&&(t[p[i]]=s[p[i]])}return t};Object.defineProperty(exports,\"__esModule\",{value:!0});var databasePromise,version_1=__nested_webpack_require_14274__(18),MigrationExecutor_1=__nested_webpack_require_14274__(19),constants_1=__nested_webpack_require_14274__(9);function onversionchange(database,event){console.info(\"onversionchange\",event),database.close()}function getInstance(){return databasePromise||(databasePromise=new Promise(function(resolve,reject){var request=indexedDB.open(\"PUSHWOOSH_SDK_STORE\",version_1.default);request.onsuccess=function(event){var database=event.target.result;database.onversionchange=onversionchange.bind(null,database,reject),resolve(database)},request.onerror=function(){return reject(request.error)},request.onupgradeneeded=function(event){var database=event.target.result;database.onversionchange=onversionchange.bind(null,database,reject),new MigrationExecutor_1.default(database).applyMigrations()}})),databasePromise}function getInstanceWithPromise(executor){return getInstance().then(function(database){return new Promise(function(resolve,reject){return executor(database,resolve,reject)})})}exports.getInstance=getInstance;var LogBase=function(){function LogBase(){}return LogBase.prototype._add=function(obj){var _this=this;return getInstanceWithPromise(function(database,resolve,reject){var request=database.transaction([_this.name],\"readwrite\").objectStore(_this.name).add(obj);request.onsuccess=function(){resolve(obj)},request.onerror=function(){reject(request.error)}}).then(function(obj){return _this.getAll().then(function(items){if(Array.isArray(items)){var ids=items.map(function(i){return i.id}).sort(function(a,b){return a==b?0:a<b?1:-1});if(ids.length>_this.maxItems)return Promise.all(ids.slice(_this.maxItems).map(function(id){return _this.delete(id)})).then(function(){return obj})}return obj})})},LogBase.prototype.delete=function(key){var _this=this;return getInstanceWithPromise(function(database,resolve,reject){var request=database.transaction([_this.name],\"readwrite\").objectStore(_this.name).delete(key);request.onsuccess=function(){resolve(request.result)},request.onerror=function(){reject(request.error)}})},LogBase.prototype.getAll=function(){var _this=this;return getInstanceWithPromise(function(database,resolve,reject){var result=[],cursor=database.transaction(_this.name).objectStore(_this.name).openCursor();cursor.onsuccess=function(ev){var cursorResult=ev.target.result;cursorResult?(cursorResult.value&&result.push(cursorResult.value),cursorResult.continue()):resolve(result)},cursor.onerror=function(){reject(cursor.error)}})},LogBase}();exports.LogBase=LogBase;var LogLog=function(_super){function LogLog(){var _this=null!==_super&&_super.apply(this,arguments)||this;return _this.name=constants_1.STORE_NAME_MAIN_LOG,_this.maxItems=100,_this.environment=\"undefined\"!=typeof self&&self.registration?\"worker\":\"browser\",_this}return __extends(LogLog,_super),LogLog.prototype.add=function(type,message,additional){var obj={type:type,environment:this.environment,message:\"\"+message,date:new Date};return message instanceof Error&&(obj.stack=message.stack),additional&&(obj.additional=additional),this._add(obj)},LogLog}(LogBase);exports.LogLog=LogLog;var LogMessage=function(_super){function LogMessage(){var _this=null!==_super&&_super.apply(this,arguments)||this;return _this.name=constants_1.STORE_NAME_MESSAGE_LOG,_this.maxItems=25,_this}return __extends(LogMessage,_super),LogMessage.prototype.add=function(log){return this._add(__assign(__assign({},log),{date:new Date}))},LogMessage}(LogBase);exports.LogMessage=LogMessage,exports.keyValue=function(name){return{get:function(key,defaultValue){return getInstanceWithPromise(function(database,resolve,reject){var timeout,request=database.transaction(name).objectStore(name).get(key),isComplete=!1,isError=!1,check=function(){if(clearTimeout(timeout),isComplete){var result=request.result;resolve(result&&result.value||defaultValue)}else isError?reject(request.error):timeout=setTimeout(check,0)};request.onsuccess=function(){return isComplete=!0},request.onerror=function(){return isError=!0},check()})},getAll:function(){return getInstanceWithPromise(function(database,resolve,reject){var timeout,result={},cursor=database.transaction(name).objectStore(name).openCursor(),isComplete=!1,isError=!1,check=function(){clearTimeout(timeout),isComplete?resolve(result):isError?reject(cursor.error):timeout=setTimeout(check,0)};cursor.onsuccess=function(event){var cursorResult=event.target.result;cursorResult?(result[cursorResult.key]=cursorResult.value.value,cursorResult.continue()):isComplete=!0},cursor.onerror=function(){return isError=!0},check()})},extend:function(key,value){return __awaiter(this,void 0,void 0,function(){var oldValues,newValues;return __generator(this,function(_a){switch(_a.label){case 0:return[4,this.get(key)];case 1:return oldValues=_a.sent(),newValues=__rest(value,[]),[4,this.set(key,__assign(__assign({},oldValues),newValues))];case 2:return _a.sent(),[2]}})})},set:function(key,value){return getInstanceWithPromise(function(database,resolve,reject){var timeout,request=database.transaction([name],\"readwrite\").objectStore(name).put({key:key,value:value}),isComplete=!1,isError=!1,check=function(){clearTimeout(timeout),isComplete?resolve(key):isError?reject(request.error):timeout=setTimeout(check,0)};request.onsuccess=function(){return isComplete=!0},request.onerror=function(){return isError=!0},check()})}}}(constants_1.STORE_NAME_KEY_VALUE),exports.log=new LogLog,exports.message=new LogMessage},function(module,exports,__nested_webpack_require_22510__){\"use strict\";var __assign=this&&this.__assign||function(){return(__assign=Object.assign||function(t){for(var s,i=1,n=arguments.length;i<n;i++)for(var p in s=arguments[i])Object.prototype.hasOwnProperty.call(s,p)&&(t[p]=s[p]);return t}).apply(this,arguments)},__awaiter=this&&this.__awaiter||function(thisArg,_arguments,P,generator){return new(P||(P=Promise))(function(resolve,reject){function fulfilled(value){try{step(generator.next(value))}catch(e){reject(e)}}function rejected(value){try{step(generator.throw(value))}catch(e){reject(e)}}function step(result){result.done?resolve(result.value):function(value){return value instanceof P?value:new P(function(resolve){resolve(value)})}(result.value).then(fulfilled,rejected)}step((generator=generator.apply(thisArg,_arguments||[])).next())})},__generator=this&&this.__generator||function(thisArg,body){var f,y,t,g,_={label:0,sent:function(){if(1&t[0])throw t[1];return t[1]},trys:[],ops:[]};return g={next:verb(0),throw:verb(1),return:verb(2)},\"function\"==typeof Symbol&&(g[Symbol.iterator]=function(){return this}),g;function verb(n){return function(v){return function(op){if(f)throw new TypeError(\"Generator is already executing.\");for(;_;)try{if(f=1,y&&(t=2&op[0]?y.return:op[0]?y.throw||((t=y.return)&&t.call(y),0):y.next)&&!(t=t.call(y,op[1])).done)return t;switch(y=0,t&&(op=[2&op[0],t.value]),op[0]){case 0:case 1:t=op;break;case 4:return _.label++,{value:op[1],done:!1};case 5:_.label++,y=op[1],op=[0];continue;case 7:op=_.ops.pop(),_.trys.pop();continue;default:if(!(t=(t=_.trys).length>0&&t[t.length-1])&&(6===op[0]||2===op[0])){_=0;continue}if(3===op[0]&&(!t||op[1]>t[0]&&op[1]<t[3])){_.label=op[1];break}if(6===op[0]&&_.label<t[1]){_.label=t[1],t=op;break}if(t&&_.label<t[2]){_.label=t[2],_.ops.push(op);break}t[2]&&_.ops.pop(),_.trys.pop();continue}op=body.call(thisArg,_)}catch(e){op=[6,e],y=0}finally{f=t=0}if(5&op[0])throw op[1];return{value:op[0]?op[1]:void 0,done:!0}}([n,v])}}};Object.defineProperty(exports,\"__esModule\",{value:!0});var storage_1=__nested_webpack_require_22510__(3),CONSTANTS=__nested_webpack_require_22510__(1),Data=function(){function Data(store){void 0===store&&(store=storage_1.keyValue),this.store=store}return Data.prototype.clearAll=function(){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(_a){switch(_a.label){case 0:return[4,this.store.set(\"params.applicationCode\",void 0)];case 1:return _a.sent(),[4,this.store.set(\"params.hwid\",void 0)];case 2:return _a.sent(),[4,this.store.set(\"params.deviceType\",void 0)];case 3:return _a.sent(),[4,this.store.set(\"params.deviceModel\",void 0)];case 4:return _a.sent(),[4,this.store.set(\"params.language\",void 0)];case 5:return _a.sent(),[4,this.store.set(\"params.apiEntrypoint\",void 0)];case 6:return _a.sent(),[4,this.store.set(\"params.tokens\",void 0)];case 7:return _a.sent(),[4,this.store.set(\"params.applicationServerKey\",void 0)];case 8:return _a.sent(),[4,this.store.set(\"params.senderId\",void 0)];case 9:return _a.sent(),[4,this.store.set(\"params.webSitePushId\",void 0)];case 10:return _a.sent(),[4,this.store.set(\"params.defaultNotificationImage\",void 0)];case 11:return _a.sent(),[4,this.store.set(\"params.defaultNotificationTitle\",void 0)];case 12:return _a.sent(),[4,this.store.set(\"params.userId\",void 0)];case 13:return _a.sent(),[4,this.store.set(\"params.userIdWasChanged\",void 0)];case 14:return _a.sent(),[4,this.store.set(\"params.isLastPermissionStatus\",void 0)];case 15:return _a.sent(),[4,this.store.set(\"params.isManualUnsubscribed\",void 0)];case 16:return _a.sent(),[4,this.store.set(\"params.isCommunicationDisabled\",void 0)];case 17:return _a.sent(),[4,this.store.set(\"params.isDropAllData\",void 0)];case 18:return _a.sent(),[4,this.store.set(\"params.sdkVersion\",void 0)];case 19:return _a.sent(),[4,this.store.set(\"params.serviceWorkerVersion\",void 0)];case 20:return _a.sent(),[4,this.store.set(\"params.serviceWorkerUrl\",void 0)];case 21:return _a.sent(),[4,this.store.set(\"params.serviceWorkerScope\",void 0)];case 22:return _a.sent(),[4,this.store.set(\"params.lastOpenMessage\",void 0)];case 23:return _a.sent(),[4,this.store.set(\"params.lastOpenApplicationTime\",void 0)];case 24:return _a.sent(),[4,this.store.set(\"params.features\",void 0)];case 25:return _a.sent(),[4,this.store.set(\"params.init\",void 0)];case 26:return _a.sent(),[4,this.store.set(\"API_PARAMS\",void 0)];case 27:return _a.sent(),[4,this.store.set(\"SENDER_ID\",void 0)];case 28:return _a.sent(),[4,this.store.set(\"COMMUNICATION_ENABLED\",void 0)];case 29:return _a.sent(),[4,this.store.set(\"DEVICE_DATA_REMOVED\",void 0)];case 30:return _a.sent(),[4,this.store.set(\"LAST_OPEN_MESSAGE\",void 0)];case 31:return _a.sent(),[4,this.store.set(\"DELAYED_EVENT\",void 0)];case 32:return _a.sent(),[2]}})})},Data.prototype.setApplicationCode=function(application){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(_a){switch(_a.label){case 0:return[4,this.store.set(\"params.applicationCode\",application)];case 1:return _a.sent(),[2]}})})},Data.prototype.getApplicationCode=function(){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(_a){switch(_a.label){case 0:return[4,this.store.get(\"params.applicationCode\")];case 1:return[2,_a.sent()]}})})},Data.prototype.setHwid=function(hwid){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(_a){switch(_a.label){case 0:return[4,this.store.set(\"params.hwid\",hwid)];case 1:return _a.sent(),[2]}})})},Data.prototype.getHwid=function(){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(_a){switch(_a.label){case 0:return[4,this.store.get(\"params.hwid\")];case 1:return[2,_a.sent()]}})})},Data.prototype.setDeviceType=function(type){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(_a){switch(_a.label){case 0:return[4,this.store.set(\"params.deviceType\",type)];case 1:return _a.sent(),[2]}})})},Data.prototype.getDeviceType=function(){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(_a){switch(_a.label){case 0:return[4,this.store.get(\"params.deviceType\")];case 1:return[2,_a.sent()]}})})},Data.prototype.setDeviceModel=function(model){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(_a){switch(_a.label){case 0:return[4,this.store.set(\"params.deviceModel\",model)];case 1:return _a.sent(),[2]}})})},Data.prototype.getDeviceModel=function(){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(_a){switch(_a.label){case 0:return[4,this.store.get(\"params.deviceModel\")];case 1:return[2,_a.sent()]}})})},Data.prototype.setLanguage=function(language){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(_a){switch(_a.label){case 0:return[4,this.store.set(\"params.language\",language)];case 1:return _a.sent(),[2]}})})},Data.prototype.getLanguage=function(){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(_a){switch(_a.label){case 0:return[4,this.store.get(\"params.language\",\"en\")];case 1:return[2,_a.sent()]}})})},Data.prototype.setApiEntrypoint=function(url){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(_a){switch(_a.label){case 0:return[4,this.store.set(\"params.apiEntrypoint\",url)];case 1:return _a.sent(),[2]}})})},Data.prototype.getApiEntrypoint=function(){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(_a){switch(_a.label){case 0:return[4,this.store.get(\"params.apiEntrypoint\",CONSTANTS.DEFAULT_API_URL)];case 1:return[2,_a.sent()]}})})},Data.prototype.setTokens=function(tokens){return __awaiter(this,void 0,void 0,function(){var hwid;return __generator(this,function(_a){switch(_a.label){case 0:return[4,this.getHwid()];case 1:return hwid=_a.sent(),[4,this.store.set(\"API_PARAMS\",__assign({hwid:hwid},tokens))];case 2:return _a.sent(),[4,this.store.set(\"params.tokens\",tokens)];case 3:return _a.sent(),[2]}})})},Data.prototype.getTokens=function(){return __awaiter(this,void 0,void 0,function(){var oldValue,newValue;return __generator(this,function(_a){switch(_a.label){case 0:return[4,this.store.get(\"API_PARAMS\")];case 1:return oldValue=_a.sent(),[4,this.store.get(\"params.tokens\")];case 2:return[2,void 0!==(newValue=_a.sent())?newValue:oldValue]}})})},Data.prototype.setApplicationServerKey=function(key){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(_a){switch(_a.label){case 0:return[4,this.store.set(\"params.applicationServerKey\",key)];case 1:return _a.sent(),[2]}})})},Data.prototype.getApplicationServerKey=function(){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(_a){switch(_a.label){case 0:return[4,this.store.get(\"params.applicationServerKey\")];case 1:return[2,_a.sent()]}})})},Data.prototype.setSenderId=function(senderId){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(_a){switch(_a.label){case 0:return[4,this.store.set(\"GCM_SENDER_ID\",senderId)];case 1:return _a.sent(),[4,this.store.set(\"params.senderId\",senderId)];case 2:return _a.sent(),[2]}})})},Data.prototype.getSenderId=function(){return __awaiter(this,void 0,void 0,function(){var oldValue,newValue;return __generator(this,function(_a){switch(_a.label){case 0:return[4,this.store.get(\"GCM_SENDER_ID\")];case 1:return oldValue=_a.sent(),[4,this.store.get(\"params.senderId\")];case 2:return[2,void 0!==(newValue=_a.sent())?newValue:oldValue]}})})},Data.prototype.setWebSitePushId=function(senderId){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(_a){switch(_a.label){case 0:return[4,this.store.set(\"params.webSitePushId\",senderId)];case 1:return _a.sent(),[2]}})})},Data.prototype.getWebSitePushId=function(){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(_a){switch(_a.label){case 0:return[4,this.store.get(\"params.webSitePushId\")];case 1:return[2,_a.sent()]}})})},Data.prototype.setDefaultNotificationImage=function(url){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(_a){switch(_a.label){case 0:return[4,this.store.set(\"params.defaultNotificationImage\",url)];case 1:return _a.sent(),[2]}})})},Data.prototype.getDefaultNotificationImage=function(){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(_a){switch(_a.label){case 0:return[4,this.store.get(\"params.defaultNotificationImage\",CONSTANTS.DEFAULT_NOTIFICATION_IMAGE)];case 1:return[2,_a.sent()]}})})},Data.prototype.setDefaultNotificationTitle=function(text){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(_a){switch(_a.label){case 0:return[4,this.store.set(\"params.defaultNotificationTitle\",text)];case 1:return _a.sent(),[2]}})})},Data.prototype.getDefaultNotificationTitle=function(){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(_a){switch(_a.label){case 0:return[4,this.store.get(\"params.defaultNotificationTitle\",CONSTANTS.DEFAULT_NOTIFICATION_TITLE)];case 1:return[2,_a.sent()]}})})},Data.prototype.setUserId=function(userId){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(_a){switch(_a.label){case 0:return userId?[3,2]:[4,this.store.set(\"params.userId\",void 0)];case 1:return _a.sent(),[2];case 2:return[4,this.store.set(\"params.userId\",userId.toString())];case 3:return _a.sent(),[2]}})})},Data.prototype.getUserId=function(){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(_a){switch(_a.label){case 0:return[4,this.store.get(\"params.userId\")];case 1:return[2,_a.sent()]}})})},Data.prototype.setStatusUserIdWasChanged=function(status){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(_a){switch(_a.label){case 0:return[4,this.store.set(\"params.userIdWasChanged\",status)];case 1:return _a.sent(),[2]}})})},Data.prototype.getStatusUserIdWasChanged=function(){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(_a){switch(_a.label){case 0:return[4,this.store.get(\"params.userIdWasChanged\",!1)];case 1:return[2,_a.sent()]}})})},Data.prototype.setLastPermissionStatus=function(status){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(_a){switch(_a.label){case 0:return[4,this.store.set(\"params.isLastPermissionStatus\",status)];case 1:return _a.sent(),[2]}})})},Data.prototype.getLastPermissionStatus=function(){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(_a){switch(_a.label){case 0:return[4,this.store.get(\"params.isLastPermissionStatus\")];case 1:return[2,_a.sent()]}})})},Data.prototype.setStatusManualUnsubscribed=function(status){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(_a){switch(_a.label){case 0:return[4,this.store.set(\"MANUAL_UNSUBSCRIBE\",status)];case 1:return _a.sent(),[4,this.store.set(\"params.isManualUnsubscribed\",status)];case 2:return _a.sent(),[2]}})})},Data.prototype.getStatusManualUnsubscribed=function(){return __awaiter(this,void 0,void 0,function(){var oldValue,newValue;return __generator(this,function(_a){switch(_a.label){case 0:return[4,this.store.get(\"MANUAL_UNSUBSCRIBE\",!1)];case 1:return oldValue=_a.sent(),[4,this.store.get(\"params.isManualUnsubscribed\",!1)];case 2:return[2,void 0!==(newValue=_a.sent())?newValue:oldValue]}})})},Data.prototype.setStatusCommunicationDisabled=function(status){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(_a){switch(_a.label){case 0:return[4,this.store.set(\"COMMUNICATION_ENABLED\",status?0:1)];case 1:return _a.sent(),[4,this.store.set(\"params.isCommunicationDisabled\",status)];case 2:return _a.sent(),[2]}})})},Data.prototype.getStatusCommunicationDisabled=function(){return __awaiter(this,void 0,void 0,function(){var oldValue,newValue;return __generator(this,function(_a){switch(_a.label){case 0:return[4,this.store.get(\"COMMUNICATION_ENABLED\")];case 1:return oldValue=_a.sent(),[4,this.store.get(\"params.isCommunicationDisabled\",!1)];case 2:return[2,void 0!==(newValue=_a.sent())?newValue:0==oldValue]}})})},Data.prototype.setStatusDropAllData=function(status){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(_a){switch(_a.label){case 0:return[4,this.store.set(\"DEVICE_DATA_REMOVED\",status)];case 1:return _a.sent(),[4,this.store.set(\"params.isDropAllData\",status)];case 2:return _a.sent(),[2]}})})},Data.prototype.getStatusDropAllData=function(){return __awaiter(this,void 0,void 0,function(){var oldValue,newValue;return __generator(this,function(_a){switch(_a.label){case 0:return[4,this.store.get(\"DEVICE_DATA_REMOVED\",!1)];case 1:return oldValue=_a.sent(),[4,this.store.get(\"params.isDropAllData\",!1)];case 2:return[2,void 0!==(newValue=_a.sent())?newValue:oldValue]}})})},Data.prototype.setSdkVersion=function(version){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(_a){switch(_a.label){case 0:return[4,this.store.set(\"params.sdkVersion\",version)];case 1:return _a.sent(),[2]}})})},Data.prototype.getSdkVersion=function(){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(_a){switch(_a.label){case 0:return[4,this.store.get(\"params.sdkVersion\")];case 1:return[2,_a.sent()]}})})},Data.prototype.setServiceWorkerVersion=function(version){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(_a){switch(_a.label){case 0:return[4,this.store.set(\"WORKER_VERSION\",version)];case 1:return _a.sent(),[4,this.store.set(\"params.serviceWorkerVersion\",version)];case 2:return _a.sent(),[2]}})})},Data.prototype.getServiceWorkerVersion=function(){return __awaiter(this,void 0,void 0,function(){var oldValue,newValue;return __generator(this,function(_a){switch(_a.label){case 0:return[4,this.store.get(\"WORKER_VERSION\")];case 1:return oldValue=_a.sent(),[4,this.store.get(\"params.serviceWorkerVersion\")];case 2:return[2,void 0!==(newValue=_a.sent())?newValue:oldValue]}})})},Data.prototype.setServiceWorkerUrl=function(url){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(_a){switch(_a.label){case 0:return url?[4,this.store.set(\"params.serviceWorkerUrl\",url)]:[2];case 1:return _a.sent(),[2]}})})},Data.prototype.getServiceWorkerUrl=function(){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(_a){switch(_a.label){case 0:return[4,this.store.get(\"params.serviceWorkerUrl\",CONSTANTS.DEFAULT_SERVICE_WORKER_URL)];case 1:return[2,_a.sent()]}})})},Data.prototype.setServiceWorkerScope=function(scope){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(_a){switch(_a.label){case 0:return scope?[4,this.store.set(\"params.serviceWorkerScope\",scope)]:[2];case 1:return _a.sent(),[2]}})})},Data.prototype.getServiceWorkerScope=function(){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(_a){switch(_a.label){case 0:return[4,this.store.get(\"params.serviceWorkerScope\")];case 1:return[2,_a.sent()]}})})},Data.prototype.setLastOpenMessage=function(message){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(_a){switch(_a.label){case 0:return[4,this.store.set(\"LAST_OPEN_MESSAGE\",message)];case 1:return _a.sent(),[4,this.store.set(\"params.lastOpenMessage\",message)];case 2:return _a.sent(),[2]}})})},Data.prototype.getLastOpenMessage=function(){return __awaiter(this,void 0,void 0,function(){var oldValue,newValue;return __generator(this,function(_a){switch(_a.label){case 0:return[4,this.store.get(\"LAST_OPEN_MESSAGE\")];case 1:return oldValue=_a.sent(),[4,this.store.get(\"params.lastOpenMessage\")];case 2:return[2,void 0!==(newValue=_a.sent())?newValue:oldValue]}})})},Data.prototype.setLastOpenApplicationTime=function(time){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(_a){switch(_a.label){case 0:return[4,this.store.set(\"params.lastOpenApplicationTime\",time)];case 1:return _a.sent(),[2]}})})},Data.prototype.getLastOpenApplicationTime=function(){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(_a){switch(_a.label){case 0:return[4,this.store.get(\"params.lastOpenApplicationTime\")];case 1:return[2,_a.sent()]}})})},Data.prototype.setFeatures=function(features){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(_a){switch(_a.label){case 0:return[4,this.store.set(\"params.features\",features)];case 1:return _a.sent(),[2]}})})},Data.prototype.getFeatures=function(){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(_a){switch(_a.label){case 0:return[4,this.store.get(\"params.features\")];case 1:return[2,_a.sent()]}})})},Data.prototype.setInitParams=function(params){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(_a){switch(_a.label){case 0:return[4,this.store.set(\"params.init\",params)];case 1:return _a.sent(),[2]}})})},Data.prototype.getInitParams=function(){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(_a){switch(_a.label){case 0:return[4,this.store.get(\"params.init\")];case 1:return[2,_a.sent()]}})})},Data.prototype.setInboxLastRequestCode=function(lastCode){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(_a){switch(_a.label){case 0:return[4,this.store.set(\"params.inbox.lastRequestCode\",lastCode)];case 1:return _a.sent(),[2]}})})},Data.prototype.getInboxLastRequestCode=function(){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(_a){switch(_a.label){case 0:return[4,this.store.get(\"params.inbox.lastRequestCode\",\"\")];case 1:return[2,_a.sent()]}})})},Data.prototype.setInboxLastRequestTime=function(lastRequestTime){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(_a){switch(_a.label){case 0:return[4,this.store.set(\"params.inbox.lastRequestTime\",lastRequestTime)];case 1:return _a.sent(),[2]}})})},Data.prototype.getInboxLastRequestTime=function(){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(_a){return[2,this.store.get(\"params.inbox.lastRequestTime\",0)]})})},Data.prototype.setInboxNewMessagesCount=function(count){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(_a){switch(_a.label){case 0:return[4,this.store.set(\"params.inbox.newMessagesCount\",count)];case 1:return _a.sent(),[2]}})})},Data.prototype.getInboxNewMessagesCount=function(){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(_a){return[2,this.store.get(\"params.inbox.newMessagesCount\",0)]})})},Data.prototype.setDelayedEvent=function(event){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(_a){switch(_a.label){case 0:return[4,this.store.set(\"DELAYED_EVENT\",event)];case 1:return _a.sent(),[4,this.store.set(\"params.delayedEvent\",event)];case 2:return _a.sent(),[2]}})})},Data.prototype.getDelayedEvent=function(){return __awaiter(this,void 0,void 0,function(){var oldValue,newValue;return __generator(this,function(_a){switch(_a.label){case 0:return[4,this.store.get(\"DELAYED_EVENT\")];case 1:return oldValue=_a.sent(),[4,this.store.get(\"params.delayedEvent\")];case 2:return[2,void 0!==(newValue=_a.sent())?newValue:oldValue]}})})},Data.prototype.setInApps=function(inApps){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(_a){switch(_a.label){case 0:return[4,this.store.set(\"params.inApps\",inApps)];case 1:return _a.sent(),[2]}})})},Data.prototype.getInApps=function(){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(_a){return[2,this.store.get(\"params.inApps\")]})})},Data.prototype.setPromptDisplayCount=function(count){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(_a){switch(_a.label){case 0:return[4,this.store.set(\"params.promptDisplayCount\",count)];case 1:return _a.sent(),[2]}})})},Data.prototype.getPromptDisplayCount=function(){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(_a){return[2,this.store.get(\"params.promptDisplayCount\",0)]})})},Data.prototype.setPromptLastSeenTime=function(time){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(_a){switch(_a.label){case 0:return[4,this.store.set(\"params.promptLastSeenTime\",time)];case 1:return _a.sent(),[2]}})})},Data.prototype.getPromptLastSeenTime=function(){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(_a){return[2,this.store.get(\"params.promptLastSeenTime\",0)]})})},Data}();exports.Data=Data},function(module,exports,__nested_webpack_require_45162__){\"use strict\";var __spreadArrays=this&&this.__spreadArrays||function(){for(var s=0,i=0,il=arguments.length;i<il;i++)s+=arguments[i].length;var r=Array(s),k=0;for(i=0;i<il;i++)for(var a=arguments[i],j=0,jl=a.length;j<jl;j++,k++)r[k]=a[j];return r};Object.defineProperty(exports,\"__esModule\",{value:!0});var storage_1=__nested_webpack_require_45162__(3),levels={error:1,info:2,debug:3},limitLevel=3;__nested_webpack_require_45162__(10).patchConsole();var Logger={setLevel:function(level){levels[level]||(level=\"error\"),limitLevel=levels[level]},write:function(type,message,additional){return\"error\"===type?this.error(message):this.info(message),storage_1.log.add(type,message,additional)}};exports.Logger=Logger,Object.keys(levels).forEach(function(levelName){var levelNumber=levels[levelName];Logger[levelName]=function(){for(var args=[],_i=0;_i<arguments.length;_i++)args[_i]=arguments[_i];levelNumber<=limitLevel&&(console.groupCollapsed(levelName),console.info.apply(console,__spreadArrays([\"\"],args)),console.trace(\"trace\"),console.groupEnd())}}),exports.logAndThrowError=function(error){var logText=new Error(error);throw Logger.write(\"error\",logText,\"logAndThrowError\"),logText},exports.logAndRejectError=function(error,reject){var logText=new Error(error);Logger.write(\"error\",logText,\"logAndRejectError\"),reject(logText)},exports.default=Logger},function(module,exports,__webpack_require__){\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:!0});var DateModule=function(){function DateModule(date){void 0===date&&(date=new Date),this._date=date}return Object.defineProperty(DateModule.prototype,\"date\",{get:function(){return this._date},set:function(date){this._date=date},enumerable:!0,configurable:!0}),DateModule.prototype.getUtcTimestamp=function(){return Math.floor((this.date.getTime()+60*this.date.getTimezoneOffset()*1e3)/1e3)},DateModule.prototype.getTimestamp=function(){return Math.round(this.date.getTime()/1e3)},DateModule.prototype.setLocal=function(){var newDateTimestamp=this._date.getTime()-60*this.date.getTimezoneOffset()*1e3;this._date=new Date(newDateTimestamp)},DateModule.prototype.addDays=function(days){var newDateTimestamp=this._date.getTime()+24*days*60*60*1e3;this._date=new Date(newDateTimestamp)},DateModule.prototype.getInboxFakeOrder=function(){return(100*this._date.getTime()+9e9).toString()},DateModule}();exports.default=DateModule},function(module,exports,__nested_webpack_require_47568__){\"use strict\";(function(Buffer){if(exports.base64=!0,exports.array=!0,exports.string=!0,exports.arraybuffer=\"undefined\"!=typeof ArrayBuffer&&\"undefined\"!=typeof Uint8Array,exports.nodebuffer=void 0!==Buffer,exports.uint8array=\"undefined\"!=typeof Uint8Array,\"undefined\"==typeof ArrayBuffer)exports.blob=!1;else{var buffer=new ArrayBuffer(0);try{exports.blob=0===new Blob([buffer],{type:\"application/zip\"}).size}catch(e){try{var builder=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);builder.append(buffer),exports.blob=0===builder.getBlob(\"application/zip\").size}catch(e){exports.blob=!1}}}try{exports.nodestream=!!__nested_webpack_require_47568__(51).Readable}catch(e){exports.nodestream=!1}}).call(this,__nested_webpack_require_47568__(23).Buffer)},function(module,exports,__webpack_require__){\"use strict\";var TYPED_OK=\"undefined\"!=typeof Uint8Array&&\"undefined\"!=typeof Uint16Array&&\"undefined\"!=typeof Int32Array;function _has(obj,key){return Object.prototype.hasOwnProperty.call(obj,key)}exports.assign=function(obj){for(var sources=Array.prototype.slice.call(arguments,1);sources.length;){var source=sources.shift();if(source){if(\"object\"!=typeof source)throw new TypeError(source+\"must be non-object\");for(var p in source)_has(source,p)&&(obj[p]=source[p])}}return obj},exports.shrinkBuf=function(buf,size){return buf.length===size?buf:buf.subarray?buf.subarray(0,size):(buf.length=size,buf)};var fnTyped={arraySet:function(dest,src,src_offs,len,dest_offs){if(src.subarray&&dest.subarray)dest.set(src.subarray(src_offs,src_offs+len),dest_offs);else for(var i=0;i<len;i++)dest[dest_offs+i]=src[src_offs+i]},flattenChunks:function(chunks){var i,l,len,pos,chunk,result;for(len=0,i=0,l=chunks.length;i<l;i++)len+=chunks[i].length;for(result=new Uint8Array(len),pos=0,i=0,l=chunks.length;i<l;i++)chunk=chunks[i],result.set(chunk,pos),pos+=chunk.length;return result}},fnUntyped={arraySet:function(dest,src,src_offs,len,dest_offs){for(var i=0;i<len;i++)dest[dest_offs+i]=src[src_offs+i]},flattenChunks:function(chunks){return[].concat.apply([],chunks)}};exports.setTyped=function(on){on?(exports.Buf8=Uint8Array,exports.Buf16=Uint16Array,exports.Buf32=Int32Array,exports.assign(exports,fnTyped)):(exports.Buf8=Array,exports.Buf16=Array,exports.Buf32=Array,exports.assign(exports,fnUntyped))},exports.setTyped(TYPED_OK)},function(module,exports,__webpack_require__){\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:!0}),exports.STORE_NAME_KEY_VALUE=\"keyValue\",exports.STORE_NAME_MESSAGE_LOG=\"messages\",exports.STORE_NAME_MAIN_LOG=\"log\",exports.STORE_NAME_INBOX_MESSAGES=\"inboxMessages\",exports.KEY_PATH_BASE_INCREMENT=\"id\"},function(module,exports,__nested_webpack_require_50264__){\"use strict\";var __assign=this&&this.__assign||function(){return(__assign=Object.assign||function(t){for(var s,i=1,n=arguments.length;i<n;i++)for(var p in s=arguments[i])Object.prototype.hasOwnProperty.call(s,p)&&(t[p]=s[p]);return t}).apply(this,arguments)},__rest=this&&this.__rest||function(s,e){var t={};for(var p in s)Object.prototype.hasOwnProperty.call(s,p)&&e.indexOf(p)<0&&(t[p]=s[p]);if(null!=s&&\"function\"==typeof Object.getOwnPropertySymbols){var i=0;for(p=Object.getOwnPropertySymbols(s);i<p.length;i++)e.indexOf(p[i])<0&&Object.prototype.propertyIsEnumerable.call(s,p[i])&&(t[p[i]]=s[p[i]])}return t};Object.defineProperty(exports,\"__esModule\",{value:!0});var storage_1=__nested_webpack_require_50264__(3),constants_1=__nested_webpack_require_50264__(1),PlatformChecker_1=__nested_webpack_require_50264__(21);function getGlobal(){return Function(\"return this\")()}function createUUID(pushToken){for(var s=\"\",i=0;i<32;i++){var l=pushToken.length-i-1,charCode=0;l>=0&&(charCode=pushToken.charCodeAt(l)),s+=\"0123456789abcdef\".substr(charCode%\"0123456789abcdef\".length,1)}return s}function getFakePushToken(){return localStorage.getItem(constants_1.KEY_FAKE_PUSH_TOKEN)}function generateFakePushToken(){var token=function(len){len=len||32;for(var text=\"\",possible=\"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789\",i=0;i<len;i++)text+=possible.charAt(Math.floor(Math.random()*possible.length));return text}();return localStorage.setItem(constants_1.KEY_FAKE_PUSH_TOKEN,token),token}function getSubsKey(pushSubscription,key){var rawKey=pushSubscription&&pushSubscription.getKey&&pushSubscription.getKey(key);return rawKey?btoa(String.fromCharCode.apply(String,new Uint8Array(rawKey))):\"\"}exports.getGlobal=getGlobal,exports.getVersion=function(){return\"3.19.3\"},exports.parseSerializedNotificationParams=function(param,defaultValue){if(\"string\"==typeof param)try{return JSON.parse(param)}catch(e){console.log(e)}return void 0===param&&void 0!==defaultValue?defaultValue:param},exports.urlB64ToUint8Array=function(base64String){for(var base64=(base64String+\"=\".repeat((4-base64String.length%4)%4)).replace(/-/g,\"+\").replace(/_/g,\"/\"),rawData=window.atob(base64),outputArray=new Uint8Array(rawData.length),i=0;i<rawData.length;++i)outputArray[i]=rawData.charCodeAt(i);return outputArray},exports.createUUID=createUUID,exports.generateHwid=function(applicationCode,pushToken){return applicationCode+\"_\"+createUUID(pushToken=getFakePushToken()||pushToken||generateFakePushToken())},exports.getFakePushToken=getFakePushToken,exports.generateFakePushToken=generateFakePushToken,exports.getPushToken=function(pushSubscription){return pushSubscription?pushSubscription.subscriptionId?pushSubscription.subscriptionId:12===PlatformChecker_1.default.platform?pushSubscription.endpoint:pushSubscription.endpoint.split(\"/\").pop()||\"\":\"\"},exports.getFcmKey=function(pushSubscription,key){return pushSubscription?new Promise(function(resolve){storage_1.keyValue.get(constants_1.KEY_FCM_SUBSCRIPTION).then(function(fcmSubscription){resolve(fcmSubscription&&fcmSubscription[key]||\"\")}).catch(function(){resolve(\"\")})}):Promise.resolve(\"\")},exports.getAuthToken=function(pushSubscription){return getSubsKey(pushSubscription,\"auth\")},exports.getPublicKey=function(pushSubscription){return getSubsKey(pushSubscription,\"p256dh\")},exports.getPushwooshUrl=function(applicationCode){var url=applicationCode&&!~applicationCode.indexOf(\".\")?\"https://\"+applicationCode+\".api.pushwoosh.com/json/1.3/\":\"https://cp.pushwoosh.com/json/1.3/\";return storage_1.keyValue.get(constants_1.KEY_API_BASE_URL).then(function(base_url){return void 0===base_url&&(base_url=null),base_url||url}).catch(function(){return url})},exports.patchConsole=function(){for(var method,noop=function(){},methods=[\"assert\",\"clear\",\"count\",\"debug\",\"dir\",\"dirxml\",\"error\",\"exception\",\"group\",\"groupCollapsed\",\"groupEnd\",\"info\",\"log\",\"markTimeline\",\"profile\",\"profileEnd\",\"table\",\"time\",\"timeEnd\",\"timeStamp\",\"trace\",\"warn\"],len=methods.length,global=getGlobal(),console=global.console=global.console||{};len--;)console[method=methods[len]]||(console[method]=noop)},exports.getBrowserType=function(){return\"chrome\"},exports.isOperaBrowser=function(){return!1},exports.clearLocationHash=function(){\"history\"in getGlobal()&&history.pushState?history.pushState(null,\"\",\"#\"):location.hash=\"#\"},exports.validateParams=function(params){var result=__rest(params,[]);return result.userId&&\"user_id\"===result.userId&&delete result.userId,result},exports.sendInternalPostEvent=function(params){storage_1.keyValue.get(constants_1.KEY_INTERNAL_EVENTS).then(function(events){var _a;void 0===events&&(events={}),0===Object.keys(events).length&&storage_1.keyValue.set(constants_1.KEY_INTERNAL_EVENTS,{});var currentDate=(new Date).setHours(0,0,0,0),dateFromStore=events[params.event];if(!dateFromStore||currentDate>dateFromStore){storage_1.keyValue.extend(constants_1.KEY_INTERNAL_EVENTS,((_a={})[params.event]=currentDate,_a));var xhr=new XMLHttpRequest,request=__assign({application:\"DD275-06947\"},params);xhr.open(\"POST\",\"https://cp.pushwoosh.com/json/1.3/postEvent\",!0),xhr.setRequestHeader(\"Content-Type\",\"text/plain;charset=UTF-8\"),xhr.send(JSON.stringify({request:request}))}})},exports.generateUUID=function(){var d=(new Date).getTime();return\"undefined\"!=typeof performance&&\"function\"==typeof performance.now&&(d+=performance.now()),\"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx\".replace(/[xy]/g,function(c){var r=(d+16*Math.random())%16|0;return d=Math.floor(d/16),(\"x\"===c?r:3&r|8).toString(16)})}},function(module,exports){var g;g=function(){return this}();try{g=g||Function(\"return this\")()||(0,eval)(\"this\")}catch(e){\"object\"==typeof window&&(g=window)}module.exports=g},function(module,exports,__nested_webpack_require_55995__){\"use strict\";var pna=__nested_webpack_require_55995__(29),objectKeys=Object.keys||function(obj){var keys=[];for(var key in obj)keys.push(key);return keys};module.exports=Duplex;var util=Object.create(__nested_webpack_require_55995__(25));util.inherits=__nested_webpack_require_55995__(14);var Readable=__nested_webpack_require_55995__(52),Writable=__nested_webpack_require_55995__(42);util.inherits(Duplex,Readable);for(var keys=objectKeys(Writable.prototype),v=0;v<keys.length;v++){var method=keys[v];Duplex.prototype[method]||(Duplex.prototype[method]=Writable.prototype[method])}function Duplex(options){if(!(this instanceof Duplex))return new Duplex(options);Readable.call(this,options),Writable.call(this,options),options&&!1===options.readable&&(this.readable=!1),options&&!1===options.writable&&(this.writable=!1),this.allowHalfOpen=!0,options&&!1===options.allowHalfOpen&&(this.allowHalfOpen=!1),this.once(\"end\",onend)}function onend(){this.allowHalfOpen||this._writableState.ended||pna.nextTick(onEndNT,this)}function onEndNT(self){self.end()}Object.defineProperty(Duplex.prototype,\"writableHighWaterMark\",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(Duplex.prototype,\"destroyed\",{get:function(){return void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed&&this._writableState.destroyed)},set:function(value){void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed=value,this._writableState.destroyed=value)}}),Duplex.prototype._destroy=function(err,cb){this.push(null),this.end(),pna.nextTick(cb,err)}},function(module,exports,__nested_webpack_require_57612__){\"use strict\";for(var utils=__nested_webpack_require_57612__(0),support=__nested_webpack_require_57612__(7),nodejsUtils=__nested_webpack_require_57612__(31),GenericWorker=__nested_webpack_require_57612__(2),_utf8len=new Array(256),i=0;i<256;i++)_utf8len[i]=i>=252?6:i>=248?5:i>=240?4:i>=224?3:i>=192?2:1;_utf8len[254]=_utf8len[254]=1;function Utf8DecodeWorker(){GenericWorker.call(this,\"utf-8 decode\"),this.leftOver=null}function Utf8EncodeWorker(){GenericWorker.call(this,\"utf-8 encode\")}exports.utf8encode=function(str){return support.nodebuffer?nodejsUtils.newBufferFrom(str,\"utf-8\"):function(str){var buf,c,c2,m_pos,i,str_len=str.length,buf_len=0;for(m_pos=0;m_pos<str_len;m_pos++)55296==(64512&(c=str.charCodeAt(m_pos)))&&m_pos+1<str_len&&56320==(64512&(c2=str.charCodeAt(m_pos+1)))&&(c=65536+(c-55296<<10)+(c2-56320),m_pos++),buf_len+=c<128?1:c<2048?2:c<65536?3:4;for(buf=support.uint8array?new Uint8Array(buf_len):new Array(buf_len),i=0,m_pos=0;i<buf_len;m_pos++)55296==(64512&(c=str.charCodeAt(m_pos)))&&m_pos+1<str_len&&56320==(64512&(c2=str.charCodeAt(m_pos+1)))&&(c=65536+(c-55296<<10)+(c2-56320),m_pos++),c<128?buf[i++]=c:c<2048?(buf[i++]=192|c>>>6,buf[i++]=128|63&c):c<65536?(buf[i++]=224|c>>>12,buf[i++]=128|c>>>6&63,buf[i++]=128|63&c):(buf[i++]=240|c>>>18,buf[i++]=128|c>>>12&63,buf[i++]=128|c>>>6&63,buf[i++]=128|63&c);return buf}(str)},exports.utf8decode=function(buf){return support.nodebuffer?utils.transformTo(\"nodebuffer\",buf).toString(\"utf-8\"):function(buf){var i,out,c,c_len,len=buf.length,utf16buf=new Array(2*len);for(out=0,i=0;i<len;)if((c=buf[i++])<128)utf16buf[out++]=c;else if((c_len=_utf8len[c])>4)utf16buf[out++]=65533,i+=c_len-1;else{for(c&=2===c_len?31:3===c_len?15:7;c_len>1&&i<len;)c=c<<6|63&buf[i++],c_len--;c_len>1?utf16buf[out++]=65533:c<65536?utf16buf[out++]=c:(c-=65536,utf16buf[out++]=55296|c>>10&1023,utf16buf[out++]=56320|1023&c)}return utf16buf.length!==out&&(utf16buf.subarray?utf16buf=utf16buf.subarray(0,out):utf16buf.length=out),utils.applyFromCharCode(utf16buf)}(buf=utils.transformTo(support.uint8array?\"uint8array\":\"array\",buf))},utils.inherits(Utf8DecodeWorker,GenericWorker),Utf8DecodeWorker.prototype.processChunk=function(chunk){var data=utils.transformTo(support.uint8array?\"uint8array\":\"array\",chunk.data);if(this.leftOver&&this.leftOver.length){if(support.uint8array){var previousData=data;(data=new Uint8Array(previousData.length+this.leftOver.length)).set(this.leftOver,0),data.set(previousData,this.leftOver.length)}else data=this.leftOver.concat(data);this.leftOver=null}var nextBoundary=function(buf,max){var pos;for((max=max||buf.length)>buf.length&&(max=buf.length),pos=max-1;pos>=0&&128==(192&buf[pos]);)pos--;return pos<0?max:0===pos?max:pos+_utf8len[buf[pos]]>max?pos:max}(data),usableData=data;nextBoundary!==data.length&&(support.uint8array?(usableData=data.subarray(0,nextBoundary),this.leftOver=data.subarray(nextBoundary,data.length)):(usableData=data.slice(0,nextBoundary),this.leftOver=data.slice(nextBoundary,data.length))),this.push({data:exports.utf8decode(usableData),meta:chunk.meta})},Utf8DecodeWorker.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:exports.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},exports.Utf8DecodeWorker=Utf8DecodeWorker,utils.inherits(Utf8EncodeWorker,GenericWorker),Utf8EncodeWorker.prototype.processChunk=function(chunk){this.push({data:exports.utf8encode(chunk.data),meta:chunk.meta})},exports.Utf8EncodeWorker=Utf8EncodeWorker},function(module,exports){\"function\"==typeof Object.create?module.exports=function(ctor,superCtor){superCtor&&(ctor.super_=superCtor,ctor.prototype=Object.create(superCtor.prototype,{constructor:{value:ctor,enumerable:!1,writable:!0,configurable:!0}}))}:module.exports=function(ctor,superCtor){if(superCtor){ctor.super_=superCtor;var TempCtor=function(){};TempCtor.prototype=superCtor.prototype,ctor.prototype=new TempCtor,ctor.prototype.constructor=ctor}}},function(module,exports,__nested_webpack_require_61544__){var v1=__nested_webpack_require_61544__(32),v4=__nested_webpack_require_61544__(33),uuid=v4;uuid.v1=v1,uuid.v4=v4,module.exports=uuid},function(module,exports){var getRandomValues=\"undefined\"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||\"undefined\"!=typeof msCrypto&&\"function\"==typeof window.msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto);if(getRandomValues){var rnds8=new Uint8Array(16);module.exports=function(){return getRandomValues(rnds8),rnds8}}else{var rnds=new Array(16);module.exports=function(){for(var r,i=0;i<16;i++)0==(3&i)&&(r=4294967296*Math.random()),rnds[i]=r>>>((3&i)<<3)&255;return rnds}}},function(module,exports){for(var byteToHex=[],i=0;i<256;++i)byteToHex[i]=(i+256).toString(16).substr(1);module.exports=function(buf,offset){var i=offset||0,bth=byteToHex;return[bth[buf[i++]],bth[buf[i++]],bth[buf[i++]],bth[buf[i++]],\"-\",bth[buf[i++]],bth[buf[i++]],\"-\",bth[buf[i++]],bth[buf[i++]],\"-\",bth[buf[i++]],bth[buf[i++]],\"-\",bth[buf[i++]],bth[buf[i++]],bth[buf[i++]],bth[buf[i++]],bth[buf[i++]],bth[buf[i++]]].join(\"\")}},function(module,exports,__webpack_require__){\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:!0}),exports.default=7},function(module,exports,__nested_webpack_require_62785__){\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:!0});var Migrations_1=__nested_webpack_require_62785__(37),MigrationExecutor=function(){function MigrationExecutor(db,migrationsBuilder){void 0===migrationsBuilder&&(migrationsBuilder=new Migrations_1.default),this.db=db,this.migrationsBuilder=migrationsBuilder}return MigrationExecutor.prototype.applyMigrations=function(){var _this=this;this.applyMigrationsPack(this.migrationsBuilder.initial),this.migrationsBuilder.dateSorted.forEach(function(migrationsPack){_this.applyMigrationsPack(migrationsPack)})},MigrationExecutor.prototype.applyMigrationsPack=function(migrationsPack){var _this=this;migrationsPack.forEach(function(migration){migration(_this.db)})},MigrationExecutor}();exports.default=MigrationExecutor},function(module,exports,__webpack_require__){\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:!0}),exports.storeCreatorDecorator=function(name,storeCreator){return function(database){database.objectStoreNames.contains(name)||storeCreator(database)}}},function(module,exports,__nested_webpack_require_63863__){\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:!0});var PlatformChecker_1=__nested_webpack_require_63863__(22),PlatformChecker_2=__nested_webpack_require_63863__(22);exports.PlatformChecker=PlatformChecker_2.PlatformChecker,exports.default=PlatformChecker_1.platformChecker},function(module,exports,__webpack_require__){\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:!0});var PlatformChecker=function(){function PlatformChecker(global){void 0===global&&(global=window),this.global=global,this._isSafari=this.isSafariBrowser(),this._isOpera=this.isOperaBrowser(),this._isEdge=this.isEdgeBrowser(),this._isFirefox=this.isFirefoxBrowser(),this._isChrome=this.isChromeBrowser(),this._isMacOS=this.isMacOS(),this._isAvailablePromise=this.canUsePromise(),this._isAvailableServiceWorker=this.canUseServiceWorkers(),this._isAvailableNotifications=this.canReceiveNotifications(),this._platform=this.getPlatformType(),this._browserVersion=this.getBrowserVersion()}return Object.defineProperty(PlatformChecker.prototype,\"isEdge\",{get:function(){return this._isEdge},enumerable:!0,configurable:!0}),Object.defineProperty(PlatformChecker.prototype,\"isSafari\",{get:function(){return this._isSafari},enumerable:!0,configurable:!0}),Object.defineProperty(PlatformChecker.prototype,\"isOpera\",{get:function(){return this._isOpera},enumerable:!0,configurable:!0}),Object.defineProperty(PlatformChecker.prototype,\"isAvailablePromise\",{get:function(){return this._isAvailablePromise},enumerable:!0,configurable:!0}),Object.defineProperty(PlatformChecker.prototype,\"isAvailableServiceWorker\",{get:function(){return this._isAvailableServiceWorker},enumerable:!0,configurable:!0}),Object.defineProperty(PlatformChecker.prototype,\"isAvailableNotifications\",{get:function(){return this._isAvailableNotifications},enumerable:!0,configurable:!0}),Object.defineProperty(PlatformChecker.prototype,\"platform\",{get:function(){return this._platform},enumerable:!0,configurable:!0}),Object.defineProperty(PlatformChecker.prototype,\"browserVersion\",{get:function(){return this._browserVersion},enumerable:!0,configurable:!0}),PlatformChecker.prototype.isSafariBrowser=function(){return\"safari\"in this.global&&navigator.userAgent.indexOf(\"Safari\")>-1},PlatformChecker.prototype.isOperaBrowser=function(){return-1!==navigator.userAgent.indexOf(\"Opera\")||-1!==navigator.userAgent.indexOf(\"OPR\")},PlatformChecker.prototype.isEdgeBrowser=function(){return navigator.userAgent.indexOf(\"Edge\")>-1},PlatformChecker.prototype.isFirefoxBrowser=function(){return-1!==navigator.userAgent.toLowerCase().indexOf(\"firefox\")},PlatformChecker.prototype.isChromeBrowser=function(){return/Chrome/.test(navigator.userAgent)&&/Google Inc/.test(navigator.vendor)&&!this._isOpera&&!this._isEdge},PlatformChecker.prototype.isMacOS=function(){return\"platform\"in navigator&&-1!==navigator.platform.toLowerCase().indexOf(\"mac\")},PlatformChecker.prototype.canUseServiceWorkers=function(){return!!navigator.serviceWorker&&\"PushManager\"in this.global&&\"Notification\"in this.global},PlatformChecker.prototype.canUsePromise=function(){return\"Promise\"in this.global},PlatformChecker.prototype.canReceiveNotifications=function(){return this._isSafari&&this._isMacOS||this._isAvailableServiceWorker&&!this._isEdge},PlatformChecker.prototype.getPlatformType=function(){var platform=11;switch(!0){case this._isSafari:platform=10;break;case this._isOpera||this._isChrome:platform=11;break;case this._isFirefox:platform=12;break;case this._isEdge:platform=150}return platform},PlatformChecker.prototype.getBrowserVersion=function(){var userAgent=navigator.userAgent,matchOperaVersion=userAgent.match(/\\bOPR\\/(\\d+)/);if(null!==matchOperaVersion)return\"Opera \"+matchOperaVersion[1];var matchEdgeVersion=userAgent.match(/\\bEdge\\/(\\d+)/);if(null!==matchEdgeVersion)return\"Edge \"+matchEdgeVersion[1];var match=userAgent.match(/(opera|chrome|safari|firefox|msie|trident(?=\\/))\\/?\\s*(\\d+)/i)||[],_a=(match[0],match[1]),browser=void 0===_a?\"\":_a;if(/trident/i.test(userAgent)){var matchIeVersion=/trident\\/([.\\d]+)/gi.exec(userAgent)||[];return\"IE \"+((\"7.0\"===matchIeVersion[1]?\"11\":matchIeVersion[1])||\"\")}match=match[2]?[browser,match[2]]:[navigator.appName,navigator.appVersion,\"-?\"];var version=userAgent.match(/version\\/([.\\d]+)/i);return null!==version&&match.splice(1,1,version[1]),match.join(\" \")},PlatformChecker}();exports.PlatformChecker=PlatformChecker,exports.platformChecker=new PlatformChecker(Function(\"return this\")())},function(module,exports,__nested_webpack_require_68369__){\"use strict\";(function(global){\n/*!\n * The buffer module from node.js, for the browser.\n *\n * @author   Feross Aboukhadijeh <http://feross.org>\n * @license  MIT\n */\nvar base64=__nested_webpack_require_68369__(87),ieee754=__nested_webpack_require_68369__(88),isArray=__nested_webpack_require_68369__(50);function kMaxLength(){return Buffer.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function createBuffer(that,length){if(kMaxLength()<length)throw new RangeError(\"Invalid typed array length\");return Buffer.TYPED_ARRAY_SUPPORT?(that=new Uint8Array(length)).__proto__=Buffer.prototype:(null===that&&(that=new Buffer(length)),that.length=length),that}function Buffer(arg,encodingOrOffset,length){if(!(Buffer.TYPED_ARRAY_SUPPORT||this instanceof Buffer))return new Buffer(arg,encodingOrOffset,length);if(\"number\"==typeof arg){if(\"string\"==typeof encodingOrOffset)throw new Error(\"If encoding is specified then the first argument must be a string\");return allocUnsafe(this,arg)}return from(this,arg,encodingOrOffset,length)}function from(that,value,encodingOrOffset,length){if(\"number\"==typeof value)throw new TypeError('\"value\" argument must not be a number');return\"undefined\"!=typeof ArrayBuffer&&value instanceof ArrayBuffer?function(that,array,byteOffset,length){if(array.byteLength,byteOffset<0||array.byteLength<byteOffset)throw new RangeError(\"'offset' is out of bounds\");if(array.byteLength<byteOffset+(length||0))throw new RangeError(\"'length' is out of bounds\");array=void 0===byteOffset&&void 0===length?new Uint8Array(array):void 0===length?new Uint8Array(array,byteOffset):new Uint8Array(array,byteOffset,length);Buffer.TYPED_ARRAY_SUPPORT?(that=array).__proto__=Buffer.prototype:that=fromArrayLike(that,array);return that}(that,value,encodingOrOffset,length):\"string\"==typeof value?function(that,string,encoding){\"string\"==typeof encoding&&\"\"!==encoding||(encoding=\"utf8\");if(!Buffer.isEncoding(encoding))throw new TypeError('\"encoding\" must be a valid string encoding');var length=0|byteLength(string,encoding),actual=(that=createBuffer(that,length)).write(string,encoding);actual!==length&&(that=that.slice(0,actual));return that}(that,value,encodingOrOffset):function(that,obj){if(Buffer.isBuffer(obj)){var len=0|checked(obj.length);return 0===(that=createBuffer(that,len)).length?that:(obj.copy(that,0,0,len),that)}if(obj){if(\"undefined\"!=typeof ArrayBuffer&&obj.buffer instanceof ArrayBuffer||\"length\"in obj)return\"number\"!=typeof obj.length||function(val){return val!=val}(obj.length)?createBuffer(that,0):fromArrayLike(that,obj);if(\"Buffer\"===obj.type&&isArray(obj.data))return fromArrayLike(that,obj.data)}throw new TypeError(\"First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.\")}(that,value)}function assertSize(size){if(\"number\"!=typeof size)throw new TypeError('\"size\" argument must be a number');if(size<0)throw new RangeError('\"size\" argument must not be negative')}function allocUnsafe(that,size){if(assertSize(size),that=createBuffer(that,size<0?0:0|checked(size)),!Buffer.TYPED_ARRAY_SUPPORT)for(var i=0;i<size;++i)that[i]=0;return that}function fromArrayLike(that,array){var length=array.length<0?0:0|checked(array.length);that=createBuffer(that,length);for(var i=0;i<length;i+=1)that[i]=255&array[i];return that}function checked(length){if(length>=kMaxLength())throw new RangeError(\"Attempt to allocate Buffer larger than maximum size: 0x\"+kMaxLength().toString(16)+\" bytes\");return 0|length}function byteLength(string,encoding){if(Buffer.isBuffer(string))return string.length;if(\"undefined\"!=typeof ArrayBuffer&&\"function\"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(string)||string instanceof ArrayBuffer))return string.byteLength;\"string\"!=typeof string&&(string=\"\"+string);var len=string.length;if(0===len)return 0;for(var loweredCase=!1;;)switch(encoding){case\"ascii\":case\"latin1\":case\"binary\":return len;case\"utf8\":case\"utf-8\":case void 0:return utf8ToBytes(string).length;case\"ucs2\":case\"ucs-2\":case\"utf16le\":case\"utf-16le\":return 2*len;case\"hex\":return len>>>1;case\"base64\":return base64ToBytes(string).length;default:if(loweredCase)return utf8ToBytes(string).length;encoding=(\"\"+encoding).toLowerCase(),loweredCase=!0}}function swap(b,n,m){var i=b[n];b[n]=b[m],b[m]=i}function bidirectionalIndexOf(buffer,val,byteOffset,encoding,dir){if(0===buffer.length)return-1;if(\"string\"==typeof byteOffset?(encoding=byteOffset,byteOffset=0):byteOffset>2147483647?byteOffset=2147483647:byteOffset<-2147483648&&(byteOffset=-2147483648),byteOffset=+byteOffset,isNaN(byteOffset)&&(byteOffset=dir?0:buffer.length-1),byteOffset<0&&(byteOffset=buffer.length+byteOffset),byteOffset>=buffer.length){if(dir)return-1;byteOffset=buffer.length-1}else if(byteOffset<0){if(!dir)return-1;byteOffset=0}if(\"string\"==typeof val&&(val=Buffer.from(val,encoding)),Buffer.isBuffer(val))return 0===val.length?-1:arrayIndexOf(buffer,val,byteOffset,encoding,dir);if(\"number\"==typeof val)return val&=255,Buffer.TYPED_ARRAY_SUPPORT&&\"function\"==typeof Uint8Array.prototype.indexOf?dir?Uint8Array.prototype.indexOf.call(buffer,val,byteOffset):Uint8Array.prototype.lastIndexOf.call(buffer,val,byteOffset):arrayIndexOf(buffer,[val],byteOffset,encoding,dir);throw new TypeError(\"val must be string, number or Buffer\")}function arrayIndexOf(arr,val,byteOffset,encoding,dir){var i,indexSize=1,arrLength=arr.length,valLength=val.length;if(void 0!==encoding&&(\"ucs2\"===(encoding=String(encoding).toLowerCase())||\"ucs-2\"===encoding||\"utf16le\"===encoding||\"utf-16le\"===encoding)){if(arr.length<2||val.length<2)return-1;indexSize=2,arrLength/=2,valLength/=2,byteOffset/=2}function read(buf,i){return 1===indexSize?buf[i]:buf.readUInt16BE(i*indexSize)}if(dir){var foundIndex=-1;for(i=byteOffset;i<arrLength;i++)if(read(arr,i)===read(val,-1===foundIndex?0:i-foundIndex)){if(-1===foundIndex&&(foundIndex=i),i-foundIndex+1===valLength)return foundIndex*indexSize}else-1!==foundIndex&&(i-=i-foundIndex),foundIndex=-1}else for(byteOffset+valLength>arrLength&&(byteOffset=arrLength-valLength),i=byteOffset;i>=0;i--){for(var found=!0,j=0;j<valLength;j++)if(read(arr,i+j)!==read(val,j)){found=!1;break}if(found)return i}return-1}function hexWrite(buf,string,offset,length){offset=Number(offset)||0;var remaining=buf.length-offset;length?(length=Number(length))>remaining&&(length=remaining):length=remaining;var strLen=string.length;if(strLen%2!=0)throw new TypeError(\"Invalid hex string\");length>strLen/2&&(length=strLen/2);for(var i=0;i<length;++i){var parsed=parseInt(string.substr(2*i,2),16);if(isNaN(parsed))return i;buf[offset+i]=parsed}return i}function utf8Write(buf,string,offset,length){return blitBuffer(utf8ToBytes(string,buf.length-offset),buf,offset,length)}function asciiWrite(buf,string,offset,length){return blitBuffer(function(str){for(var byteArray=[],i=0;i<str.length;++i)byteArray.push(255&str.charCodeAt(i));return byteArray}(string),buf,offset,length)}function latin1Write(buf,string,offset,length){return asciiWrite(buf,string,offset,length)}function base64Write(buf,string,offset,length){return blitBuffer(base64ToBytes(string),buf,offset,length)}function ucs2Write(buf,string,offset,length){return blitBuffer(function(str,units){for(var c,hi,lo,byteArray=[],i=0;i<str.length&&!((units-=2)<0);++i)c=str.charCodeAt(i),hi=c>>8,lo=c%256,byteArray.push(lo),byteArray.push(hi);return byteArray}(string,buf.length-offset),buf,offset,length)}function base64Slice(buf,start,end){return 0===start&&end===buf.length?base64.fromByteArray(buf):base64.fromByteArray(buf.slice(start,end))}function utf8Slice(buf,start,end){end=Math.min(buf.length,end);for(var res=[],i=start;i<end;){var secondByte,thirdByte,fourthByte,tempCodePoint,firstByte=buf[i],codePoint=null,bytesPerSequence=firstByte>239?4:firstByte>223?3:firstByte>191?2:1;if(i+bytesPerSequence<=end)switch(bytesPerSequence){case 1:firstByte<128&&(codePoint=firstByte);break;case 2:128==(192&(secondByte=buf[i+1]))&&(tempCodePoint=(31&firstByte)<<6|63&secondByte)>127&&(codePoint=tempCodePoint);break;case 3:secondByte=buf[i+1],thirdByte=buf[i+2],128==(192&secondByte)&&128==(192&thirdByte)&&(tempCodePoint=(15&firstByte)<<12|(63&secondByte)<<6|63&thirdByte)>2047&&(tempCodePoint<55296||tempCodePoint>57343)&&(codePoint=tempCodePoint);break;case 4:secondByte=buf[i+1],thirdByte=buf[i+2],fourthByte=buf[i+3],128==(192&secondByte)&&128==(192&thirdByte)&&128==(192&fourthByte)&&(tempCodePoint=(15&firstByte)<<18|(63&secondByte)<<12|(63&thirdByte)<<6|63&fourthByte)>65535&&tempCodePoint<1114112&&(codePoint=tempCodePoint)}null===codePoint?(codePoint=65533,bytesPerSequence=1):codePoint>65535&&(codePoint-=65536,res.push(codePoint>>>10&1023|55296),codePoint=56320|1023&codePoint),res.push(codePoint),i+=bytesPerSequence}return function(codePoints){var len=codePoints.length;if(len<=MAX_ARGUMENTS_LENGTH)return String.fromCharCode.apply(String,codePoints);var res=\"\",i=0;for(;i<len;)res+=String.fromCharCode.apply(String,codePoints.slice(i,i+=MAX_ARGUMENTS_LENGTH));return res}(res)}exports.Buffer=Buffer,exports.SlowBuffer=function(length){+length!=length&&(length=0);return Buffer.alloc(+length)},exports.INSPECT_MAX_BYTES=50,Buffer.TYPED_ARRAY_SUPPORT=void 0!==global.TYPED_ARRAY_SUPPORT?global.TYPED_ARRAY_SUPPORT:function(){try{var arr=new Uint8Array(1);return arr.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===arr.foo()&&\"function\"==typeof arr.subarray&&0===arr.subarray(1,1).byteLength}catch(e){return!1}}(),exports.kMaxLength=kMaxLength(),Buffer.poolSize=8192,Buffer._augment=function(arr){return arr.__proto__=Buffer.prototype,arr},Buffer.from=function(value,encodingOrOffset,length){return from(null,value,encodingOrOffset,length)},Buffer.TYPED_ARRAY_SUPPORT&&(Buffer.prototype.__proto__=Uint8Array.prototype,Buffer.__proto__=Uint8Array,\"undefined\"!=typeof Symbol&&Symbol.species&&Buffer[Symbol.species]===Buffer&&Object.defineProperty(Buffer,Symbol.species,{value:null,configurable:!0})),Buffer.alloc=function(size,fill,encoding){return function(that,size,fill,encoding){return assertSize(size),size<=0?createBuffer(that,size):void 0!==fill?\"string\"==typeof encoding?createBuffer(that,size).fill(fill,encoding):createBuffer(that,size).fill(fill):createBuffer(that,size)}(null,size,fill,encoding)},Buffer.allocUnsafe=function(size){return allocUnsafe(null,size)},Buffer.allocUnsafeSlow=function(size){return allocUnsafe(null,size)},Buffer.isBuffer=function(b){return!(null==b||!b._isBuffer)},Buffer.compare=function(a,b){if(!Buffer.isBuffer(a)||!Buffer.isBuffer(b))throw new TypeError(\"Arguments must be Buffers\");if(a===b)return 0;for(var x=a.length,y=b.length,i=0,len=Math.min(x,y);i<len;++i)if(a[i]!==b[i]){x=a[i],y=b[i];break}return x<y?-1:y<x?1:0},Buffer.isEncoding=function(encoding){switch(String(encoding).toLowerCase()){case\"hex\":case\"utf8\":case\"utf-8\":case\"ascii\":case\"latin1\":case\"binary\":case\"base64\":case\"ucs2\":case\"ucs-2\":case\"utf16le\":case\"utf-16le\":return!0;default:return!1}},Buffer.concat=function(list,length){if(!isArray(list))throw new TypeError('\"list\" argument must be an Array of Buffers');if(0===list.length)return Buffer.alloc(0);var i;if(void 0===length)for(length=0,i=0;i<list.length;++i)length+=list[i].length;var buffer=Buffer.allocUnsafe(length),pos=0;for(i=0;i<list.length;++i){var buf=list[i];if(!Buffer.isBuffer(buf))throw new TypeError('\"list\" argument must be an Array of Buffers');buf.copy(buffer,pos),pos+=buf.length}return buffer},Buffer.byteLength=byteLength,Buffer.prototype._isBuffer=!0,Buffer.prototype.swap16=function(){var len=this.length;if(len%2!=0)throw new RangeError(\"Buffer size must be a multiple of 16-bits\");for(var i=0;i<len;i+=2)swap(this,i,i+1);return this},Buffer.prototype.swap32=function(){var len=this.length;if(len%4!=0)throw new RangeError(\"Buffer size must be a multiple of 32-bits\");for(var i=0;i<len;i+=4)swap(this,i,i+3),swap(this,i+1,i+2);return this},Buffer.prototype.swap64=function(){var len=this.length;if(len%8!=0)throw new RangeError(\"Buffer size must be a multiple of 64-bits\");for(var i=0;i<len;i+=8)swap(this,i,i+7),swap(this,i+1,i+6),swap(this,i+2,i+5),swap(this,i+3,i+4);return this},Buffer.prototype.toString=function(){var length=0|this.length;return 0===length?\"\":0===arguments.length?utf8Slice(this,0,length):function(encoding,start,end){var loweredCase=!1;if((void 0===start||start<0)&&(start=0),start>this.length)return\"\";if((void 0===end||end>this.length)&&(end=this.length),end<=0)return\"\";if((end>>>=0)<=(start>>>=0))return\"\";for(encoding||(encoding=\"utf8\");;)switch(encoding){case\"hex\":return hexSlice(this,start,end);case\"utf8\":case\"utf-8\":return utf8Slice(this,start,end);case\"ascii\":return asciiSlice(this,start,end);case\"latin1\":case\"binary\":return latin1Slice(this,start,end);case\"base64\":return base64Slice(this,start,end);case\"ucs2\":case\"ucs-2\":case\"utf16le\":case\"utf-16le\":return utf16leSlice(this,start,end);default:if(loweredCase)throw new TypeError(\"Unknown encoding: \"+encoding);encoding=(encoding+\"\").toLowerCase(),loweredCase=!0}}.apply(this,arguments)},Buffer.prototype.equals=function(b){if(!Buffer.isBuffer(b))throw new TypeError(\"Argument must be a Buffer\");return this===b||0===Buffer.compare(this,b)},Buffer.prototype.inspect=function(){var str=\"\",max=exports.INSPECT_MAX_BYTES;return this.length>0&&(str=this.toString(\"hex\",0,max).match(/.{2}/g).join(\" \"),this.length>max&&(str+=\" ... \")),\"<Buffer \"+str+\">\"},Buffer.prototype.compare=function(target,start,end,thisStart,thisEnd){if(!Buffer.isBuffer(target))throw new TypeError(\"Argument must be a Buffer\");if(void 0===start&&(start=0),void 0===end&&(end=target?target.length:0),void 0===thisStart&&(thisStart=0),void 0===thisEnd&&(thisEnd=this.length),start<0||end>target.length||thisStart<0||thisEnd>this.length)throw new RangeError(\"out of range index\");if(thisStart>=thisEnd&&start>=end)return 0;if(thisStart>=thisEnd)return-1;if(start>=end)return 1;if(start>>>=0,end>>>=0,thisStart>>>=0,thisEnd>>>=0,this===target)return 0;for(var x=thisEnd-thisStart,y=end-start,len=Math.min(x,y),thisCopy=this.slice(thisStart,thisEnd),targetCopy=target.slice(start,end),i=0;i<len;++i)if(thisCopy[i]!==targetCopy[i]){x=thisCopy[i],y=targetCopy[i];break}return x<y?-1:y<x?1:0},Buffer.prototype.includes=function(val,byteOffset,encoding){return-1!==this.indexOf(val,byteOffset,encoding)},Buffer.prototype.indexOf=function(val,byteOffset,encoding){return bidirectionalIndexOf(this,val,byteOffset,encoding,!0)},Buffer.prototype.lastIndexOf=function(val,byteOffset,encoding){return bidirectionalIndexOf(this,val,byteOffset,encoding,!1)},Buffer.prototype.write=function(string,offset,length,encoding){if(void 0===offset)encoding=\"utf8\",length=this.length,offset=0;else if(void 0===length&&\"string\"==typeof offset)encoding=offset,length=this.length,offset=0;else{if(!isFinite(offset))throw new Error(\"Buffer.write(string, encoding, offset[, length]) is no longer supported\");offset|=0,isFinite(length)?(length|=0,void 0===encoding&&(encoding=\"utf8\")):(encoding=length,length=void 0)}var remaining=this.length-offset;if((void 0===length||length>remaining)&&(length=remaining),string.length>0&&(length<0||offset<0)||offset>this.length)throw new RangeError(\"Attempt to write outside buffer bounds\");encoding||(encoding=\"utf8\");for(var loweredCase=!1;;)switch(encoding){case\"hex\":return hexWrite(this,string,offset,length);case\"utf8\":case\"utf-8\":return utf8Write(this,string,offset,length);case\"ascii\":return asciiWrite(this,string,offset,length);case\"latin1\":case\"binary\":return latin1Write(this,string,offset,length);case\"base64\":return base64Write(this,string,offset,length);case\"ucs2\":case\"ucs-2\":case\"utf16le\":case\"utf-16le\":return ucs2Write(this,string,offset,length);default:if(loweredCase)throw new TypeError(\"Unknown encoding: \"+encoding);encoding=(\"\"+encoding).toLowerCase(),loweredCase=!0}},Buffer.prototype.toJSON=function(){return{type:\"Buffer\",data:Array.prototype.slice.call(this._arr||this,0)}};var MAX_ARGUMENTS_LENGTH=4096;function asciiSlice(buf,start,end){var ret=\"\";end=Math.min(buf.length,end);for(var i=start;i<end;++i)ret+=String.fromCharCode(127&buf[i]);return ret}function latin1Slice(buf,start,end){var ret=\"\";end=Math.min(buf.length,end);for(var i=start;i<end;++i)ret+=String.fromCharCode(buf[i]);return ret}function hexSlice(buf,start,end){var len=buf.length;(!start||start<0)&&(start=0),(!end||end<0||end>len)&&(end=len);for(var out=\"\",i=start;i<end;++i)out+=toHex(buf[i]);return out}function utf16leSlice(buf,start,end){for(var bytes=buf.slice(start,end),res=\"\",i=0;i<bytes.length;i+=2)res+=String.fromCharCode(bytes[i]+256*bytes[i+1]);return res}function checkOffset(offset,ext,length){if(offset%1!=0||offset<0)throw new RangeError(\"offset is not uint\");if(offset+ext>length)throw new RangeError(\"Trying to access beyond buffer length\")}function checkInt(buf,value,offset,ext,max,min){if(!Buffer.isBuffer(buf))throw new TypeError('\"buffer\" argument must be a Buffer instance');if(value>max||value<min)throw new RangeError('\"value\" argument is out of bounds');if(offset+ext>buf.length)throw new RangeError(\"Index out of range\")}function objectWriteUInt16(buf,value,offset,littleEndian){value<0&&(value=65535+value+1);for(var i=0,j=Math.min(buf.length-offset,2);i<j;++i)buf[offset+i]=(value&255<<8*(littleEndian?i:1-i))>>>8*(littleEndian?i:1-i)}function objectWriteUInt32(buf,value,offset,littleEndian){value<0&&(value=4294967295+value+1);for(var i=0,j=Math.min(buf.length-offset,4);i<j;++i)buf[offset+i]=value>>>8*(littleEndian?i:3-i)&255}function checkIEEE754(buf,value,offset,ext,max,min){if(offset+ext>buf.length)throw new RangeError(\"Index out of range\");if(offset<0)throw new RangeError(\"Index out of range\")}function writeFloat(buf,value,offset,littleEndian,noAssert){return noAssert||checkIEEE754(buf,0,offset,4),ieee754.write(buf,value,offset,littleEndian,23,4),offset+4}function writeDouble(buf,value,offset,littleEndian,noAssert){return noAssert||checkIEEE754(buf,0,offset,8),ieee754.write(buf,value,offset,littleEndian,52,8),offset+8}Buffer.prototype.slice=function(start,end){var newBuf,len=this.length;if(start=~~start,end=void 0===end?len:~~end,start<0?(start+=len)<0&&(start=0):start>len&&(start=len),end<0?(end+=len)<0&&(end=0):end>len&&(end=len),end<start&&(end=start),Buffer.TYPED_ARRAY_SUPPORT)(newBuf=this.subarray(start,end)).__proto__=Buffer.prototype;else{var sliceLen=end-start;newBuf=new Buffer(sliceLen,void 0);for(var i=0;i<sliceLen;++i)newBuf[i]=this[i+start]}return newBuf},Buffer.prototype.readUIntLE=function(offset,byteLength,noAssert){offset|=0,byteLength|=0,noAssert||checkOffset(offset,byteLength,this.length);for(var val=this[offset],mul=1,i=0;++i<byteLength&&(mul*=256);)val+=this[offset+i]*mul;return val},Buffer.prototype.readUIntBE=function(offset,byteLength,noAssert){offset|=0,byteLength|=0,noAssert||checkOffset(offset,byteLength,this.length);for(var val=this[offset+--byteLength],mul=1;byteLength>0&&(mul*=256);)val+=this[offset+--byteLength]*mul;return val},Buffer.prototype.readUInt8=function(offset,noAssert){return noAssert||checkOffset(offset,1,this.length),this[offset]},Buffer.prototype.readUInt16LE=function(offset,noAssert){return noAssert||checkOffset(offset,2,this.length),this[offset]|this[offset+1]<<8},Buffer.prototype.readUInt16BE=function(offset,noAssert){return noAssert||checkOffset(offset,2,this.length),this[offset]<<8|this[offset+1]},Buffer.prototype.readUInt32LE=function(offset,noAssert){return noAssert||checkOffset(offset,4,this.length),(this[offset]|this[offset+1]<<8|this[offset+2]<<16)+16777216*this[offset+3]},Buffer.prototype.readUInt32BE=function(offset,noAssert){return noAssert||checkOffset(offset,4,this.length),16777216*this[offset]+(this[offset+1]<<16|this[offset+2]<<8|this[offset+3])},Buffer.prototype.readIntLE=function(offset,byteLength,noAssert){offset|=0,byteLength|=0,noAssert||checkOffset(offset,byteLength,this.length);for(var val=this[offset],mul=1,i=0;++i<byteLength&&(mul*=256);)val+=this[offset+i]*mul;return val>=(mul*=128)&&(val-=Math.pow(2,8*byteLength)),val},Buffer.prototype.readIntBE=function(offset,byteLength,noAssert){offset|=0,byteLength|=0,noAssert||checkOffset(offset,byteLength,this.length);for(var i=byteLength,mul=1,val=this[offset+--i];i>0&&(mul*=256);)val+=this[offset+--i]*mul;return val>=(mul*=128)&&(val-=Math.pow(2,8*byteLength)),val},Buffer.prototype.readInt8=function(offset,noAssert){return noAssert||checkOffset(offset,1,this.length),128&this[offset]?-1*(255-this[offset]+1):this[offset]},Buffer.prototype.readInt16LE=function(offset,noAssert){noAssert||checkOffset(offset,2,this.length);var val=this[offset]|this[offset+1]<<8;return 32768&val?4294901760|val:val},Buffer.prototype.readInt16BE=function(offset,noAssert){noAssert||checkOffset(offset,2,this.length);var val=this[offset+1]|this[offset]<<8;return 32768&val?4294901760|val:val},Buffer.prototype.readInt32LE=function(offset,noAssert){return noAssert||checkOffset(offset,4,this.length),this[offset]|this[offset+1]<<8|this[offset+2]<<16|this[offset+3]<<24},Buffer.prototype.readInt32BE=function(offset,noAssert){return noAssert||checkOffset(offset,4,this.length),this[offset]<<24|this[offset+1]<<16|this[offset+2]<<8|this[offset+3]},Buffer.prototype.readFloatLE=function(offset,noAssert){return noAssert||checkOffset(offset,4,this.length),ieee754.read(this,offset,!0,23,4)},Buffer.prototype.readFloatBE=function(offset,noAssert){return noAssert||checkOffset(offset,4,this.length),ieee754.read(this,offset,!1,23,4)},Buffer.prototype.readDoubleLE=function(offset,noAssert){return noAssert||checkOffset(offset,8,this.length),ieee754.read(this,offset,!0,52,8)},Buffer.prototype.readDoubleBE=function(offset,noAssert){return noAssert||checkOffset(offset,8,this.length),ieee754.read(this,offset,!1,52,8)},Buffer.prototype.writeUIntLE=function(value,offset,byteLength,noAssert){(value=+value,offset|=0,byteLength|=0,noAssert)||checkInt(this,value,offset,byteLength,Math.pow(2,8*byteLength)-1,0);var mul=1,i=0;for(this[offset]=255&value;++i<byteLength&&(mul*=256);)this[offset+i]=value/mul&255;return offset+byteLength},Buffer.prototype.writeUIntBE=function(value,offset,byteLength,noAssert){(value=+value,offset|=0,byteLength|=0,noAssert)||checkInt(this,value,offset,byteLength,Math.pow(2,8*byteLength)-1,0);var i=byteLength-1,mul=1;for(this[offset+i]=255&value;--i>=0&&(mul*=256);)this[offset+i]=value/mul&255;return offset+byteLength},Buffer.prototype.writeUInt8=function(value,offset,noAssert){return value=+value,offset|=0,noAssert||checkInt(this,value,offset,1,255,0),Buffer.TYPED_ARRAY_SUPPORT||(value=Math.floor(value)),this[offset]=255&value,offset+1},Buffer.prototype.writeUInt16LE=function(value,offset,noAssert){return value=+value,offset|=0,noAssert||checkInt(this,value,offset,2,65535,0),Buffer.TYPED_ARRAY_SUPPORT?(this[offset]=255&value,this[offset+1]=value>>>8):objectWriteUInt16(this,value,offset,!0),offset+2},Buffer.prototype.writeUInt16BE=function(value,offset,noAssert){return value=+value,offset|=0,noAssert||checkInt(this,value,offset,2,65535,0),Buffer.TYPED_ARRAY_SUPPORT?(this[offset]=value>>>8,this[offset+1]=255&value):objectWriteUInt16(this,value,offset,!1),offset+2},Buffer.prototype.writeUInt32LE=function(value,offset,noAssert){return value=+value,offset|=0,noAssert||checkInt(this,value,offset,4,4294967295,0),Buffer.TYPED_ARRAY_SUPPORT?(this[offset+3]=value>>>24,this[offset+2]=value>>>16,this[offset+1]=value>>>8,this[offset]=255&value):objectWriteUInt32(this,value,offset,!0),offset+4},Buffer.prototype.writeUInt32BE=function(value,offset,noAssert){return value=+value,offset|=0,noAssert||checkInt(this,value,offset,4,4294967295,0),Buffer.TYPED_ARRAY_SUPPORT?(this[offset]=value>>>24,this[offset+1]=value>>>16,this[offset+2]=value>>>8,this[offset+3]=255&value):objectWriteUInt32(this,value,offset,!1),offset+4},Buffer.prototype.writeIntLE=function(value,offset,byteLength,noAssert){if(value=+value,offset|=0,!noAssert){var limit=Math.pow(2,8*byteLength-1);checkInt(this,value,offset,byteLength,limit-1,-limit)}var i=0,mul=1,sub=0;for(this[offset]=255&value;++i<byteLength&&(mul*=256);)value<0&&0===sub&&0!==this[offset+i-1]&&(sub=1),this[offset+i]=(value/mul>>0)-sub&255;return offset+byteLength},Buffer.prototype.writeIntBE=function(value,offset,byteLength,noAssert){if(value=+value,offset|=0,!noAssert){var limit=Math.pow(2,8*byteLength-1);checkInt(this,value,offset,byteLength,limit-1,-limit)}var i=byteLength-1,mul=1,sub=0;for(this[offset+i]=255&value;--i>=0&&(mul*=256);)value<0&&0===sub&&0!==this[offset+i+1]&&(sub=1),this[offset+i]=(value/mul>>0)-sub&255;return offset+byteLength},Buffer.prototype.writeInt8=function(value,offset,noAssert){return value=+value,offset|=0,noAssert||checkInt(this,value,offset,1,127,-128),Buffer.TYPED_ARRAY_SUPPORT||(value=Math.floor(value)),value<0&&(value=255+value+1),this[offset]=255&value,offset+1},Buffer.prototype.writeInt16LE=function(value,offset,noAssert){return value=+value,offset|=0,noAssert||checkInt(this,value,offset,2,32767,-32768),Buffer.TYPED_ARRAY_SUPPORT?(this[offset]=255&value,this[offset+1]=value>>>8):objectWriteUInt16(this,value,offset,!0),offset+2},Buffer.prototype.writeInt16BE=function(value,offset,noAssert){return value=+value,offset|=0,noAssert||checkInt(this,value,offset,2,32767,-32768),Buffer.TYPED_ARRAY_SUPPORT?(this[offset]=value>>>8,this[offset+1]=255&value):objectWriteUInt16(this,value,offset,!1),offset+2},Buffer.prototype.writeInt32LE=function(value,offset,noAssert){return value=+value,offset|=0,noAssert||checkInt(this,value,offset,4,2147483647,-2147483648),Buffer.TYPED_ARRAY_SUPPORT?(this[offset]=255&value,this[offset+1]=value>>>8,this[offset+2]=value>>>16,this[offset+3]=value>>>24):objectWriteUInt32(this,value,offset,!0),offset+4},Buffer.prototype.writeInt32BE=function(value,offset,noAssert){return value=+value,offset|=0,noAssert||checkInt(this,value,offset,4,2147483647,-2147483648),value<0&&(value=4294967295+value+1),Buffer.TYPED_ARRAY_SUPPORT?(this[offset]=value>>>24,this[offset+1]=value>>>16,this[offset+2]=value>>>8,this[offset+3]=255&value):objectWriteUInt32(this,value,offset,!1),offset+4},Buffer.prototype.writeFloatLE=function(value,offset,noAssert){return writeFloat(this,value,offset,!0,noAssert)},Buffer.prototype.writeFloatBE=function(value,offset,noAssert){return writeFloat(this,value,offset,!1,noAssert)},Buffer.prototype.writeDoubleLE=function(value,offset,noAssert){return writeDouble(this,value,offset,!0,noAssert)},Buffer.prototype.writeDoubleBE=function(value,offset,noAssert){return writeDouble(this,value,offset,!1,noAssert)},Buffer.prototype.copy=function(target,targetStart,start,end){if(start||(start=0),end||0===end||(end=this.length),targetStart>=target.length&&(targetStart=target.length),targetStart||(targetStart=0),end>0&&end<start&&(end=start),end===start)return 0;if(0===target.length||0===this.length)return 0;if(targetStart<0)throw new RangeError(\"targetStart out of bounds\");if(start<0||start>=this.length)throw new RangeError(\"sourceStart out of bounds\");if(end<0)throw new RangeError(\"sourceEnd out of bounds\");end>this.length&&(end=this.length),target.length-targetStart<end-start&&(end=target.length-targetStart+start);var i,len=end-start;if(this===target&&start<targetStart&&targetStart<end)for(i=len-1;i>=0;--i)target[i+targetStart]=this[i+start];else if(len<1e3||!Buffer.TYPED_ARRAY_SUPPORT)for(i=0;i<len;++i)target[i+targetStart]=this[i+start];else Uint8Array.prototype.set.call(target,this.subarray(start,start+len),targetStart);return len},Buffer.prototype.fill=function(val,start,end,encoding){if(\"string\"==typeof val){if(\"string\"==typeof start?(encoding=start,start=0,end=this.length):\"string\"==typeof end&&(encoding=end,end=this.length),1===val.length){var code=val.charCodeAt(0);code<256&&(val=code)}if(void 0!==encoding&&\"string\"!=typeof encoding)throw new TypeError(\"encoding must be a string\");if(\"string\"==typeof encoding&&!Buffer.isEncoding(encoding))throw new TypeError(\"Unknown encoding: \"+encoding)}else\"number\"==typeof val&&(val&=255);if(start<0||this.length<start||this.length<end)throw new RangeError(\"Out of range index\");if(end<=start)return this;var i;if(start>>>=0,end=void 0===end?this.length:end>>>0,val||(val=0),\"number\"==typeof val)for(i=start;i<end;++i)this[i]=val;else{var bytes=Buffer.isBuffer(val)?val:utf8ToBytes(new Buffer(val,encoding).toString()),len=bytes.length;for(i=0;i<end-start;++i)this[i+start]=bytes[i%len]}return this};var INVALID_BASE64_RE=/[^+\\/0-9A-Za-z-_]/g;function toHex(n){return n<16?\"0\"+n.toString(16):n.toString(16)}function utf8ToBytes(string,units){var codePoint;units=units||1/0;for(var length=string.length,leadSurrogate=null,bytes=[],i=0;i<length;++i){if((codePoint=string.charCodeAt(i))>55295&&codePoint<57344){if(!leadSurrogate){if(codePoint>56319){(units-=3)>-1&&bytes.push(239,191,189);continue}if(i+1===length){(units-=3)>-1&&bytes.push(239,191,189);continue}leadSurrogate=codePoint;continue}if(codePoint<56320){(units-=3)>-1&&bytes.push(239,191,189),leadSurrogate=codePoint;continue}codePoint=65536+(leadSurrogate-55296<<10|codePoint-56320)}else leadSurrogate&&(units-=3)>-1&&bytes.push(239,191,189);if(leadSurrogate=null,codePoint<128){if((units-=1)<0)break;bytes.push(codePoint)}else if(codePoint<2048){if((units-=2)<0)break;bytes.push(codePoint>>6|192,63&codePoint|128)}else if(codePoint<65536){if((units-=3)<0)break;bytes.push(codePoint>>12|224,codePoint>>6&63|128,63&codePoint|128)}else{if(!(codePoint<1114112))throw new Error(\"Invalid code point\");if((units-=4)<0)break;bytes.push(codePoint>>18|240,codePoint>>12&63|128,codePoint>>6&63|128,63&codePoint|128)}}return bytes}function base64ToBytes(str){return base64.toByteArray(function(str){if((str=function(str){return str.trim?str.trim():str.replace(/^\\s+|\\s+$/g,\"\")}(str).replace(INVALID_BASE64_RE,\"\")).length<2)return\"\";for(;str.length%4!=0;)str+=\"=\";return str}(str))}function blitBuffer(src,dst,offset,length){for(var i=0;i<length&&!(i+offset>=dst.length||i>=src.length);++i)dst[i+offset]=src[i];return i}}).call(this,__nested_webpack_require_68369__(11))},function(module,exports){var cachedSetTimeout,cachedClearTimeout,process=module.exports={};function defaultSetTimout(){throw new Error(\"setTimeout has not been defined\")}function defaultClearTimeout(){throw new Error(\"clearTimeout has not been defined\")}function runTimeout(fun){if(cachedSetTimeout===setTimeout)return setTimeout(fun,0);if((cachedSetTimeout===defaultSetTimout||!cachedSetTimeout)&&setTimeout)return cachedSetTimeout=setTimeout,setTimeout(fun,0);try{return cachedSetTimeout(fun,0)}catch(e){try{return cachedSetTimeout.call(null,fun,0)}catch(e){return cachedSetTimeout.call(this,fun,0)}}}!function(){try{cachedSetTimeout=\"function\"==typeof setTimeout?setTimeout:defaultSetTimout}catch(e){cachedSetTimeout=defaultSetTimout}try{cachedClearTimeout=\"function\"==typeof clearTimeout?clearTimeout:defaultClearTimeout}catch(e){cachedClearTimeout=defaultClearTimeout}}();var currentQueue,queue=[],draining=!1,queueIndex=-1;function cleanUpNextTick(){draining&&currentQueue&&(draining=!1,currentQueue.length?queue=currentQueue.concat(queue):queueIndex=-1,queue.length&&drainQueue())}function drainQueue(){if(!draining){var timeout=runTimeout(cleanUpNextTick);draining=!0;for(var len=queue.length;len;){for(currentQueue=queue,queue=[];++queueIndex<len;)currentQueue&&currentQueue[queueIndex].run();queueIndex=-1,len=queue.length}currentQueue=null,draining=!1,function(marker){if(cachedClearTimeout===clearTimeout)return clearTimeout(marker);if((cachedClearTimeout===defaultClearTimeout||!cachedClearTimeout)&&clearTimeout)return cachedClearTimeout=clearTimeout,clearTimeout(marker);try{cachedClearTimeout(marker)}catch(e){try{return cachedClearTimeout.call(null,marker)}catch(e){return cachedClearTimeout.call(this,marker)}}}(timeout)}}function Item(fun,array){this.fun=fun,this.array=array}function noop(){}process.nextTick=function(fun){var args=new Array(arguments.length-1);if(arguments.length>1)for(var i=1;i<arguments.length;i++)args[i-1]=arguments[i];queue.push(new Item(fun,args)),1!==queue.length||draining||runTimeout(drainQueue)},Item.prototype.run=function(){this.fun.apply(null,this.array)},process.title=\"browser\",process.browser=!0,process.env={},process.argv=[],process.version=\"\",process.versions={},process.on=noop,process.addListener=noop,process.once=noop,process.off=noop,process.removeListener=noop,process.removeAllListeners=noop,process.emit=noop,process.prependListener=noop,process.prependOnceListener=noop,process.listeners=function(name){return[]},process.binding=function(name){throw new Error(\"process.binding is not supported\")},process.cwd=function(){return\"/\"},process.chdir=function(dir){throw new Error(\"process.chdir is not supported\")},process.umask=function(){return 0}},function(module,exports,__nested_webpack_require_100980__){(function(Buffer){function objectToString(o){return Object.prototype.toString.call(o)}exports.isArray=function(arg){return Array.isArray?Array.isArray(arg):\"[object Array]\"===objectToString(arg)},exports.isBoolean=function(arg){return\"boolean\"==typeof arg},exports.isNull=function(arg){return null===arg},exports.isNullOrUndefined=function(arg){return null==arg},exports.isNumber=function(arg){return\"number\"==typeof arg},exports.isString=function(arg){return\"string\"==typeof arg},exports.isSymbol=function(arg){return\"symbol\"==typeof arg},exports.isUndefined=function(arg){return void 0===arg},exports.isRegExp=function(re){return\"[object RegExp]\"===objectToString(re)},exports.isObject=function(arg){return\"object\"==typeof arg&&null!==arg},exports.isDate=function(d){return\"[object Date]\"===objectToString(d)},exports.isError=function(e){return\"[object Error]\"===objectToString(e)||e instanceof Error},exports.isFunction=function(arg){return\"function\"==typeof arg},exports.isPrimitive=function(arg){return null===arg||\"boolean\"==typeof arg||\"number\"==typeof arg||\"string\"==typeof arg||\"symbol\"==typeof arg||void 0===arg},exports.isBuffer=Buffer.isBuffer}).call(this,__nested_webpack_require_100980__(23).Buffer)},function(module,exports,__nested_webpack_require_102226__){\"use strict\";var ES6Promise=null;ES6Promise=\"undefined\"!=typeof Promise?Promise:__nested_webpack_require_102226__(101),module.exports={Promise:ES6Promise}},function(module,exports,__nested_webpack_require_102413__){\"use strict\";var __awaiter=this&&this.__awaiter||function(thisArg,_arguments,P,generator){return new(P||(P=Promise))(function(resolve,reject){function fulfilled(value){try{step(generator.next(value))}catch(e){reject(e)}}function rejected(value){try{step(generator.throw(value))}catch(e){reject(e)}}function step(result){result.done?resolve(result.value):function(value){return value instanceof P?value:new P(function(resolve){resolve(value)})}(result.value).then(fulfilled,rejected)}step((generator=generator.apply(thisArg,_arguments||[])).next())})},__generator=this&&this.__generator||function(thisArg,body){var f,y,t,g,_={label:0,sent:function(){if(1&t[0])throw t[1];return t[1]},trys:[],ops:[]};return g={next:verb(0),throw:verb(1),return:verb(2)},\"function\"==typeof Symbol&&(g[Symbol.iterator]=function(){return this}),g;function verb(n){return function(v){return function(op){if(f)throw new TypeError(\"Generator is already executing.\");for(;_;)try{if(f=1,y&&(t=2&op[0]?y.return:op[0]?y.throw||((t=y.return)&&t.call(y),0):y.next)&&!(t=t.call(y,op[1])).done)return t;switch(y=0,t&&(op=[2&op[0],t.value]),op[0]){case 0:case 1:t=op;break;case 4:return _.label++,{value:op[1],done:!1};case 5:_.label++,y=op[1],op=[0];continue;case 7:op=_.ops.pop(),_.trys.pop();continue;default:if(!(t=(t=_.trys).length>0&&t[t.length-1])&&(6===op[0]||2===op[0])){_=0;continue}if(3===op[0]&&(!t||op[1]>t[0]&&op[1]<t[3])){_.label=op[1];break}if(6===op[0]&&_.label<t[1]){_.label=t[1],t=op;break}if(t&&_.label<t[2]){_.label=t[2],_.ops.push(op);break}t[2]&&_.ops.pop(),_.trys.pop();continue}op=body.call(thisArg,_)}catch(e){op=[6,e],y=0}finally{f=t=0}if(5&op[0])throw op[1];return{value:op[0]?op[1]:void 0,done:!0}}([n,v])}}},__spreadArrays=this&&this.__spreadArrays||function(){for(var s=0,i=0,il=arguments.length;i<il;i++)s+=arguments[i].length;var r=Array(s),k=0;for(i=0;i<il;i++)for(var a=arguments[i],j=0,jl=a.length;j<jl;j++,k++)r[k]=a[j];return r};Object.defineProperty(exports,\"__esModule\",{value:!0});var DateModule_1=__nested_webpack_require_102413__(6),InboxMessages=function(){function InboxMessages(data,api,inboxModel,dateModule){void 0===dateModule&&(dateModule=new DateModule_1.default),this.data=data,this.api=api,this.inboxModel=inboxModel,this.dateModule=dateModule,this.publicMessageBuilder=this.publicMessageBuilder.bind(this)}return InboxMessages.prototype.messageTypeFactory=function(actionParams){var messageType=0;return\"h\"in actionParams||\"rm\"in actionParams||\"r\"in actionParams?messageType=1:\"l\"in actionParams&&null!=actionParams.l&&(messageType=actionParams.l.startsWith(\"http\")?2:3),messageType},InboxMessages.prototype.updateMessagesStatusWithCodes=function(codes,messages,status){return __awaiter(this,void 0,void 0,function(){var updatedMessages,inboxStatusQueries,_this=this;return __generator(this,function(_a){switch(_a.label){case 0:return updatedMessages=[],inboxStatusQueries=[],messages.forEach(function(msg){return __awaiter(_this,void 0,void 0,function(){return __generator(this,function(_a){return-1===codes.indexOf(msg.inbox_id)?[2]:(msg.status=status,updatedMessages.push(msg),inboxStatusQueries.push(this.api.inboxStatus(msg.order,msg.status)),[2])})})}),[4,this.inboxModel.putBulkMessages(updatedMessages)];case 1:return _a.sent(),[4,Promise.all(inboxStatusQueries)];case 2:return _a.sent(),[2]}})})},InboxMessages.prototype.publicMessageBuilder=function(message){return __awaiter(this,void 0,void 0,function(){var imageUrl,_a,title,_b;return __generator(this,function(_c){switch(_c.label){case 0:return(_a=message.image)?[3,2]:[4,this.data.getDefaultNotificationImage()];case 1:_a=_c.sent(),_c.label=2;case 2:return imageUrl=_a,(_b=message.title)?[3,4]:[4,this.data.getDefaultNotificationTitle()];case 3:_b=_c.sent(),_c.label=4;case 4:return title=_b,this.dateModule.date=new Date(1e3*parseInt(message.send_date)),this.dateModule.setLocal(),[2,{title:title,imageUrl:imageUrl,code:message.inbox_id,message:message.text,sendDate:this.dateModule.date.toISOString(),type:this.messageTypeFactory(JSON.parse(message.action_params)),isRead:2===message.status||3===message.status,isActionPerformed:3===message.status}]}})})},InboxMessages.prototype.messagesWithNoActionPerformedCount=function(){return this.inboxModel.getDeliveredReadMessagesCount()},InboxMessages.prototype.unreadMessagesCount=function(){return this.inboxModel.getDeliveredMessagesCount()},InboxMessages.prototype.messagesCount=function(){return this.inboxModel.messagesCount()},InboxMessages.prototype.loadMessages=function(){return __awaiter(this,void 0,void 0,function(){var readMessages,unreadMessages,buildMessagePromises;return __generator(this,function(_a){switch(_a.label){case 0:return[4,this.inboxModel.getReadOpenMessages()];case 1:return readMessages=_a.sent(),[4,this.inboxModel.getDeliveredMessages()];case 2:return unreadMessages=_a.sent(),buildMessagePromises=__spreadArrays(readMessages,unreadMessages).sort(function(msgA,msgB){return parseInt(msgB.send_date,10)-parseInt(msgA.send_date,10)}).sort(function(msgA,msgB){return parseInt(msgB.order||\"0\",10)-parseInt(msgA.order||\"0\",10)}).map(this.publicMessageBuilder),[2,Promise.all(buildMessagePromises)]}})})},InboxMessages.prototype.readMessagesWithCodes=function(codes){return __awaiter(this,void 0,void 0,function(){var unreadMessages,statusRead;return __generator(this,function(_a){switch(_a.label){case 0:return[4,this.inboxModel.getDeliveredMessages()];case 1:return unreadMessages=_a.sent(),statusRead=2,[4,this.updateMessagesStatusWithCodes(codes,unreadMessages,statusRead)];case 2:return _a.sent(),[2]}})})},InboxMessages.prototype.performActionForMessageWithCode=function(code){return __awaiter(this,void 0,void 0,function(){var message,actionParams,messageType;return __generator(this,function(_a){switch(_a.label){case 0:return[4,this.inboxModel.getMessage(code)];case 1:return message=_a.sent(),actionParams=JSON.parse(message.action_params),2===(messageType=this.messageTypeFactory(actionParams))&&null!=actionParams.l?document.location.href=actionParams.l:3===messageType&&null!=actionParams.l&&window.history.go(actionParams.l),message.status=3,[4,this.inboxModel.putMessage(message)];case 2:return _a.sent(),[4,this.api.inboxStatus(message.order,message.status)];case 3:return _a.sent(),[2]}})})},InboxMessages.prototype.deleteMessagesWithCodes=function(codes){return __awaiter(this,void 0,void 0,function(){var readMessages,unreadMessages,statusDeleted;return __generator(this,function(_a){switch(_a.label){case 0:return[4,this.inboxModel.getReadOpenMessages()];case 1:return readMessages=_a.sent(),[4,this.inboxModel.getDeliveredMessages()];case 2:return unreadMessages=_a.sent(),statusDeleted=4,[4,this.updateMessagesStatusWithCodes(codes,__spreadArrays(readMessages,unreadMessages),statusDeleted)];case 3:return _a.sent(),[2]}})})},InboxMessages.prototype.syncMessages=function(){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(_a){switch(_a.label){case 0:return[4,this.inboxModel.updateMessages()];case 1:return _a.sent(),[2]}})})},InboxMessages}();exports.default=InboxMessages},function(module,exports,__nested_webpack_require_109532__){\"use strict\";var __awaiter=this&&this.__awaiter||function(thisArg,_arguments,P,generator){return new(P||(P=Promise))(function(resolve,reject){function fulfilled(value){try{step(generator.next(value))}catch(e){reject(e)}}function rejected(value){try{step(generator.throw(value))}catch(e){reject(e)}}function step(result){result.done?resolve(result.value):function(value){return value instanceof P?value:new P(function(resolve){resolve(value)})}(result.value).then(fulfilled,rejected)}step((generator=generator.apply(thisArg,_arguments||[])).next())})},__generator=this&&this.__generator||function(thisArg,body){var f,y,t,g,_={label:0,sent:function(){if(1&t[0])throw t[1];return t[1]},trys:[],ops:[]};return g={next:verb(0),throw:verb(1),return:verb(2)},\"function\"==typeof Symbol&&(g[Symbol.iterator]=function(){return this}),g;function verb(n){return function(v){return function(op){if(f)throw new TypeError(\"Generator is already executing.\");for(;_;)try{if(f=1,y&&(t=2&op[0]?y.return:op[0]?y.throw||((t=y.return)&&t.call(y),0):y.next)&&!(t=t.call(y,op[1])).done)return t;switch(y=0,t&&(op=[2&op[0],t.value]),op[0]){case 0:case 1:t=op;break;case 4:return _.label++,{value:op[1],done:!1};case 5:_.label++,y=op[1],op=[0];continue;case 7:op=_.ops.pop(),_.trys.pop();continue;default:if(!(t=(t=_.trys).length>0&&t[t.length-1])&&(6===op[0]||2===op[0])){_=0;continue}if(3===op[0]&&(!t||op[1]>t[0]&&op[1]<t[3])){_.label=op[1];break}if(6===op[0]&&_.label<t[1]){_.label=t[1],t=op;break}if(t&&_.label<t[2]){_.label=t[2],_.ops.push(op);break}t[2]&&_.ops.pop(),_.trys.pop();continue}op=body.call(thisArg,_)}catch(e){op=[6,e],y=0}finally{f=t=0}if(5&op[0])throw op[1];return{value:op[0]?op[1]:void 0,done:!0}}([n,v])}}};Object.defineProperty(exports,\"__esModule\",{value:!0});var Data_1=__nested_webpack_require_109532__(4),logger_1=__nested_webpack_require_109532__(5),ApiClient=function(){function ApiClient(data,logger){void 0===data&&(data=new Data_1.Data),void 0===logger&&(logger=logger_1.Logger),this.data=data,this.logger=logger}return ApiClient.prototype.checkDevice=function(options){return this.createRequest(\"checkDevice\",options)},ApiClient.prototype.getConfig=function(options){return this.createRequest(\"getConfig\",options)},ApiClient.prototype.applicationOpen=function(options){return this.createRequest(\"applicationOpen\",options)},ApiClient.prototype.registerDevice=function(options){return this.createRequest(\"registerDevice\",options)},ApiClient.prototype.unregisterDevice=function(options){return this.createRequest(\"unregisterDevice\",options)},ApiClient.prototype.deleteDevice=function(options){return this.createRequest(\"deleteDevice\",options)},ApiClient.prototype.messageDeliveryEvent=function(options){return this.createRequest(\"messageDeliveryEvent\",options)},ApiClient.prototype.pushStat=function(options){return this.createRequest(\"pushStat\",options)},ApiClient.prototype.setTags=function(options){return this.createRequest(\"setTags\",options)},ApiClient.prototype.getTags=function(options){return this.createRequest(\"getTags\",options)},ApiClient.prototype.registerUser=function(options){return this.createRequest(\"registerUser\",options)},ApiClient.prototype.postEvent=function(options){return this.createRequest(\"postEvent\",options)},ApiClient.prototype.getInboxMessages=function(options){return this.createRequest(\"getInboxMessages\",options)},ApiClient.prototype.inboxStatus=function(options){return this.createRequest(\"inboxStatus\",options)},ApiClient.prototype.pageVisit=function(options,url){return this.createRequest(\"pageVisit\",options,url)},ApiClient.prototype.getInApps=function(options){return this.createRequest(\"getInApps\",options)},ApiClient.prototype.setPurchase=function(options){return this.createRequest(\"setPurchase\",options)},ApiClient.prototype.createRequest=function(methodName,request,customUrl){return __awaiter(this,void 0,void 0,function(){var entrypoint,response,result;return __generator(this,function(_a){switch(_a.label){case 0:return[4,this.data.getApiEntrypoint()];case 1:return entrypoint=_a.sent(),[4,fetch(customUrl||entrypoint+methodName,{method:\"POST\",headers:{\"Content-Type\":\"text/plain;charset=UTF-8\"},body:JSON.stringify({request:request})})];case 2:return response=_a.sent(),[4,this.checkResponse(response)];case 3:return(result=_a.sent()).base_url?[4,this.data.setApiEntrypoint(result.base_url)]:[3,5];case 4:_a.sent(),_a.label=5;case 5:return[4,this.logger.write(\"apirequest\",methodName+\" call with arguments: \"+JSON.stringify(request)+\" to Pushwoosh has been successful. Result: \"+JSON.stringify(result.response))];case 6:return _a.sent(),[2,result.response]}})})},ApiClient.prototype.checkResponse=function(response){return __awaiter(this,void 0,void 0,function(){var data;return __generator(this,function(_a){switch(_a.label){case 0:if(200!==response.status)throw new Error(\"Error code: \"+response.status+\". Error text: \"+response.statusText);return[4,response.json()];case 1:if(200!==(data=_a.sent()).status_code)throw new Error(\"Error code: \"+data.status_code+\". Error text: \"+data.status_message);return[2,data]}})})},ApiClient}();exports.ApiClient=ApiClient},function(module,exports,__nested_webpack_require_114666__){\"use strict\";(function(process){void 0===process||!process.version||0===process.version.indexOf(\"v0.\")||0===process.version.indexOf(\"v1.\")&&0!==process.version.indexOf(\"v1.8.\")?module.exports={nextTick:function(fn,arg1,arg2,arg3){if(\"function\"!=typeof fn)throw new TypeError('\"callback\" argument must be a function');var args,i,len=arguments.length;switch(len){case 0:case 1:return process.nextTick(fn);case 2:return process.nextTick(function(){fn.call(null,arg1)});case 3:return process.nextTick(function(){fn.call(null,arg1,arg2)});case 4:return process.nextTick(function(){fn.call(null,arg1,arg2,arg3)});default:for(args=new Array(len-1),i=0;i<args.length;)args[i++]=arguments[i];return process.nextTick(function(){fn.apply(null,args)})}}}:module.exports=process}).call(this,__nested_webpack_require_114666__(24))},function(module,exports,__nested_webpack_require_115515__){var buffer=__nested_webpack_require_115515__(23),Buffer=buffer.Buffer;function copyProps(src,dst){for(var key in src)dst[key]=src[key]}function SafeBuffer(arg,encodingOrOffset,length){return Buffer(arg,encodingOrOffset,length)}Buffer.from&&Buffer.alloc&&Buffer.allocUnsafe&&Buffer.allocUnsafeSlow?module.exports=buffer:(copyProps(buffer,exports),exports.Buffer=SafeBuffer),copyProps(Buffer,SafeBuffer),SafeBuffer.from=function(arg,encodingOrOffset,length){if(\"number\"==typeof arg)throw new TypeError(\"Argument must not be a number\");return Buffer(arg,encodingOrOffset,length)},SafeBuffer.alloc=function(size,fill,encoding){if(\"number\"!=typeof size)throw new TypeError(\"Argument must be a number\");var buf=Buffer(size);return void 0!==fill?\"string\"==typeof encoding?buf.fill(fill,encoding):buf.fill(fill):buf.fill(0),buf},SafeBuffer.allocUnsafe=function(size){if(\"number\"!=typeof size)throw new TypeError(\"Argument must be a number\");return Buffer(size)},SafeBuffer.allocUnsafeSlow=function(size){if(\"number\"!=typeof size)throw new TypeError(\"Argument must be a number\");return buffer.SlowBuffer(size)}},function(module,exports,__nested_webpack_require_116649__){\"use strict\";(function(Buffer){module.exports={isNode:void 0!==Buffer,newBufferFrom:function(data,encoding){if(Buffer.from&&Buffer.from!==Uint8Array.from)return Buffer.from(data,encoding);if(\"number\"==typeof data)throw new Error('The \"data\" argument must not be a number');return new Buffer(data,encoding)},allocBuffer:function(size){if(Buffer.alloc)return Buffer.alloc(size);var buf=new Buffer(size);return buf.fill(0),buf},isBuffer:function(b){return Buffer.isBuffer(b)},isStream:function(obj){return obj&&\"function\"==typeof obj.on&&\"function\"==typeof obj.pause&&\"function\"==typeof obj.resume}}}).call(this,__nested_webpack_require_116649__(23).Buffer)},function(module,exports,__nested_webpack_require_117336__){var _nodeId,_clockseq,rng=__nested_webpack_require_117336__(16),bytesToUuid=__nested_webpack_require_117336__(17),_lastMSecs=0,_lastNSecs=0;module.exports=function(options,buf,offset){var i=buf&&offset||0,b=buf||[],node=(options=options||{}).node||_nodeId,clockseq=void 0!==options.clockseq?options.clockseq:_clockseq;if(null==node||null==clockseq){var seedBytes=rng();null==node&&(node=_nodeId=[1|seedBytes[0],seedBytes[1],seedBytes[2],seedBytes[3],seedBytes[4],seedBytes[5]]),null==clockseq&&(clockseq=_clockseq=16383&(seedBytes[6]<<8|seedBytes[7]))}var msecs=void 0!==options.msecs?options.msecs:(new Date).getTime(),nsecs=void 0!==options.nsecs?options.nsecs:_lastNSecs+1,dt=msecs-_lastMSecs+(nsecs-_lastNSecs)/1e4;if(dt<0&&void 0===options.clockseq&&(clockseq=clockseq+1&16383),(dt<0||msecs>_lastMSecs)&&void 0===options.nsecs&&(nsecs=0),nsecs>=1e4)throw new Error(\"uuid.v1(): Can't create more than 10M uuids/sec\");_lastMSecs=msecs,_lastNSecs=nsecs,_clockseq=clockseq;var tl=(1e4*(268435455&(msecs+=122192928e5))+nsecs)%4294967296;b[i++]=tl>>>24&255,b[i++]=tl>>>16&255,b[i++]=tl>>>8&255,b[i++]=255&tl;var tmh=msecs/4294967296*1e4&268435455;b[i++]=tmh>>>8&255,b[i++]=255&tmh,b[i++]=tmh>>>24&15|16,b[i++]=tmh>>>16&255,b[i++]=clockseq>>>8|128,b[i++]=255&clockseq;for(var n=0;n<6;++n)b[i+n]=node[n];return buf||bytesToUuid(b)}},function(module,exports,__nested_webpack_require_118683__){var rng=__nested_webpack_require_118683__(16),bytesToUuid=__nested_webpack_require_118683__(17);module.exports=function(options,buf,offset){var i=buf&&offset||0;\"string\"==typeof options&&(buf=\"binary\"===options?new Array(16):null,options=null);var rnds=(options=options||{}).random||(options.rng||rng)();if(rnds[6]=15&rnds[6]|64,rnds[8]=63&rnds[8]|128,buf)for(var ii=0;ii<16;++ii)buf[i+ii]=rnds[ii];return buf||bytesToUuid(rnds)}},function(module,exports,__nested_webpack_require_119131__){\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:!0});var EventBus_1=__nested_webpack_require_119131__(35);exports.EventBus=EventBus_1.EventBus},function(module,exports,__nested_webpack_require_119321__){\"use strict\";var __assign=this&&this.__assign||function(){return(__assign=Object.assign||function(t){for(var s,i=1,n=arguments.length;i<n;i++)for(var p in s=arguments[i])Object.prototype.hasOwnProperty.call(s,p)&&(t[p]=s[p]);return t}).apply(this,arguments)};Object.defineProperty(exports,\"__esModule\",{value:!0});var uuid_1=__nested_webpack_require_119321__(15),EventBus=function(){return function(){var _this=this;this.addEventHandler=function(name,handler){var savedEventHandlers=_this.savedEventHandlersMap[name];savedEventHandlers||(savedEventHandlers=[]),savedEventHandlers.push(handler),_this.savedEventHandlersMap[name]=savedEventHandlers},this.removeEventHandler=function(name,handler){var savedEventHandlers=_this.savedEventHandlersMap[name];savedEventHandlers&&(_this.savedEventHandlersMap[name]=savedEventHandlers.filter(function(savedEventHandler){return savedEventHandler!==handler}))},this.dispatchEvent=function(name,payload){var eventId=payload.eventId||uuid_1.v4(),savedEventHandlers=_this.savedEventHandlersMap[name];return savedEventHandlers?(savedEventHandlers.forEach(function(element){\"function\"==typeof element&&setTimeout(function(){element(__assign(__assign({},payload),{eventId:eventId}))},0)}),eventId):eventId},this.savedEventHandlersMap={}}}();exports.EventBus=EventBus},function(module,exports,__nested_webpack_require_120653__){\"use strict\";var __assign=this&&this.__assign||function(){return(__assign=Object.assign||function(t){for(var s,i=1,n=arguments.length;i<n;i++)for(var p in s=arguments[i])Object.prototype.hasOwnProperty.call(s,p)&&(t[p]=s[p]);return t}).apply(this,arguments)},__awaiter=this&&this.__awaiter||function(thisArg,_arguments,P,generator){return new(P||(P=Promise))(function(resolve,reject){function fulfilled(value){try{step(generator.next(value))}catch(e){reject(e)}}function rejected(value){try{step(generator.throw(value))}catch(e){reject(e)}}function step(result){result.done?resolve(result.value):function(value){return value instanceof P?value:new P(function(resolve){resolve(value)})}(result.value).then(fulfilled,rejected)}step((generator=generator.apply(thisArg,_arguments||[])).next())})},__generator=this&&this.__generator||function(thisArg,body){var f,y,t,g,_={label:0,sent:function(){if(1&t[0])throw t[1];return t[1]},trys:[],ops:[]};return g={next:verb(0),throw:verb(1),return:verb(2)},\"function\"==typeof Symbol&&(g[Symbol.iterator]=function(){return this}),g;function verb(n){return function(v){return function(op){if(f)throw new TypeError(\"Generator is already executing.\");for(;_;)try{if(f=1,y&&(t=2&op[0]?y.return:op[0]?y.throw||((t=y.return)&&t.call(y),0):y.next)&&!(t=t.call(y,op[1])).done)return t;switch(y=0,t&&(op=[2&op[0],t.value]),op[0]){case 0:case 1:t=op;break;case 4:return _.label++,{value:op[1],done:!1};case 5:_.label++,y=op[1],op=[0];continue;case 7:op=_.ops.pop(),_.trys.pop();continue;default:if(!(t=(t=_.trys).length>0&&t[t.length-1])&&(6===op[0]||2===op[0])){_=0;continue}if(3===op[0]&&(!t||op[1]>t[0]&&op[1]<t[3])){_.label=op[1];break}if(6===op[0]&&_.label<t[1]){_.label=t[1],t=op;break}if(t&&_.label<t[2]){_.label=t[2],_.ops.push(op);break}t[2]&&_.ops.pop(),_.trys.pop();continue}op=body.call(thisArg,_)}catch(e){op=[6,e],y=0}finally{f=t=0}if(5&op[0])throw op[1];return{value:op[0]?op[1]:void 0,done:!0}}([n,v])}}};Object.defineProperty(exports,\"__esModule\",{value:!0});var Data_1=__nested_webpack_require_120653__(4),ApiClient_1=__nested_webpack_require_120653__(28),CONSTANTS=__nested_webpack_require_120653__(1),Api=function(){function Api(eventBus,data,apiClient){void 0===data&&(data=new Data_1.Data),void 0===apiClient&&(apiClient=new ApiClient_1.ApiClient),this.eventBus=eventBus,this.data=data,this.apiClient=apiClient}return Api.prototype.checkDevice=function(){return __awaiter(this,void 0,void 0,function(){var params;return __generator(this,function(_a){switch(_a.label){case 0:return[4,this.getRequestParams()];case 1:return params=_a.sent(),[4,this.apiClient.checkDevice(params)];case 2:return[2,_a.sent()]}})})},Api.prototype.checkDeviceSubscribeForPushNotifications=function(useCache){return void 0===useCache&&(useCache=!0),__awaiter(this,void 0,void 0,function(){var status,_a,exist,push_token_exist;return __generator(this,function(_b){switch(_b.label){case 0:return void 0!==(status=localStorage.getItem(CONSTANTS.KEY_DEVICE_REGISTRATION_STATUS))&&useCache?[3,2]:[4,this.checkDevice()];case 1:_a=_b.sent(),exist=_a.exist,push_token_exist=_a.push_token_exist,localStorage.setItem(CONSTANTS.KEY_DEVICE_REGISTRATION_STATUS,exist&&push_token_exist?CONSTANTS.DEVICE_REGISTRATION_STATUS_REGISTERED:CONSTANTS.DEVICE_REGISTRATION_STATUS_UNREGISTERED),status=localStorage.getItem(CONSTANTS.KEY_DEVICE_REGISTRATION_STATUS),_b.label=2;case 2:return[2,status===CONSTANTS.DEVICE_REGISTRATION_STATUS_REGISTERED]}})})},Api.prototype.getConfig=function(features){return __awaiter(this,void 0,void 0,function(){var params;return __generator(this,function(_a){switch(_a.label){case 0:return[4,this.getRequestParams()];case 1:return params=_a.sent(),[2,this.apiClient.getConfig(__assign(__assign({},params),{features:features}))]}})})},Api.prototype.applicationOpen=function(){return __awaiter(this,void 0,void 0,function(){var params;return __generator(this,function(_a){switch(_a.label){case 0:return[4,this.getRequestParams()];case 1:return params=_a.sent(),[4,this.data.setLastOpenApplicationTime(Date.now())];case 2:return _a.sent(),[2,this.apiClient.applicationOpen(params)]}})})},Api.prototype.registerDevice=function(){return __awaiter(this,void 0,void 0,function(){var params,tokens,response;return __generator(this,function(_a){switch(_a.label){case 0:return[4,this.data.getStatusCommunicationDisabled()];case 1:if(_a.sent())throw new Error(\"Can't register device: Communication is disabled!\");return[4,this.getRequestParams()];case 2:return params=_a.sent(),[4,this.data.getTokens()];case 3:if(!(tokens=_a.sent()).pushToken)throw new Error(\"Can't register device: pushToken is not exist!\");return[4,this.apiClient.registerDevice(__assign(__assign({},params),{push_token:tokens.pushToken,auth_token:tokens.authToken,public_key:tokens.publicKey,fcm_push_set:tokens.fcmPushSet,fcm_token:tokens.fcmToken}))];case 4:return response=_a.sent(),[4,this.data.setStatusManualUnsubscribed(!1)];case 5:return _a.sent(),localStorage.setItem(CONSTANTS.KEY_DEVICE_REGISTRATION_STATUS,CONSTANTS.DEVICE_REGISTRATION_STATUS_REGISTERED),this.eventBus.dispatchEvent(\"register\",{}),[2,response]}})})},Api.prototype.unregisterDevice=function(){return __awaiter(this,void 0,void 0,function(){var params,response;return __generator(this,function(_a){switch(_a.label){case 0:return[4,this.getRequestParams()];case 1:return params=_a.sent(),response=this.apiClient.unregisterDevice(params),localStorage.setItem(CONSTANTS.KEY_DEVICE_REGISTRATION_STATUS,CONSTANTS.DEVICE_REGISTRATION_STATUS_UNREGISTERED),this.eventBus.dispatchEvent(\"unsubscribe\",{}),[2,response]}})})},Api.prototype.deleteDevice=function(){return __awaiter(this,void 0,void 0,function(){var params,response;return __generator(this,function(_a){switch(_a.label){case 0:return[4,this.getRequestParams()];case 1:return params=_a.sent(),response=this.apiClient.deleteDevice(params),[4,this.data.setStatusManualUnsubscribed(!0)];case 2:return _a.sent(),localStorage.setItem(CONSTANTS.KEY_DEVICE_REGISTRATION_STATUS,CONSTANTS.DEVICE_REGISTRATION_STATUS_UNREGISTERED),this.eventBus.dispatchEvent(\"unsubscribe\",{}),[2,response]}})})},Api.prototype.messageDeliveryEvent=function(hash,isTrackingLogOnFailure){return __awaiter(this,void 0,void 0,function(){var startTime,params,error_1;return __generator(this,function(_a){switch(_a.label){case 0:return startTime=Math.round(+new Date),[4,this.getRequestParams()];case 1:params=_a.sent(),_a.label=2;case 2:return _a.trys.push([2,4,,5]),[4,this.apiClient.messageDeliveryEvent(__assign(__assign({},params),{hash:hash}))];case 3:return[2,_a.sent()];case 4:throw error_1=_a.sent(),isTrackingLogOnFailure&&this.trackLog(\"messageDeliveryEvent\",__assign(__assign({},params),{hash:hash}),{startTime:startTime,error:error_1}),error_1;case 5:return[2]}})})},Api.prototype.pushStat=function(hash,isTrackingLogOnFailure,metaData){return void 0===metaData&&(metaData={}),__awaiter(this,void 0,void 0,function(){var startTime,params,error_2;return __generator(this,function(_a){switch(_a.label){case 0:return startTime=Math.round(+new Date),[4,this.getRequestParams()];case 1:params=_a.sent(),_a.label=2;case 2:return _a.trys.push([2,4,,5]),[4,this.apiClient.pushStat(__assign(__assign({},params),{hash:hash,metaData:metaData}))];case 3:return[2,_a.sent()];case 4:throw error_2=_a.sent(),isTrackingLogOnFailure&&this.trackLog(\"pushStat\",__assign(__assign({},params),{hash:hash,metaData:metaData}),{startTime:startTime,error:error_2}),error_2;case 5:return[2]}})})},Api.prototype.setTags=function(tags){return __awaiter(this,void 0,void 0,function(){var params;return __generator(this,function(_a){switch(_a.label){case 0:return[4,this.getRequestParams()];case 1:return params=_a.sent(),[2,this.apiClient.setTags(__assign(__assign({},params),{tags:tags}))]}})})},Api.prototype.getTags=function(){return __awaiter(this,void 0,void 0,function(){var params;return __generator(this,function(_a){switch(_a.label){case 0:return[4,this.getRequestParams()];case 1:return params=_a.sent(),[2,this.apiClient.getTags(params)]}})})},Api.prototype.registerUser=function(userId){return __awaiter(this,void 0,void 0,function(){var params,deviceType,id,response;return __generator(this,function(_a){switch(_a.label){case 0:return[4,this.getRequestParams()];case 1:return params=_a.sent(),[4,this.data.getDeviceType()];case 2:return deviceType=_a.sent(),id=\"\"+userId,[4,this.apiClient.registerUser(__assign(__assign({},params),{userId:id,ts_offset:60*-(new Date).getTimezoneOffset(),device_type:deviceType}))];case 3:return response=_a.sent(),[4,this.data.setUserId(\"\"+userId)];case 4:return _a.sent(),[4,this.data.setStatusUserIdWasChanged(!0)];case 5:return _a.sent(),[2,response]}})})},Api.prototype.postEvent=function(event,attributes){return __awaiter(this,void 0,void 0,function(){var params,date,time,timestampUTC,timestampCurrent,lastOpenMessage,response;return __generator(this,function(_a){switch(_a.label){case 0:return[4,this.getRequestParams()];case 1:return params=_a.sent(),date=new Date,time=date.getTime(),timestampUTC=Math.floor(time/1e3),timestampCurrent=timestampUTC-date.getTimezoneOffset()/60*3600,[4,this.data.getLastOpenMessage()];case 2:if((lastOpenMessage=_a.sent())&&lastOpenMessage.expiry>Date.now()){if(attributes.msgHash)return[2,Promise.reject(\"attribute msgHash already defined\")];attributes=__assign(__assign({},attributes),{msgHash:lastOpenMessage.messageHash})}return[4,this.data.setLastOpenMessage(void 0)];case 3:return _a.sent(),[4,this.apiClient.postEvent(__assign(__assign({},params),{event:event,timestampUTC:timestampUTC,timestampCurrent:timestampCurrent,attributes:attributes}))];case 4:return(response=_a.sent())&&response.code&&this.eventBus.dispatchEvent(\"receive-in-app-code\",{code:response.code}),[2,response]}})})},Api.prototype.getInboxMessages=function(count){return void 0===count&&(count=0),__awaiter(this,void 0,void 0,function(){var params,lastCode,lastRequestTime;return __generator(this,function(_a){switch(_a.label){case 0:return[4,this.getRequestParams()];case 1:return params=_a.sent(),[4,this.data.getInboxLastRequestCode()];case 2:return lastCode=_a.sent(),[4,this.data.getInboxLastRequestTime()];case 3:return lastRequestTime=_a.sent(),[2,this.apiClient.getInboxMessages(__assign(__assign({},params),{count:count,last_code:lastCode,last_request_time:lastRequestTime}))]}})})},Api.prototype.inboxStatus=function(order,status){return __awaiter(this,void 0,void 0,function(){var params;return __generator(this,function(_a){switch(_a.label){case 0:return[4,this.getRequestParams()];case 1:return params=_a.sent(),[2,this.apiClient.inboxStatus(__assign(__assign({},params),{inbox_code:order,status:status,time:(new Date).getTime()}))]}})})},Api.prototype.triggerEvent=function(){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(_a){throw new Error(\"Method has been deprecated, because we don't aggregate this statistics.\")})})},Api.prototype.pageVisit=function(config){return __awaiter(this,void 0,void 0,function(){var params,features,url;return __generator(this,function(_a){switch(_a.label){case 0:return[4,this.getRequestParams()];case 1:return params=_a.sent(),[4,this.data.getFeatures()];case 2:return features=_a.sent(),(url=features&&features.page_visit&&features.page_visit.entrypoint)?[2,this.apiClient.pageVisit(__assign(__assign({},params),config),url)]:[2]}})})},Api.prototype.getInApps=function(){return __awaiter(this,void 0,void 0,function(){var params;return __generator(this,function(_a){switch(_a.label){case 0:return[4,this.getRequestParams()];case 1:return params=_a.sent(),[2,this.apiClient.getInApps(params)]}})})},Api.prototype.setPurchase=function(attributes){return __awaiter(this,void 0,void 0,function(){var params;return __generator(this,function(_a){switch(_a.label){case 0:return[4,this.getRequestParams()];case 1:return params=_a.sent(),[2,this.apiClient.setPurchase(__assign(__assign({},params),attributes))]}})})},Api.prototype.getParams=function(){return __awaiter(this,void 0,void 0,function(){var applicationCode,hwid,apiParams,initParams;return __generator(this,function(_a){switch(_a.label){case 0:return[4,this.data.getApplicationCode()];case 1:return applicationCode=_a.sent(),[4,this.data.getHwid()];case 2:return hwid=_a.sent(),[4,this.data.getTokens()];case 3:return apiParams=_a.sent(),[4,this.data.getInitParams()];case 4:return initParams=_a.sent(),[2,__assign(__assign({applicationCode:applicationCode,hwid:hwid},apiParams),initParams)]}})})},Object.defineProperty(Api.prototype,\"params\",{get:function(){throw new Error('Property \"Pushwoosh.api.params\" have been deprecated. Use the async method \"Pushwoosh.api.getParams()\"')},enumerable:!0,configurable:!0}),Api.prototype.getRequestParams=function(){return __awaiter(this,void 0,void 0,function(){var applicationCode,hwid,userId,deviceType,deviceModel,language,version,timezone;return __generator(this,function(_a){switch(_a.label){case 0:return[4,this.data.getApplicationCode()];case 1:return applicationCode=_a.sent(),[4,this.data.getHwid()];case 2:return hwid=_a.sent(),[4,this.data.getUserId()];case 3:return userId=_a.sent(),[4,this.data.getDeviceType()];case 4:return deviceType=_a.sent(),[4,this.data.getDeviceModel()];case 5:return deviceModel=_a.sent(),[4,this.data.getLanguage()];case 6:return language=_a.sent(),[4,this.data.getSdkVersion()];case 7:return version=_a.sent(),timezone=60*-(new Date).getTimezoneOffset(),[2,{application:applicationCode,hwid:hwid,userId:userId||hwid,device_type:deviceType,device_model:deviceModel,timezone:timezone,language:language,v:version}]}})})},Api.prototype.trackLog=function(method,payload,others){return __awaiter(this,void 0,void 0,function(){var endTime,entrypoint;return __generator(this,function(_a){switch(_a.label){case 0:return endTime=Math.round(+new Date),[4,this.data.getApiEntrypoint()];case 1:return entrypoint=_a.sent(),fetch(\"https://post-log.pushwoosh.com/websdk\",{method:\"POST\",headers:{\"Content-Type\":\"text/plain;charset=UTF-8\"},body:JSON.stringify({payload:payload,startTime:others.startTime,endTime:endTime,executionTime:endTime-others.startTime,error:{code:others.error.code,message:others.error.message},method:method,entrypoint:entrypoint,location:{hostname:self.location.hostname,origin:self.location.origin,pathname:self.location.pathname},type:\"websdk\"})}),[2]}})})},Api}();exports.Api=Api},function(module,exports,__nested_webpack_require_135002__){\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:!0});var initial_1=__nested_webpack_require_135002__(38),_26_11_2018_1=__nested_webpack_require_135002__(39),DateModule_1=__nested_webpack_require_135002__(6),Migrations=function(){function Migrations(dateModule){void 0===dateModule&&(dateModule=new DateModule_1.default),this.migrations={initial:initial_1.default,\"2018/11/26\":_26_11_2018_1.default},this.dateModule=dateModule}return Object.defineProperty(Migrations.prototype,\"initial\",{get:function(){return this.migrations.initial},enumerable:!0,configurable:!0}),Object.defineProperty(Migrations.prototype,\"dateSorted\",{get:function(){var _this=this;return Object.keys(this.migrations).filter(function(key){return\"initial\"!==key}).sort(function(a,b){var dateA=new DateModule_1.default(new Date(a)),dateB=new DateModule_1.default(new Date(b));return dateA.getTimestamp()-dateB.getTimestamp()}).map(function(key){return _this.migrations[key]})},enumerable:!0,configurable:!0}),Migrations}();exports.default=Migrations},function(module,exports,__nested_webpack_require_136040__){\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:!0});var helpers_1=__nested_webpack_require_136040__(20),constants_1=__nested_webpack_require_136040__(9);exports.default=[helpers_1.storeCreatorDecorator(constants_1.STORE_NAME_KEY_VALUE,function(database){database.createObjectStore(constants_1.STORE_NAME_KEY_VALUE,{keyPath:\"key\"})}),helpers_1.storeCreatorDecorator(constants_1.STORE_NAME_MAIN_LOG,function(database){var logStore=database.createObjectStore(constants_1.STORE_NAME_MAIN_LOG,{keyPath:constants_1.KEY_PATH_BASE_INCREMENT,autoIncrement:!0});logStore.createIndex(\"environment\",\"environment\",{unique:!1}),logStore.createIndex(\"date\",\"date\",{unique:!1}),logStore.createIndex(\"type\",\"type\",{unique:!1})}),helpers_1.storeCreatorDecorator(constants_1.STORE_NAME_MESSAGE_LOG,function(database){database.createObjectStore(constants_1.STORE_NAME_MESSAGE_LOG,{keyPath:constants_1.KEY_PATH_BASE_INCREMENT,autoIncrement:!0}).createIndex(\"date\",\"date\",{unique:!1})})]},function(module,exports,__nested_webpack_require_137040__){\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:!0});var helpers_1=__nested_webpack_require_137040__(20),constants_1=__nested_webpack_require_137040__(9);exports.default=[helpers_1.storeCreatorDecorator(constants_1.STORE_NAME_INBOX_MESSAGES,function(database){var store=database.createObjectStore(constants_1.STORE_NAME_INBOX_MESSAGES,{keyPath:\"inbox_id\",autoIncrement:!1});store.createIndex(\"status\",\"status\",{unique:!1,multiEntry:!0}),store.createIndex(\"rt\",\"rt\",{unique:!1,multiEntry:!0})})]},function(module,exports,__webpack_require__){\"use strict\";var ReflectOwnKeys,R=\"object\"==typeof Reflect?Reflect:null,ReflectApply=R&&\"function\"==typeof R.apply?R.apply:function(target,receiver,args){return Function.prototype.apply.call(target,receiver,args)};ReflectOwnKeys=R&&\"function\"==typeof R.ownKeys?R.ownKeys:Object.getOwnPropertySymbols?function(target){return Object.getOwnPropertyNames(target).concat(Object.getOwnPropertySymbols(target))}:function(target){return Object.getOwnPropertyNames(target)};var NumberIsNaN=Number.isNaN||function(value){return value!=value};function EventEmitter(){EventEmitter.init.call(this)}module.exports=EventEmitter,module.exports.once=function(emitter,name){return new Promise(function(resolve,reject){function errorListener(err){emitter.removeListener(name,resolver),reject(err)}function resolver(){\"function\"==typeof emitter.removeListener&&emitter.removeListener(\"error\",errorListener),resolve([].slice.call(arguments))}eventTargetAgnosticAddListener(emitter,name,resolver,{once:!0}),\"error\"!==name&&function(emitter,handler,flags){\"function\"==typeof emitter.on&&eventTargetAgnosticAddListener(emitter,\"error\",handler,flags)}(emitter,errorListener,{once:!0})})},EventEmitter.EventEmitter=EventEmitter,EventEmitter.prototype._events=void 0,EventEmitter.prototype._eventsCount=0,EventEmitter.prototype._maxListeners=void 0;var defaultMaxListeners=10;function checkListener(listener){if(\"function\"!=typeof listener)throw new TypeError('The \"listener\" argument must be of type Function. Received type '+typeof listener)}function _getMaxListeners(that){return void 0===that._maxListeners?EventEmitter.defaultMaxListeners:that._maxListeners}function _addListener(target,type,listener,prepend){var m,events,existing;if(checkListener(listener),void 0===(events=target._events)?(events=target._events=Object.create(null),target._eventsCount=0):(void 0!==events.newListener&&(target.emit(\"newListener\",type,listener.listener?listener.listener:listener),events=target._events),existing=events[type]),void 0===existing)existing=events[type]=listener,++target._eventsCount;else if(\"function\"==typeof existing?existing=events[type]=prepend?[listener,existing]:[existing,listener]:prepend?existing.unshift(listener):existing.push(listener),(m=_getMaxListeners(target))>0&&existing.length>m&&!existing.warned){existing.warned=!0;var w=new Error(\"Possible EventEmitter memory leak detected. \"+existing.length+\" \"+String(type)+\" listeners added. Use emitter.setMaxListeners() to increase limit\");w.name=\"MaxListenersExceededWarning\",w.emitter=target,w.type=type,w.count=existing.length,function(warning){console&&console.warn&&console.warn(warning)}(w)}return target}function _onceWrap(target,type,listener){var state={fired:!1,wrapFn:void 0,target:target,type:type,listener:listener},wrapped=function(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}.bind(state);return wrapped.listener=listener,state.wrapFn=wrapped,wrapped}function _listeners(target,type,unwrap){var events=target._events;if(void 0===events)return[];var evlistener=events[type];return void 0===evlistener?[]:\"function\"==typeof evlistener?unwrap?[evlistener.listener||evlistener]:[evlistener]:unwrap?function(arr){for(var ret=new Array(arr.length),i=0;i<ret.length;++i)ret[i]=arr[i].listener||arr[i];return ret}(evlistener):arrayClone(evlistener,evlistener.length)}function listenerCount(type){var events=this._events;if(void 0!==events){var evlistener=events[type];if(\"function\"==typeof evlistener)return 1;if(void 0!==evlistener)return evlistener.length}return 0}function arrayClone(arr,n){for(var copy=new Array(n),i=0;i<n;++i)copy[i]=arr[i];return copy}function eventTargetAgnosticAddListener(emitter,name,listener,flags){if(\"function\"==typeof emitter.on)flags.once?emitter.once(name,listener):emitter.on(name,listener);else{if(\"function\"!=typeof emitter.addEventListener)throw new TypeError('The \"emitter\" argument must be of type EventEmitter. Received type '+typeof emitter);emitter.addEventListener(name,function wrapListener(arg){flags.once&&emitter.removeEventListener(name,wrapListener),listener(arg)})}}Object.defineProperty(EventEmitter,\"defaultMaxListeners\",{enumerable:!0,get:function(){return defaultMaxListeners},set:function(arg){if(\"number\"!=typeof arg||arg<0||NumberIsNaN(arg))throw new RangeError('The value of \"defaultMaxListeners\" is out of range. It must be a non-negative number. Received '+arg+\".\");defaultMaxListeners=arg}}),EventEmitter.init=function(){void 0!==this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},EventEmitter.prototype.setMaxListeners=function(n){if(\"number\"!=typeof n||n<0||NumberIsNaN(n))throw new RangeError('The value of \"n\" is out of range. It must be a non-negative number. Received '+n+\".\");return this._maxListeners=n,this},EventEmitter.prototype.getMaxListeners=function(){return _getMaxListeners(this)},EventEmitter.prototype.emit=function(type){for(var args=[],i=1;i<arguments.length;i++)args.push(arguments[i]);var doError=\"error\"===type,events=this._events;if(void 0!==events)doError=doError&&void 0===events.error;else if(!doError)return!1;if(doError){var er;if(args.length>0&&(er=args[0]),er instanceof Error)throw er;var err=new Error(\"Unhandled error.\"+(er?\" (\"+er.message+\")\":\"\"));throw err.context=er,err}var handler=events[type];if(void 0===handler)return!1;if(\"function\"==typeof handler)ReflectApply(handler,this,args);else{var len=handler.length,listeners=arrayClone(handler,len);for(i=0;i<len;++i)ReflectApply(listeners[i],this,args)}return!0},EventEmitter.prototype.addListener=function(type,listener){return _addListener(this,type,listener,!1)},EventEmitter.prototype.on=EventEmitter.prototype.addListener,EventEmitter.prototype.prependListener=function(type,listener){return _addListener(this,type,listener,!0)},EventEmitter.prototype.once=function(type,listener){return checkListener(listener),this.on(type,_onceWrap(this,type,listener)),this},EventEmitter.prototype.prependOnceListener=function(type,listener){return checkListener(listener),this.prependListener(type,_onceWrap(this,type,listener)),this},EventEmitter.prototype.removeListener=function(type,listener){var list,events,position,i,originalListener;if(checkListener(listener),void 0===(events=this._events))return this;if(void 0===(list=events[type]))return this;if(list===listener||list.listener===listener)0==--this._eventsCount?this._events=Object.create(null):(delete events[type],events.removeListener&&this.emit(\"removeListener\",type,list.listener||listener));else if(\"function\"!=typeof list){for(position=-1,i=list.length-1;i>=0;i--)if(list[i]===listener||list[i].listener===listener){originalListener=list[i].listener,position=i;break}if(position<0)return this;0===position?list.shift():function(list,index){for(;index+1<list.length;index++)list[index]=list[index+1];list.pop()}(list,position),1===list.length&&(events[type]=list[0]),void 0!==events.removeListener&&this.emit(\"removeListener\",type,originalListener||listener)}return this},EventEmitter.prototype.off=EventEmitter.prototype.removeListener,EventEmitter.prototype.removeAllListeners=function(type){var listeners,events,i;if(void 0===(events=this._events))return this;if(void 0===events.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==events[type]&&(0==--this._eventsCount?this._events=Object.create(null):delete events[type]),this;if(0===arguments.length){var key,keys=Object.keys(events);for(i=0;i<keys.length;++i)\"removeListener\"!==(key=keys[i])&&this.removeAllListeners(key);return this.removeAllListeners(\"removeListener\"),this._events=Object.create(null),this._eventsCount=0,this}if(\"function\"==typeof(listeners=events[type]))this.removeListener(type,listeners);else if(void 0!==listeners)for(i=listeners.length-1;i>=0;i--)this.removeListener(type,listeners[i]);return this},EventEmitter.prototype.listeners=function(type){return _listeners(this,type,!0)},EventEmitter.prototype.rawListeners=function(type){return _listeners(this,type,!1)},EventEmitter.listenerCount=function(emitter,type){return\"function\"==typeof emitter.listenerCount?emitter.listenerCount(type):listenerCount.call(emitter,type)},EventEmitter.prototype.listenerCount=listenerCount,EventEmitter.prototype.eventNames=function(){return this._eventsCount>0?ReflectOwnKeys(this._events):[]}},function(module,exports,__nested_webpack_require_146142__){(exports=module.exports=__nested_webpack_require_146142__(52)).Stream=exports,exports.Readable=exports,exports.Writable=__nested_webpack_require_146142__(42),exports.Duplex=__nested_webpack_require_146142__(12),exports.Transform=__nested_webpack_require_146142__(57),exports.PassThrough=__nested_webpack_require_146142__(95)},function(module,exports,__nested_webpack_require_146443__){\"use strict\";(function(process,setImmediate,global){var pna=__nested_webpack_require_146443__(29);function CorkedRequest(state){var _this=this;this.next=null,this.entry=null,this.finish=function(){!function(corkReq,state,err){var entry=corkReq.entry;corkReq.entry=null;for(;entry;){var cb=entry.callback;state.pendingcb--,cb(err),entry=entry.next}state.corkedRequestsFree?state.corkedRequestsFree.next=corkReq:state.corkedRequestsFree=corkReq}(_this,state)}}module.exports=Writable;var Duplex,asyncWrite=!process.browser&&[\"v0.10\",\"v0.9.\"].indexOf(process.version.slice(0,5))>-1?setImmediate:pna.nextTick;Writable.WritableState=WritableState;var util=Object.create(__nested_webpack_require_146443__(25));util.inherits=__nested_webpack_require_146443__(14);var internalUtil={deprecate:__nested_webpack_require_146443__(94)},Stream=__nested_webpack_require_146443__(53),Buffer=__nested_webpack_require_146443__(30).Buffer,OurUint8Array=global.Uint8Array||function(){};var realHasInstance,destroyImpl=__nested_webpack_require_146443__(54);function nop(){}function WritableState(options,stream){Duplex=Duplex||__nested_webpack_require_146443__(12),options=options||{};var isDuplex=stream instanceof Duplex;this.objectMode=!!options.objectMode,isDuplex&&(this.objectMode=this.objectMode||!!options.writableObjectMode);var hwm=options.highWaterMark,writableHwm=options.writableHighWaterMark,defaultHwm=this.objectMode?16:16384;this.highWaterMark=hwm||0===hwm?hwm:isDuplex&&(writableHwm||0===writableHwm)?writableHwm:defaultHwm,this.highWaterMark=Math.floor(this.highWaterMark),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var noDecode=!1===options.decodeStrings;this.decodeStrings=!noDecode,this.defaultEncoding=options.defaultEncoding||\"utf8\",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(er){!function(stream,er){var state=stream._writableState,sync=state.sync,cb=state.writecb;if(function(state){state.writing=!1,state.writecb=null,state.length-=state.writelen,state.writelen=0}(state),er)!function(stream,state,sync,er,cb){--state.pendingcb,sync?(pna.nextTick(cb,er),pna.nextTick(finishMaybe,stream,state),stream._writableState.errorEmitted=!0,stream.emit(\"error\",er)):(cb(er),stream._writableState.errorEmitted=!0,stream.emit(\"error\",er),finishMaybe(stream,state))}(stream,state,sync,er,cb);else{var finished=needFinish(state);finished||state.corked||state.bufferProcessing||!state.bufferedRequest||clearBuffer(stream,state),sync?asyncWrite(afterWrite,stream,state,finished,cb):afterWrite(stream,state,finished,cb)}}(stream,er)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.bufferedRequestCount=0,this.corkedRequestsFree=new CorkedRequest(this)}function Writable(options){if(Duplex=Duplex||__nested_webpack_require_146443__(12),!(realHasInstance.call(Writable,this)||this instanceof Duplex))return new Writable(options);this._writableState=new WritableState(options,this),this.writable=!0,options&&(\"function\"==typeof options.write&&(this._write=options.write),\"function\"==typeof options.writev&&(this._writev=options.writev),\"function\"==typeof options.destroy&&(this._destroy=options.destroy),\"function\"==typeof options.final&&(this._final=options.final)),Stream.call(this)}function doWrite(stream,state,writev,len,chunk,encoding,cb){state.writelen=len,state.writecb=cb,state.writing=!0,state.sync=!0,writev?stream._writev(chunk,state.onwrite):stream._write(chunk,encoding,state.onwrite),state.sync=!1}function afterWrite(stream,state,finished,cb){finished||function(stream,state){0===state.length&&state.needDrain&&(state.needDrain=!1,stream.emit(\"drain\"))}(stream,state),state.pendingcb--,cb(),finishMaybe(stream,state)}function clearBuffer(stream,state){state.bufferProcessing=!0;var entry=state.bufferedRequest;if(stream._writev&&entry&&entry.next){var l=state.bufferedRequestCount,buffer=new Array(l),holder=state.corkedRequestsFree;holder.entry=entry;for(var count=0,allBuffers=!0;entry;)buffer[count]=entry,entry.isBuf||(allBuffers=!1),entry=entry.next,count+=1;buffer.allBuffers=allBuffers,doWrite(stream,state,!0,state.length,buffer,\"\",holder.finish),state.pendingcb++,state.lastBufferedRequest=null,holder.next?(state.corkedRequestsFree=holder.next,holder.next=null):state.corkedRequestsFree=new CorkedRequest(state),state.bufferedRequestCount=0}else{for(;entry;){var chunk=entry.chunk,encoding=entry.encoding,cb=entry.callback;if(doWrite(stream,state,!1,state.objectMode?1:chunk.length,chunk,encoding,cb),entry=entry.next,state.bufferedRequestCount--,state.writing)break}null===entry&&(state.lastBufferedRequest=null)}state.bufferedRequest=entry,state.bufferProcessing=!1}function needFinish(state){return state.ending&&0===state.length&&null===state.bufferedRequest&&!state.finished&&!state.writing}function callFinal(stream,state){stream._final(function(err){state.pendingcb--,err&&stream.emit(\"error\",err),state.prefinished=!0,stream.emit(\"prefinish\"),finishMaybe(stream,state)})}function finishMaybe(stream,state){var need=needFinish(state);return need&&(!function(stream,state){state.prefinished||state.finalCalled||(\"function\"==typeof stream._final?(state.pendingcb++,state.finalCalled=!0,pna.nextTick(callFinal,stream,state)):(state.prefinished=!0,stream.emit(\"prefinish\")))}(stream,state),0===state.pendingcb&&(state.finished=!0,stream.emit(\"finish\"))),need}util.inherits(Writable,Stream),WritableState.prototype.getBuffer=function(){for(var current=this.bufferedRequest,out=[];current;)out.push(current),current=current.next;return out},function(){try{Object.defineProperty(WritableState.prototype,\"buffer\",{get:internalUtil.deprecate(function(){return this.getBuffer()},\"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.\",\"DEP0003\")})}catch(_){}}(),\"function\"==typeof Symbol&&Symbol.hasInstance&&\"function\"==typeof Function.prototype[Symbol.hasInstance]?(realHasInstance=Function.prototype[Symbol.hasInstance],Object.defineProperty(Writable,Symbol.hasInstance,{value:function(object){return!!realHasInstance.call(this,object)||this===Writable&&(object&&object._writableState instanceof WritableState)}})):realHasInstance=function(object){return object instanceof this},Writable.prototype.pipe=function(){this.emit(\"error\",new Error(\"Cannot pipe, not readable\"))},Writable.prototype.write=function(chunk,encoding,cb){var state=this._writableState,ret=!1,isBuf=!state.objectMode&&function(obj){return Buffer.isBuffer(obj)||obj instanceof OurUint8Array}(chunk);return isBuf&&!Buffer.isBuffer(chunk)&&(chunk=function(chunk){return Buffer.from(chunk)}(chunk)),\"function\"==typeof encoding&&(cb=encoding,encoding=null),isBuf?encoding=\"buffer\":encoding||(encoding=state.defaultEncoding),\"function\"!=typeof cb&&(cb=nop),state.ended?function(stream,cb){var er=new Error(\"write after end\");stream.emit(\"error\",er),pna.nextTick(cb,er)}(this,cb):(isBuf||function(stream,state,chunk,cb){var valid=!0,er=!1;return null===chunk?er=new TypeError(\"May not write null values to stream\"):\"string\"==typeof chunk||void 0===chunk||state.objectMode||(er=new TypeError(\"Invalid non-string/buffer chunk\")),er&&(stream.emit(\"error\",er),pna.nextTick(cb,er),valid=!1),valid}(this,state,chunk,cb))&&(state.pendingcb++,ret=function(stream,state,isBuf,chunk,encoding,cb){if(!isBuf){var newChunk=function(state,chunk,encoding){state.objectMode||!1===state.decodeStrings||\"string\"!=typeof chunk||(chunk=Buffer.from(chunk,encoding));return chunk}(state,chunk,encoding);chunk!==newChunk&&(isBuf=!0,encoding=\"buffer\",chunk=newChunk)}var len=state.objectMode?1:chunk.length;state.length+=len;var ret=state.length<state.highWaterMark;ret||(state.needDrain=!0);if(state.writing||state.corked){var last=state.lastBufferedRequest;state.lastBufferedRequest={chunk:chunk,encoding:encoding,isBuf:isBuf,callback:cb,next:null},last?last.next=state.lastBufferedRequest:state.bufferedRequest=state.lastBufferedRequest,state.bufferedRequestCount+=1}else doWrite(stream,state,!1,len,chunk,encoding,cb);return ret}(this,state,isBuf,chunk,encoding,cb)),ret},Writable.prototype.cork=function(){this._writableState.corked++},Writable.prototype.uncork=function(){var state=this._writableState;state.corked&&(state.corked--,state.writing||state.corked||state.finished||state.bufferProcessing||!state.bufferedRequest||clearBuffer(this,state))},Writable.prototype.setDefaultEncoding=function(encoding){if(\"string\"==typeof encoding&&(encoding=encoding.toLowerCase()),!([\"hex\",\"utf8\",\"utf-8\",\"ascii\",\"binary\",\"base64\",\"ucs2\",\"ucs-2\",\"utf16le\",\"utf-16le\",\"raw\"].indexOf((encoding+\"\").toLowerCase())>-1))throw new TypeError(\"Unknown encoding: \"+encoding);return this._writableState.defaultEncoding=encoding,this},Object.defineProperty(Writable.prototype,\"writableHighWaterMark\",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Writable.prototype._write=function(chunk,encoding,cb){cb(new Error(\"_write() is not implemented\"))},Writable.prototype._writev=null,Writable.prototype.end=function(chunk,encoding,cb){var state=this._writableState;\"function\"==typeof chunk?(cb=chunk,chunk=null,encoding=null):\"function\"==typeof encoding&&(cb=encoding,encoding=null),null!==chunk&&void 0!==chunk&&this.write(chunk,encoding),state.corked&&(state.corked=1,this.uncork()),state.ending||state.finished||function(stream,state,cb){state.ending=!0,finishMaybe(stream,state),cb&&(state.finished?pna.nextTick(cb):stream.once(\"finish\",cb));state.ended=!0,stream.writable=!1}(this,state,cb)},Object.defineProperty(Writable.prototype,\"destroyed\",{get:function(){return void 0!==this._writableState&&this._writableState.destroyed},set:function(value){this._writableState&&(this._writableState.destroyed=value)}}),Writable.prototype.destroy=destroyImpl.destroy,Writable.prototype._undestroy=destroyImpl.undestroy,Writable.prototype._destroy=function(err,cb){this.end(),cb(err)}}).call(this,__nested_webpack_require_146443__(24),__nested_webpack_require_146443__(55).setImmediate,__nested_webpack_require_146443__(11))},function(module,exports,__nested_webpack_require_156447__){\"use strict\";var external=__nested_webpack_require_156447__(26),DataWorker=__nested_webpack_require_156447__(61),DataLengthProbe=__nested_webpack_require_156447__(62),Crc32Probe=__nested_webpack_require_156447__(63);DataLengthProbe=__nested_webpack_require_156447__(62);function CompressedObject(compressedSize,uncompressedSize,crc32,compression,data){this.compressedSize=compressedSize,this.uncompressedSize=uncompressedSize,this.crc32=crc32,this.compression=compression,this.compressedContent=data}CompressedObject.prototype={getContentWorker:function(){var worker=new DataWorker(external.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new DataLengthProbe(\"data_length\")),that=this;return worker.on(\"end\",function(){if(this.streamInfo.data_length!==that.uncompressedSize)throw new Error(\"Bug : uncompressed data size mismatch\")}),worker},getCompressedWorker:function(){return new DataWorker(external.Promise.resolve(this.compressedContent)).withStreamInfo(\"compressedSize\",this.compressedSize).withStreamInfo(\"uncompressedSize\",this.uncompressedSize).withStreamInfo(\"crc32\",this.crc32).withStreamInfo(\"compression\",this.compression)}},CompressedObject.createWorkerFrom=function(uncompressedWorker,compression,compressionOptions){return uncompressedWorker.pipe(new Crc32Probe).pipe(new DataLengthProbe(\"uncompressedSize\")).pipe(compression.compressWorker(compressionOptions)).pipe(new DataLengthProbe(\"compressedSize\")).withStreamInfo(\"compression\",compression)},module.exports=CompressedObject},function(module,exports,__nested_webpack_require_157960__){\"use strict\";var utils=__nested_webpack_require_157960__(0);var crcTable=function(){for(var c,table=[],n=0;n<256;n++){c=n;for(var k=0;k<8;k++)c=1&c?3988292384^c>>>1:c>>>1;table[n]=c}return table}();module.exports=function(input,crc){return void 0!==input&&input.length?\"string\"!==utils.getTypeOf(input)?function(crc,buf,len,pos){var t=crcTable,end=pos+len;crc^=-1;for(var i=pos;i<end;i++)crc=crc>>>8^t[255&(crc^buf[i])];return-1^crc}(0|crc,input,input.length,0):function(crc,str,len,pos){var t=crcTable,end=pos+len;crc^=-1;for(var i=pos;i<end;i++)crc=crc>>>8^t[255&(crc^str.charCodeAt(i))];return-1^crc}(0|crc,input,input.length,0):0}},function(module,exports,__webpack_require__){\"use strict\";module.exports={2:\"need dictionary\",1:\"stream end\",0:\"\",\"-1\":\"file error\",\"-2\":\"stream error\",\"-3\":\"data error\",\"-4\":\"insufficient memory\",\"-5\":\"buffer error\",\"-6\":\"incompatible version\"}},function(module,exports,__nested_webpack_require_158874__){\"use strict\";var __awaiter=this&&this.__awaiter||function(thisArg,_arguments,P,generator){return new(P||(P=Promise))(function(resolve,reject){function fulfilled(value){try{step(generator.next(value))}catch(e){reject(e)}}function rejected(value){try{step(generator.throw(value))}catch(e){reject(e)}}function step(result){result.done?resolve(result.value):function(value){return value instanceof P?value:new P(function(resolve){resolve(value)})}(result.value).then(fulfilled,rejected)}step((generator=generator.apply(thisArg,_arguments||[])).next())})},__generator=this&&this.__generator||function(thisArg,body){var f,y,t,g,_={label:0,sent:function(){if(1&t[0])throw t[1];return t[1]},trys:[],ops:[]};return g={next:verb(0),throw:verb(1),return:verb(2)},\"function\"==typeof Symbol&&(g[Symbol.iterator]=function(){return this}),g;function verb(n){return function(v){return function(op){if(f)throw new TypeError(\"Generator is already executing.\");for(;_;)try{if(f=1,y&&(t=2&op[0]?y.return:op[0]?y.throw||((t=y.return)&&t.call(y),0):y.next)&&!(t=t.call(y,op[1])).done)return t;switch(y=0,t&&(op=[2&op[0],t.value]),op[0]){case 0:case 1:t=op;break;case 4:return _.label++,{value:op[1],done:!1};case 5:_.label++,y=op[1],op=[0];continue;case 7:op=_.ops.pop(),_.trys.pop();continue;default:if(!(t=(t=_.trys).length>0&&t[t.length-1])&&(6===op[0]||2===op[0])){_=0;continue}if(3===op[0]&&(!t||op[1]>t[0]&&op[1]<t[3])){_.label=op[1];break}if(6===op[0]&&_.label<t[1]){_.label=t[1],t=op;break}if(t&&_.label<t[2]){_.label=t[2],_.ops.push(op);break}t[2]&&_.ops.pop(),_.trys.pop();continue}op=body.call(thisArg,_)}catch(e){op=[6,e],y=0}finally{f=t=0}if(5&op[0])throw op[1];return{value:op[0]?op[1]:void 0,done:!0}}([n,v])}}};Object.defineProperty(exports,\"__esModule\",{value:!0});var Storage_1=__nested_webpack_require_158874__(47),DateModule_1=__nested_webpack_require_158874__(6),InboxMessagesPublic_1=__nested_webpack_require_158874__(27),InboxMessages=function(){function InboxMessages(eventBus,data,api,storage,dateModule){void 0===storage&&(storage=new Storage_1.default),void 0===dateModule&&(dateModule=new DateModule_1.default),this.eventBus=eventBus,this.data=data,this.api=api,this.storage=storage,this.storeName=\"inboxMessages\",this.dateModule=dateModule}return InboxMessages.prototype.getInboxMessages=function(){return __awaiter(this,void 0,void 0,function(){var response;return __generator(this,function(_a){switch(_a.label){case 0:return[4,this.api.getInboxMessages()];case 1:return response=_a.sent(),[4,this.storeGetInboxMessagesRequestParams(response.next,response.new_inbox)];case 2:return _a.sent(),[2,response]}})})},InboxMessages.prototype.storeGetInboxMessagesRequestParams=function(next,newMessagesCount){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(_a){switch(_a.label){case 0:return this.dateModule.date=new Date,[4,this.data.setInboxLastRequestTime(this.dateModule.getUtcTimestamp())];case 1:return _a.sent(),[4,this.data.setInboxLastRequestCode(next)];case 2:return _a.sent(),[4,this.data.setInboxNewMessagesCount(newMessagesCount)];case 3:return _a.sent(),[2]}})})},InboxMessages.prototype.putServerMessages=function(messages){return __awaiter(this,void 0,void 0,function(){var putTransactions,_this=this;return __generator(this,function(_a){return putTransactions=messages.map(function(message){return __awaiter(_this,void 0,void 0,function(){var localMessage;return __generator(this,function(_a){switch(_a.label){case 0:return[4,this.storage.get(this.storeName,message.inbox_id,{})];case 1:return\"status\"in(localMessage=_a.sent())&&(message.status=localMessage.status),[2,this.putMessage(message)]}})})}),[2,Promise.all(putTransactions)]})})},InboxMessages.prototype.putMessage=function(message){return this.storage.put(this.storeName,message)},InboxMessages.prototype.putBulkMessages=function(messages){var _this=this,putTransactions=messages.map(function(message){return _this.putMessage(message)});return Promise.all(putTransactions)},InboxMessages.prototype.deleteMessages=function(codes){var _this=this,deleteTransactions=codes.map(function(code){return _this.storage.delete(_this.storeName,code)});return Promise.all(deleteTransactions)},InboxMessages.prototype.deleteExpiredMessages=function(){return __awaiter(this,void 0,void 0,function(){var upperBound,allMessages,codesToDelete;return __generator(this,function(_a){switch(_a.label){case 0:return this.dateModule.date=new Date,upperBound=this.dateModule.getTimestamp().toString(),[4,this.storage.getAll(this.storeName)];case 1:return allMessages=_a.sent(),codesToDelete=allMessages.filter(function(msg){return msg.rt>upperBound}).map(function(msg){return msg.inbox_id}),[2,this.deleteMessages(codesToDelete)]}})})},InboxMessages.prototype.getMessage=function(code){return this.storage.get(this.storeName,code)},InboxMessages.prototype.getReadOpenMessages=function(){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(_a){switch(_a.label){case 0:return[4,this.storage.getAll(this.storeName)];case 1:return[2,_a.sent().filter(function(msg){return 2===msg.status||3===msg.status})]}})})},InboxMessages.prototype.getDeliveredMessages=function(){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(_a){switch(_a.label){case 0:return[4,this.storage.getAll(this.storeName)];case 1:return[2,_a.sent().filter(function(msg){return 1===msg.status})]}})})},InboxMessages.prototype.messagesCount=function(){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(_a){return[2,this.storage.count(this.storeName)]})})},InboxMessages.prototype.getDeliveredMessagesCount=function(){return __awaiter(this,void 0,void 0,function(){var deliveredStatus,statusIndexName;return __generator(this,function(_a){return deliveredStatus=1,statusIndexName=\"status\",[2,this.storage.countByIndex(this.storeName,statusIndexName,deliveredStatus)]})})},InboxMessages.prototype.getReadMessagesCount=function(){return __awaiter(this,void 0,void 0,function(){var readStatus,statusIndexName;return __generator(this,function(_a){return readStatus=2,statusIndexName=\"status\",[2,this.storage.countByIndex(this.storeName,statusIndexName,readStatus)]})})},InboxMessages.prototype.getDeliveredReadMessagesCount=function(){return __awaiter(this,void 0,void 0,function(){var _a,readStatus,openStatus,keyRange,statusIndexName;return __generator(this,function(_b){return readStatus=(_a=[2,3])[0],openStatus=_a[1],keyRange=IDBKeyRange.bound(readStatus,openStatus),statusIndexName=\"status\",[2,this.storage.countByIndex(this.storeName,statusIndexName,keyRange)]})})},InboxMessages.prototype.updateMessages=function(){return __awaiter(this,void 0,void 0,function(){var response;return __generator(this,function(_a){switch(_a.label){case 0:return[4,this.getInboxMessages()];case 1:return response=_a.sent(),[4,this.deleteExpiredMessages()];case 2:return _a.sent(),[4,this.deleteMessages(response.deleted)];case 3:return _a.sent(),[4,this.putServerMessages(response.messages)];case 4:return _a.sent(),this.eventBus.dispatchEvent(\"update-inbox-messages\",{messages:new InboxMessagesPublic_1.default(this.data,this.api,this)}),[2]}})})},InboxMessages}();exports.default=InboxMessages},function(module,exports,__nested_webpack_require_166092__){\"use strict\";var __awaiter=this&&this.__awaiter||function(thisArg,_arguments,P,generator){return new(P||(P=Promise))(function(resolve,reject){function fulfilled(value){try{step(generator.next(value))}catch(e){reject(e)}}function rejected(value){try{step(generator.throw(value))}catch(e){reject(e)}}function step(result){result.done?resolve(result.value):function(value){return value instanceof P?value:new P(function(resolve){resolve(value)})}(result.value).then(fulfilled,rejected)}step((generator=generator.apply(thisArg,_arguments||[])).next())})},__generator=this&&this.__generator||function(thisArg,body){var f,y,t,g,_={label:0,sent:function(){if(1&t[0])throw t[1];return t[1]},trys:[],ops:[]};return g={next:verb(0),throw:verb(1),return:verb(2)},\"function\"==typeof Symbol&&(g[Symbol.iterator]=function(){return this}),g;function verb(n){return function(v){return function(op){if(f)throw new TypeError(\"Generator is already executing.\");for(;_;)try{if(f=1,y&&(t=2&op[0]?y.return:op[0]?y.throw||((t=y.return)&&t.call(y),0):y.next)&&!(t=t.call(y,op[1])).done)return t;switch(y=0,t&&(op=[2&op[0],t.value]),op[0]){case 0:case 1:t=op;break;case 4:return _.label++,{value:op[1],done:!1};case 5:_.label++,y=op[1],op=[0];continue;case 7:op=_.ops.pop(),_.trys.pop();continue;default:if(!(t=(t=_.trys).length>0&&t[t.length-1])&&(6===op[0]||2===op[0])){_=0;continue}if(3===op[0]&&(!t||op[1]>t[0]&&op[1]<t[3])){_.label=op[1];break}if(6===op[0]&&_.label<t[1]){_.label=t[1],t=op;break}if(t&&_.label<t[2]){_.label=t[2],_.ops.push(op);break}t[2]&&_.ops.pop(),_.trys.pop();continue}op=body.call(thisArg,_)}catch(e){op=[6,e],y=0}finally{f=t=0}if(5&op[0])throw op[1];return{value:op[0]?op[1]:void 0,done:!0}}([n,v])}}};Object.defineProperty(exports,\"__esModule\",{value:!0});var version_1=__nested_webpack_require_166092__(18),MigrationExecutor_1=__nested_webpack_require_166092__(19),Store_1=__nested_webpack_require_166092__(48),Storage=function(){function Storage(){}return Storage.prototype.dbVersionChangeHandler=function(db,event){console.info(\"onversionchange\",event),db.close()},Storage.prototype.dbRequestSuccessHandler=function(resolve,event){var _this=this,database=event.target.result;database.onversionchange=function(event){_this.dbVersionChangeHandler(database,event)},resolve(database)},Storage.prototype.dbRequestUpgradeNeededHandler=function(event){var _this=this,database=event.target.result;database.onversionchange=function(event){_this.dbVersionChangeHandler(database,event)},new MigrationExecutor_1.default(database).applyMigrations()},Storage.prototype.getDB=function(){var _this=this;return new Promise(function(resolve,reject){var request=indexedDB.open(\"PUSHWOOSH_SDK_STORE\",version_1.default);request.onsuccess=function(event){_this.dbRequestSuccessHandler(resolve,event)},request.onupgradeneeded=function(event){_this.dbRequestUpgradeNeededHandler(event)},request.onerror=function(){return reject(request.error)}})},Storage.prototype.put=function(storeName,data,key){return __awaiter(this,void 0,void 0,function(){var db,result;return __generator(this,function(_a){switch(_a.label){case 0:return[4,this.getDB()];case 1:return db=_a.sent(),[4,new Store_1.default(db,storeName).put(data,key)];case 2:return result=_a.sent(),db.close(),[2,result]}})})},Storage.prototype.delete=function(storeName,key){return __awaiter(this,void 0,void 0,function(){var db,result;return __generator(this,function(_a){switch(_a.label){case 0:return[4,this.getDB()];case 1:return db=_a.sent(),[4,new Store_1.default(db,storeName).delete(key)];case 2:return result=_a.sent(),db.close(),[2,result]}})})},Storage.prototype.get=function(storeName,key,defaultValue){return __awaiter(this,void 0,void 0,function(){var db,result;return __generator(this,function(_a){switch(_a.label){case 0:return[4,this.getDB()];case 1:return db=_a.sent(),[4,new Store_1.default(db,storeName).get(key,defaultValue)];case 2:return result=_a.sent(),db.close(),[2,result]}})})},Storage.prototype.getAll=function(storeName){return __awaiter(this,void 0,void 0,function(){var db,result;return __generator(this,function(_a){switch(_a.label){case 0:return[4,this.getDB()];case 1:return db=_a.sent(),[4,new Store_1.default(db,storeName).getAll()];case 2:return result=_a.sent(),db.close(),[2,result||[]]}})})},Storage.prototype.count=function(storeName,query){return __awaiter(this,void 0,void 0,function(){var db,result;return __generator(this,function(_a){switch(_a.label){case 0:return[4,this.getDB()];case 1:return db=_a.sent(),[4,new Store_1.default(db,storeName).count(query)];case 2:return result=_a.sent(),db.close(),[2,result]}})})},Storage.prototype.countByIndex=function(storeName,indexName,key){return __awaiter(this,void 0,void 0,function(){var db,store,result;return __generator(this,function(_a){switch(_a.label){case 0:return[4,this.getDB()];case 1:return db=_a.sent(),(store=new Store_1.default(db,storeName)).index=indexName,[4,store.countByIndex(key)];case 2:return result=_a.sent(),db.close(),[2,result]}})})},Storage}();exports.default=Storage},function(module,exports,__webpack_require__){\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:!0});var Store=function(){function Store(db,name){this.name=name,this.store=db.transaction(this.name,\"readwrite\").objectStore(this.name)}return Object.defineProperty(Store.prototype,\"index\",{set:function(index){this.store.indexNames.contains(index)?this._index=this.store.index(index):console.warn('Index \"'+index+'\" in ')},enumerable:!0,configurable:!0}),Store.prototype.writeRequestPromise=function(request,result){return new Promise(function(resolve,reject){request.onsuccess=function(){resolve(result)},request.onerror=function(){reject(request.error)}})},Store.prototype.readRequestPromise=function(request,defaultValue){return new Promise(function(resolve,reject){request.onsuccess=function(event){var target=event.target;resolve(target.result||defaultValue)},request.onerror=function(){reject(request.error)}})},Store.prototype.put=function(data,key){var request=this.store.put(data,key);return this.writeRequestPromise(request,key)},Store.prototype.add=function(data,key){return this.put(data,key)},Store.prototype.delete=function(key){var request=this.store.delete(key);return this.writeRequestPromise(request)},Store.prototype.get=function(key,defaultValue){var request=this.store.get(key);return this.readRequestPromise(request,defaultValue)},Store.prototype.getAll=function(){var cursor=this.store.openCursor(),result=[];return new Promise(function(resolve,reject){cursor.onsuccess=function(event){var cursorResult=event.target.result;cursorResult?(result.push(cursorResult.value),cursorResult.continue()):resolve(result)},cursor.onerror=function(){reject(cursor.error)}})},Store.prototype.count=function(query){var request=this.store.count(query);return this.readRequestPromise(request,0)},Store.prototype.countByIndex=function(key){var request=this._index.count(key);return this.readRequestPromise(request,0)},Store}();exports.default=Store},function(module,exports,__nested_webpack_require_173086__){\"use strict\";var __awaiter=this&&this.__awaiter||function(thisArg,_arguments,P,generator){return new(P||(P=Promise))(function(resolve,reject){function fulfilled(value){try{step(generator.next(value))}catch(e){reject(e)}}function rejected(value){try{step(generator.throw(value))}catch(e){reject(e)}}function step(result){result.done?resolve(result.value):function(value){return value instanceof P?value:new P(function(resolve){resolve(value)})}(result.value).then(fulfilled,rejected)}step((generator=generator.apply(thisArg,_arguments||[])).next())})},__generator=this&&this.__generator||function(thisArg,body){var f,y,t,g,_={label:0,sent:function(){if(1&t[0])throw t[1];return t[1]},trys:[],ops:[]};return g={next:verb(0),throw:verb(1),return:verb(2)},\"function\"==typeof Symbol&&(g[Symbol.iterator]=function(){return this}),g;function verb(n){return function(v){return function(op){if(f)throw new TypeError(\"Generator is already executing.\");for(;_;)try{if(f=1,y&&(t=2&op[0]?y.return:op[0]?y.throw||((t=y.return)&&t.call(y),0):y.next)&&!(t=t.call(y,op[1])).done)return t;switch(y=0,t&&(op=[2&op[0],t.value]),op[0]){case 0:case 1:t=op;break;case 4:return _.label++,{value:op[1],done:!1};case 5:_.label++,y=op[1],op=[0];continue;case 7:op=_.ops.pop(),_.trys.pop();continue;default:if(!(t=(t=_.trys).length>0&&t[t.length-1])&&(6===op[0]||2===op[0])){_=0;continue}if(3===op[0]&&(!t||op[1]>t[0]&&op[1]<t[3])){_.label=op[1];break}if(6===op[0]&&_.label<t[1]){_.label=t[1],t=op;break}if(t&&_.label<t[2]){_.label=t[2],_.ops.push(op);break}t[2]&&_.ops.pop(),_.trys.pop();continue}op=body.call(thisArg,_)}catch(e){op=[6,e],y=0}finally{f=t=0}if(5&op[0])throw op[1];return{value:op[0]?op[1]:void 0,done:!0}}([n,v])}}};Object.defineProperty(exports,\"__esModule\",{value:!0});var JSZip=__nested_webpack_require_173086__(85);exports.getZip=function(url){return __awaiter(this,void 0,void 0,function(){var response,result;return __generator(this,function(_a){switch(_a.label){case 0:return[4,fetch(url,{method:\"GET\"})];case 1:return 200!==(response=_a.sent()).status&&new Error(response.statusText),[4,response.blob()];case 2:return result=_a.sent(),[2,JSZip.loadAsync(result)]}})})}},function(module,exports){var toString={}.toString;module.exports=Array.isArray||function(arr){return\"[object Array]\"==toString.call(arr)}},function(module,exports,__nested_webpack_require_175423__){module.exports=__nested_webpack_require_175423__(89)},function(module,exports,__nested_webpack_require_175508__){\"use strict\";(function(global,process){var pna=__nested_webpack_require_175508__(29);module.exports=Readable;var Duplex,isArray=__nested_webpack_require_175508__(50);Readable.ReadableState=ReadableState;__nested_webpack_require_175508__(40).EventEmitter;var EElistenerCount=function(emitter,type){return emitter.listeners(type).length},Stream=__nested_webpack_require_175508__(53),Buffer=__nested_webpack_require_175508__(30).Buffer,OurUint8Array=global.Uint8Array||function(){};var util=Object.create(__nested_webpack_require_175508__(25));util.inherits=__nested_webpack_require_175508__(14);var debugUtil=__nested_webpack_require_175508__(90),debug=void 0;debug=debugUtil&&debugUtil.debuglog?debugUtil.debuglog(\"stream\"):function(){};var StringDecoder,BufferList=__nested_webpack_require_175508__(91),destroyImpl=__nested_webpack_require_175508__(54);util.inherits(Readable,Stream);var kProxyEvents=[\"error\",\"close\",\"destroy\",\"pause\",\"resume\"];function ReadableState(options,stream){Duplex=Duplex||__nested_webpack_require_175508__(12),options=options||{};var isDuplex=stream instanceof Duplex;this.objectMode=!!options.objectMode,isDuplex&&(this.objectMode=this.objectMode||!!options.readableObjectMode);var hwm=options.highWaterMark,readableHwm=options.readableHighWaterMark,defaultHwm=this.objectMode?16:16384;this.highWaterMark=hwm||0===hwm?hwm:isDuplex&&(readableHwm||0===readableHwm)?readableHwm:defaultHwm,this.highWaterMark=Math.floor(this.highWaterMark),this.buffer=new BufferList,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.destroyed=!1,this.defaultEncoding=options.defaultEncoding||\"utf8\",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,options.encoding&&(StringDecoder||(StringDecoder=__nested_webpack_require_175508__(56).StringDecoder),this.decoder=new StringDecoder(options.encoding),this.encoding=options.encoding)}function Readable(options){if(Duplex=Duplex||__nested_webpack_require_175508__(12),!(this instanceof Readable))return new Readable(options);this._readableState=new ReadableState(options,this),this.readable=!0,options&&(\"function\"==typeof options.read&&(this._read=options.read),\"function\"==typeof options.destroy&&(this._destroy=options.destroy)),Stream.call(this)}function readableAddChunk(stream,chunk,encoding,addToFront,skipChunkCheck){var er,state=stream._readableState;null===chunk?(state.reading=!1,function(stream,state){if(state.ended)return;if(state.decoder){var chunk=state.decoder.end();chunk&&chunk.length&&(state.buffer.push(chunk),state.length+=state.objectMode?1:chunk.length)}state.ended=!0,emitReadable(stream)}(stream,state)):(skipChunkCheck||(er=function(state,chunk){var er;(function(obj){return Buffer.isBuffer(obj)||obj instanceof OurUint8Array})(chunk)||\"string\"==typeof chunk||void 0===chunk||state.objectMode||(er=new TypeError(\"Invalid non-string/buffer chunk\"));return er}(state,chunk)),er?stream.emit(\"error\",er):state.objectMode||chunk&&chunk.length>0?(\"string\"==typeof chunk||state.objectMode||Object.getPrototypeOf(chunk)===Buffer.prototype||(chunk=function(chunk){return Buffer.from(chunk)}(chunk)),addToFront?state.endEmitted?stream.emit(\"error\",new Error(\"stream.unshift() after end event\")):addChunk(stream,state,chunk,!0):state.ended?stream.emit(\"error\",new Error(\"stream.push() after EOF\")):(state.reading=!1,state.decoder&&!encoding?(chunk=state.decoder.write(chunk),state.objectMode||0!==chunk.length?addChunk(stream,state,chunk,!1):maybeReadMore(stream,state)):addChunk(stream,state,chunk,!1))):addToFront||(state.reading=!1));return function(state){return!state.ended&&(state.needReadable||state.length<state.highWaterMark||0===state.length)}(state)}function addChunk(stream,state,chunk,addToFront){state.flowing&&0===state.length&&!state.sync?(stream.emit(\"data\",chunk),stream.read(0)):(state.length+=state.objectMode?1:chunk.length,addToFront?state.buffer.unshift(chunk):state.buffer.push(chunk),state.needReadable&&emitReadable(stream)),maybeReadMore(stream,state)}Object.defineProperty(Readable.prototype,\"destroyed\",{get:function(){return void 0!==this._readableState&&this._readableState.destroyed},set:function(value){this._readableState&&(this._readableState.destroyed=value)}}),Readable.prototype.destroy=destroyImpl.destroy,Readable.prototype._undestroy=destroyImpl.undestroy,Readable.prototype._destroy=function(err,cb){this.push(null),cb(err)},Readable.prototype.push=function(chunk,encoding){var skipChunkCheck,state=this._readableState;return state.objectMode?skipChunkCheck=!0:\"string\"==typeof chunk&&((encoding=encoding||state.defaultEncoding)!==state.encoding&&(chunk=Buffer.from(chunk,encoding),encoding=\"\"),skipChunkCheck=!0),readableAddChunk(this,chunk,encoding,!1,skipChunkCheck)},Readable.prototype.unshift=function(chunk){return readableAddChunk(this,chunk,null,!0,!1)},Readable.prototype.isPaused=function(){return!1===this._readableState.flowing},Readable.prototype.setEncoding=function(enc){return StringDecoder||(StringDecoder=__nested_webpack_require_175508__(56).StringDecoder),this._readableState.decoder=new StringDecoder(enc),this._readableState.encoding=enc,this};var MAX_HWM=8388608;function howMuchToRead(n,state){return n<=0||0===state.length&&state.ended?0:state.objectMode?1:n!=n?state.flowing&&state.length?state.buffer.head.data.length:state.length:(n>state.highWaterMark&&(state.highWaterMark=function(n){return n>=MAX_HWM?n=MAX_HWM:(n--,n|=n>>>1,n|=n>>>2,n|=n>>>4,n|=n>>>8,n|=n>>>16,n++),n}(n)),n<=state.length?n:state.ended?state.length:(state.needReadable=!0,0))}function emitReadable(stream){var state=stream._readableState;state.needReadable=!1,state.emittedReadable||(debug(\"emitReadable\",state.flowing),state.emittedReadable=!0,state.sync?pna.nextTick(emitReadable_,stream):emitReadable_(stream))}function emitReadable_(stream){debug(\"emit readable\"),stream.emit(\"readable\"),flow(stream)}function maybeReadMore(stream,state){state.readingMore||(state.readingMore=!0,pna.nextTick(maybeReadMore_,stream,state))}function maybeReadMore_(stream,state){for(var len=state.length;!state.reading&&!state.flowing&&!state.ended&&state.length<state.highWaterMark&&(debug(\"maybeReadMore read 0\"),stream.read(0),len!==state.length);)len=state.length;state.readingMore=!1}function nReadingNextTick(self){debug(\"readable nexttick read 0\"),self.read(0)}function resume_(stream,state){state.reading||(debug(\"resume read 0\"),stream.read(0)),state.resumeScheduled=!1,state.awaitDrain=0,stream.emit(\"resume\"),flow(stream),state.flowing&&!state.reading&&stream.read(0)}function flow(stream){var state=stream._readableState;for(debug(\"flow\",state.flowing);state.flowing&&null!==stream.read(););}function fromList(n,state){return 0===state.length?null:(state.objectMode?ret=state.buffer.shift():!n||n>=state.length?(ret=state.decoder?state.buffer.join(\"\"):1===state.buffer.length?state.buffer.head.data:state.buffer.concat(state.length),state.buffer.clear()):ret=function(n,list,hasStrings){var ret;n<list.head.data.length?(ret=list.head.data.slice(0,n),list.head.data=list.head.data.slice(n)):ret=n===list.head.data.length?list.shift():hasStrings?function(n,list){var p=list.head,c=1,ret=p.data;n-=ret.length;for(;p=p.next;){var str=p.data,nb=n>str.length?str.length:n;if(nb===str.length?ret+=str:ret+=str.slice(0,n),0===(n-=nb)){nb===str.length?(++c,p.next?list.head=p.next:list.head=list.tail=null):(list.head=p,p.data=str.slice(nb));break}++c}return list.length-=c,ret}(n,list):function(n,list){var ret=Buffer.allocUnsafe(n),p=list.head,c=1;p.data.copy(ret),n-=p.data.length;for(;p=p.next;){var buf=p.data,nb=n>buf.length?buf.length:n;if(buf.copy(ret,ret.length-n,0,nb),0===(n-=nb)){nb===buf.length?(++c,p.next?list.head=p.next:list.head=list.tail=null):(list.head=p,p.data=buf.slice(nb));break}++c}return list.length-=c,ret}(n,list);return ret}(n,state.buffer,state.decoder),ret);var ret}function endReadable(stream){var state=stream._readableState;if(state.length>0)throw new Error('\"endReadable()\" called on non-empty stream');state.endEmitted||(state.ended=!0,pna.nextTick(endReadableNT,state,stream))}function endReadableNT(state,stream){state.endEmitted||0!==state.length||(state.endEmitted=!0,stream.readable=!1,stream.emit(\"end\"))}function indexOf(xs,x){for(var i=0,l=xs.length;i<l;i++)if(xs[i]===x)return i;return-1}Readable.prototype.read=function(n){debug(\"read\",n),n=parseInt(n,10);var state=this._readableState,nOrig=n;if(0!==n&&(state.emittedReadable=!1),0===n&&state.needReadable&&(state.length>=state.highWaterMark||state.ended))return debug(\"read: emitReadable\",state.length,state.ended),0===state.length&&state.ended?endReadable(this):emitReadable(this),null;if(0===(n=howMuchToRead(n,state))&&state.ended)return 0===state.length&&endReadable(this),null;var ret,doRead=state.needReadable;return debug(\"need readable\",doRead),(0===state.length||state.length-n<state.highWaterMark)&&debug(\"length less than watermark\",doRead=!0),state.ended||state.reading?debug(\"reading or ended\",doRead=!1):doRead&&(debug(\"do read\"),state.reading=!0,state.sync=!0,0===state.length&&(state.needReadable=!0),this._read(state.highWaterMark),state.sync=!1,state.reading||(n=howMuchToRead(nOrig,state))),null===(ret=n>0?fromList(n,state):null)?(state.needReadable=!0,n=0):state.length-=n,0===state.length&&(state.ended||(state.needReadable=!0),nOrig!==n&&state.ended&&endReadable(this)),null!==ret&&this.emit(\"data\",ret),ret},Readable.prototype._read=function(n){this.emit(\"error\",new Error(\"_read() is not implemented\"))},Readable.prototype.pipe=function(dest,pipeOpts){var src=this,state=this._readableState;switch(state.pipesCount){case 0:state.pipes=dest;break;case 1:state.pipes=[state.pipes,dest];break;default:state.pipes.push(dest)}state.pipesCount+=1,debug(\"pipe count=%d opts=%j\",state.pipesCount,pipeOpts);var endFn=(!pipeOpts||!1!==pipeOpts.end)&&dest!==process.stdout&&dest!==process.stderr?onend:unpipe;function onunpipe(readable,unpipeInfo){debug(\"onunpipe\"),readable===src&&unpipeInfo&&!1===unpipeInfo.hasUnpiped&&(unpipeInfo.hasUnpiped=!0,debug(\"cleanup\"),dest.removeListener(\"close\",onclose),dest.removeListener(\"finish\",onfinish),dest.removeListener(\"drain\",ondrain),dest.removeListener(\"error\",onerror),dest.removeListener(\"unpipe\",onunpipe),src.removeListener(\"end\",onend),src.removeListener(\"end\",unpipe),src.removeListener(\"data\",ondata),cleanedUp=!0,!state.awaitDrain||dest._writableState&&!dest._writableState.needDrain||ondrain())}function onend(){debug(\"onend\"),dest.end()}state.endEmitted?pna.nextTick(endFn):src.once(\"end\",endFn),dest.on(\"unpipe\",onunpipe);var ondrain=function(src){return function(){var state=src._readableState;debug(\"pipeOnDrain\",state.awaitDrain),state.awaitDrain&&state.awaitDrain--,0===state.awaitDrain&&EElistenerCount(src,\"data\")&&(state.flowing=!0,flow(src))}}(src);dest.on(\"drain\",ondrain);var cleanedUp=!1;var increasedAwaitDrain=!1;function ondata(chunk){debug(\"ondata\"),increasedAwaitDrain=!1,!1!==dest.write(chunk)||increasedAwaitDrain||((1===state.pipesCount&&state.pipes===dest||state.pipesCount>1&&-1!==indexOf(state.pipes,dest))&&!cleanedUp&&(debug(\"false write response, pause\",src._readableState.awaitDrain),src._readableState.awaitDrain++,increasedAwaitDrain=!0),src.pause())}function onerror(er){debug(\"onerror\",er),unpipe(),dest.removeListener(\"error\",onerror),0===EElistenerCount(dest,\"error\")&&dest.emit(\"error\",er)}function onclose(){dest.removeListener(\"finish\",onfinish),unpipe()}function onfinish(){debug(\"onfinish\"),dest.removeListener(\"close\",onclose),unpipe()}function unpipe(){debug(\"unpipe\"),src.unpipe(dest)}return src.on(\"data\",ondata),function(emitter,event,fn){if(\"function\"==typeof emitter.prependListener)return emitter.prependListener(event,fn);emitter._events&&emitter._events[event]?isArray(emitter._events[event])?emitter._events[event].unshift(fn):emitter._events[event]=[fn,emitter._events[event]]:emitter.on(event,fn)}(dest,\"error\",onerror),dest.once(\"close\",onclose),dest.once(\"finish\",onfinish),dest.emit(\"pipe\",src),state.flowing||(debug(\"pipe resume\"),src.resume()),dest},Readable.prototype.unpipe=function(dest){var state=this._readableState,unpipeInfo={hasUnpiped:!1};if(0===state.pipesCount)return this;if(1===state.pipesCount)return dest&&dest!==state.pipes?this:(dest||(dest=state.pipes),state.pipes=null,state.pipesCount=0,state.flowing=!1,dest&&dest.emit(\"unpipe\",this,unpipeInfo),this);if(!dest){var dests=state.pipes,len=state.pipesCount;state.pipes=null,state.pipesCount=0,state.flowing=!1;for(var i=0;i<len;i++)dests[i].emit(\"unpipe\",this,unpipeInfo);return this}var index=indexOf(state.pipes,dest);return-1===index?this:(state.pipes.splice(index,1),state.pipesCount-=1,1===state.pipesCount&&(state.pipes=state.pipes[0]),dest.emit(\"unpipe\",this,unpipeInfo),this)},Readable.prototype.on=function(ev,fn){var res=Stream.prototype.on.call(this,ev,fn);if(\"data\"===ev)!1!==this._readableState.flowing&&this.resume();else if(\"readable\"===ev){var state=this._readableState;state.endEmitted||state.readableListening||(state.readableListening=state.needReadable=!0,state.emittedReadable=!1,state.reading?state.length&&emitReadable(this):pna.nextTick(nReadingNextTick,this))}return res},Readable.prototype.addListener=Readable.prototype.on,Readable.prototype.resume=function(){var state=this._readableState;return state.flowing||(debug(\"resume\"),state.flowing=!0,function(stream,state){state.resumeScheduled||(state.resumeScheduled=!0,pna.nextTick(resume_,stream,state))}(this,state)),this},Readable.prototype.pause=function(){return debug(\"call pause flowing=%j\",this._readableState.flowing),!1!==this._readableState.flowing&&(debug(\"pause\"),this._readableState.flowing=!1,this.emit(\"pause\")),this},Readable.prototype.wrap=function(stream){var _this=this,state=this._readableState,paused=!1;for(var i in stream.on(\"end\",function(){if(debug(\"wrapped end\"),state.decoder&&!state.ended){var chunk=state.decoder.end();chunk&&chunk.length&&_this.push(chunk)}_this.push(null)}),stream.on(\"data\",function(chunk){(debug(\"wrapped data\"),state.decoder&&(chunk=state.decoder.write(chunk)),!state.objectMode||null!==chunk&&void 0!==chunk)&&((state.objectMode||chunk&&chunk.length)&&(_this.push(chunk)||(paused=!0,stream.pause())))}),stream)void 0===this[i]&&\"function\"==typeof stream[i]&&(this[i]=function(method){return function(){return stream[method].apply(stream,arguments)}}(i));for(var n=0;n<kProxyEvents.length;n++)stream.on(kProxyEvents[n],this.emit.bind(this,kProxyEvents[n]));return this._read=function(n){debug(\"wrapped _read\",n),paused&&(paused=!1,stream.resume())},this},Object.defineProperty(Readable.prototype,\"readableHighWaterMark\",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Readable._fromList=fromList}).call(this,__nested_webpack_require_175508__(11),__nested_webpack_require_175508__(24))},function(module,exports,__nested_webpack_require_190266__){module.exports=__nested_webpack_require_190266__(40).EventEmitter},function(module,exports,__nested_webpack_require_190364__){\"use strict\";var pna=__nested_webpack_require_190364__(29);function emitErrorNT(self,err){self.emit(\"error\",err)}module.exports={destroy:function(err,cb){var _this=this,readableDestroyed=this._readableState&&this._readableState.destroyed,writableDestroyed=this._writableState&&this._writableState.destroyed;return readableDestroyed||writableDestroyed?(cb?cb(err):!err||this._writableState&&this._writableState.errorEmitted||pna.nextTick(emitErrorNT,this,err),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(err||null,function(err){!cb&&err?(pna.nextTick(emitErrorNT,_this,err),_this._writableState&&(_this._writableState.errorEmitted=!0)):cb&&cb(err)}),this)},undestroy:function(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}}},function(module,exports,__nested_webpack_require_191497__){(function(global){var scope=void 0!==global&&global||\"undefined\"!=typeof self&&self||window,apply=Function.prototype.apply;function Timeout(id,clearFn){this._id=id,this._clearFn=clearFn}exports.setTimeout=function(){return new Timeout(apply.call(setTimeout,scope,arguments),clearTimeout)},exports.setInterval=function(){return new Timeout(apply.call(setInterval,scope,arguments),clearInterval)},exports.clearTimeout=exports.clearInterval=function(timeout){timeout&&timeout.close()},Timeout.prototype.unref=Timeout.prototype.ref=function(){},Timeout.prototype.close=function(){this._clearFn.call(scope,this._id)},exports.enroll=function(item,msecs){clearTimeout(item._idleTimeoutId),item._idleTimeout=msecs},exports.unenroll=function(item){clearTimeout(item._idleTimeoutId),item._idleTimeout=-1},exports._unrefActive=exports.active=function(item){clearTimeout(item._idleTimeoutId);var msecs=item._idleTimeout;msecs>=0&&(item._idleTimeoutId=setTimeout(function(){item._onTimeout&&item._onTimeout()},msecs))},__nested_webpack_require_191497__(93),exports.setImmediate=\"undefined\"!=typeof self&&self.setImmediate||void 0!==global&&global.setImmediate||this&&this.setImmediate,exports.clearImmediate=\"undefined\"!=typeof self&&self.clearImmediate||void 0!==global&&global.clearImmediate||this&&this.clearImmediate}).call(this,__nested_webpack_require_191497__(11))},function(module,exports,__nested_webpack_require_192874__){\"use strict\";var Buffer=__nested_webpack_require_192874__(30).Buffer,isEncoding=Buffer.isEncoding||function(encoding){switch((encoding=\"\"+encoding)&&encoding.toLowerCase()){case\"hex\":case\"utf8\":case\"utf-8\":case\"ascii\":case\"binary\":case\"base64\":case\"ucs2\":case\"ucs-2\":case\"utf16le\":case\"utf-16le\":case\"raw\":return!0;default:return!1}};function StringDecoder(encoding){var nb;switch(this.encoding=function(enc){var nenc=function(enc){if(!enc)return\"utf8\";for(var retried;;)switch(enc){case\"utf8\":case\"utf-8\":return\"utf8\";case\"ucs2\":case\"ucs-2\":case\"utf16le\":case\"utf-16le\":return\"utf16le\";case\"latin1\":case\"binary\":return\"latin1\";case\"base64\":case\"ascii\":case\"hex\":return enc;default:if(retried)return;enc=(\"\"+enc).toLowerCase(),retried=!0}}(enc);if(\"string\"!=typeof nenc&&(Buffer.isEncoding===isEncoding||!isEncoding(enc)))throw new Error(\"Unknown encoding: \"+enc);return nenc||enc}(encoding),this.encoding){case\"utf16le\":this.text=utf16Text,this.end=utf16End,nb=4;break;case\"utf8\":this.fillLast=utf8FillLast,nb=4;break;case\"base64\":this.text=base64Text,this.end=base64End,nb=3;break;default:return this.write=simpleWrite,void(this.end=simpleEnd)}this.lastNeed=0,this.lastTotal=0,this.lastChar=Buffer.allocUnsafe(nb)}function utf8CheckByte(byte){return byte<=127?0:byte>>5==6?2:byte>>4==14?3:byte>>3==30?4:byte>>6==2?-1:-2}function utf8FillLast(buf){var p=this.lastTotal-this.lastNeed,r=function(self,buf,p){if(128!=(192&buf[0]))return self.lastNeed=0,\"\";if(self.lastNeed>1&&buf.length>1){if(128!=(192&buf[1]))return self.lastNeed=1,\"\";if(self.lastNeed>2&&buf.length>2&&128!=(192&buf[2]))return self.lastNeed=2,\"\"}}(this,buf);return void 0!==r?r:this.lastNeed<=buf.length?(buf.copy(this.lastChar,p,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(buf.copy(this.lastChar,p,0,buf.length),void(this.lastNeed-=buf.length))}function utf16Text(buf,i){if((buf.length-i)%2==0){var r=buf.toString(\"utf16le\",i);if(r){var c=r.charCodeAt(r.length-1);if(c>=55296&&c<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=buf[buf.length-2],this.lastChar[1]=buf[buf.length-1],r.slice(0,-1)}return r}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=buf[buf.length-1],buf.toString(\"utf16le\",i,buf.length-1)}function utf16End(buf){var r=buf&&buf.length?this.write(buf):\"\";if(this.lastNeed){var end=this.lastTotal-this.lastNeed;return r+this.lastChar.toString(\"utf16le\",0,end)}return r}function base64Text(buf,i){var n=(buf.length-i)%3;return 0===n?buf.toString(\"base64\",i):(this.lastNeed=3-n,this.lastTotal=3,1===n?this.lastChar[0]=buf[buf.length-1]:(this.lastChar[0]=buf[buf.length-2],this.lastChar[1]=buf[buf.length-1]),buf.toString(\"base64\",i,buf.length-n))}function base64End(buf){var r=buf&&buf.length?this.write(buf):\"\";return this.lastNeed?r+this.lastChar.toString(\"base64\",0,3-this.lastNeed):r}function simpleWrite(buf){return buf.toString(this.encoding)}function simpleEnd(buf){return buf&&buf.length?this.write(buf):\"\"}exports.StringDecoder=StringDecoder,StringDecoder.prototype.write=function(buf){if(0===buf.length)return\"\";var r,i;if(this.lastNeed){if(void 0===(r=this.fillLast(buf)))return\"\";i=this.lastNeed,this.lastNeed=0}else i=0;return i<buf.length?r?r+this.text(buf,i):this.text(buf,i):r||\"\"},StringDecoder.prototype.end=function(buf){var r=buf&&buf.length?this.write(buf):\"\";return this.lastNeed?r+\"\":r},StringDecoder.prototype.text=function(buf,i){var total=function(self,buf,i){var j=buf.length-1;if(j<i)return 0;var nb=utf8CheckByte(buf[j]);if(nb>=0)return nb>0&&(self.lastNeed=nb-1),nb;if(--j<i||-2===nb)return 0;if((nb=utf8CheckByte(buf[j]))>=0)return nb>0&&(self.lastNeed=nb-2),nb;if(--j<i||-2===nb)return 0;if((nb=utf8CheckByte(buf[j]))>=0)return nb>0&&(2===nb?nb=0:self.lastNeed=nb-3),nb;return 0}(this,buf,i);if(!this.lastNeed)return buf.toString(\"utf8\",i);this.lastTotal=total;var end=buf.length-(total-this.lastNeed);return buf.copy(this.lastChar,0,end),buf.toString(\"utf8\",i,end)},StringDecoder.prototype.fillLast=function(buf){if(this.lastNeed<=buf.length)return buf.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);buf.copy(this.lastChar,this.lastTotal-this.lastNeed,0,buf.length),this.lastNeed-=buf.length}},function(module,exports,__nested_webpack_require_197146__){\"use strict\";module.exports=Transform;var Duplex=__nested_webpack_require_197146__(12),util=Object.create(__nested_webpack_require_197146__(25));function Transform(options){if(!(this instanceof Transform))return new Transform(options);Duplex.call(this,options),this._transformState={afterTransform:function(er,data){var ts=this._transformState;ts.transforming=!1;var cb=ts.writecb;if(!cb)return this.emit(\"error\",new Error(\"write callback called multiple times\"));ts.writechunk=null,ts.writecb=null,null!=data&&this.push(data),cb(er);var rs=this._readableState;rs.reading=!1,(rs.needReadable||rs.length<rs.highWaterMark)&&this._read(rs.highWaterMark)}.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,options&&(\"function\"==typeof options.transform&&(this._transform=options.transform),\"function\"==typeof options.flush&&(this._flush=options.flush)),this.on(\"prefinish\",prefinish)}function prefinish(){var _this=this;\"function\"==typeof this._flush?this._flush(function(er,data){done(_this,er,data)}):done(this,null,null)}function done(stream,er,data){if(er)return stream.emit(\"error\",er);if(null!=data&&stream.push(data),stream._writableState.length)throw new Error(\"Calling transform done when ws.length != 0\");if(stream._transformState.transforming)throw new Error(\"Calling transform done when still transforming\");return stream.push(null)}util.inherits=__nested_webpack_require_197146__(14),util.inherits(Transform,Duplex),Transform.prototype.push=function(chunk,encoding){return this._transformState.needTransform=!1,Duplex.prototype.push.call(this,chunk,encoding)},Transform.prototype._transform=function(chunk,encoding,cb){throw new Error(\"_transform() is not implemented\")},Transform.prototype._write=function(chunk,encoding,cb){var ts=this._transformState;if(ts.writecb=cb,ts.writechunk=chunk,ts.writeencoding=encoding,!ts.transforming){var rs=this._readableState;(ts.needTransform||rs.needReadable||rs.length<rs.highWaterMark)&&this._read(rs.highWaterMark)}},Transform.prototype._read=function(n){var ts=this._transformState;null!==ts.writechunk&&ts.writecb&&!ts.transforming?(ts.transforming=!0,this._transform(ts.writechunk,ts.writeencoding,ts.afterTransform)):ts.needTransform=!0},Transform.prototype._destroy=function(err,cb){var _this2=this;Duplex.prototype._destroy.call(this,err,function(err2){cb(err2),_this2.emit(\"close\")})}},function(module,exports,__nested_webpack_require_199599__){\"use strict\";var utils=__nested_webpack_require_199599__(0),support=__nested_webpack_require_199599__(7),_keyStr=\"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=\";exports.encode=function(input){for(var chr1,chr2,chr3,enc1,enc2,enc3,enc4,output=[],i=0,len=input.length,remainingBytes=len,isArray=\"string\"!==utils.getTypeOf(input);i<input.length;)remainingBytes=len-i,isArray?(chr1=input[i++],chr2=i<len?input[i++]:0,chr3=i<len?input[i++]:0):(chr1=input.charCodeAt(i++),chr2=i<len?input.charCodeAt(i++):0,chr3=i<len?input.charCodeAt(i++):0),enc1=chr1>>2,enc2=(3&chr1)<<4|chr2>>4,enc3=remainingBytes>1?(15&chr2)<<2|chr3>>6:64,enc4=remainingBytes>2?63&chr3:64,output.push(_keyStr.charAt(enc1)+_keyStr.charAt(enc2)+_keyStr.charAt(enc3)+_keyStr.charAt(enc4));return output.join(\"\")},exports.decode=function(input){var chr1,chr2,chr3,enc2,enc3,enc4,i=0,resultIndex=0;if(\"data:\"===input.substr(0,\"data:\".length))throw new Error(\"Invalid base64 input, it looks like a data url.\");var output,totalLength=3*(input=input.replace(/[^A-Za-z0-9\\+\\/\\=]/g,\"\")).length/4;if(input.charAt(input.length-1)===_keyStr.charAt(64)&&totalLength--,input.charAt(input.length-2)===_keyStr.charAt(64)&&totalLength--,totalLength%1!=0)throw new Error(\"Invalid base64 input, bad content length.\");for(output=support.uint8array?new Uint8Array(0|totalLength):new Array(0|totalLength);i<input.length;)chr1=_keyStr.indexOf(input.charAt(i++))<<2|(enc2=_keyStr.indexOf(input.charAt(i++)))>>4,chr2=(15&enc2)<<4|(enc3=_keyStr.indexOf(input.charAt(i++)))>>2,chr3=(3&enc3)<<6|(enc4=_keyStr.indexOf(input.charAt(i++))),output[resultIndex++]=chr1,64!==enc3&&(output[resultIndex++]=chr2),64!==enc4&&(output[resultIndex++]=chr3);return output}},function(module,exports,__nested_webpack_require_201332__){\"use strict\";(function(Buffer){var utils=__nested_webpack_require_201332__(0),ConvertWorker=__nested_webpack_require_201332__(103),GenericWorker=__nested_webpack_require_201332__(2),base64=__nested_webpack_require_201332__(58),support=__nested_webpack_require_201332__(7),external=__nested_webpack_require_201332__(26),NodejsStreamOutputAdapter=null;if(support.nodestream)try{NodejsStreamOutputAdapter=__nested_webpack_require_201332__(104)}catch(e){}function accumulate(helper,updateCallback){return new external.Promise(function(resolve,reject){var dataArray=[],chunkType=helper._internalType,resultType=helper._outputType,mimeType=helper._mimeType;helper.on(\"data\",function(data,meta){dataArray.push(data),updateCallback&&updateCallback(meta)}).on(\"error\",function(err){dataArray=[],reject(err)}).on(\"end\",function(){try{var result=function(type,content,mimeType){switch(type){case\"blob\":return utils.newBlob(utils.transformTo(\"arraybuffer\",content),mimeType);case\"base64\":return base64.encode(content);default:return utils.transformTo(type,content)}}(resultType,function(type,dataArray){var i,index=0,res=null,totalLength=0;for(i=0;i<dataArray.length;i++)totalLength+=dataArray[i].length;switch(type){case\"string\":return dataArray.join(\"\");case\"array\":return Array.prototype.concat.apply([],dataArray);case\"uint8array\":for(res=new Uint8Array(totalLength),i=0;i<dataArray.length;i++)res.set(dataArray[i],index),index+=dataArray[i].length;return res;case\"nodebuffer\":return Buffer.concat(dataArray);default:throw new Error(\"concat : unsupported type '\"+type+\"'\")}}(chunkType,dataArray),mimeType);resolve(result)}catch(e){reject(e)}dataArray=[]}).resume()})}function StreamHelper(worker,outputType,mimeType){var internalType=outputType;switch(outputType){case\"blob\":case\"arraybuffer\":internalType=\"uint8array\";break;case\"base64\":internalType=\"string\"}try{this._internalType=internalType,this._outputType=outputType,this._mimeType=mimeType,utils.checkSupport(internalType),this._worker=worker.pipe(new ConvertWorker(internalType)),worker.lock()}catch(e){this._worker=new GenericWorker(\"error\"),this._worker.error(e)}}StreamHelper.prototype={accumulate:function(updateCb){return accumulate(this,updateCb)},on:function(evt,fn){var self=this;return\"data\"===evt?this._worker.on(evt,function(chunk){fn.call(self,chunk.data,chunk.meta)}):this._worker.on(evt,function(){utils.delay(fn,arguments,self)}),this},resume:function(){return utils.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(updateCb){if(utils.checkSupport(\"nodestream\"),\"nodebuffer\"!==this._outputType)throw new Error(this._outputType+\" is not supported by this method\");return new NodejsStreamOutputAdapter(this,{objectMode:\"nodebuffer\"!==this._outputType},updateCb)}},module.exports=StreamHelper}).call(this,__nested_webpack_require_201332__(23).Buffer)},function(module,exports,__webpack_require__){\"use strict\";exports.base64=!1,exports.binary=!1,exports.dir=!1,exports.createFolders=!0,exports.date=null,exports.compression=null,exports.compressionOptions=null,exports.comment=null,exports.unixPermissions=null,exports.dosPermissions=null},function(module,exports,__nested_webpack_require_204443__){\"use strict\";var utils=__nested_webpack_require_204443__(0),GenericWorker=__nested_webpack_require_204443__(2);function DataWorker(dataP){GenericWorker.call(this,\"DataWorker\");var self=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type=\"\",this._tickScheduled=!1,dataP.then(function(data){self.dataIsReady=!0,self.data=data,self.max=data&&data.length||0,self.type=utils.getTypeOf(data),self.isPaused||self._tickAndRepeat()},function(e){self.error(e)})}utils.inherits(DataWorker,GenericWorker),DataWorker.prototype.cleanUp=function(){GenericWorker.prototype.cleanUp.call(this),this.data=null},DataWorker.prototype.resume=function(){return!!GenericWorker.prototype.resume.call(this)&&(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,utils.delay(this._tickAndRepeat,[],this)),!0)},DataWorker.prototype._tickAndRepeat=function(){this._tickScheduled=!1,this.isPaused||this.isFinished||(this._tick(),this.isFinished||(utils.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))},DataWorker.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var data=null,nextIndex=Math.min(this.max,this.index+16384);if(this.index>=this.max)return this.end();switch(this.type){case\"string\":data=this.data.substring(this.index,nextIndex);break;case\"uint8array\":data=this.data.subarray(this.index,nextIndex);break;case\"array\":case\"nodebuffer\":data=this.data.slice(this.index,nextIndex)}return this.index=nextIndex,this.push({data:data,meta:{percent:this.max?this.index/this.max*100:0}})},module.exports=DataWorker},function(module,exports,__nested_webpack_require_206014__){\"use strict\";var utils=__nested_webpack_require_206014__(0),GenericWorker=__nested_webpack_require_206014__(2);function DataLengthProbe(propName){GenericWorker.call(this,\"DataLengthProbe for \"+propName),this.propName=propName,this.withStreamInfo(propName,0)}utils.inherits(DataLengthProbe,GenericWorker),DataLengthProbe.prototype.processChunk=function(chunk){if(chunk){var length=this.streamInfo[this.propName]||0;this.streamInfo[this.propName]=length+chunk.data.length}GenericWorker.prototype.processChunk.call(this,chunk)},module.exports=DataLengthProbe},function(module,exports,__nested_webpack_require_206588__){\"use strict\";var GenericWorker=__nested_webpack_require_206588__(2),crc32=__nested_webpack_require_206588__(44);function Crc32Probe(){GenericWorker.call(this,\"Crc32Probe\"),this.withStreamInfo(\"crc32\",0)}__nested_webpack_require_206588__(0).inherits(Crc32Probe,GenericWorker),Crc32Probe.prototype.processChunk=function(chunk){this.streamInfo.crc32=crc32(chunk.data,this.streamInfo.crc32||0),this.push(chunk)},module.exports=Crc32Probe},function(module,exports,__nested_webpack_require_207026__){\"use strict\";var GenericWorker=__nested_webpack_require_207026__(2);exports.STORE={magic:\"\\0\\0\",compressWorker:function(compressionOptions){return new GenericWorker(\"STORE compression\")},uncompressWorker:function(){return new GenericWorker(\"STORE decompression\")}},exports.DEFLATE=__nested_webpack_require_207026__(107)},function(module,exports,__webpack_require__){\"use strict\";module.exports=function(adler,buf,len,pos){for(var s1=65535&adler|0,s2=adler>>>16&65535|0,n=0;0!==len;){len-=n=len>2e3?2e3:len;do{s2=s2+(s1=s1+buf[pos++]|0)|0}while(--n);s1%=65521,s2%=65521}return s1|s2<<16|0}},function(module,exports,__webpack_require__){\"use strict\";var crcTable=function(){for(var c,table=[],n=0;n<256;n++){c=n;for(var k=0;k<8;k++)c=1&c?3988292384^c>>>1:c>>>1;table[n]=c}return table}();module.exports=function(crc,buf,len,pos){var t=crcTable,end=pos+len;crc^=-1;for(var i=pos;i<end;i++)crc=crc>>>8^t[255&(crc^buf[i])];return-1^crc}},function(module,exports,__nested_webpack_require_207976__){\"use strict\";var utils=__nested_webpack_require_207976__(8),STR_APPLY_OK=!0,STR_APPLY_UIA_OK=!0;try{String.fromCharCode.apply(null,[0])}catch(__){STR_APPLY_OK=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(__){STR_APPLY_UIA_OK=!1}for(var _utf8len=new utils.Buf8(256),q=0;q<256;q++)_utf8len[q]=q>=252?6:q>=248?5:q>=240?4:q>=224?3:q>=192?2:1;function buf2binstring(buf,len){if(len<65534&&(buf.subarray&&STR_APPLY_UIA_OK||!buf.subarray&&STR_APPLY_OK))return String.fromCharCode.apply(null,utils.shrinkBuf(buf,len));for(var result=\"\",i=0;i<len;i++)result+=String.fromCharCode(buf[i]);return result}_utf8len[254]=_utf8len[254]=1,exports.string2buf=function(str){var buf,c,c2,m_pos,i,str_len=str.length,buf_len=0;for(m_pos=0;m_pos<str_len;m_pos++)55296==(64512&(c=str.charCodeAt(m_pos)))&&m_pos+1<str_len&&56320==(64512&(c2=str.charCodeAt(m_pos+1)))&&(c=65536+(c-55296<<10)+(c2-56320),m_pos++),buf_len+=c<128?1:c<2048?2:c<65536?3:4;for(buf=new utils.Buf8(buf_len),i=0,m_pos=0;i<buf_len;m_pos++)55296==(64512&(c=str.charCodeAt(m_pos)))&&m_pos+1<str_len&&56320==(64512&(c2=str.charCodeAt(m_pos+1)))&&(c=65536+(c-55296<<10)+(c2-56320),m_pos++),c<128?buf[i++]=c:c<2048?(buf[i++]=192|c>>>6,buf[i++]=128|63&c):c<65536?(buf[i++]=224|c>>>12,buf[i++]=128|c>>>6&63,buf[i++]=128|63&c):(buf[i++]=240|c>>>18,buf[i++]=128|c>>>12&63,buf[i++]=128|c>>>6&63,buf[i++]=128|63&c);return buf},exports.buf2binstring=function(buf){return buf2binstring(buf,buf.length)},exports.binstring2buf=function(str){for(var buf=new utils.Buf8(str.length),i=0,len=buf.length;i<len;i++)buf[i]=str.charCodeAt(i);return buf},exports.buf2string=function(buf,max){var i,out,c,c_len,len=max||buf.length,utf16buf=new Array(2*len);for(out=0,i=0;i<len;)if((c=buf[i++])<128)utf16buf[out++]=c;else if((c_len=_utf8len[c])>4)utf16buf[out++]=65533,i+=c_len-1;else{for(c&=2===c_len?31:3===c_len?15:7;c_len>1&&i<len;)c=c<<6|63&buf[i++],c_len--;c_len>1?utf16buf[out++]=65533:c<65536?utf16buf[out++]=c:(c-=65536,utf16buf[out++]=55296|c>>10&1023,utf16buf[out++]=56320|1023&c)}return buf2binstring(utf16buf,out)},exports.utf8border=function(buf,max){var pos;for((max=max||buf.length)>buf.length&&(max=buf.length),pos=max-1;pos>=0&&128==(192&buf[pos]);)pos--;return pos<0?max:0===pos?max:pos+_utf8len[buf[pos]]>max?pos:max}},function(module,exports,__webpack_require__){\"use strict\";module.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg=\"\",this.state=null,this.data_type=2,this.adler=0}},function(module,exports,__webpack_require__){\"use strict\";module.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},function(module,exports,__webpack_require__){\"use strict\";exports.LOCAL_FILE_HEADER=\"PK\u0003\u0004\",exports.CENTRAL_FILE_HEADER=\"PK\u0001\u0002\",exports.CENTRAL_DIRECTORY_END=\"PK\u0005\u0006\",exports.ZIP64_CENTRAL_DIRECTORY_LOCATOR=\"PK\u0006\u0007\",exports.ZIP64_CENTRAL_DIRECTORY_END=\"PK\u0006\u0006\",exports.DATA_DESCRIPTOR=\"PK\u0007\\b\"},function(module,exports,__nested_webpack_require_211303__){\"use strict\";var utils=__nested_webpack_require_211303__(0),support=__nested_webpack_require_211303__(7),ArrayReader=__nested_webpack_require_211303__(72),StringReader=__nested_webpack_require_211303__(121),NodeBufferReader=__nested_webpack_require_211303__(122),Uint8ArrayReader=__nested_webpack_require_211303__(74);module.exports=function(data){var type=utils.getTypeOf(data);return utils.checkSupport(type),\"string\"!==type||support.uint8array?\"nodebuffer\"===type?new NodeBufferReader(data):support.uint8array?new Uint8ArrayReader(utils.transformTo(\"uint8array\",data)):new ArrayReader(utils.transformTo(\"array\",data)):new StringReader(data)}},function(module,exports,__nested_webpack_require_211910__){\"use strict\";var DataReader=__nested_webpack_require_211910__(73);function ArrayReader(data){DataReader.call(this,data);for(var i=0;i<this.data.length;i++)data[i]=255&data[i]}__nested_webpack_require_211910__(0).inherits(ArrayReader,DataReader),ArrayReader.prototype.byteAt=function(i){return this.data[this.zero+i]},ArrayReader.prototype.lastIndexOfSignature=function(sig){for(var sig0=sig.charCodeAt(0),sig1=sig.charCodeAt(1),sig2=sig.charCodeAt(2),sig3=sig.charCodeAt(3),i=this.length-4;i>=0;--i)if(this.data[i]===sig0&&this.data[i+1]===sig1&&this.data[i+2]===sig2&&this.data[i+3]===sig3)return i-this.zero;return-1},ArrayReader.prototype.readAndCheckSignature=function(sig){var sig0=sig.charCodeAt(0),sig1=sig.charCodeAt(1),sig2=sig.charCodeAt(2),sig3=sig.charCodeAt(3),data=this.readData(4);return sig0===data[0]&&sig1===data[1]&&sig2===data[2]&&sig3===data[3]},ArrayReader.prototype.readData=function(size){if(this.checkOffset(size),0===size)return[];var result=this.data.slice(this.zero+this.index,this.zero+this.index+size);return this.index+=size,result},module.exports=ArrayReader},function(module,exports,__nested_webpack_require_213019__){\"use strict\";var utils=__nested_webpack_require_213019__(0);function DataReader(data){this.data=data,this.length=data.length,this.index=0,this.zero=0}DataReader.prototype={checkOffset:function(offset){this.checkIndex(this.index+offset)},checkIndex:function(newIndex){if(this.length<this.zero+newIndex||newIndex<0)throw new Error(\"End of data reached (data length = \"+this.length+\", asked index = \"+newIndex+\"). Corrupted zip ?\")},setIndex:function(newIndex){this.checkIndex(newIndex),this.index=newIndex},skip:function(n){this.setIndex(this.index+n)},byteAt:function(i){},readInt:function(size){var i,result=0;for(this.checkOffset(size),i=this.index+size-1;i>=this.index;i--)result=(result<<8)+this.byteAt(i);return this.index+=size,result},readString:function(size){return utils.transformTo(\"string\",this.readData(size))},readData:function(size){},lastIndexOfSignature:function(sig){},readAndCheckSignature:function(sig){},readDate:function(){var dostime=this.readInt(4);return new Date(Date.UTC(1980+(dostime>>25&127),(dostime>>21&15)-1,dostime>>16&31,dostime>>11&31,dostime>>5&63,(31&dostime)<<1))}},module.exports=DataReader},function(module,exports,__nested_webpack_require_214180__){\"use strict\";var ArrayReader=__nested_webpack_require_214180__(72);function Uint8ArrayReader(data){ArrayReader.call(this,data)}__nested_webpack_require_214180__(0).inherits(Uint8ArrayReader,ArrayReader),Uint8ArrayReader.prototype.readData=function(size){if(this.checkOffset(size),0===size)return new Uint8Array(0);var result=this.data.subarray(this.zero+this.index,this.zero+this.index+size);return this.index+=size,result},module.exports=Uint8ArrayReader},function(module,exports,__webpack_require__){\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:!0}),exports.SUBSCRIPTION_PROMPT_WIDGET_NAMESPACE=\"pushwoosh-subscription-widget\"},function(module,exports,__webpack_require__){\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:!0}),exports.BELL_POSITION_BOTTOM_RIGHT=\"bottomRight\",exports.BELL_POSITION_BOTTOM_LEFT=\"bottomLeft\",exports.BELL_POSITION_TOP_RIGHT=\"topRight\",exports.BELL_POSITION_TOP_LEFT=\"topLeft\",exports.WIDGET_CONTAINER_ID=\"pushwooshBellWidget\",exports.SUBSCRIBE_WIDGET_DEFAULT_CONFIG={position:exports.BELL_POSITION_BOTTOM_LEFT,bgColor:\"#12AE7E\",bellColor:\"white\",bellStrokeColor:\"#08754f\",bellButtonBorder:\"1px solid #379676\",shadow:\"0px 0px 6px rgba(0, 0, 0, 0.75)\",size:\"48px\",indent:\"20px\",zIndex:\"999999\",tooltipText:{successSubscribe:\"You are successfully subscribed!\",needSubscribe:\"Get notifications about important news!\",blockSubscribe:\"Click to see how to get notifications\",alreadySubscribed:\"You are already subscribed\"}}},function(module,exports,__nested_webpack_require_215680__){\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:!0});var Pushwoosh_1=__nested_webpack_require_215680__(78);exports.Pushwoosh=Pushwoosh_1.default,__nested_webpack_require_215680__(145),__nested_webpack_require_215680__(151),__nested_webpack_require_215680__(153)},function(module,exports,__nested_webpack_require_215947__){\"use strict\";var __assign=this&&this.__assign||function(){return(__assign=Object.assign||function(t){for(var s,i=1,n=arguments.length;i<n;i++)for(var p in s=arguments[i])Object.prototype.hasOwnProperty.call(s,p)&&(t[p]=s[p]);return t}).apply(this,arguments)},__awaiter=this&&this.__awaiter||function(thisArg,_arguments,P,generator){return new(P||(P=Promise))(function(resolve,reject){function fulfilled(value){try{step(generator.next(value))}catch(e){reject(e)}}function rejected(value){try{step(generator.throw(value))}catch(e){reject(e)}}function step(result){result.done?resolve(result.value):function(value){return value instanceof P?value:new P(function(resolve){resolve(value)})}(result.value).then(fulfilled,rejected)}step((generator=generator.apply(thisArg,_arguments||[])).next())})},__generator=this&&this.__generator||function(thisArg,body){var f,y,t,g,_={label:0,sent:function(){if(1&t[0])throw t[1];return t[1]},trys:[],ops:[]};return g={next:verb(0),throw:verb(1),return:verb(2)},\"function\"==typeof Symbol&&(g[Symbol.iterator]=function(){return this}),g;function verb(n){return function(v){return function(op){if(f)throw new TypeError(\"Generator is already executing.\");for(;_;)try{if(f=1,y&&(t=2&op[0]?y.return:op[0]?y.throw||((t=y.return)&&t.call(y),0):y.next)&&!(t=t.call(y,op[1])).done)return t;switch(y=0,t&&(op=[2&op[0],t.value]),op[0]){case 0:case 1:t=op;break;case 4:return _.label++,{value:op[1],done:!1};case 5:_.label++,y=op[1],op=[0];continue;case 7:op=_.ops.pop(),_.trys.pop();continue;default:if(!(t=(t=_.trys).length>0&&t[t.length-1])&&(6===op[0]||2===op[0])){_=0;continue}if(3===op[0]&&(!t||op[1]>t[0]&&op[1]<t[3])){_.label=op[1];break}if(6===op[0]&&_.label<t[1]){_.label=t[1],t=op;break}if(t&&_.label<t[2]){_.label=t[2],_.ops.push(op);break}t[2]&&_.ops.pop(),_.trys.pop();continue}op=body.call(thisArg,_)}catch(e){op=[6,e],y=0}finally{f=t=0}if(5&op[0])throw op[1];return{value:op[0]?op[1]:void 0,done:!0}}([n,v])}}};Object.defineProperty(exports,\"__esModule\",{value:!0});var uuid_1=__nested_webpack_require_215947__(15),EventBus_1=__nested_webpack_require_215947__(34),Api_1=__nested_webpack_require_215947__(36),Data_1=__nested_webpack_require_215947__(4),ApiClient_1=__nested_webpack_require_215947__(28),PushService_1=__nested_webpack_require_215947__(79),Popup_1=__nested_webpack_require_215947__(82),SubscriptionSegmentsWidget_1=__nested_webpack_require_215947__(84),SubscriptionPromptWidget_1=__nested_webpack_require_215947__(125),CONSTANTS=__nested_webpack_require_215947__(1),functions_1=__nested_webpack_require_215947__(10),PlatformChecker_1=__nested_webpack_require_215947__(21),logger_1=__nested_webpack_require_215947__(5),FacebookModule_1=__nested_webpack_require_215947__(127),InApps_1=__nested_webpack_require_215947__(128),storage_1=__nested_webpack_require_215947__(3),InboxMessages_1=__nested_webpack_require_215947__(46),InboxMessagesPublic_1=__nested_webpack_require_215947__(27),Pushwoosh=function(){function Pushwoosh(){var _this=this;this.ready=!1,this.addEventHandler=function(name,handler){return _this.eventBus.addEventHandler(name,handler)},this.removeEventHandler=function(name,handler){return _this.eventBus.removeEventHandler(name,handler)},this.dispatchEvent=function(name,payload){return _this.eventBus.dispatchEvent(name,payload)},this.debug={showLog:function(){return __awaiter(this,void 0,void 0,function(){var items;return __generator(this,function(_a){switch(_a.label){case 0:return[4,storage_1.log.getAll()];case 1:return items=_a.sent(),console.log(items),[2]}})})},showKeyValues:function(){return __awaiter(this,void 0,void 0,function(){var items;return __generator(this,function(_a){switch(_a.label){case 0:return[4,storage_1.keyValue.getAll()];case 1:return items=_a.sent(),console.log(items),[2]}})})},showMessages:function(){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(_a){switch(_a.label){case 0:return[4,storage_1.message.getAll()];case 1:return _a.sent().forEach(function(i){return console.log(i)}),[2]}})})}},this.eventBus=new EventBus_1.EventBus,this.data=new Data_1.Data,this.apiClient=new ApiClient_1.ApiClient(this.data),this.api=new Api_1.Api(this.eventBus,this.data,this.apiClient),this.platformChecker=new PlatformChecker_1.PlatformChecker,this.inboxModel=new InboxMessages_1.default(this.eventBus,this.data,this.api),this.pwinbox=new InboxMessagesPublic_1.default(this.data,this.api,this.inboxModel),this.onServiceWorkerMessage=this.onServiceWorkerMessage.bind(this);var popup=new Popup_1.Popup(\"subscription-segments\",function(){return _this.eventBus.dispatchEvent(\"hide-subscription-widget\",{})},{position:\"top\"});this.subscriptionSegmentWidget=new SubscriptionSegmentsWidget_1.SubscriptionSegmentsWidget(this.eventBus,this.data,this.apiClient,this.api,popup,this),this.subscriptionPromptWidget=new SubscriptionPromptWidget_1.SubscriptionPromptWidget(this.eventBus,this)}return Pushwoosh.prototype.push=function(command){if(\"function\"!=typeof command){if(!Array.isArray(command))throw new Error(\"Invalid command!\");switch(command[0]){case\"init\":this.initialize(command[1]);break;case CONSTANTS.EVENT_ON_LOAD:case CONSTANTS.EVENT_ON_READY:case CONSTANTS.EVENT_ON_REGISTER:case CONSTANTS.EVENT_ON_SUBSCRIBE:case CONSTANTS.EVENT_ON_UNSUBSCRIBE:case CONSTANTS.EVENT_ON_SW_INIT_ERROR:case CONSTANTS.EVENT_ON_PUSH_DELIVERY:case CONSTANTS.EVENT_ON_NOTIFICATION_CLICK:case CONSTANTS.EVENT_ON_NOTIFICATION_CLOSE:case CONSTANTS.EVENT_ON_CHANGE_COMMUNICATION_ENABLED:case CONSTANTS.EVENT_ON_PUT_NEW_MESSAGE_TO_INBOX_STORE:case CONSTANTS.EVENT_ON_UPDATE_INBOX_MESSAGES:case CONSTANTS.EVENT_ON_SHOW_NOTIFICATION_PERMISSION_DIALOG:case CONSTANTS.EVENT_ON_HIDE_NOTIFICATION_PERMISSION_DIALOG:case CONSTANTS.EVENT_ON_SHOW_SUBSCRIPTION_WIDGET:case CONSTANTS.EVENT_ON_HIDE_SUBSCRIPTION_WIDGET:case CONSTANTS.EVENT_ON_PERMISSION_DENIED:case CONSTANTS.EVENT_ON_PERMISSION_PROMPT:case CONSTANTS.EVENT_ON_PERMISSION_GRANTED:this.subscribeToLegacyEvents(command[0],command[1]);break;default:throw new Error(\"Unknown command!\")}}else this.subscribeToLegacyEvents(\"onReady\",command)},Pushwoosh.prototype.subscribe=function(isForceSubscribe){return void 0===isForceSubscribe&&(isForceSubscribe=!0),__awaiter(this,void 0,void 0,function(){var permission_1,permission,isManualUnsubscribed,isDeviceRegister;return __generator(this,function(_a){switch(_a.label){case 0:return this.isCommunicationDisabled&&logger_1.Logger.error(\"Communication is disabled!\"),this.driver.checkIsPermissionDefault()?(this.eventBus.dispatchEvent(\"show-notification-permission-dialog\",{}),[4,this.driver.askPermission()]):[3,2];case 1:_a.sent(),permission_1=this.driver.getPermission(),this.eventBus.dispatchEvent(\"hide-notification-permission-dialog\",{permission:permission_1}),_a.label=2;case 2:return permission=this.driver.getPermission(),[4,this.data.getStatusManualUnsubscribed()];case 3:return isManualUnsubscribed=_a.sent(),[4,this.api.checkDeviceSubscribeForPushNotifications(!1)];case 4:return isDeviceRegister=_a.sent(),permission!==CONSTANTS.PERMISSION_GRANTED?[3,7]:(this.eventBus.dispatchEvent(\"permission-granted\",{}),!(isForceSubscribe||!isManualUnsubscribed)||isDeviceRegister?[3,6]:[4,this.driver.subscribe()]);case 5:_a.sent(),_a.label=6;case 6:return this.eventBus.dispatchEvent(\"subscribe\",{}),[2];case 7:return permission!==CONSTANTS.PERMISSION_DENIED?[3,10]:(this.eventBus.dispatchEvent(\"permission-denied\",{}),isDeviceRegister?[4,this.driver.unsubscribe()]:[3,9]);case 8:_a.sent(),_a.label=9;case 9:case 10:return[2]}})})},Pushwoosh.prototype.unsubscribe=function(){return __awaiter(this,void 0,void 0,function(){var error_1;return __generator(this,function(_a){switch(_a.label){case 0:return _a.trys.push([0,2,,3]),[4,this.driver.unsubscribe()];case 1:return _a.sent(),[3,3];case 2:return error_1=_a.sent(),logger_1.Logger.error(error_1,\"Error occurred during the unsubscribe\"),[3,3];case 3:return[2]}})})},Pushwoosh.prototype.forceSubscribe=function(){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(_a){switch(_a.label){case 0:return[4,this.subscribe(!0)];case 1:return _a.sent(),[2]}})})},Pushwoosh.prototype.isDeviceRegistered=function(){return localStorage.getItem(CONSTANTS.KEY_DEVICE_REGISTRATION_STATUS)===CONSTANTS.DEVICE_REGISTRATION_STATUS_REGISTERED},Pushwoosh.prototype.isDeviceUnregistered=function(){return localStorage.getItem(CONSTANTS.KEY_DEVICE_REGISTRATION_STATUS)===CONSTANTS.DEVICE_REGISTRATION_STATUS_UNREGISTERED},Pushwoosh.prototype.isSubscribed=function(){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(_a){return[2,this.api.checkDeviceSubscribeForPushNotifications()]})})},Pushwoosh.prototype.isCommunicationEnabled=function(){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(_a){switch(_a.label){case 0:return[4,this.data.getStatusCommunicationDisabled()];case 1:return[2,!_a.sent()]}})})},Pushwoosh.prototype.setCommunicationEnabled=function(isEnabled){return void 0===isEnabled&&(isEnabled=!0),__awaiter(this,void 0,void 0,function(){var deviceType,isPermissionGranted;return __generator(this,function(_a){switch(_a.label){case 0:return[4,this.data.getDeviceType()];case 1:return deviceType=_a.sent(),isPermissionGranted=this.driver.checkIsPermissionGranted(),[4,this.data.setStatusCommunicationDisabled(!isEnabled)];case 2:return _a.sent(),isEnabled?[4,this.data.setStatusDropAllData(!1)]:[3,6];case 3:return _a.sent(),isPermissionGranted?[4,this.api.registerDevice()]:[3,5];case 4:_a.sent(),_a.label=5;case 5:return[3,8];case 6:return[4,this.api.unregisterDevice()];case 7:_a.sent(),_a.label=8;case 8:return this.eventBus.dispatchEvent(\"change-enabled-communication\",{isEnabled:isEnabled}),[4,this.api.postEvent(CONSTANTS.EVENT_GDPR_CONSENT,{channel:isEnabled,device_type:deviceType})];case 9:return _a.sent(),[2]}})})},Pushwoosh.prototype.removeAllDeviceData=function(){return __awaiter(this,void 0,void 0,function(){var deviceType;return __generator(this,function(_a){switch(_a.label){case 0:return[4,this.data.getDeviceType()];case 1:return deviceType=_a.sent(),[4,this.api.postEvent(CONSTANTS.EVENT_GDPR_DELETE,{status:!0,device_type:deviceType})];case 2:return _a.sent(),[4,this.api.deleteDevice()];case 3:return _a.sent(),[4,this.data.clearAll()];case 4:return _a.sent(),[4,this.data.setStatusDropAllData(!0)];case 5:return _a.sent(),[2]}})})},Pushwoosh.prototype.getHWID=function(){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(_a){switch(_a.label){case 0:return[4,this.data.getHwid()];case 1:return[2,_a.sent()]}})})},Pushwoosh.prototype.getPushToken=function(){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(_a){switch(_a.label){case 0:return[4,this.data.getTokens()];case 1:return[2,_a.sent().pushToken]}})})},Pushwoosh.prototype.getUserId=function(){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(_a){switch(_a.label){case 0:return[4,this.data.getUserId()];case 1:return[2,_a.sent()]}})})},Pushwoosh.prototype.getParams=function(){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(_a){switch(_a.label){case 0:return[4,this.api.getParams()];case 1:return[2,_a.sent()]}})})},Pushwoosh.prototype.isAvailableNotifications=function(){return this.platformChecker.isAvailableNotifications},Pushwoosh.prototype.sendStatisticsVisitedPage=function(){return __awaiter(this,void 0,void 0,function(){var title,_a,origin,pathname,href;return __generator(this,function(_b){switch(_b.label){case 0:return title=window.document.title,_a=window.location,origin=_a.origin,pathname=_a.pathname,href=_a.href,[4,this.api.pageVisit({title:title,url_path:\"\"+origin+pathname,url:href})];case 1:return _b.sent(),[2]}})})},Pushwoosh.prototype.isEnableChannels=function(){return __awaiter(this,void 0,void 0,function(){var features,channels;return __generator(this,function(_a){switch(_a.label){case 0:return[4,this.data.getFeatures()];case 1:return features=_a.sent(),channels=features&&features.channels,[2,Array.isArray(channels)&&!!channels.length]}})})},Pushwoosh.prototype.initialize=function(params){return __awaiter(this,void 0,void 0,function(){var manualDebug,applicationCode,notSavedApplicationCode,isChangeApplicationCode,id,config,_a,userIdWasChange,inAppsConfig,error_2,error_3,delayedEvent,type,payload,hashReg,hash;return __generator(this,function(_b){switch(_b.label){case 0:return manualDebug=localStorage.getItem(CONSTANTS.MANUAL_SET_LOGGER_LEVEL),logger_1.Logger.setLevel(manualDebug||params.logLevel||\"error\"),this.platformChecker.isAvailableNotifications?[4,this.data.getApplicationCode()]:[2];case 1:if(applicationCode=_b.sent(),!params.applicationCode)throw new Error(\"Can't find application code!\");return notSavedApplicationCode=!applicationCode,isChangeApplicationCode=applicationCode&&applicationCode!==params.applicationCode,notSavedApplicationCode||isChangeApplicationCode?[4,this.data.clearAll()]:[3,4];case 2:return _b.sent(),[4,this.data.setApplicationCode(params.applicationCode)];case 3:_b.sent(),_b.label=4;case 4:return[4,this.data.getHwid()];case 5:return _b.sent()?[3,7]:(id=params.applicationCode+\"_\"+uuid_1.v4(),[4,this.data.setHwid(id)]);case 6:return _b.sent(),[3,9];case 7:return[4,this.api.checkDevice()];case 8:_b.sent(),_b.label=9;case 9:return[4,this.data.setDeviceType(this.platformChecker.getPlatformType())];case 10:return _b.sent(),[4,this.data.setDeviceModel(this.platformChecker.getBrowserVersion())];case 11:return _b.sent(),[4,this.data.setLanguage(params.tags&&params.tags.Language||navigator.language)];case 12:return _b.sent(),params.pushwooshUrl?[4,this.data.setApiEntrypoint(params.pushwooshUrl)]:[3,14];case 13:_b.sent(),_b.label=14;case 14:return[4,this.data.setSdkVersion(\"3.19.3\")];case 15:return _b.sent(),[4,this.api.getConfig([\"page_visit\",\"vapid_key\",\"web_in_apps\",\"events\",\"subscription_prompt\"])];case 16:return config=_b.sent(),this.onGetConfig(config&&config.features),this.subscribeWidgetConfig=__assign({enable:!1},params.subscribeWidget),this.inboxWidgetConfig=__assign({enable:!1},params.inboxWidget),this.subscribePopupConfig=__assign({enable:!1},params.subscribePopup),_a=this,[4,this.data.getStatusCommunicationDisabled()];case 17:return _a.isCommunicationDisabled=_b.sent(),[4,this.open()];case 18:return _b.sent(),[4,this.data.getStatusUserIdWasChanged()];case 19:return userIdWasChange=_b.sent(),!params.userId||\"user_id\"===params.userId||userIdWasChange?[3,21]:[4,this.api.registerUser(params.userId)];case 20:_b.sent(),_b.label=21;case 21:return params.tags&&this.api.setTags(params.tags),inAppsConfig=__assign({enable:config.features.web_in_apps&&config.features.web_in_apps.enabled},params.inApps),[4,this.initInApp(inAppsConfig)];case 22:return _b.sent(),this.platformChecker.isAvailableNotifications?[4,this.initPushNotifications(params)]:[3,24];case 23:_b.sent(),_b.label=24;case 24:return _b.trys.push([24,26,,27]),[4,this.inboxModel.updateMessages()];case 25:return _b.sent(),[3,27];case 26:return error_2=_b.sent(),logger_1.Logger.write(\"error\",error_2),[3,27];case 27:return _b.trys.push([27,29,,30]),[4,this.initFacebook(params)];case 28:return _b.sent(),[3,30];case 29:return error_3=_b.sent(),logger_1.Logger.write(\"error\",error_3),[3,30];case 30:return this.ready=!0,this.eventBus.dispatchEvent(\"ready\",{}),[4,this.data.getDelayedEvent()];case 31:return(delayedEvent=_b.sent())?(type=delayedEvent.type,payload=delayedEvent.payload,[4,this.emitLegacyEventsFromServiceWorker(type,payload)]):[3,34];case 32:return _b.sent(),[4,this.data.setDelayedEvent(null)];case 33:_b.sent(),_b.label=34;case 34:return\"serviceWorker\"in navigator&&(navigator.serviceWorker.onmessage=this.onServiceWorkerMessage),localStorage.setItem(\"pushwoosh-websdk-status\",\"init\"),document.dispatchEvent(new CustomEvent(\"pushwoosh.initialized\",{detail:{pw:this}})),this.platformChecker.isSafari&&(hashReg=/#P(.*)/,hash=decodeURIComponent(document.location.hash),hashReg.test(hash)&&this.api.pushStat(hashReg.exec(hash)[1]).then(functions_1.clearLocationHash)),[2]}})})},Pushwoosh.prototype.defaultProcess=function(initParams){return __awaiter(this,void 0,void 0,function(){var permission,isCommunicationDisabled,isDropAllData,isNeedResubscribe,features,currentPromptUseCase,autoSubscribe,isManualUnsubscribed,isRegister,widgetConfig,isDefaultUseCase,isNotSetUseCase,result;return __generator(this,function(_b){switch(_b.label){case 0:return\"granted\"!==(permission=this.driver.getPermission())?[3,2]:[4,this.data.setLastPermissionStatus(permission)];case 1:_b.sent(),_b.label=2;case 2:return[4,this.data.getStatusCommunicationDisabled()];case 3:return isCommunicationDisabled=_b.sent(),[4,this.data.getStatusDropAllData()];case 4:return isDropAllData=_b.sent(),[4,this.driver.checkIsNeedResubscribe()];case 5:return isNeedResubscribe=_b.sent(),[4,this.data.getFeatures()];case 6:return features=_b.sent(),currentPromptUseCase=features.subscription_prompt&&features.subscription_prompt.use_case,isCommunicationDisabled||isDropAllData?[4,this.unsubscribe()]:[3,8];case 7:return _b.sent(),[2];case 8:return isNeedResubscribe?[4,this.unsubscribe()]:[3,11];case 9:return _b.sent(),[4,this.data.setStatusManualUnsubscribed(!1)];case 10:_b.sent(),_b.label=11;case 11:return autoSubscribe=initParams.autoSubscribe,[4,this.data.getStatusManualUnsubscribed()];case 12:return isManualUnsubscribed=_b.sent(),[4,this.api.checkDeviceSubscribeForPushNotifications(!1)];case 13:switch(isRegister=_b.sent(),permission){case CONSTANTS.PERMISSION_PROMPT:return[3,14];case CONSTANTS.PERMISSION_DENIED:return[3,22];case CONSTANTS.PERMISSION_GRANTED:return[3,25]}return[3,31];case 14:return this.eventBus.dispatchEvent(\"permission-default\",{}),isRegister?[4,this.unsubscribe()]:[3,16];case 15:_b.sent(),_b.label=16;case 16:return[4,this.getWidgetConfig()];case 17:return widgetConfig=_b.sent(),[4,this.checkCanShowByCapping(widgetConfig)];case 18:return _b.sent()?currentPromptUseCase===CONSTANTS.SUBSCRIPTION_WIDGET_USE_CASE_TOPIC_BASED?[4,this.subscriptionSegmentWidget.init()]:[3,20]:[3,31];case 19:_b.sent(),_b.label=20;case 20:return isDefaultUseCase=currentPromptUseCase===CONSTANTS.SUBSCRIPTION_WIDGET_USE_CASE_DEFAULT,isNotSetUseCase=currentPromptUseCase===CONSTANTS.SUBSCRIPTION_WIDGET_USE_CASE_NOT_SET&&autoSubscribe,(isDefaultUseCase||isNotSetUseCase)&&(this.subscriptionPromptWidget.init(widgetConfig),this.subscriptionPromptWidget.show()),[4,this.updateCappingParams()];case 21:return _b.sent(),[3,31];case 22:return this.eventBus.dispatchEvent(\"permission-denied\",{}),isRegister?[4,this.unsubscribe()]:[3,24];case 23:_b.sent(),_b.label=24;case 24:return[3,31];case 25:return this.eventBus.dispatchEvent(\"permission-granted\",{}),isManualUnsubscribed&&isRegister?[4,this.unsubscribe()]:[3,27];case 26:_b.sent(),_b.label=27;case 27:return!isRegister&&!isManualUnsubscribed||isNeedResubscribe?[4,this.subscribe(!0)]:[3,30];case 28:return _b.sent(),currentPromptUseCase===CONSTANTS.SUBSCRIPTION_WIDGET_USE_CASE_TOPIC_BASED?(result=features.channels.map(function(channel){return channel.code}),[4,this.api.setTags({\"Subscription Segments\":result})]):[3,30];case 29:_b.sent(),_b.label=30;case 30:return[3,31];case 31:return[2]}})})},Pushwoosh.prototype.getWidgetConfig=function(){return __awaiter(this,void 0,void 0,function(){var features,currentConfig,configWithDefaultCapping;return __generator(this,function(_a){switch(_a.label){case 0:return[4,this.data.getFeatures()];case 1:return features=_a.sent(),currentConfig=features.subscription_prompt_widget&&features.subscription_prompt_widget.params,configWithDefaultCapping=__assign({cappingCount:CONSTANTS.SUBSCRIPTION_PROMPT_WIDGET_DEFAULT_CONFIG.cappingCount,cappingDelay:CONSTANTS.SUBSCRIPTION_PROMPT_WIDGET_DEFAULT_CONFIG.cappingDelay},currentConfig),[2,currentConfig?configWithDefaultCapping:CONSTANTS.SUBSCRIPTION_PROMPT_WIDGET_DEFAULT_CONFIG]}})})},Pushwoosh.prototype.checkCanShowByCapping=function(widgetConfig){return __awaiter(this,void 0,void 0,function(){var currentTime,displayCount,lastSeenTime,canShowByCapping,canShowByLastTime;return __generator(this,function(_a){switch(_a.label){case 0:return currentTime=(new Date).getTime(),[4,this.data.getPromptDisplayCount()];case 1:return displayCount=_a.sent(),[4,this.data.getPromptLastSeenTime()];case 2:return lastSeenTime=_a.sent(),canShowByCapping=widgetConfig.cappingCount>displayCount,canShowByLastTime=currentTime-lastSeenTime>widgetConfig.cappingDelay,[2,canShowByCapping&&canShowByLastTime]}})})},Pushwoosh.prototype.updateCappingParams=function(){return __awaiter(this,void 0,void 0,function(){var displayCount,currentTime;return __generator(this,function(_a){switch(_a.label){case 0:return[4,this.data.getPromptDisplayCount()];case 1:return displayCount=_a.sent(),currentTime=(new Date).getTime(),[4,this.data.setPromptDisplayCount(displayCount+1)];case 2:return _a.sent(),[4,this.data.setPromptLastSeenTime(currentTime)];case 3:return _a.sent(),[2]}})})},Pushwoosh.prototype.initFacebook=function(initParams){var facebook=__assign({enable:!1,pageId:\"\",containerClass:\"\"},initParams.facebook);if(facebook&&facebook.enable)try{new FacebookModule_1.default({pageId:facebook.pageId,containerClass:facebook.containerClass,applicationCode:initParams.applicationCode,userId:initParams.userId||\"\"})}catch(error){logger_1.Logger.error(error,\"facebook module initialization failed\")}},Pushwoosh.prototype.initInApp=function(params){return __awaiter(this,void 0,void 0,function(){var error_4,_this=this;return __generator(this,function(_a){switch(_a.label){case 0:if(!params||!params.enable)return[3,4];_a.label=1;case 1:return _a.trys.push([1,3,,4]),this.InApps=new InApps_1.InApps(params,this,this.eventBus,this.api),[4,this.InApps.init().then(function(){logger_1.Logger.info(\"InApps module has been initialized\"),_this.eventBus.dispatchEvent(\"initialize-in-apps-module\",{})}).catch(function(error){logger_1.Logger.error(error,\"InApps module initialization has been failed\")})];case 2:return _a.sent(),[3,4];case 3:return error_4=_a.sent(),logger_1.Logger.error(error_4,\"InApp module initialization has been failed\"),[3,4];case 4:return[2]}})})},Pushwoosh.prototype.onServiceWorkerMessage=function(event){var _a=(event||{}).data,_b=(void 0===_a?{}:_a)||{},_c=_b.type,type=void 0===_c?\"\":_c,_d=_b.payload,payload=void 0===_d?{}:_d;this.emitLegacyEventsFromServiceWorker(type,payload)},Pushwoosh.prototype.open=function(isForce){return __awaiter(this,void 0,void 0,function(){var lastApplicationOpenTime,currentTime,isSendingPeriodExceeded;return __generator(this,function(_a){switch(_a.label){case 0:return[4,this.data.getLastOpenApplicationTime()];case 1:return lastApplicationOpenTime=_a.sent(),currentTime=Date.now(),lastApplicationOpenTime||(lastApplicationOpenTime=0),isSendingPeriodExceeded=currentTime-lastApplicationOpenTime<CONSTANTS.PERIOD_SEND_APP_OPEN,isForce||!isSendingPeriodExceeded?[4,this.data.setLastOpenApplicationTime(currentTime)]:[2];case 2:return _a.sent(),[4,this.api.applicationOpen()];case 3:return _a.sent(),[2]}})})},Pushwoosh.prototype.onGetConfig=function(features){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(_a){switch(_a.label){case 0:return[4,this.data.setFeatures(features)];case 1:return _a.sent(),features?features.page_visit&&features.page_visit.enabled?[4,storage_1.keyValue.set(CONSTANTS.PAGE_VISITED_URL,features.page_visit.entrypoint)]:[3,3]:[3,5];case 2:_a.sent(),this.sendStatisticsVisitedPage(),_a.label=3;case 3:return features.events&&features.events.length&&features.events.some(function(event){return event===CONSTANTS.EVENT_PW_SITE_OPENED})&&this.sendPostEventVisitedPage(),features.vapid_key?[4,this.data.setApplicationServerKey(features.vapid_key)]:[3,5];case 4:_a.sent(),_a.label=5;case 5:return[2]}})})},Pushwoosh.prototype.initPushNotifications=function(params){return __awaiter(this,void 0,void 0,function(){var error_5;return __generator(this,function(_a){switch(_a.label){case 0:return[4,this.data.setDefaultNotificationImage(params.defaultNotificationImage)];case 1:return _a.sent(),[4,this.data.setDefaultNotificationTitle(params.defaultNotificationTitle)];case 2:return _a.sent(),[4,this.data.setServiceWorkerUrl(params.serviceWorkerUrl)];case 3:return _a.sent(),[4,this.data.setServiceWorkerScope(params.scope)];case 4:return _a.sent(),[4,this.data.setInitParams(__assign({autoSubscribe:!0},params))];case 5:return _a.sent(),[4,this.initDriver()];case 6:_a.sent(),_a.label=7;case 7:return _a.trys.push([7,9,,10]),[4,this.defaultProcess(params)];case 8:return _a.sent(),[3,10];case 9:return error_5=_a.sent(),logger_1.Logger.error(error_5,\"Internal error: defaultProcess fail\"),[3,10];case 10:return[2]}})})},Pushwoosh.prototype.initDriver=function(){return __awaiter(this,void 0,void 0,function(){var webSitePushId;return __generator(this,function(_a){switch(_a.label){case 0:return this.platformChecker.isSafari?[4,this.data.getInitParams()]:[3,2];case 1:if(!(webSitePushId=_a.sent().safariWebsitePushID))throw new Error(\"For work with Safari Push Notification add safariWebsitePushID to initParams!\");return this.driver=new PushService_1.PushServiceSafari(this.api,this.data,{webSitePushId:webSitePushId}),[2];case 2:return this.platformChecker.isAvailableServiceWorker?(this.driver=new PushService_1.PushServiceDefault(this.api,this.data,{}),[2]):[2]}})})},Pushwoosh.prototype.sendPostEventVisitedPage=function(){return __awaiter(this,void 0,void 0,function(){var title,href;return __generator(this,function(_a){return title=window.document.title,href=window.location.href,this.api.postEvent(CONSTANTS.EVENT_PW_SITE_OPENED,{url:href,title:title,device_type:this.platformChecker.platform}),[2]})})},Pushwoosh.prototype.subscribeToLegacyEvents=function(type,handler){var _this=this;switch(type){case CONSTANTS.EVENT_ON_LOAD:handler();break;case CONSTANTS.EVENT_ON_READY:if(this.ready){handler(this.api);break}this.eventBus.addEventHandler(\"ready\",function(){return handler(_this.api)});break;case CONSTANTS.EVENT_ON_REGISTER:this.eventBus.addEventHandler(\"register\",function(){return handler(_this.api)});break;case CONSTANTS.EVENT_ON_SUBSCRIBE:this.eventBus.addEventHandler(\"subscribe\",function(){return handler(_this.api)});break;case CONSTANTS.EVENT_ON_UNSUBSCRIBE:this.eventBus.addEventHandler(\"unsubscribe\",function(){return handler(_this.api)});break;case CONSTANTS.EVENT_ON_SW_INIT_ERROR:this.eventBus.addEventHandler(\"initialize-service-worker-error\",function(_a){var error=_a.error;return handler(_this.api,error)});break;case CONSTANTS.EVENT_ON_PUSH_DELIVERY:this.eventBus.addEventHandler(\"receive-push\",function(_a){var notification=_a.notification;return handler(_this.api,notification)});break;case CONSTANTS.EVENT_ON_NOTIFICATION_CLICK:this.eventBus.addEventHandler(\"open-notification\",function(_a){var notification=_a.notification;return handler(_this.api,notification)});break;case CONSTANTS.EVENT_ON_NOTIFICATION_CLOSE:this.eventBus.addEventHandler(\"hide-notification\",function(_a){var notification=_a.notification;return handler(_this.api,notification)});break;case CONSTANTS.EVENT_ON_CHANGE_COMMUNICATION_ENABLED:this.eventBus.addEventHandler(\"change-enabled-communication\",function(_a){var isEnabled=_a.isEnabled;return handler(_this.api,isEnabled)});break;case CONSTANTS.EVENT_ON_PUT_NEW_MESSAGE_TO_INBOX_STORE:this.eventBus.addEventHandler(\"receive-inbox-message\",function(_a){var message=_a.message;return handler(_this.api,message)});break;case CONSTANTS.EVENT_ON_UPDATE_INBOX_MESSAGES:this.eventBus.addEventHandler(\"update-inbox-messages\",function(_a){var messages=_a.messages;return handler(_this.api,messages)});break;case CONSTANTS.EVENT_ON_SHOW_NOTIFICATION_PERMISSION_DIALOG:this.eventBus.addEventHandler(\"show-notification-permission-dialog\",function(){return handler(_this.api)});break;case CONSTANTS.EVENT_ON_HIDE_NOTIFICATION_PERMISSION_DIALOG:this.eventBus.addEventHandler(\"hide-notification-permission-dialog\",function(_a){var permission=_a.permission;return handler(_this.api,permission)});break;case CONSTANTS.EVENT_ON_SHOW_SUBSCRIPTION_WIDGET:this.eventBus.addEventHandler(\"show-subscription-widget\",function(){return handler(_this.api)});break;case CONSTANTS.EVENT_ON_HIDE_SUBSCRIPTION_WIDGET:this.eventBus.addEventHandler(\"hide-subscription-widget\",function(){return handler(_this.api)});break;case CONSTANTS.EVENT_ON_PERMISSION_DENIED:this.eventBus.addEventHandler(\"permission-denied\",function(){return handler(_this.api)});break;case CONSTANTS.EVENT_ON_PERMISSION_PROMPT:this.eventBus.addEventHandler(\"permission-default\",function(){return handler(_this.api)});break;case CONSTANTS.EVENT_ON_PERMISSION_GRANTED:this.eventBus.addEventHandler(\"permission-granted\",function(){return handler(_this.api)})}},Pushwoosh.prototype.emitLegacyEventsFromServiceWorker=function(type,payload){switch(type){case CONSTANTS.EVENT_ON_PUSH_DELIVERY:this.eventBus.dispatchEvent(\"receive-push\",{notification:payload});break;case CONSTANTS.EVENT_ON_NOTIFICATION_CLICK:this.eventBus.dispatchEvent(\"open-notification\",{notification:payload});break;case CONSTANTS.EVENT_ON_NOTIFICATION_CLOSE:this.eventBus.dispatchEvent(\"hide-notification\",{notification:payload});break;case CONSTANTS.EVENT_ON_PUT_NEW_MESSAGE_TO_INBOX_STORE:this.eventBus.dispatchEvent(\"receive-inbox-message\",{message:payload})}},Pushwoosh}();exports.default=Pushwoosh},function(module,exports,__nested_webpack_require_245103__){\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:!0});var PushServiceDefault_1=__nested_webpack_require_245103__(80);exports.PushServiceDefault=PushServiceDefault_1.PushServiceDefault;var PushServiceSafari_1=__nested_webpack_require_245103__(81);exports.PushServiceSafari=PushServiceSafari_1.PushServiceSafari},function(module,exports,__nested_webpack_require_245445__){\"use strict\";var __awaiter=this&&this.__awaiter||function(thisArg,_arguments,P,generator){return new(P||(P=Promise))(function(resolve,reject){function fulfilled(value){try{step(generator.next(value))}catch(e){reject(e)}}function rejected(value){try{step(generator.throw(value))}catch(e){reject(e)}}function step(result){result.done?resolve(result.value):function(value){return value instanceof P?value:new P(function(resolve){resolve(value)})}(result.value).then(fulfilled,rejected)}step((generator=generator.apply(thisArg,_arguments||[])).next())})},__generator=this&&this.__generator||function(thisArg,body){var f,y,t,g,_={label:0,sent:function(){if(1&t[0])throw t[1];return t[1]},trys:[],ops:[]};return g={next:verb(0),throw:verb(1),return:verb(2)},\"function\"==typeof Symbol&&(g[Symbol.iterator]=function(){return this}),g;function verb(n){return function(v){return function(op){if(f)throw new TypeError(\"Generator is already executing.\");for(;_;)try{if(f=1,y&&(t=2&op[0]?y.return:op[0]?y.throw||((t=y.return)&&t.call(y),0):y.next)&&!(t=t.call(y,op[1])).done)return t;switch(y=0,t&&(op=[2&op[0],t.value]),op[0]){case 0:case 1:t=op;break;case 4:return _.label++,{value:op[1],done:!1};case 5:_.label++,y=op[1],op=[0];continue;case 7:op=_.ops.pop(),_.trys.pop();continue;default:if(!(t=(t=_.trys).length>0&&t[t.length-1])&&(6===op[0]||2===op[0])){_=0;continue}if(3===op[0]&&(!t||op[1]>t[0]&&op[1]<t[3])){_.label=op[1];break}if(6===op[0]&&_.label<t[1]){_.label=t[1],t=op;break}if(t&&_.label<t[2]){_.label=t[2],_.ops.push(op);break}t[2]&&_.ops.pop(),_.trys.pop();continue}op=body.call(thisArg,_)}catch(e){op=[6,e],y=0}finally{f=t=0}if(5&op[0])throw op[1];return{value:op[0]?op[1]:void 0,done:!0}}([n,v])}}};Object.defineProperty(exports,\"__esModule\",{value:!0});var uuid_1=__nested_webpack_require_245445__(15),logger_1=__nested_webpack_require_245445__(5),CONSTANTS=__nested_webpack_require_245445__(1),PushServiceDefault=function(){function PushServiceDefault(api,data,config){this.api=api,this.data=data,this.config=config}return PushServiceDefault.prototype.getPermission=function(){return Notification.permission},PushServiceDefault.prototype.checkIsPermissionGranted=function(){return this.getPermission()===CONSTANTS.PERMISSION_GRANTED},PushServiceDefault.prototype.checkIsPermissionDefault=function(){return this.getPermission()===CONSTANTS.PERMISSION_PROMPT},PushServiceDefault.prototype.checkIsManualUnsubscribed=function(){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(_a){return[2,this.data.getStatusManualUnsubscribed()]})})},PushServiceDefault.prototype.askPermission=function(){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(_a){switch(_a.label){case 0:return[4,Notification.requestPermission()];case 1:return _a.sent(),[2]}})})},PushServiceDefault.prototype.getTokens=function(){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(_a){return[2,this.data.getTokens()]})})},PushServiceDefault.prototype.subscribe=function(){return __awaiter(this,void 0,void 0,function(){var subscription,applicationServerKey,senderId,pushToken,_p256dn,_auth,p256dh,auth,_a,token,pushSet;return __generator(this,function(_b){switch(_b.label){case 0:return this.checkIsPermissionGranted()?[4,this.trySubscribe()]:(logger_1.Logger.error(\"You must have permission granted before subscribe!\"),[2]);case 1:return subscription=_b.sent(),[4,this.getApplicationServerKey()];case 2:return applicationServerKey=_b.sent(),[4,this.getSenderIdFromManifest()];case 3:return senderId=_b.sent(),[4,this.checkIsChangeSenderId(senderId)];case 4:return _b.sent()?[4,this.unsubscribe()]:[3,7];case 5:return _b.sent(),[4,this.data.setSenderId(senderId)];case 6:_b.sent(),_b.label=7;case 7:return[4,this.getPushToken(subscription)];case 8:if(pushToken=_b.sent(),_p256dn=subscription.getKey(\"p256dh\"),_auth=subscription.getKey(\"auth\"),!_p256dn||!_auth)throw new Error(\"Can't get subscription keys!\");return p256dh=btoa(String.fromCharCode.apply(String,new Uint8Array(_p256dn))),auth=btoa(String.fromCharCode.apply(String,new Uint8Array(_auth))),[4,this.getFcmKeys({endpoint:subscription.endpoint,application_pub_key:applicationServerKey,encryption_key:p256dh,encryption_auth:auth,authorized_entity:senderId})];case 9:return _a=_b.sent(),token=_a.token,pushSet=_a.pushSet,[4,this.data.setTokens({publicKey:p256dh,pushToken:pushToken,authToken:auth,fcmPushSet:pushSet,fcmToken:token,endpoint:subscription.endpoint})];case 10:return _b.sent(),[4,this.api.registerDevice()];case 11:return _b.sent(),[2]}})})},PushServiceDefault.prototype.unsubscribe=function(){return __awaiter(this,void 0,void 0,function(){var subscription;return __generator(this,function(_a){switch(_a.label){case 0:return[4,this.getServiceWorkerRegistration()];case 1:return[4,_a.sent().pushManager.getSubscription()];case 2:return subscription=_a.sent(),[4,this.data.setTokens({})];case 3:return _a.sent(),[4,this.data.setStatusManualUnsubscribed(!0)];case 4:return _a.sent(),[4,this.api.unregisterDevice()];case 5:return _a.sent(),subscription?[4,subscription.unsubscribe()]:[2];case 6:return _a.sent(),[2]}})})},PushServiceDefault.prototype.checkIsRegister=function(){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(_a){return[2,this.api.checkDeviceSubscribeForPushNotifications()]})})},PushServiceDefault.prototype.checkIsNeedResubscribe=function(){return __awaiter(this,void 0,void 0,function(){var savedSenderId,isExistSavedSenderId,manifestSenderId,isChangeSenderID,lastPermission,permission,credentials,pushTokenFromSubscription,pushTokenFromStore,isEqualPushTokens;return __generator(this,function(_a){switch(_a.label){case 0:return[4,this.data.getSenderId()];case 1:return savedSenderId=_a.sent(),isExistSavedSenderId=void 0!==savedSenderId,[4,this.getSenderIdFromManifest()];case 2:return manifestSenderId=_a.sent(),isChangeSenderID=isExistSavedSenderId&&manifestSenderId!==savedSenderId,[4,this.data.setSenderId(manifestSenderId)];case 3:return _a.sent(),[4,this.data.getLastPermissionStatus()];case 4:return lastPermission=_a.sent(),permission=this.getPermission(),isExistSavedSenderId&&lastPermission!==permission?[4,this.data.setLastPermissionStatus(permission)]:[3,6];case 5:return _a.sent(),[2,!0];case 6:return[4,this.getCredentials()];case 7:return credentials=_a.sent(),[4,this.getPushToken(credentials)];case 8:return pushTokenFromSubscription=_a.sent(),[4,this.data.getTokens()];case 9:return pushTokenFromStore=_a.sent(),isEqualPushTokens=pushTokenFromSubscription===(pushTokenFromStore&&pushTokenFromStore.pushToken),[2,isChangeSenderID||!isEqualPushTokens]}})})},PushServiceDefault.prototype.getServiceWorkerRegistration=function(){return __awaiter(this,void 0,void 0,function(){var _a;return __generator(this,function(_b){switch(_b.label){case 0:return this.registration?[3,4]:[4,this.registerServiceWorker()];case 1:return _b.sent(),_a=this,[4,navigator.serviceWorker.getRegistration()];case 2:return _a.registration=_b.sent(),[4,this.registration.update()];case 3:_b.sent(),_b.label=4;case 4:if(!this.registration)throw new Error(\"Internal Error: Can't register service worker!\");return[2,this.registration]}})})},PushServiceDefault.prototype.registerServiceWorker=function(){return __awaiter(this,void 0,void 0,function(){var url,scope,sdkVersion,serviceWorkerVersion,cleanCache;return __generator(this,function(_a){switch(_a.label){case 0:return[4,this.data.getServiceWorkerUrl()];case 1:return url=_a.sent(),[4,this.data.getServiceWorkerScope()];case 2:return scope=_a.sent(),[4,this.data.getSdkVersion()];case 3:return sdkVersion=_a.sent(),[4,this.data.getServiceWorkerVersion()];case 4:return serviceWorkerVersion=_a.sent(),cleanCache=\"\",sdkVersion!==serviceWorkerVersion&&(cleanCache=\"?cache_clean=\"+uuid_1.v4()),[4,navigator.serviceWorker.register(\"\"+url+cleanCache,{scope:scope})];case 5:return _a.sent(),[2]}})})},PushServiceDefault.prototype.trySubscribe=function(){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(_a){switch(_a.label){case 0:return _a.trys.push([0,2,,4]),[4,this.subscribePushManager()];case 1:return[2,_a.sent()];case 2:return _a.sent(),[4,this.unsubscribe()];case 3:return _a.sent(),[2,this.subscribePushManager()];case 4:return[2]}})})},PushServiceDefault.prototype.subscribePushManager=function(){return __awaiter(this,void 0,void 0,function(){var registration,applicationServerKey;return __generator(this,function(_a){switch(_a.label){case 0:return[4,this.getServiceWorkerRegistration()];case 1:return registration=_a.sent(),[4,this.getApplicationServerKey()];case 2:return applicationServerKey=_a.sent(),[2,registration.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:applicationServerKey})]}})})},PushServiceDefault.prototype.getCredentials=function(){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(_a){switch(_a.label){case 0:return[4,this.getServiceWorkerRegistration()];case 1:return[4,_a.sent().pushManager.getSubscription()];case 2:return[2,_a.sent()]}})})},PushServiceDefault.prototype.getFcmKeys=function(config){return __awaiter(this,void 0,void 0,function(){var response;return __generator(this,function(_a){switch(_a.label){case 0:return[4,fetch(this.config.entrypoint||\"https://fcm.googleapis.com/fcm/connect/subscribe\",{method:\"POST\",headers:{\"Content-Type\":\"text/plain;charset=UTF-8\"},body:JSON.stringify(config)})];case 1:return 200!==(response=_a.sent()).status?[3,3]:[4,response.json()];case 2:return[2,_a.sent()];case 3:throw new Error(\"Internal error: Can't register device in fcm. Status: \"+response.status+\". Message: \"+response.statusText)}})})},PushServiceDefault.prototype.getPushToken=function(subscription){return __awaiter(this,void 0,void 0,function(){var deviceType;return __generator(this,function(_a){switch(_a.label){case 0:return[4,this.data.getDeviceType()];case 1:return deviceType=_a.sent(),subscription?12===deviceType?[2,subscription.endpoint]:[2,subscription.endpoint.split(\"/\").pop()||\"\"]:[2,\"\"]}})})},PushServiceDefault.prototype.getApplicationServerKey=function(){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(_a){switch(_a.label){case 0:return[4,this.data.getDeviceType()];case 1:return 11!==_a.sent()?[2]:[4,this.data.getApplicationServerKey()];case 2:return[2,_a.sent()]}})})},PushServiceDefault.prototype.getSenderIdFromManifest=function(){return __awaiter(this,void 0,void 0,function(){var manifest,url,response,data,match;return __generator(this,function(_a){switch(_a.label){case 0:if(!(manifest=document.querySelector('link[rel=\"manifest\"]')))throw new Error(\"Error: manifest.json not found!\");if(!(url=manifest.getAttribute(\"href\")))throw new Error(\"Error: manifest.json url not found!\");return[4,fetch(url,{method:\"GET\",headers:{\"Content-Type\":\"application/json;charset=UTF-8\"}})];case 1:if(200!==(response=_a.sent()).status)throw new Error(\"Error: Can't load manifest.json! \"+response.statusText);return[4,response.text()];case 2:if(data=_a.sent(),!(match=data.match(/(\"|')?gcm_sender_id(\"|')?:\\s*(\"|')?(\\d+)(\"|')?/))||\"string\"!=typeof match[4])throw new Error(\"Error: Can't find gcm_sender_id in manifest.json!\");return[2,match[4]]}})})},PushServiceDefault.prototype.checkIsChangeSenderId=function(currentSenderId){return __awaiter(this,void 0,void 0,function(){var senderIdFromIndexedDB;return __generator(this,function(_a){switch(_a.label){case 0:return[4,this.data.getSenderId()];case 1:return senderIdFromIndexedDB=_a.sent(),[2,currentSenderId!==senderIdFromIndexedDB]}})})},PushServiceDefault}();exports.PushServiceDefault=PushServiceDefault},function(module,exports,__nested_webpack_require_257091__){\"use strict\";var __awaiter=this&&this.__awaiter||function(thisArg,_arguments,P,generator){return new(P||(P=Promise))(function(resolve,reject){function fulfilled(value){try{step(generator.next(value))}catch(e){reject(e)}}function rejected(value){try{step(generator.throw(value))}catch(e){reject(e)}}function step(result){result.done?resolve(result.value):function(value){return value instanceof P?value:new P(function(resolve){resolve(value)})}(result.value).then(fulfilled,rejected)}step((generator=generator.apply(thisArg,_arguments||[])).next())})},__generator=this&&this.__generator||function(thisArg,body){var f,y,t,g,_={label:0,sent:function(){if(1&t[0])throw t[1];return t[1]},trys:[],ops:[]};return g={next:verb(0),throw:verb(1),return:verb(2)},\"function\"==typeof Symbol&&(g[Symbol.iterator]=function(){return this}),g;function verb(n){return function(v){return function(op){if(f)throw new TypeError(\"Generator is already executing.\");for(;_;)try{if(f=1,y&&(t=2&op[0]?y.return:op[0]?y.throw||((t=y.return)&&t.call(y),0):y.next)&&!(t=t.call(y,op[1])).done)return t;switch(y=0,t&&(op=[2&op[0],t.value]),op[0]){case 0:case 1:t=op;break;case 4:return _.label++,{value:op[1],done:!1};case 5:_.label++,y=op[1],op=[0];continue;case 7:op=_.ops.pop(),_.trys.pop();continue;default:if(!(t=(t=_.trys).length>0&&t[t.length-1])&&(6===op[0]||2===op[0])){_=0;continue}if(3===op[0]&&(!t||op[1]>t[0]&&op[1]<t[3])){_.label=op[1];break}if(6===op[0]&&_.label<t[1]){_.label=t[1],t=op;break}if(t&&_.label<t[2]){_.label=t[2],_.ops.push(op);break}t[2]&&_.ops.pop(),_.trys.pop();continue}op=body.call(thisArg,_)}catch(e){op=[6,e],y=0}finally{f=t=0}if(5&op[0])throw op[1];return{value:op[0]?op[1]:void 0,done:!0}}([n,v])}}};Object.defineProperty(exports,\"__esModule\",{value:!0});var logger_1=__nested_webpack_require_257091__(5),CONSTANTS=__nested_webpack_require_257091__(1),PushServiceSafari=function(){function PushServiceSafari(api,data,config){this.api=api,this.config=config,this.data=data}return PushServiceSafari.prototype.getPermission=function(){return this.getPermissionInfo().permission},PushServiceSafari.prototype.checkIsPermissionGranted=function(){return this.getPermission()===CONSTANTS.PERMISSION_GRANTED},PushServiceSafari.prototype.checkIsPermissionDefault=function(){return this.getPermission()===CONSTANTS.PERMISSION_PROMPT},PushServiceSafari.prototype.checkIsManualUnsubscribed=function(){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(_a){switch(_a.label){case 0:return[4,this.data.getStatusManualUnsubscribed()];case 1:return[2,_a.sent()]}})})},PushServiceSafari.prototype.askPermission=function(){return __awaiter(this,void 0,void 0,function(){var application,hwid,payload,_this=this;return __generator(this,function(_a){switch(_a.label){case 0:return[4,this.data.getApplicationCode()];case 1:return application=_a.sent(),[4,this.data.getHwid()];case 2:return hwid=_a.sent(),payload={application:application,hwid:hwid},[2,new Promise(function(resolve){safari.pushNotification.requestPermission(_this.config.entrypoint||\"https://cp.pushwoosh.com/json/1.3/safari\",_this.config.webSitePushId,payload,function(){return resolve()})})]}})})},PushServiceSafari.prototype.getTokens=function(){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(_a){return[2,this.data.getTokens()]})})},PushServiceSafari.prototype.subscribe=function(){return __awaiter(this,void 0,void 0,function(){var deviceToken;return __generator(this,function(_a){switch(_a.label){case 0:return this.checkIsPermissionGranted()?[4,this.getPermissionInfo()]:(logger_1.Logger.error(\"You must have permission granted before subscribe!\"),[2]);case 1:return deviceToken=_a.sent().deviceToken,[4,this.data.setTokens({pushToken:deviceToken})];case 2:return _a.sent(),[4,this.api.registerDevice()];case 3:return _a.sent(),[2]}})})},PushServiceSafari.prototype.unsubscribe=function(){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(_a){switch(_a.label){case 0:return[4,this.data.setTokens({})];case 1:return _a.sent(),[4,this.data.setStatusManualUnsubscribed(!0)];case 2:return _a.sent(),[4,this.api.unregisterDevice()];case 3:return _a.sent(),[2]}})})},PushServiceSafari.prototype.checkIsRegister=function(){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(_a){return[2,this.api.checkDeviceSubscribeForPushNotifications()]})})},PushServiceSafari.prototype.checkIsNeedResubscribe=function(){return __awaiter(this,void 0,void 0,function(){var savedWebSitePushId,isChangeWebSitePushId,lastPermission,permission;return __generator(this,function(_a){switch(_a.label){case 0:return[4,this.data.getWebSitePushId()];case 1:return savedWebSitePushId=_a.sent(),isChangeWebSitePushId=void 0!==savedWebSitePushId&&this.config.webSitePushId!==savedWebSitePushId,[4,this.data.setWebSitePushId(this.config.webSitePushId)];case 2:return _a.sent(),[4,this.data.getLastPermissionStatus()];case 3:return lastPermission=_a.sent(),permission=this.getPermission(),lastPermission===permission?[3,5]:[4,this.data.setLastPermissionStatus(permission)];case 4:return _a.sent(),[2,!0];case 5:return[2,isChangeWebSitePushId]}})})},PushServiceSafari.prototype.getPermissionInfo=function(){return safari.pushNotification.permission(this.config.webSitePushId)},PushServiceSafari}();exports.PushServiceSafari=PushServiceSafari},function(module,exports,__nested_webpack_require_262488__){\"use strict\";var __assign=this&&this.__assign||function(){return(__assign=Object.assign||function(t){for(var s,i=1,n=arguments.length;i<n;i++)for(var p in s=arguments[i])Object.prototype.hasOwnProperty.call(s,p)&&(t[p]=s[p]);return t}).apply(this,arguments)};Object.defineProperty(exports,\"__esModule\",{value:!0});var Popup_helpers_1=__nested_webpack_require_262488__(83),Popup=function(){function Popup(namespace,onClickClose,config){if(this.namespace=namespace,this.onClickClose=onClickClose,this.config=__assign({position:\"center\"},config),!this.getRootElement()){var html=this.createHTML();document.body.insertAdjacentHTML(\"beforeend\",html),this.rootElement=this.getElementWithCheckExist(\"root\");var styles=Popup_helpers_1.getStyles(this.namespace);document.head.appendChild(styles)}this.rootElement.classList.add(\"pushwoosh-\"+this.namespace+\"-popup_position_\"+this.config.position),this.wrapperElement=this.getElementWithCheckExist(\"wrapper\"),this.innerElement=this.getElementWithCheckExist(\"inner\"),this.bodyElement=this.getElementWithCheckExist(\"body\"),this.closeElement=this.getElementWithCheckExist(\"close\"),this.addEventListeners()}return Popup.prototype.updateContent=function(html){this.bodyElement.innerHTML=html},Popup.prototype.removeContent=function(){this.bodyElement.innerHTML=\"\"},Popup.prototype.show=function(){document.body.style.overflow=\"hidden\",this.rootElement.classList.add(\"pushwoosh-\"+this.namespace+\"-popup_show\")},Popup.prototype.hide=function(){document.body.style.overflow=\"auto\",this.rootElement.classList.remove(\"pushwoosh-\"+this.namespace+\"-popup_show\"),this.onClickClose()},Popup.prototype.getRootElement=function(){return document.getElementById(\"pushwoosh-\"+this.namespace+\"-popup-root\")},Popup.prototype.createHTML=function(){return'\\n      <div\\n        id=\"pushwoosh-'+this.namespace+'-popup-root\"\\n        class=\"pushwoosh-'+this.namespace+'-popup\"\\n      >\\n        <div\\n          id=\"pushwoosh-'+this.namespace+'-popup-wrapper\"\\n          class=\"pushwoosh-'+this.namespace+'-popup__wrapper\"\\n        >\\n          <div\\n            id=\"pushwoosh-'+this.namespace+'-popup-inner\"\\n            class=\"pushwoosh-'+this.namespace+'-popup__inner\"\\n          >\\n            <div\\n              id=\"pushwoosh-'+this.namespace+'-popup-body\"\\n              class=\"pushwoosh-'+this.namespace+'-popup__body\"\\n            >\\n            </div>\\n          </div>\\n          <button\\n            id=\"pushwoosh-'+this.namespace+'-popup-close\"\\n            class=\"pushwoosh-'+this.namespace+'-popup__close\"\\n            type=\"button\"\\n          >\\n          </button>\\n        </div>\\n      </div>\\n    '},Popup.prototype.getElementWithCheckExist=function(type){var element=document.getElementById(\"pushwoosh-\"+this.namespace+\"-popup-\"+type);if(!element)throw new Error(\"Can't find element by id \\\"pushwoosh-\"+this.namespace+\"-popup-\"+type+'\"');return element},Popup.prototype.addEventListeners=function(){var _this=this;this.closeElement.addEventListener(\"click\",function(){_this.hide()}),document.addEventListener(\"click\",function(event){var clickInInner=_this.innerElement.contains(event.target),clickInWrapper=_this.wrapperElement.contains(event.target);!clickInInner&&clickInWrapper&&_this.hide()})},Popup}();exports.Popup=Popup},function(module,exports,__webpack_require__){\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:!0}),exports.getStyles=function(namespace){var styles=document.createElement(\"style\");return styles.innerHTML=\"\\n    .pushwoosh-\"+namespace+\"-popup {\\n      position: fixed;\\n      top: 0;\\n      left: 0;\\n      width: 100%;\\n      height: 100%;\\n      display: none;\\n      z-index: 2147483648;\\n      opacity: 0.99;\\n    }\\n    \\n    .pushwoosh-\"+namespace+\"-popup_show {\\n      display: block;\\n    }\\n    \\n    .pushwoosh-\"+namespace+\"-popup__wrapper {\\n      width: 100%;\\n      height: 100%;\\n      background: rgba(0, 0, 0, .2);\\n    }\\n    \\n    .pushwoosh-\"+namespace+\"-popup_position_center .pushwoosh-\"+namespace+\"-popup__wrapper {\\n      text-align: center;\\n    }\\n    \\n    .pushwoosh-\"+namespace+\"-popup_position_center .pushwoosh-\"+namespace+\"-popup__wrapper:after {\\n      content: '';\\n      display: inline-block;\\n      width: 1px;\\n      height: 100%;\\n      vertical-align: middle;\\n    }\\n    \\n    .pushwoosh-\"+namespace+\"-popup__inner {\\n      min-width: 320px;\\n      max-width: 380px;\\n      width: 100%;\\n      margin: 0 auto;\\n    }\\n    \\n    .pushwoosh-\"+namespace+\"-popup_position_center .pushwoosh-\"+namespace+\"-popup__inner {\\n      display: inline-block;\\n      vertical-align: middle;\\n    }\\n    \\n    .pushwoosh-\"+namespace+\"-popup__body {\\n      background: #fff;\\n      text-align: left;\\n      vertical-align: baseline;\\n      box-shadow: 0px 10px 16px rgba(0, 0, 0, 0.1), 0px 0px 6px rgba(0, 0, 0, 0.06);\\n      border-radius: 4px;\\n    }\\n    \\n    .pushwoosh-\"+namespace+\"-popup__close {\\n      appearance: none;\\n      border: none;\\n      background-color: transparent;\\n      box-shadow: none;\\n      position: absolute;\\n      top: 24px;\\n      right: 24px;\\n      width: 40px;\\n      height: 40px;\\n      cursor: pointer;\\n    }\\n    \\n    .pushwoosh-\"+namespace+\"-popup__close:before {\\n      content: '';\\n      position: absolute;\\n      top: 50%;\\n      left: 50%;\\n      width: 30px;\\n      height: 2px;\\n      background-color: rgba(255, 255, 255, .8);\\n      transform: translateX(-50%) translateY(-50%) rotate(45deg);\\n    }\\n    \\n    .pushwoosh-\"+namespace+\"-popup__close:after {\\n      content: '';\\n      position: absolute;\\n      top: 50%;\\n      left: 50%;\\n      width: 30px;\\n      height: 2px;\\n      background-color: rgba(255, 255, 255, .8);\\n      transform: translateX(-50%) translateY(-50%) rotate(-45deg);\\n    }\\n  \",styles}},function(module,exports,__nested_webpack_require_268289__){\"use strict\";var __awaiter=this&&this.__awaiter||function(thisArg,_arguments,P,generator){return new(P||(P=Promise))(function(resolve,reject){function fulfilled(value){try{step(generator.next(value))}catch(e){reject(e)}}function rejected(value){try{step(generator.throw(value))}catch(e){reject(e)}}function step(result){result.done?resolve(result.value):function(value){return value instanceof P?value:new P(function(resolve){resolve(value)})}(result.value).then(fulfilled,rejected)}step((generator=generator.apply(thisArg,_arguments||[])).next())})},__generator=this&&this.__generator||function(thisArg,body){var f,y,t,g,_={label:0,sent:function(){if(1&t[0])throw t[1];return t[1]},trys:[],ops:[]};return g={next:verb(0),throw:verb(1),return:verb(2)},\"function\"==typeof Symbol&&(g[Symbol.iterator]=function(){return this}),g;function verb(n){return function(v){return function(op){if(f)throw new TypeError(\"Generator is already executing.\");for(;_;)try{if(f=1,y&&(t=2&op[0]?y.return:op[0]?y.throw||((t=y.return)&&t.call(y),0):y.next)&&!(t=t.call(y,op[1])).done)return t;switch(y=0,t&&(op=[2&op[0],t.value]),op[0]){case 0:case 1:t=op;break;case 4:return _.label++,{value:op[1],done:!1};case 5:_.label++,y=op[1],op=[0];continue;case 7:op=_.ops.pop(),_.trys.pop();continue;default:if(!(t=(t=_.trys).length>0&&t[t.length-1])&&(6===op[0]||2===op[0])){_=0;continue}if(3===op[0]&&(!t||op[1]>t[0]&&op[1]<t[3])){_.label=op[1];break}if(6===op[0]&&_.label<t[1]){_.label=t[1],t=op;break}if(t&&_.label<t[2]){_.label=t[2],_.ops.push(op);break}t[2]&&_.ops.pop(),_.trys.pop();continue}op=body.call(thisArg,_)}catch(e){op=[6,e],y=0}finally{f=t=0}if(5&op[0])throw op[1];return{value:op[0]?op[1]:void 0,done:!0}}([n,v])}}};Object.defineProperty(exports,\"__esModule\",{value:!0});var getZip_1=__nested_webpack_require_268289__(49),logger_1=__nested_webpack_require_268289__(5),SubscriptionSegmentsWidget_helpers_1=__nested_webpack_require_268289__(124),SubscriptionSegmentsWidget=function(){function SubscriptionSegmentsWidget(eventBus,data,apiClient,api,popup,pw){this.eventBus=eventBus,this.data=data,this.apiClient=apiClient,this.api=api,this.popup=popup,this.pw=pw}return SubscriptionSegmentsWidget.prototype.init=function(){return __awaiter(this,void 0,void 0,function(){var inAppCode,richMediaUrl,content,segments,sortedSegments,html,styles,denyElement,acceptElement,_this=this;return __generator(this,function(_a){switch(_a.label){case 0:return[4,this.getInAppCode()];case 1:return(inAppCode=_a.sent())?[4,this.getRichMediaUrlByInAppCode(inAppCode)]:(logger_1.Logger.error(\"Internal error: Can't find in-app code for build subscription segment widget!\"),[2]);case 2:return(richMediaUrl=_a.sent())?[4,this.getDynamicContent(richMediaUrl)]:(logger_1.Logger.error(\"Internal error: Can't find rich media url for build subscription segment widget!\"),[2]);case 3:return content=_a.sent(),[4,this.getSegments()];case 4:return segments=_a.sent(),content&&segments?(sortedSegments=segments.sort(function(segment1,segment2){return segment1.position-segment2.position}),html=SubscriptionSegmentsWidget_helpers_1.getHTML(content,sortedSegments),styles=SubscriptionSegmentsWidget_helpers_1.getStyles(content),document.head.appendChild(styles),this.popup.updateContent(html),denyElement=document.getElementById(\"pushwoosh-subscription-segments-deny\"),acceptElement=document.getElementById(\"pushwoosh-subscription-segments-accept\"),denyElement&&denyElement.addEventListener(\"click\",function(){_this.hidePopup()}),acceptElement&&acceptElement.addEventListener(\"click\",function(){var result=[],segments=document.getElementsByClassName(\"pushwoosh-subscription-segments__field\");if(_this.hidePopup(),segments){for(var index=0;index<segments.length;index++){var field=segments[index];field.checked&&result.push(field.value)}_this.api.setTags({\"Subscription Segments\":result}),_this.pw.subscribe()}}),this.showPopup(),[2]):(logger_1.Logger.error(\"Internal error: Can't get content or segments for build subscription segment widget!\"),[2])}})})},SubscriptionSegmentsWidget.prototype.showPopup=function(){this.eventBus.dispatchEvent(\"show-subscription-widget\",{}),this.popup.show()},SubscriptionSegmentsWidget.prototype.hidePopup=function(){this.popup.hide()},SubscriptionSegmentsWidget.prototype.getRichMediaUrlByInAppCode=function(code){return __awaiter(this,void 0,void 0,function(){var inApps,inApp;return __generator(this,function(_a){switch(_a.label){case 0:return[4,this.data.getInApps()];case 1:return(inApps=_a.sent())&&(inApp=inApps.find(function(inApp){return inApp.code===code}))?[2,inApp.url]:[2]}})})},SubscriptionSegmentsWidget.prototype.getInAppCode=function(){return __awaiter(this,void 0,void 0,function(){var application,hwid,userId,deviceType,deviceModel,language,version,timezone,date,time,timestampUTC,timestampCurrent,response;return __generator(this,function(_a){switch(_a.label){case 0:return[4,this.data.getApplicationCode()];case 1:return application=_a.sent(),[4,this.data.getHwid()];case 2:return hwid=_a.sent(),[4,this.data.getUserId()];case 3:return userId=_a.sent(),[4,this.data.getDeviceType()];case 4:return deviceType=_a.sent(),[4,this.data.getDeviceModel()];case 5:return deviceModel=_a.sent(),[4,this.data.getLanguage()];case 6:return language=_a.sent(),[4,this.data.getSdkVersion()];case 7:return version=_a.sent(),timezone=60*-(new Date).getTimezoneOffset(),date=new Date,time=date.getTime(),timestampUTC=Math.floor(time/1e3),timestampCurrent=timestampUTC-date.getTimezoneOffset()/60*3600,[4,this.apiClient.postEvent({application:application,hwid:hwid,userId:userId||hwid,device_type:deviceType,device_model:deviceModel,language:language,v:version,timezone:timezone,timestampUTC:timestampUTC,timestampCurrent:timestampCurrent,event:\"Subscription Segments\",attributes:{}})];case 8:return[2,(response=_a.sent())&&response.code]}})})},SubscriptionSegmentsWidget.prototype.getSegments=function(){return __awaiter(this,void 0,void 0,function(){var features;return __generator(this,function(_a){switch(_a.label){case 0:return[4,this.data.getFeatures()];case 1:return[2,(features=_a.sent())&&features.channels]}})})},SubscriptionSegmentsWidget.prototype.getDynamicContent=function(url){return __awaiter(this,void 0,void 0,function(){var jszip,data,_a,_b;return __generator(this,function(_c){switch(_c.label){case 0:return[4,getZip_1.getZip(url)];case 1:return jszip=_c.sent(),_b=(_a=JSON).parse,[4,jszip.file(\"pushwoosh.json\").async(\"text\")];case 2:return[2,(data=_b.apply(_a,[_c.sent()]))&&data.localization&&data.default_language&&data.localization[data.default_language]]}})})},SubscriptionSegmentsWidget}();exports.SubscriptionSegmentsWidget=SubscriptionSegmentsWidget},function(module,exports,__nested_webpack_require_274962__){\"use strict\";function JSZip(){if(!(this instanceof JSZip))return new JSZip;if(arguments.length)throw new Error(\"The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.\");this.files={},this.comment=null,this.root=\"\",this.clone=function(){var newObj=new JSZip;for(var i in this)\"function\"!=typeof this[i]&&(newObj[i]=this[i]);return newObj}}JSZip.prototype=__nested_webpack_require_274962__(86),JSZip.prototype.loadAsync=__nested_webpack_require_274962__(119),JSZip.support=__nested_webpack_require_274962__(7),JSZip.defaults=__nested_webpack_require_274962__(60),JSZip.version=\"3.2.0\",JSZip.loadAsync=function(content,options){return(new JSZip).loadAsync(content,options)},JSZip.external=__nested_webpack_require_274962__(26),module.exports=JSZip},function(module,exports,__nested_webpack_require_275723__){\"use strict\";var utf8=__nested_webpack_require_275723__(13),utils=__nested_webpack_require_275723__(0),GenericWorker=__nested_webpack_require_275723__(2),StreamHelper=__nested_webpack_require_275723__(59),defaults=__nested_webpack_require_275723__(60),CompressedObject=__nested_webpack_require_275723__(43),ZipObject=__nested_webpack_require_275723__(105),generate=__nested_webpack_require_275723__(106),nodejsUtils=__nested_webpack_require_275723__(31),NodejsStreamInputAdapter=__nested_webpack_require_275723__(118),fileAdd=function(name,data,originalOptions){var parent,dataType=utils.getTypeOf(data),o=utils.extend(originalOptions||{},defaults);o.date=o.date||new Date,null!==o.compression&&(o.compression=o.compression.toUpperCase()),\"string\"==typeof o.unixPermissions&&(o.unixPermissions=parseInt(o.unixPermissions,8)),o.unixPermissions&&16384&o.unixPermissions&&(o.dir=!0),o.dosPermissions&&16&o.dosPermissions&&(o.dir=!0),o.dir&&(name=forceTrailingSlash(name)),o.createFolders&&(parent=parentFolder(name))&&folderAdd.call(this,parent,!0);var isUnicodeString=\"string\"===dataType&&!1===o.binary&&!1===o.base64;originalOptions&&void 0!==originalOptions.binary||(o.binary=!isUnicodeString),(data instanceof CompressedObject&&0===data.uncompressedSize||o.dir||!data||0===data.length)&&(o.base64=!1,o.binary=!0,data=\"\",o.compression=\"STORE\",dataType=\"string\");var zipObjectContent=null;zipObjectContent=data instanceof CompressedObject||data instanceof GenericWorker?data:nodejsUtils.isNode&&nodejsUtils.isStream(data)?new NodejsStreamInputAdapter(name,data):utils.prepareContent(name,data,o.binary,o.optimizedBinaryString,o.base64);var object=new ZipObject(name,zipObjectContent,o);this.files[name]=object},parentFolder=function(path){\"/\"===path.slice(-1)&&(path=path.substring(0,path.length-1));var lastSlash=path.lastIndexOf(\"/\");return lastSlash>0?path.substring(0,lastSlash):\"\"},forceTrailingSlash=function(path){return\"/\"!==path.slice(-1)&&(path+=\"/\"),path},folderAdd=function(name,createFolders){return createFolders=void 0!==createFolders?createFolders:defaults.createFolders,name=forceTrailingSlash(name),this.files[name]||fileAdd.call(this,name,null,{dir:!0,createFolders:createFolders}),this.files[name]};function isRegExp(object){return\"[object RegExp]\"===Object.prototype.toString.call(object)}var out={load:function(){throw new Error(\"This method has been removed in JSZip 3.0, please check the upgrade guide.\")},forEach:function(cb){var filename,relativePath,file;for(filename in this.files)this.files.hasOwnProperty(filename)&&(file=this.files[filename],(relativePath=filename.slice(this.root.length,filename.length))&&filename.slice(0,this.root.length)===this.root&&cb(relativePath,file))},filter:function(search){var result=[];return this.forEach(function(relativePath,entry){search(relativePath,entry)&&result.push(entry)}),result},file:function(name,data,o){if(1===arguments.length){if(isRegExp(name)){var regexp=name;return this.filter(function(relativePath,file){return!file.dir&&regexp.test(relativePath)})}var obj=this.files[this.root+name];return obj&&!obj.dir?obj:null}return name=this.root+name,fileAdd.call(this,name,data,o),this},folder:function(arg){if(!arg)return this;if(isRegExp(arg))return this.filter(function(relativePath,file){return file.dir&&arg.test(relativePath)});var name=this.root+arg,newFolder=folderAdd.call(this,name),ret=this.clone();return ret.root=newFolder.name,ret},remove:function(name){name=this.root+name;var file=this.files[name];if(file||(\"/\"!==name.slice(-1)&&(name+=\"/\"),file=this.files[name]),file&&!file.dir)delete this.files[name];else for(var kids=this.filter(function(relativePath,file){return file.name.slice(0,name.length)===name}),i=0;i<kids.length;i++)delete this.files[kids[i].name];return this},generate:function(options){throw new Error(\"This method has been removed in JSZip 3.0, please check the upgrade guide.\")},generateInternalStream:function(options){var worker,opts={};try{if((opts=utils.extend(options||{},{streamFiles:!1,compression:\"STORE\",compressionOptions:null,type:\"\",platform:\"DOS\",comment:null,mimeType:\"application/zip\",encodeFileName:utf8.utf8encode})).type=opts.type.toLowerCase(),opts.compression=opts.compression.toUpperCase(),\"binarystring\"===opts.type&&(opts.type=\"string\"),!opts.type)throw new Error(\"No output type specified.\");utils.checkSupport(opts.type),\"darwin\"!==opts.platform&&\"freebsd\"!==opts.platform&&\"linux\"!==opts.platform&&\"sunos\"!==opts.platform||(opts.platform=\"UNIX\"),\"win32\"===opts.platform&&(opts.platform=\"DOS\");var comment=opts.comment||this.comment||\"\";worker=generate.generateWorker(this,opts,comment)}catch(e){(worker=new GenericWorker(\"error\")).error(e)}return new StreamHelper(worker,opts.type||\"string\",opts.mimeType)},generateAsync:function(options,onUpdate){return this.generateInternalStream(options).accumulate(onUpdate)},generateNodeStream:function(options,onUpdate){return(options=options||{}).type||(options.type=\"nodebuffer\"),this.generateInternalStream(options).toNodejsStream(onUpdate)}};module.exports=out},function(module,exports,__webpack_require__){\"use strict\";exports.byteLength=function(b64){var lens=getLens(b64),validLen=lens[0],placeHoldersLen=lens[1];return 3*(validLen+placeHoldersLen)/4-placeHoldersLen},exports.toByteArray=function(b64){var tmp,i,lens=getLens(b64),validLen=lens[0],placeHoldersLen=lens[1],arr=new Arr(function(b64,validLen,placeHoldersLen){return 3*(validLen+placeHoldersLen)/4-placeHoldersLen}(0,validLen,placeHoldersLen)),curByte=0,len=placeHoldersLen>0?validLen-4:validLen;for(i=0;i<len;i+=4)tmp=revLookup[b64.charCodeAt(i)]<<18|revLookup[b64.charCodeAt(i+1)]<<12|revLookup[b64.charCodeAt(i+2)]<<6|revLookup[b64.charCodeAt(i+3)],arr[curByte++]=tmp>>16&255,arr[curByte++]=tmp>>8&255,arr[curByte++]=255&tmp;2===placeHoldersLen&&(tmp=revLookup[b64.charCodeAt(i)]<<2|revLookup[b64.charCodeAt(i+1)]>>4,arr[curByte++]=255&tmp);1===placeHoldersLen&&(tmp=revLookup[b64.charCodeAt(i)]<<10|revLookup[b64.charCodeAt(i+1)]<<4|revLookup[b64.charCodeAt(i+2)]>>2,arr[curByte++]=tmp>>8&255,arr[curByte++]=255&tmp);return arr},exports.fromByteArray=function(uint8){for(var tmp,len=uint8.length,extraBytes=len%3,parts=[],i=0,len2=len-extraBytes;i<len2;i+=16383)parts.push(encodeChunk(uint8,i,i+16383>len2?len2:i+16383));1===extraBytes?(tmp=uint8[len-1],parts.push(lookup[tmp>>2]+lookup[tmp<<4&63]+\"==\")):2===extraBytes&&(tmp=(uint8[len-2]<<8)+uint8[len-1],parts.push(lookup[tmp>>10]+lookup[tmp>>4&63]+lookup[tmp<<2&63]+\"=\"));return parts.join(\"\")};for(var lookup=[],revLookup=[],Arr=\"undefined\"!=typeof Uint8Array?Uint8Array:Array,code=\"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/\",i=0,len=code.length;i<len;++i)lookup[i]=code[i],revLookup[code.charCodeAt(i)]=i;function getLens(b64){var len=b64.length;if(len%4>0)throw new Error(\"Invalid string. Length must be a multiple of 4\");var validLen=b64.indexOf(\"=\");return-1===validLen&&(validLen=len),[validLen,validLen===len?0:4-validLen%4]}function tripletToBase64(num){return lookup[num>>18&63]+lookup[num>>12&63]+lookup[num>>6&63]+lookup[63&num]}function encodeChunk(uint8,start,end){for(var tmp,output=[],i=start;i<end;i+=3)tmp=(uint8[i]<<16&16711680)+(uint8[i+1]<<8&65280)+(255&uint8[i+2]),output.push(tripletToBase64(tmp));return output.join(\"\")}revLookup[\"-\".charCodeAt(0)]=62,revLookup[\"_\".charCodeAt(0)]=63},function(module,exports){\n/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */\nexports.read=function(buffer,offset,isLE,mLen,nBytes){var e,m,eLen=8*nBytes-mLen-1,eMax=(1<<eLen)-1,eBias=eMax>>1,nBits=-7,i=isLE?nBytes-1:0,d=isLE?-1:1,s=buffer[offset+i];for(i+=d,e=s&(1<<-nBits)-1,s>>=-nBits,nBits+=eLen;nBits>0;e=256*e+buffer[offset+i],i+=d,nBits-=8);for(m=e&(1<<-nBits)-1,e>>=-nBits,nBits+=mLen;nBits>0;m=256*m+buffer[offset+i],i+=d,nBits-=8);if(0===e)e=1-eBias;else{if(e===eMax)return m?NaN:1/0*(s?-1:1);m+=Math.pow(2,mLen),e-=eBias}return(s?-1:1)*m*Math.pow(2,e-mLen)},exports.write=function(buffer,value,offset,isLE,mLen,nBytes){var e,m,c,eLen=8*nBytes-mLen-1,eMax=(1<<eLen)-1,eBias=eMax>>1,rt=23===mLen?Math.pow(2,-24)-Math.pow(2,-77):0,i=isLE?0:nBytes-1,d=isLE?1:-1,s=value<0||0===value&&1/value<0?1:0;for(value=Math.abs(value),isNaN(value)||value===1/0?(m=isNaN(value)?1:0,e=eMax):(e=Math.floor(Math.log(value)/Math.LN2),value*(c=Math.pow(2,-e))<1&&(e--,c*=2),(value+=e+eBias>=1?rt/c:rt*Math.pow(2,1-eBias))*c>=2&&(e++,c/=2),e+eBias>=eMax?(m=0,e=eMax):e+eBias>=1?(m=(value*c-1)*Math.pow(2,mLen),e+=eBias):(m=value*Math.pow(2,eBias-1)*Math.pow(2,mLen),e=0));mLen>=8;buffer[offset+i]=255&m,i+=d,m/=256,mLen-=8);for(e=e<<mLen|m,eLen+=mLen;eLen>0;buffer[offset+i]=255&e,i+=d,e/=256,eLen-=8);buffer[offset+i-d]|=128*s}},function(module,exports,__nested_webpack_require_284319__){module.exports=Stream;var EE=__nested_webpack_require_284319__(40).EventEmitter;function Stream(){EE.call(this)}__nested_webpack_require_284319__(14)(Stream,EE),Stream.Readable=__nested_webpack_require_284319__(41),Stream.Writable=__nested_webpack_require_284319__(96),Stream.Duplex=__nested_webpack_require_284319__(97),Stream.Transform=__nested_webpack_require_284319__(98),Stream.PassThrough=__nested_webpack_require_284319__(99),Stream.Stream=Stream,Stream.prototype.pipe=function(dest,options){var source=this;function ondata(chunk){dest.writable&&!1===dest.write(chunk)&&source.pause&&source.pause()}function ondrain(){source.readable&&source.resume&&source.resume()}source.on(\"data\",ondata),dest.on(\"drain\",ondrain),dest._isStdio||options&&!1===options.end||(source.on(\"end\",onend),source.on(\"close\",onclose));var didOnEnd=!1;function onend(){didOnEnd||(didOnEnd=!0,dest.end())}function onclose(){didOnEnd||(didOnEnd=!0,\"function\"==typeof dest.destroy&&dest.destroy())}function onerror(er){if(cleanup(),0===EE.listenerCount(this,\"error\"))throw er}function cleanup(){source.removeListener(\"data\",ondata),dest.removeListener(\"drain\",ondrain),source.removeListener(\"end\",onend),source.removeListener(\"close\",onclose),source.removeListener(\"error\",onerror),dest.removeListener(\"error\",onerror),source.removeListener(\"end\",cleanup),source.removeListener(\"close\",cleanup),dest.removeListener(\"close\",cleanup)}return source.on(\"error\",onerror),dest.on(\"error\",onerror),source.on(\"end\",cleanup),source.on(\"close\",cleanup),dest.on(\"close\",cleanup),dest.emit(\"pipe\",source),dest}},function(module,exports){},function(module,exports,__nested_webpack_require_285871__){\"use strict\";var Buffer=__nested_webpack_require_285871__(30).Buffer,util=__nested_webpack_require_285871__(92);function copyBuffer(src,target,offset){src.copy(target,offset)}module.exports=function(){function BufferList(){!function(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError(\"Cannot call a class as a function\")}(this,BufferList),this.head=null,this.tail=null,this.length=0}return BufferList.prototype.push=function(v){var entry={data:v,next:null};this.length>0?this.tail.next=entry:this.head=entry,this.tail=entry,++this.length},BufferList.prototype.unshift=function(v){var entry={data:v,next:this.head};0===this.length&&(this.tail=entry),this.head=entry,++this.length},BufferList.prototype.shift=function(){if(0!==this.length){var ret=this.head.data;return 1===this.length?this.head=this.tail=null:this.head=this.head.next,--this.length,ret}},BufferList.prototype.clear=function(){this.head=this.tail=null,this.length=0},BufferList.prototype.join=function(s){if(0===this.length)return\"\";for(var p=this.head,ret=\"\"+p.data;p=p.next;)ret+=s+p.data;return ret},BufferList.prototype.concat=function(n){if(0===this.length)return Buffer.alloc(0);if(1===this.length)return this.head.data;for(var ret=Buffer.allocUnsafe(n>>>0),p=this.head,i=0;p;)copyBuffer(p.data,ret,i),i+=p.data.length,p=p.next;return ret},BufferList}(),util&&util.inspect&&util.inspect.custom&&(module.exports.prototype[util.inspect.custom]=function(){var obj=util.inspect({length:this.length});return this.constructor.name+\" \"+obj})},function(module,exports){},function(module,exports,__nested_webpack_require_287451__){(function(global,process){!function(global,undefined){\"use strict\";if(!global.setImmediate){var registerImmediate,nextHandle=1,tasksByHandle={},currentlyRunningATask=!1,doc=global.document,attachTo=Object.getPrototypeOf&&Object.getPrototypeOf(global);attachTo=attachTo&&attachTo.setTimeout?attachTo:global,\"[object process]\"==={}.toString.call(global.process)?registerImmediate=function(handle){process.nextTick(function(){runIfPresent(handle)})}:function(){if(global.postMessage&&!global.importScripts){var postMessageIsAsynchronous=!0,oldOnMessage=global.onmessage;return global.onmessage=function(){postMessageIsAsynchronous=!1},global.postMessage(\"\",\"*\"),global.onmessage=oldOnMessage,postMessageIsAsynchronous}}()?function(){var messagePrefix=\"setImmediate$\"+Math.random()+\"$\",onGlobalMessage=function(event){event.source===global&&\"string\"==typeof event.data&&0===event.data.indexOf(messagePrefix)&&runIfPresent(+event.data.slice(messagePrefix.length))};global.addEventListener?global.addEventListener(\"message\",onGlobalMessage,!1):global.attachEvent(\"onmessage\",onGlobalMessage),registerImmediate=function(handle){global.postMessage(messagePrefix+handle,\"*\")}}():global.MessageChannel?function(){var channel=new MessageChannel;channel.port1.onmessage=function(event){runIfPresent(event.data)},registerImmediate=function(handle){channel.port2.postMessage(handle)}}():doc&&\"onreadystatechange\"in doc.createElement(\"script\")?function(){var html=doc.documentElement;registerImmediate=function(handle){var script=doc.createElement(\"script\");script.onreadystatechange=function(){runIfPresent(handle),script.onreadystatechange=null,html.removeChild(script),script=null},html.appendChild(script)}}():registerImmediate=function(handle){setTimeout(runIfPresent,0,handle)},attachTo.setImmediate=function(callback){\"function\"!=typeof callback&&(callback=new Function(\"\"+callback));for(var args=new Array(arguments.length-1),i=0;i<args.length;i++)args[i]=arguments[i+1];var task={callback:callback,args:args};return tasksByHandle[nextHandle]=task,registerImmediate(nextHandle),nextHandle++},attachTo.clearImmediate=clearImmediate}function clearImmediate(handle){delete tasksByHandle[handle]}function runIfPresent(handle){if(currentlyRunningATask)setTimeout(runIfPresent,0,handle);else{var task=tasksByHandle[handle];if(task){currentlyRunningATask=!0;try{!function(task){var callback=task.callback,args=task.args;switch(args.length){case 0:callback();break;case 1:callback(args[0]);break;case 2:callback(args[0],args[1]);break;case 3:callback(args[0],args[1],args[2]);break;default:callback.apply(undefined,args)}}(task)}finally{clearImmediate(handle),currentlyRunningATask=!1}}}}}(\"undefined\"==typeof self?void 0===global?this:global:self)}).call(this,__nested_webpack_require_287451__(11),__nested_webpack_require_287451__(24))},function(module,exports,__nested_webpack_require_290292__){(function(global){function config(name){try{if(!global.localStorage)return!1}catch(_){return!1}var val=global.localStorage[name];return null!=val&&\"true\"===String(val).toLowerCase()}module.exports=function(fn,msg){if(config(\"noDeprecation\"))return fn;var warned=!1;return function(){if(!warned){if(config(\"throwDeprecation\"))throw new Error(msg);config(\"traceDeprecation\")?console.trace(msg):console.warn(msg),warned=!0}return fn.apply(this,arguments)}}}).call(this,__nested_webpack_require_290292__(11))},function(module,exports,__nested_webpack_require_290829__){\"use strict\";module.exports=PassThrough;var Transform=__nested_webpack_require_290829__(57),util=Object.create(__nested_webpack_require_290829__(25));function PassThrough(options){if(!(this instanceof PassThrough))return new PassThrough(options);Transform.call(this,options)}util.inherits=__nested_webpack_require_290829__(14),util.inherits(PassThrough,Transform),PassThrough.prototype._transform=function(chunk,encoding,cb){cb(null,chunk)}},function(module,exports,__nested_webpack_require_291274__){module.exports=__nested_webpack_require_291274__(42)},function(module,exports,__nested_webpack_require_291359__){module.exports=__nested_webpack_require_291359__(12)},function(module,exports,__nested_webpack_require_291444__){module.exports=__nested_webpack_require_291444__(41).Transform},function(module,exports,__nested_webpack_require_291539__){module.exports=__nested_webpack_require_291539__(41).PassThrough},function(module,exports,__nested_webpack_require_291636__){\"use strict\";(function(setImmediate){module.exports=\"function\"==typeof setImmediate?setImmediate:function(){var args=[].slice.apply(arguments);args.splice(1,0,0),setTimeout.apply(null,args)}}).call(this,__nested_webpack_require_291636__(55).setImmediate)},function(module,exports,__nested_webpack_require_291923__){\"use strict\";var immediate=__nested_webpack_require_291923__(102);function INTERNAL(){}var handlers={},REJECTED=[\"REJECTED\"],FULFILLED=[\"FULFILLED\"],PENDING=[\"PENDING\"];function Promise(resolver){if(\"function\"!=typeof resolver)throw new TypeError(\"resolver must be a function\");this.state=PENDING,this.queue=[],this.outcome=void 0,resolver!==INTERNAL&&safelyResolveThenable(this,resolver)}function QueueItem(promise,onFulfilled,onRejected){this.promise=promise,\"function\"==typeof onFulfilled&&(this.onFulfilled=onFulfilled,this.callFulfilled=this.otherCallFulfilled),\"function\"==typeof onRejected&&(this.onRejected=onRejected,this.callRejected=this.otherCallRejected)}function unwrap(promise,func,value){immediate(function(){var returnValue;try{returnValue=func(value)}catch(e){return handlers.reject(promise,e)}returnValue===promise?handlers.reject(promise,new TypeError(\"Cannot resolve promise with itself\")):handlers.resolve(promise,returnValue)})}function getThen(obj){var then=obj&&obj.then;if(obj&&(\"object\"==typeof obj||\"function\"==typeof obj)&&\"function\"==typeof then)return function(){then.apply(obj,arguments)}}function safelyResolveThenable(self,thenable){var called=!1;function onError(value){called||(called=!0,handlers.reject(self,value))}function onSuccess(value){called||(called=!0,handlers.resolve(self,value))}var result=tryCatch(function(){thenable(onSuccess,onError)});\"error\"===result.status&&onError(result.value)}function tryCatch(func,value){var out={};try{out.value=func(value),out.status=\"success\"}catch(e){out.status=\"error\",out.value=e}return out}module.exports=Promise,Promise.prototype.finally=function(callback){if(\"function\"!=typeof callback)return this;var p=this.constructor;return this.then(function(value){return p.resolve(callback()).then(function(){return value})},function(reason){return p.resolve(callback()).then(function(){throw reason})})},Promise.prototype.catch=function(onRejected){return this.then(null,onRejected)},Promise.prototype.then=function(onFulfilled,onRejected){if(\"function\"!=typeof onFulfilled&&this.state===FULFILLED||\"function\"!=typeof onRejected&&this.state===REJECTED)return this;var promise=new this.constructor(INTERNAL);this.state!==PENDING?unwrap(promise,this.state===FULFILLED?onFulfilled:onRejected,this.outcome):this.queue.push(new QueueItem(promise,onFulfilled,onRejected));return promise},QueueItem.prototype.callFulfilled=function(value){handlers.resolve(this.promise,value)},QueueItem.prototype.otherCallFulfilled=function(value){unwrap(this.promise,this.onFulfilled,value)},QueueItem.prototype.callRejected=function(value){handlers.reject(this.promise,value)},QueueItem.prototype.otherCallRejected=function(value){unwrap(this.promise,this.onRejected,value)},handlers.resolve=function(self,value){var result=tryCatch(getThen,value);if(\"error\"===result.status)return handlers.reject(self,result.value);var thenable=result.value;if(thenable)safelyResolveThenable(self,thenable);else{self.state=FULFILLED,self.outcome=value;for(var i=-1,len=self.queue.length;++i<len;)self.queue[i].callFulfilled(value)}return self},handlers.reject=function(self,error){self.state=REJECTED,self.outcome=error;for(var i=-1,len=self.queue.length;++i<len;)self.queue[i].callRejected(error);return self},Promise.resolve=function(value){if(value instanceof this)return value;return handlers.resolve(new this(INTERNAL),value)},Promise.reject=function(reason){var promise=new this(INTERNAL);return handlers.reject(promise,reason)},Promise.all=function(iterable){var self=this;if(\"[object Array]\"!==Object.prototype.toString.call(iterable))return this.reject(new TypeError(\"must be an array\"));var len=iterable.length,called=!1;if(!len)return this.resolve([]);var values=new Array(len),resolved=0,i=-1,promise=new this(INTERNAL);for(;++i<len;)allResolver(iterable[i],i);return promise;function allResolver(value,i){self.resolve(value).then(function(outValue){values[i]=outValue,++resolved!==len||called||(called=!0,handlers.resolve(promise,values))},function(error){called||(called=!0,handlers.reject(promise,error))})}},Promise.race=function(iterable){var self=this;if(\"[object Array]\"!==Object.prototype.toString.call(iterable))return this.reject(new TypeError(\"must be an array\"));var len=iterable.length,called=!1;if(!len)return this.resolve([]);var i=-1,promise=new this(INTERNAL);for(;++i<len;)resolver(iterable[i]);return promise;function resolver(value){self.resolve(value).then(function(response){called||(called=!0,handlers.resolve(promise,response))},function(error){called||(called=!0,handlers.reject(promise,error))})}}},function(module,exports,__nested_webpack_require_296534__){\"use strict\";(function(global){var scheduleDrain,draining,Mutation=global.MutationObserver||global.WebKitMutationObserver;if(Mutation){var called=0,observer=new Mutation(nextTick),element=global.document.createTextNode(\"\");observer.observe(element,{characterData:!0}),scheduleDrain=function(){element.data=called=++called%2}}else if(global.setImmediate||void 0===global.MessageChannel)scheduleDrain=\"document\"in global&&\"onreadystatechange\"in global.document.createElement(\"script\")?function(){var scriptEl=global.document.createElement(\"script\");scriptEl.onreadystatechange=function(){nextTick(),scriptEl.onreadystatechange=null,scriptEl.parentNode.removeChild(scriptEl),scriptEl=null},global.document.documentElement.appendChild(scriptEl)}:function(){setTimeout(nextTick,0)};else{var channel=new global.MessageChannel;channel.port1.onmessage=nextTick,scheduleDrain=function(){channel.port2.postMessage(0)}}var queue=[];function nextTick(){var i,oldQueue;draining=!0;for(var len=queue.length;len;){for(oldQueue=queue,queue=[],i=-1;++i<len;)oldQueue[i]();len=queue.length}draining=!1}module.exports=function(task){1!==queue.push(task)||draining||scheduleDrain()}}).call(this,__nested_webpack_require_296534__(11))},function(module,exports,__nested_webpack_require_297780__){\"use strict\";var GenericWorker=__nested_webpack_require_297780__(2),utils=__nested_webpack_require_297780__(0);function ConvertWorker(destType){GenericWorker.call(this,\"ConvertWorker to \"+destType),this.destType=destType}utils.inherits(ConvertWorker,GenericWorker),ConvertWorker.prototype.processChunk=function(chunk){this.push({data:utils.transformTo(this.destType,chunk.data),meta:chunk.meta})},module.exports=ConvertWorker},function(module,exports,__nested_webpack_require_298224__){\"use strict\";var Readable=__nested_webpack_require_298224__(51).Readable;function NodejsStreamOutputAdapter(helper,options,updateCb){Readable.call(this,options),this._helper=helper;var self=this;helper.on(\"data\",function(data,meta){self.push(data)||self._helper.pause(),updateCb&&updateCb(meta)}).on(\"error\",function(e){self.emit(\"error\",e)}).on(\"end\",function(){self.push(null)})}__nested_webpack_require_298224__(0).inherits(NodejsStreamOutputAdapter,Readable),NodejsStreamOutputAdapter.prototype._read=function(){this._helper.resume()},module.exports=NodejsStreamOutputAdapter},function(module,exports,__nested_webpack_require_298822__){\"use strict\";var StreamHelper=__nested_webpack_require_298822__(59),DataWorker=__nested_webpack_require_298822__(61),utf8=__nested_webpack_require_298822__(13),CompressedObject=__nested_webpack_require_298822__(43),GenericWorker=__nested_webpack_require_298822__(2),ZipObject=function(name,data,options){this.name=name,this.dir=options.dir,this.date=options.date,this.comment=options.comment,this.unixPermissions=options.unixPermissions,this.dosPermissions=options.dosPermissions,this._data=data,this._dataBinary=options.binary,this.options={compression:options.compression,compressionOptions:options.compressionOptions}};ZipObject.prototype={internalStream:function(type){var result=null,outputType=\"string\";try{if(!type)throw new Error(\"No output type specified.\");var askUnicodeString=\"string\"===(outputType=type.toLowerCase())||\"text\"===outputType;\"binarystring\"!==outputType&&\"text\"!==outputType||(outputType=\"string\"),result=this._decompressWorker();var isUnicodeString=!this._dataBinary;isUnicodeString&&!askUnicodeString&&(result=result.pipe(new utf8.Utf8EncodeWorker)),!isUnicodeString&&askUnicodeString&&(result=result.pipe(new utf8.Utf8DecodeWorker))}catch(e){(result=new GenericWorker(\"error\")).error(e)}return new StreamHelper(result,outputType,\"\")},async:function(type,onUpdate){return this.internalStream(type).accumulate(onUpdate)},nodeStream:function(type,onUpdate){return this.internalStream(type||\"nodebuffer\").toNodejsStream(onUpdate)},_compressWorker:function(compression,compressionOptions){if(this._data instanceof CompressedObject&&this._data.compression.magic===compression.magic)return this._data.getCompressedWorker();var result=this._decompressWorker();return this._dataBinary||(result=result.pipe(new utf8.Utf8EncodeWorker)),CompressedObject.createWorkerFrom(result,compression,compressionOptions)},_decompressWorker:function(){return this._data instanceof CompressedObject?this._data.getContentWorker():this._data instanceof GenericWorker?this._data:new DataWorker(this._data)}};for(var removedMethods=[\"asText\",\"asBinary\",\"asNodeBuffer\",\"asUint8Array\",\"asArrayBuffer\"],removedFn=function(){throw new Error(\"This method has been removed in JSZip 3.0, please check the upgrade guide.\")},i=0;i<removedMethods.length;i++)ZipObject.prototype[removedMethods[i]]=removedFn;module.exports=ZipObject},function(module,exports,__nested_webpack_require_301120__){\"use strict\";var compressions=__nested_webpack_require_301120__(64),ZipFileWorker=__nested_webpack_require_301120__(117);exports.generateWorker=function(zip,options,comment){var zipFileWorker=new ZipFileWorker(options.streamFiles,comment,options.platform,options.encodeFileName),entriesCount=0;try{zip.forEach(function(relativePath,file){entriesCount++;var compression=function(fileCompression,zipCompression){var compressionName=fileCompression||zipCompression,compression=compressions[compressionName];if(!compression)throw new Error(compressionName+\" is not a valid compression method !\");return compression}(file.options.compression,options.compression),compressionOptions=file.options.compressionOptions||options.compressionOptions||{},dir=file.dir,date=file.date;file._compressWorker(compression,compressionOptions).withStreamInfo(\"file\",{name:relativePath,dir:dir,date:date,comment:file.comment||\"\",unixPermissions:file.unixPermissions,dosPermissions:file.dosPermissions}).pipe(zipFileWorker)}),zipFileWorker.entriesCount=entriesCount}catch(e){zipFileWorker.error(e)}return zipFileWorker}},function(module,exports,__nested_webpack_require_302234__){\"use strict\";var USE_TYPEDARRAY=\"undefined\"!=typeof Uint8Array&&\"undefined\"!=typeof Uint16Array&&\"undefined\"!=typeof Uint32Array,pako=__nested_webpack_require_302234__(108),utils=__nested_webpack_require_302234__(0),GenericWorker=__nested_webpack_require_302234__(2),ARRAY_TYPE=USE_TYPEDARRAY?\"uint8array\":\"array\";function FlateWorker(action,options){GenericWorker.call(this,\"FlateWorker/\"+action),this._pako=null,this._pakoAction=action,this._pakoOptions=options,this.meta={}}exports.magic=\"\\b\\0\",utils.inherits(FlateWorker,GenericWorker),FlateWorker.prototype.processChunk=function(chunk){this.meta=chunk.meta,null===this._pako&&this._createPako(),this._pako.push(utils.transformTo(ARRAY_TYPE,chunk.data),!1)},FlateWorker.prototype.flush=function(){GenericWorker.prototype.flush.call(this),null===this._pako&&this._createPako(),this._pako.push([],!0)},FlateWorker.prototype.cleanUp=function(){GenericWorker.prototype.cleanUp.call(this),this._pako=null},FlateWorker.prototype._createPako=function(){this._pako=new pako[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var self=this;this._pako.onData=function(data){self.push({data:data,meta:self.meta})}},exports.compressWorker=function(compressionOptions){return new FlateWorker(\"Deflate\",compressionOptions)},exports.uncompressWorker=function(){return new FlateWorker(\"Inflate\",{})}},function(module,exports,__nested_webpack_require_303587__){\"use strict\";var pako={};(0,__nested_webpack_require_303587__(8).assign)(pako,__nested_webpack_require_303587__(109),__nested_webpack_require_303587__(112),__nested_webpack_require_303587__(69)),module.exports=pako},function(module,exports,__nested_webpack_require_303792__){\"use strict\";var zlib_deflate=__nested_webpack_require_303792__(110),utils=__nested_webpack_require_303792__(8),strings=__nested_webpack_require_303792__(67),msg=__nested_webpack_require_303792__(45),ZStream=__nested_webpack_require_303792__(68),toString=Object.prototype.toString,Z_OK=0,Z_DEFAULT_COMPRESSION=-1,Z_DEFAULT_STRATEGY=0,Z_DEFLATED=8;function Deflate(options){if(!(this instanceof Deflate))return new Deflate(options);this.options=utils.assign({level:Z_DEFAULT_COMPRESSION,method:Z_DEFLATED,chunkSize:16384,windowBits:15,memLevel:8,strategy:Z_DEFAULT_STRATEGY,to:\"\"},options||{});var opt=this.options;opt.raw&&opt.windowBits>0?opt.windowBits=-opt.windowBits:opt.gzip&&opt.windowBits>0&&opt.windowBits<16&&(opt.windowBits+=16),this.err=0,this.msg=\"\",this.ended=!1,this.chunks=[],this.strm=new ZStream,this.strm.avail_out=0;var status=zlib_deflate.deflateInit2(this.strm,opt.level,opt.method,opt.windowBits,opt.memLevel,opt.strategy);if(status!==Z_OK)throw new Error(msg[status]);if(opt.header&&zlib_deflate.deflateSetHeader(this.strm,opt.header),opt.dictionary){var dict;if(dict=\"string\"==typeof opt.dictionary?strings.string2buf(opt.dictionary):\"[object ArrayBuffer]\"===toString.call(opt.dictionary)?new Uint8Array(opt.dictionary):opt.dictionary,(status=zlib_deflate.deflateSetDictionary(this.strm,dict))!==Z_OK)throw new Error(msg[status]);this._dict_set=!0}}function deflate(input,options){var deflator=new Deflate(options);if(deflator.push(input,!0),deflator.err)throw deflator.msg||msg[deflator.err];return deflator.result}Deflate.prototype.push=function(data,mode){var status,_mode,strm=this.strm,chunkSize=this.options.chunkSize;if(this.ended)return!1;_mode=mode===~~mode?mode:!0===mode?4:0,\"string\"==typeof data?strm.input=strings.string2buf(data):\"[object ArrayBuffer]\"===toString.call(data)?strm.input=new Uint8Array(data):strm.input=data,strm.next_in=0,strm.avail_in=strm.input.length;do{if(0===strm.avail_out&&(strm.output=new utils.Buf8(chunkSize),strm.next_out=0,strm.avail_out=chunkSize),1!==(status=zlib_deflate.deflate(strm,_mode))&&status!==Z_OK)return this.onEnd(status),this.ended=!0,!1;0!==strm.avail_out&&(0!==strm.avail_in||4!==_mode&&2!==_mode)||(\"string\"===this.options.to?this.onData(strings.buf2binstring(utils.shrinkBuf(strm.output,strm.next_out))):this.onData(utils.shrinkBuf(strm.output,strm.next_out)))}while((strm.avail_in>0||0===strm.avail_out)&&1!==status);return 4===_mode?(status=zlib_deflate.deflateEnd(this.strm),this.onEnd(status),this.ended=!0,status===Z_OK):2!==_mode||(this.onEnd(Z_OK),strm.avail_out=0,!0)},Deflate.prototype.onData=function(chunk){this.chunks.push(chunk)},Deflate.prototype.onEnd=function(status){status===Z_OK&&(\"string\"===this.options.to?this.result=this.chunks.join(\"\"):this.result=utils.flattenChunks(this.chunks)),this.chunks=[],this.err=status,this.msg=this.strm.msg},exports.Deflate=Deflate,exports.deflate=deflate,exports.deflateRaw=function(input,options){return(options=options||{}).raw=!0,deflate(input,options)},exports.gzip=function(input,options){return(options=options||{}).gzip=!0,deflate(input,options)}},function(module,exports,__nested_webpack_require_306861__){\"use strict\";var configuration_table,utils=__nested_webpack_require_306861__(8),trees=__nested_webpack_require_306861__(111),adler32=__nested_webpack_require_306861__(65),crc32=__nested_webpack_require_306861__(66),msg=__nested_webpack_require_306861__(45),Z_NO_FLUSH=0,Z_PARTIAL_FLUSH=1,Z_FULL_FLUSH=3,Z_FINISH=4,Z_BLOCK=5,Z_OK=0,Z_STREAM_END=1,Z_STREAM_ERROR=-2,Z_DATA_ERROR=-3,Z_BUF_ERROR=-5,Z_DEFAULT_COMPRESSION=-1,Z_FILTERED=1,Z_HUFFMAN_ONLY=2,Z_RLE=3,Z_FIXED=4,Z_DEFAULT_STRATEGY=0,Z_UNKNOWN=2,Z_DEFLATED=8,MAX_MEM_LEVEL=9,MAX_WBITS=15,DEF_MEM_LEVEL=8,L_CODES=286,D_CODES=30,BL_CODES=19,HEAP_SIZE=2*L_CODES+1,MAX_BITS=15,MIN_MATCH=3,MAX_MATCH=258,MIN_LOOKAHEAD=MAX_MATCH+MIN_MATCH+1,PRESET_DICT=32,INIT_STATE=42,EXTRA_STATE=69,NAME_STATE=73,COMMENT_STATE=91,HCRC_STATE=103,BUSY_STATE=113,FINISH_STATE=666,BS_NEED_MORE=1,BS_BLOCK_DONE=2,BS_FINISH_STARTED=3,BS_FINISH_DONE=4,OS_CODE=3;function err(strm,errorCode){return strm.msg=msg[errorCode],errorCode}function rank(f){return(f<<1)-(f>4?9:0)}function zero(buf){for(var len=buf.length;--len>=0;)buf[len]=0}function flush_pending(strm){var s=strm.state,len=s.pending;len>strm.avail_out&&(len=strm.avail_out),0!==len&&(utils.arraySet(strm.output,s.pending_buf,s.pending_out,len,strm.next_out),strm.next_out+=len,s.pending_out+=len,strm.total_out+=len,strm.avail_out-=len,s.pending-=len,0===s.pending&&(s.pending_out=0))}function flush_block_only(s,last){trees._tr_flush_block(s,s.block_start>=0?s.block_start:-1,s.strstart-s.block_start,last),s.block_start=s.strstart,flush_pending(s.strm)}function put_byte(s,b){s.pending_buf[s.pending++]=b}function putShortMSB(s,b){s.pending_buf[s.pending++]=b>>>8&255,s.pending_buf[s.pending++]=255&b}function read_buf(strm,buf,start,size){var len=strm.avail_in;return len>size&&(len=size),0===len?0:(strm.avail_in-=len,utils.arraySet(buf,strm.input,strm.next_in,len,start),1===strm.state.wrap?strm.adler=adler32(strm.adler,buf,len,start):2===strm.state.wrap&&(strm.adler=crc32(strm.adler,buf,len,start)),strm.next_in+=len,strm.total_in+=len,len)}function longest_match(s,cur_match){var match,len,chain_length=s.max_chain_length,scan=s.strstart,best_len=s.prev_length,nice_match=s.nice_match,limit=s.strstart>s.w_size-MIN_LOOKAHEAD?s.strstart-(s.w_size-MIN_LOOKAHEAD):0,_win=s.window,wmask=s.w_mask,prev=s.prev,strend=s.strstart+MAX_MATCH,scan_end1=_win[scan+best_len-1],scan_end=_win[scan+best_len];s.prev_length>=s.good_match&&(chain_length>>=2),nice_match>s.lookahead&&(nice_match=s.lookahead);do{if(_win[(match=cur_match)+best_len]===scan_end&&_win[match+best_len-1]===scan_end1&&_win[match]===_win[scan]&&_win[++match]===_win[scan+1]){scan+=2,match++;do{}while(_win[++scan]===_win[++match]&&_win[++scan]===_win[++match]&&_win[++scan]===_win[++match]&&_win[++scan]===_win[++match]&&_win[++scan]===_win[++match]&&_win[++scan]===_win[++match]&&_win[++scan]===_win[++match]&&_win[++scan]===_win[++match]&&scan<strend);if(len=MAX_MATCH-(strend-scan),scan=strend-MAX_MATCH,len>best_len){if(s.match_start=cur_match,best_len=len,len>=nice_match)break;scan_end1=_win[scan+best_len-1],scan_end=_win[scan+best_len]}}}while((cur_match=prev[cur_match&wmask])>limit&&0!=--chain_length);return best_len<=s.lookahead?best_len:s.lookahead}function fill_window(s){var p,n,m,more,str,_w_size=s.w_size;do{if(more=s.window_size-s.lookahead-s.strstart,s.strstart>=_w_size+(_w_size-MIN_LOOKAHEAD)){utils.arraySet(s.window,s.window,_w_size,_w_size,0),s.match_start-=_w_size,s.strstart-=_w_size,s.block_start-=_w_size,p=n=s.hash_size;do{m=s.head[--p],s.head[p]=m>=_w_size?m-_w_size:0}while(--n);p=n=_w_size;do{m=s.prev[--p],s.prev[p]=m>=_w_size?m-_w_size:0}while(--n);more+=_w_size}if(0===s.strm.avail_in)break;if(n=read_buf(s.strm,s.window,s.strstart+s.lookahead,more),s.lookahead+=n,s.lookahead+s.insert>=MIN_MATCH)for(str=s.strstart-s.insert,s.ins_h=s.window[str],s.ins_h=(s.ins_h<<s.hash_shift^s.window[str+1])&s.hash_mask;s.insert&&(s.ins_h=(s.ins_h<<s.hash_shift^s.window[str+MIN_MATCH-1])&s.hash_mask,s.prev[str&s.w_mask]=s.head[s.ins_h],s.head[s.ins_h]=str,str++,s.insert--,!(s.lookahead+s.insert<MIN_MATCH)););}while(s.lookahead<MIN_LOOKAHEAD&&0!==s.strm.avail_in)}function deflate_fast(s,flush){for(var hash_head,bflush;;){if(s.lookahead<MIN_LOOKAHEAD){if(fill_window(s),s.lookahead<MIN_LOOKAHEAD&&flush===Z_NO_FLUSH)return BS_NEED_MORE;if(0===s.lookahead)break}if(hash_head=0,s.lookahead>=MIN_MATCH&&(s.ins_h=(s.ins_h<<s.hash_shift^s.window[s.strstart+MIN_MATCH-1])&s.hash_mask,hash_head=s.prev[s.strstart&s.w_mask]=s.head[s.ins_h],s.head[s.ins_h]=s.strstart),0!==hash_head&&s.strstart-hash_head<=s.w_size-MIN_LOOKAHEAD&&(s.match_length=longest_match(s,hash_head)),s.match_length>=MIN_MATCH)if(bflush=trees._tr_tally(s,s.strstart-s.match_start,s.match_length-MIN_MATCH),s.lookahead-=s.match_length,s.match_length<=s.max_lazy_match&&s.lookahead>=MIN_MATCH){s.match_length--;do{s.strstart++,s.ins_h=(s.ins_h<<s.hash_shift^s.window[s.strstart+MIN_MATCH-1])&s.hash_mask,hash_head=s.prev[s.strstart&s.w_mask]=s.head[s.ins_h],s.head[s.ins_h]=s.strstart}while(0!=--s.match_length);s.strstart++}else s.strstart+=s.match_length,s.match_length=0,s.ins_h=s.window[s.strstart],s.ins_h=(s.ins_h<<s.hash_shift^s.window[s.strstart+1])&s.hash_mask;else bflush=trees._tr_tally(s,0,s.window[s.strstart]),s.lookahead--,s.strstart++;if(bflush&&(flush_block_only(s,!1),0===s.strm.avail_out))return BS_NEED_MORE}return s.insert=s.strstart<MIN_MATCH-1?s.strstart:MIN_MATCH-1,flush===Z_FINISH?(flush_block_only(s,!0),0===s.strm.avail_out?BS_FINISH_STARTED:BS_FINISH_DONE):s.last_lit&&(flush_block_only(s,!1),0===s.strm.avail_out)?BS_NEED_MORE:BS_BLOCK_DONE}function deflate_slow(s,flush){for(var hash_head,bflush,max_insert;;){if(s.lookahead<MIN_LOOKAHEAD){if(fill_window(s),s.lookahead<MIN_LOOKAHEAD&&flush===Z_NO_FLUSH)return BS_NEED_MORE;if(0===s.lookahead)break}if(hash_head=0,s.lookahead>=MIN_MATCH&&(s.ins_h=(s.ins_h<<s.hash_shift^s.window[s.strstart+MIN_MATCH-1])&s.hash_mask,hash_head=s.prev[s.strstart&s.w_mask]=s.head[s.ins_h],s.head[s.ins_h]=s.strstart),s.prev_length=s.match_length,s.prev_match=s.match_start,s.match_length=MIN_MATCH-1,0!==hash_head&&s.prev_length<s.max_lazy_match&&s.strstart-hash_head<=s.w_size-MIN_LOOKAHEAD&&(s.match_length=longest_match(s,hash_head),s.match_length<=5&&(s.strategy===Z_FILTERED||s.match_length===MIN_MATCH&&s.strstart-s.match_start>4096)&&(s.match_length=MIN_MATCH-1)),s.prev_length>=MIN_MATCH&&s.match_length<=s.prev_length){max_insert=s.strstart+s.lookahead-MIN_MATCH,bflush=trees._tr_tally(s,s.strstart-1-s.prev_match,s.prev_length-MIN_MATCH),s.lookahead-=s.prev_length-1,s.prev_length-=2;do{++s.strstart<=max_insert&&(s.ins_h=(s.ins_h<<s.hash_shift^s.window[s.strstart+MIN_MATCH-1])&s.hash_mask,hash_head=s.prev[s.strstart&s.w_mask]=s.head[s.ins_h],s.head[s.ins_h]=s.strstart)}while(0!=--s.prev_length);if(s.match_available=0,s.match_length=MIN_MATCH-1,s.strstart++,bflush&&(flush_block_only(s,!1),0===s.strm.avail_out))return BS_NEED_MORE}else if(s.match_available){if((bflush=trees._tr_tally(s,0,s.window[s.strstart-1]))&&flush_block_only(s,!1),s.strstart++,s.lookahead--,0===s.strm.avail_out)return BS_NEED_MORE}else s.match_available=1,s.strstart++,s.lookahead--}return s.match_available&&(bflush=trees._tr_tally(s,0,s.window[s.strstart-1]),s.match_available=0),s.insert=s.strstart<MIN_MATCH-1?s.strstart:MIN_MATCH-1,flush===Z_FINISH?(flush_block_only(s,!0),0===s.strm.avail_out?BS_FINISH_STARTED:BS_FINISH_DONE):s.last_lit&&(flush_block_only(s,!1),0===s.strm.avail_out)?BS_NEED_MORE:BS_BLOCK_DONE}function Config(good_length,max_lazy,nice_length,max_chain,func){this.good_length=good_length,this.max_lazy=max_lazy,this.nice_length=nice_length,this.max_chain=max_chain,this.func=func}function deflateResetKeep(strm){var s;return strm&&strm.state?(strm.total_in=strm.total_out=0,strm.data_type=Z_UNKNOWN,(s=strm.state).pending=0,s.pending_out=0,s.wrap<0&&(s.wrap=-s.wrap),s.status=s.wrap?INIT_STATE:BUSY_STATE,strm.adler=2===s.wrap?0:1,s.last_flush=Z_NO_FLUSH,trees._tr_init(s),Z_OK):err(strm,Z_STREAM_ERROR)}function deflateReset(strm){var ret=deflateResetKeep(strm);return ret===Z_OK&&function(s){s.window_size=2*s.w_size,zero(s.head),s.max_lazy_match=configuration_table[s.level].max_lazy,s.good_match=configuration_table[s.level].good_length,s.nice_match=configuration_table[s.level].nice_length,s.max_chain_length=configuration_table[s.level].max_chain,s.strstart=0,s.block_start=0,s.lookahead=0,s.insert=0,s.match_length=s.prev_length=MIN_MATCH-1,s.match_available=0,s.ins_h=0}(strm.state),ret}function deflateInit2(strm,level,method,windowBits,memLevel,strategy){if(!strm)return Z_STREAM_ERROR;var wrap=1;if(level===Z_DEFAULT_COMPRESSION&&(level=6),windowBits<0?(wrap=0,windowBits=-windowBits):windowBits>15&&(wrap=2,windowBits-=16),memLevel<1||memLevel>MAX_MEM_LEVEL||method!==Z_DEFLATED||windowBits<8||windowBits>15||level<0||level>9||strategy<0||strategy>Z_FIXED)return err(strm,Z_STREAM_ERROR);8===windowBits&&(windowBits=9);var s=new function(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=Z_DEFLATED,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new utils.Buf16(2*HEAP_SIZE),this.dyn_dtree=new utils.Buf16(2*(2*D_CODES+1)),this.bl_tree=new utils.Buf16(2*(2*BL_CODES+1)),zero(this.dyn_ltree),zero(this.dyn_dtree),zero(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new utils.Buf16(MAX_BITS+1),this.heap=new utils.Buf16(2*L_CODES+1),zero(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new utils.Buf16(2*L_CODES+1),zero(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0};return strm.state=s,s.strm=strm,s.wrap=wrap,s.gzhead=null,s.w_bits=windowBits,s.w_size=1<<s.w_bits,s.w_mask=s.w_size-1,s.hash_bits=memLevel+7,s.hash_size=1<<s.hash_bits,s.hash_mask=s.hash_size-1,s.hash_shift=~~((s.hash_bits+MIN_MATCH-1)/MIN_MATCH),s.window=new utils.Buf8(2*s.w_size),s.head=new utils.Buf16(s.hash_size),s.prev=new utils.Buf16(s.w_size),s.lit_bufsize=1<<memLevel+6,s.pending_buf_size=4*s.lit_bufsize,s.pending_buf=new utils.Buf8(s.pending_buf_size),s.d_buf=1*s.lit_bufsize,s.l_buf=3*s.lit_bufsize,s.level=level,s.strategy=strategy,s.method=method,deflateReset(strm)}configuration_table=[new Config(0,0,0,0,function(s,flush){var max_block_size=65535;for(max_block_size>s.pending_buf_size-5&&(max_block_size=s.pending_buf_size-5);;){if(s.lookahead<=1){if(fill_window(s),0===s.lookahead&&flush===Z_NO_FLUSH)return BS_NEED_MORE;if(0===s.lookahead)break}s.strstart+=s.lookahead,s.lookahead=0;var max_start=s.block_start+max_block_size;if((0===s.strstart||s.strstart>=max_start)&&(s.lookahead=s.strstart-max_start,s.strstart=max_start,flush_block_only(s,!1),0===s.strm.avail_out))return BS_NEED_MORE;if(s.strstart-s.block_start>=s.w_size-MIN_LOOKAHEAD&&(flush_block_only(s,!1),0===s.strm.avail_out))return BS_NEED_MORE}return s.insert=0,flush===Z_FINISH?(flush_block_only(s,!0),0===s.strm.avail_out?BS_FINISH_STARTED:BS_FINISH_DONE):(s.strstart>s.block_start&&(flush_block_only(s,!1),s.strm.avail_out),BS_NEED_MORE)}),new Config(4,4,8,4,deflate_fast),new Config(4,5,16,8,deflate_fast),new Config(4,6,32,32,deflate_fast),new Config(4,4,16,16,deflate_slow),new Config(8,16,32,32,deflate_slow),new Config(8,16,128,128,deflate_slow),new Config(8,32,128,256,deflate_slow),new Config(32,128,258,1024,deflate_slow),new Config(32,258,258,4096,deflate_slow)],exports.deflateInit=function(strm,level){return deflateInit2(strm,level,Z_DEFLATED,MAX_WBITS,DEF_MEM_LEVEL,Z_DEFAULT_STRATEGY)},exports.deflateInit2=deflateInit2,exports.deflateReset=deflateReset,exports.deflateResetKeep=deflateResetKeep,exports.deflateSetHeader=function(strm,head){return strm&&strm.state?2!==strm.state.wrap?Z_STREAM_ERROR:(strm.state.gzhead=head,Z_OK):Z_STREAM_ERROR},exports.deflate=function(strm,flush){var old_flush,s,beg,val;if(!strm||!strm.state||flush>Z_BLOCK||flush<0)return strm?err(strm,Z_STREAM_ERROR):Z_STREAM_ERROR;if(s=strm.state,!strm.output||!strm.input&&0!==strm.avail_in||s.status===FINISH_STATE&&flush!==Z_FINISH)return err(strm,0===strm.avail_out?Z_BUF_ERROR:Z_STREAM_ERROR);if(s.strm=strm,old_flush=s.last_flush,s.last_flush=flush,s.status===INIT_STATE)if(2===s.wrap)strm.adler=0,put_byte(s,31),put_byte(s,139),put_byte(s,8),s.gzhead?(put_byte(s,(s.gzhead.text?1:0)+(s.gzhead.hcrc?2:0)+(s.gzhead.extra?4:0)+(s.gzhead.name?8:0)+(s.gzhead.comment?16:0)),put_byte(s,255&s.gzhead.time),put_byte(s,s.gzhead.time>>8&255),put_byte(s,s.gzhead.time>>16&255),put_byte(s,s.gzhead.time>>24&255),put_byte(s,9===s.level?2:s.strategy>=Z_HUFFMAN_ONLY||s.level<2?4:0),put_byte(s,255&s.gzhead.os),s.gzhead.extra&&s.gzhead.extra.length&&(put_byte(s,255&s.gzhead.extra.length),put_byte(s,s.gzhead.extra.length>>8&255)),s.gzhead.hcrc&&(strm.adler=crc32(strm.adler,s.pending_buf,s.pending,0)),s.gzindex=0,s.status=EXTRA_STATE):(put_byte(s,0),put_byte(s,0),put_byte(s,0),put_byte(s,0),put_byte(s,0),put_byte(s,9===s.level?2:s.strategy>=Z_HUFFMAN_ONLY||s.level<2?4:0),put_byte(s,OS_CODE),s.status=BUSY_STATE);else{var header=Z_DEFLATED+(s.w_bits-8<<4)<<8;header|=(s.strategy>=Z_HUFFMAN_ONLY||s.level<2?0:s.level<6?1:6===s.level?2:3)<<6,0!==s.strstart&&(header|=PRESET_DICT),header+=31-header%31,s.status=BUSY_STATE,putShortMSB(s,header),0!==s.strstart&&(putShortMSB(s,strm.adler>>>16),putShortMSB(s,65535&strm.adler)),strm.adler=1}if(s.status===EXTRA_STATE)if(s.gzhead.extra){for(beg=s.pending;s.gzindex<(65535&s.gzhead.extra.length)&&(s.pending!==s.pending_buf_size||(s.gzhead.hcrc&&s.pending>beg&&(strm.adler=crc32(strm.adler,s.pending_buf,s.pending-beg,beg)),flush_pending(strm),beg=s.pending,s.pending!==s.pending_buf_size));)put_byte(s,255&s.gzhead.extra[s.gzindex]),s.gzindex++;s.gzhead.hcrc&&s.pending>beg&&(strm.adler=crc32(strm.adler,s.pending_buf,s.pending-beg,beg)),s.gzindex===s.gzhead.extra.length&&(s.gzindex=0,s.status=NAME_STATE)}else s.status=NAME_STATE;if(s.status===NAME_STATE)if(s.gzhead.name){beg=s.pending;do{if(s.pending===s.pending_buf_size&&(s.gzhead.hcrc&&s.pending>beg&&(strm.adler=crc32(strm.adler,s.pending_buf,s.pending-beg,beg)),flush_pending(strm),beg=s.pending,s.pending===s.pending_buf_size)){val=1;break}val=s.gzindex<s.gzhead.name.length?255&s.gzhead.name.charCodeAt(s.gzindex++):0,put_byte(s,val)}while(0!==val);s.gzhead.hcrc&&s.pending>beg&&(strm.adler=crc32(strm.adler,s.pending_buf,s.pending-beg,beg)),0===val&&(s.gzindex=0,s.status=COMMENT_STATE)}else s.status=COMMENT_STATE;if(s.status===COMMENT_STATE)if(s.gzhead.comment){beg=s.pending;do{if(s.pending===s.pending_buf_size&&(s.gzhead.hcrc&&s.pending>beg&&(strm.adler=crc32(strm.adler,s.pending_buf,s.pending-beg,beg)),flush_pending(strm),beg=s.pending,s.pending===s.pending_buf_size)){val=1;break}val=s.gzindex<s.gzhead.comment.length?255&s.gzhead.comment.charCodeAt(s.gzindex++):0,put_byte(s,val)}while(0!==val);s.gzhead.hcrc&&s.pending>beg&&(strm.adler=crc32(strm.adler,s.pending_buf,s.pending-beg,beg)),0===val&&(s.status=HCRC_STATE)}else s.status=HCRC_STATE;if(s.status===HCRC_STATE&&(s.gzhead.hcrc?(s.pending+2>s.pending_buf_size&&flush_pending(strm),s.pending+2<=s.pending_buf_size&&(put_byte(s,255&strm.adler),put_byte(s,strm.adler>>8&255),strm.adler=0,s.status=BUSY_STATE)):s.status=BUSY_STATE),0!==s.pending){if(flush_pending(strm),0===strm.avail_out)return s.last_flush=-1,Z_OK}else if(0===strm.avail_in&&rank(flush)<=rank(old_flush)&&flush!==Z_FINISH)return err(strm,Z_BUF_ERROR);if(s.status===FINISH_STATE&&0!==strm.avail_in)return err(strm,Z_BUF_ERROR);if(0!==strm.avail_in||0!==s.lookahead||flush!==Z_NO_FLUSH&&s.status!==FINISH_STATE){var bstate=s.strategy===Z_HUFFMAN_ONLY?function(s,flush){for(var bflush;;){if(0===s.lookahead&&(fill_window(s),0===s.lookahead)){if(flush===Z_NO_FLUSH)return BS_NEED_MORE;break}if(s.match_length=0,bflush=trees._tr_tally(s,0,s.window[s.strstart]),s.lookahead--,s.strstart++,bflush&&(flush_block_only(s,!1),0===s.strm.avail_out))return BS_NEED_MORE}return s.insert=0,flush===Z_FINISH?(flush_block_only(s,!0),0===s.strm.avail_out?BS_FINISH_STARTED:BS_FINISH_DONE):s.last_lit&&(flush_block_only(s,!1),0===s.strm.avail_out)?BS_NEED_MORE:BS_BLOCK_DONE}(s,flush):s.strategy===Z_RLE?function(s,flush){for(var bflush,prev,scan,strend,_win=s.window;;){if(s.lookahead<=MAX_MATCH){if(fill_window(s),s.lookahead<=MAX_MATCH&&flush===Z_NO_FLUSH)return BS_NEED_MORE;if(0===s.lookahead)break}if(s.match_length=0,s.lookahead>=MIN_MATCH&&s.strstart>0&&(prev=_win[scan=s.strstart-1])===_win[++scan]&&prev===_win[++scan]&&prev===_win[++scan]){strend=s.strstart+MAX_MATCH;do{}while(prev===_win[++scan]&&prev===_win[++scan]&&prev===_win[++scan]&&prev===_win[++scan]&&prev===_win[++scan]&&prev===_win[++scan]&&prev===_win[++scan]&&prev===_win[++scan]&&scan<strend);s.match_length=MAX_MATCH-(strend-scan),s.match_length>s.lookahead&&(s.match_length=s.lookahead)}if(s.match_length>=MIN_MATCH?(bflush=trees._tr_tally(s,1,s.match_length-MIN_MATCH),s.lookahead-=s.match_length,s.strstart+=s.match_length,s.match_length=0):(bflush=trees._tr_tally(s,0,s.window[s.strstart]),s.lookahead--,s.strstart++),bflush&&(flush_block_only(s,!1),0===s.strm.avail_out))return BS_NEED_MORE}return s.insert=0,flush===Z_FINISH?(flush_block_only(s,!0),0===s.strm.avail_out?BS_FINISH_STARTED:BS_FINISH_DONE):s.last_lit&&(flush_block_only(s,!1),0===s.strm.avail_out)?BS_NEED_MORE:BS_BLOCK_DONE}(s,flush):configuration_table[s.level].func(s,flush);if(bstate!==BS_FINISH_STARTED&&bstate!==BS_FINISH_DONE||(s.status=FINISH_STATE),bstate===BS_NEED_MORE||bstate===BS_FINISH_STARTED)return 0===strm.avail_out&&(s.last_flush=-1),Z_OK;if(bstate===BS_BLOCK_DONE&&(flush===Z_PARTIAL_FLUSH?trees._tr_align(s):flush!==Z_BLOCK&&(trees._tr_stored_block(s,0,0,!1),flush===Z_FULL_FLUSH&&(zero(s.head),0===s.lookahead&&(s.strstart=0,s.block_start=0,s.insert=0))),flush_pending(strm),0===strm.avail_out))return s.last_flush=-1,Z_OK}return flush!==Z_FINISH?Z_OK:s.wrap<=0?Z_STREAM_END:(2===s.wrap?(put_byte(s,255&strm.adler),put_byte(s,strm.adler>>8&255),put_byte(s,strm.adler>>16&255),put_byte(s,strm.adler>>24&255),put_byte(s,255&strm.total_in),put_byte(s,strm.total_in>>8&255),put_byte(s,strm.total_in>>16&255),put_byte(s,strm.total_in>>24&255)):(putShortMSB(s,strm.adler>>>16),putShortMSB(s,65535&strm.adler)),flush_pending(strm),s.wrap>0&&(s.wrap=-s.wrap),0!==s.pending?Z_OK:Z_STREAM_END)},exports.deflateEnd=function(strm){var status;return strm&&strm.state?(status=strm.state.status)!==INIT_STATE&&status!==EXTRA_STATE&&status!==NAME_STATE&&status!==COMMENT_STATE&&status!==HCRC_STATE&&status!==BUSY_STATE&&status!==FINISH_STATE?err(strm,Z_STREAM_ERROR):(strm.state=null,status===BUSY_STATE?err(strm,Z_DATA_ERROR):Z_OK):Z_STREAM_ERROR},exports.deflateSetDictionary=function(strm,dictionary){var s,str,n,wrap,avail,next,input,tmpDict,dictLength=dictionary.length;if(!strm||!strm.state)return Z_STREAM_ERROR;if(2===(wrap=(s=strm.state).wrap)||1===wrap&&s.status!==INIT_STATE||s.lookahead)return Z_STREAM_ERROR;for(1===wrap&&(strm.adler=adler32(strm.adler,dictionary,dictLength,0)),s.wrap=0,dictLength>=s.w_size&&(0===wrap&&(zero(s.head),s.strstart=0,s.block_start=0,s.insert=0),tmpDict=new utils.Buf8(s.w_size),utils.arraySet(tmpDict,dictionary,dictLength-s.w_size,s.w_size,0),dictionary=tmpDict,dictLength=s.w_size),avail=strm.avail_in,next=strm.next_in,input=strm.input,strm.avail_in=dictLength,strm.next_in=0,strm.input=dictionary,fill_window(s);s.lookahead>=MIN_MATCH;){str=s.strstart,n=s.lookahead-(MIN_MATCH-1);do{s.ins_h=(s.ins_h<<s.hash_shift^s.window[str+MIN_MATCH-1])&s.hash_mask,s.prev[str&s.w_mask]=s.head[s.ins_h],s.head[s.ins_h]=str,str++}while(--n);s.strstart=str,s.lookahead=MIN_MATCH-1,fill_window(s)}return s.strstart+=s.lookahead,s.block_start=s.strstart,s.insert=s.lookahead,s.lookahead=0,s.match_length=s.prev_length=MIN_MATCH-1,s.match_available=0,strm.next_in=next,strm.input=input,strm.avail_in=avail,s.wrap=wrap,Z_OK},exports.deflateInfo=\"pako deflate (from Nodeca project)\"},function(module,exports,__nested_webpack_require_327304__){\"use strict\";var utils=__nested_webpack_require_327304__(8),Z_FIXED=4,Z_BINARY=0,Z_TEXT=1,Z_UNKNOWN=2;function zero(buf){for(var len=buf.length;--len>=0;)buf[len]=0}var STORED_BLOCK=0,STATIC_TREES=1,DYN_TREES=2,LENGTH_CODES=29,LITERALS=256,L_CODES=LITERALS+1+LENGTH_CODES,D_CODES=30,BL_CODES=19,HEAP_SIZE=2*L_CODES+1,MAX_BITS=15,Buf_size=16,MAX_BL_BITS=7,END_BLOCK=256,REP_3_6=16,REPZ_3_10=17,REPZ_11_138=18,extra_lbits=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],extra_dbits=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],extra_blbits=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],bl_order=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],static_ltree=new Array(2*(L_CODES+2));zero(static_ltree);var static_dtree=new Array(2*D_CODES);zero(static_dtree);var _dist_code=new Array(512);zero(_dist_code);var _length_code=new Array(256);zero(_length_code);var base_length=new Array(LENGTH_CODES);zero(base_length);var static_l_desc,static_d_desc,static_bl_desc,base_dist=new Array(D_CODES);function StaticTreeDesc(static_tree,extra_bits,extra_base,elems,max_length){this.static_tree=static_tree,this.extra_bits=extra_bits,this.extra_base=extra_base,this.elems=elems,this.max_length=max_length,this.has_stree=static_tree&&static_tree.length}function TreeDesc(dyn_tree,stat_desc){this.dyn_tree=dyn_tree,this.max_code=0,this.stat_desc=stat_desc}function d_code(dist){return dist<256?_dist_code[dist]:_dist_code[256+(dist>>>7)]}function put_short(s,w){s.pending_buf[s.pending++]=255&w,s.pending_buf[s.pending++]=w>>>8&255}function send_bits(s,value,length){s.bi_valid>Buf_size-length?(s.bi_buf|=value<<s.bi_valid&65535,put_short(s,s.bi_buf),s.bi_buf=value>>Buf_size-s.bi_valid,s.bi_valid+=length-Buf_size):(s.bi_buf|=value<<s.bi_valid&65535,s.bi_valid+=length)}function send_code(s,c,tree){send_bits(s,tree[2*c],tree[2*c+1])}function bi_reverse(code,len){var res=0;do{res|=1&code,code>>>=1,res<<=1}while(--len>0);return res>>>1}function gen_codes(tree,max_code,bl_count){var bits,n,next_code=new Array(MAX_BITS+1),code=0;for(bits=1;bits<=MAX_BITS;bits++)next_code[bits]=code=code+bl_count[bits-1]<<1;for(n=0;n<=max_code;n++){var len=tree[2*n+1];0!==len&&(tree[2*n]=bi_reverse(next_code[len]++,len))}}function init_block(s){var n;for(n=0;n<L_CODES;n++)s.dyn_ltree[2*n]=0;for(n=0;n<D_CODES;n++)s.dyn_dtree[2*n]=0;for(n=0;n<BL_CODES;n++)s.bl_tree[2*n]=0;s.dyn_ltree[2*END_BLOCK]=1,s.opt_len=s.static_len=0,s.last_lit=s.matches=0}function bi_windup(s){s.bi_valid>8?put_short(s,s.bi_buf):s.bi_valid>0&&(s.pending_buf[s.pending++]=s.bi_buf),s.bi_buf=0,s.bi_valid=0}function smaller(tree,n,m,depth){var _n2=2*n,_m2=2*m;return tree[_n2]<tree[_m2]||tree[_n2]===tree[_m2]&&depth[n]<=depth[m]}function pqdownheap(s,tree,k){for(var v=s.heap[k],j=k<<1;j<=s.heap_len&&(j<s.heap_len&&smaller(tree,s.heap[j+1],s.heap[j],s.depth)&&j++,!smaller(tree,v,s.heap[j],s.depth));)s.heap[k]=s.heap[j],k=j,j<<=1;s.heap[k]=v}function compress_block(s,ltree,dtree){var dist,lc,code,extra,lx=0;if(0!==s.last_lit)do{dist=s.pending_buf[s.d_buf+2*lx]<<8|s.pending_buf[s.d_buf+2*lx+1],lc=s.pending_buf[s.l_buf+lx],lx++,0===dist?send_code(s,lc,ltree):(send_code(s,(code=_length_code[lc])+LITERALS+1,ltree),0!==(extra=extra_lbits[code])&&send_bits(s,lc-=base_length[code],extra),send_code(s,code=d_code(--dist),dtree),0!==(extra=extra_dbits[code])&&send_bits(s,dist-=base_dist[code],extra))}while(lx<s.last_lit);send_code(s,END_BLOCK,ltree)}function build_tree(s,desc){var n,m,node,tree=desc.dyn_tree,stree=desc.stat_desc.static_tree,has_stree=desc.stat_desc.has_stree,elems=desc.stat_desc.elems,max_code=-1;for(s.heap_len=0,s.heap_max=HEAP_SIZE,n=0;n<elems;n++)0!==tree[2*n]?(s.heap[++s.heap_len]=max_code=n,s.depth[n]=0):tree[2*n+1]=0;for(;s.heap_len<2;)tree[2*(node=s.heap[++s.heap_len]=max_code<2?++max_code:0)]=1,s.depth[node]=0,s.opt_len--,has_stree&&(s.static_len-=stree[2*node+1]);for(desc.max_code=max_code,n=s.heap_len>>1;n>=1;n--)pqdownheap(s,tree,n);node=elems;do{n=s.heap[1],s.heap[1]=s.heap[s.heap_len--],pqdownheap(s,tree,1),m=s.heap[1],s.heap[--s.heap_max]=n,s.heap[--s.heap_max]=m,tree[2*node]=tree[2*n]+tree[2*m],s.depth[node]=(s.depth[n]>=s.depth[m]?s.depth[n]:s.depth[m])+1,tree[2*n+1]=tree[2*m+1]=node,s.heap[1]=node++,pqdownheap(s,tree,1)}while(s.heap_len>=2);s.heap[--s.heap_max]=s.heap[1],function(s,desc){var h,n,m,bits,xbits,f,tree=desc.dyn_tree,max_code=desc.max_code,stree=desc.stat_desc.static_tree,has_stree=desc.stat_desc.has_stree,extra=desc.stat_desc.extra_bits,base=desc.stat_desc.extra_base,max_length=desc.stat_desc.max_length,overflow=0;for(bits=0;bits<=MAX_BITS;bits++)s.bl_count[bits]=0;for(tree[2*s.heap[s.heap_max]+1]=0,h=s.heap_max+1;h<HEAP_SIZE;h++)(bits=tree[2*tree[2*(n=s.heap[h])+1]+1]+1)>max_length&&(bits=max_length,overflow++),tree[2*n+1]=bits,n>max_code||(s.bl_count[bits]++,xbits=0,n>=base&&(xbits=extra[n-base]),f=tree[2*n],s.opt_len+=f*(bits+xbits),has_stree&&(s.static_len+=f*(stree[2*n+1]+xbits)));if(0!==overflow){do{for(bits=max_length-1;0===s.bl_count[bits];)bits--;s.bl_count[bits]--,s.bl_count[bits+1]+=2,s.bl_count[max_length]--,overflow-=2}while(overflow>0);for(bits=max_length;0!==bits;bits--)for(n=s.bl_count[bits];0!==n;)(m=s.heap[--h])>max_code||(tree[2*m+1]!==bits&&(s.opt_len+=(bits-tree[2*m+1])*tree[2*m],tree[2*m+1]=bits),n--)}}(s,desc),gen_codes(tree,max_code,s.bl_count)}function scan_tree(s,tree,max_code){var n,curlen,prevlen=-1,nextlen=tree[1],count=0,max_count=7,min_count=4;for(0===nextlen&&(max_count=138,min_count=3),tree[2*(max_code+1)+1]=65535,n=0;n<=max_code;n++)curlen=nextlen,nextlen=tree[2*(n+1)+1],++count<max_count&&curlen===nextlen||(count<min_count?s.bl_tree[2*curlen]+=count:0!==curlen?(curlen!==prevlen&&s.bl_tree[2*curlen]++,s.bl_tree[2*REP_3_6]++):count<=10?s.bl_tree[2*REPZ_3_10]++:s.bl_tree[2*REPZ_11_138]++,count=0,prevlen=curlen,0===nextlen?(max_count=138,min_count=3):curlen===nextlen?(max_count=6,min_count=3):(max_count=7,min_count=4))}function send_tree(s,tree,max_code){var n,curlen,prevlen=-1,nextlen=tree[1],count=0,max_count=7,min_count=4;for(0===nextlen&&(max_count=138,min_count=3),n=0;n<=max_code;n++)if(curlen=nextlen,nextlen=tree[2*(n+1)+1],!(++count<max_count&&curlen===nextlen)){if(count<min_count)do{send_code(s,curlen,s.bl_tree)}while(0!=--count);else 0!==curlen?(curlen!==prevlen&&(send_code(s,curlen,s.bl_tree),count--),send_code(s,REP_3_6,s.bl_tree),send_bits(s,count-3,2)):count<=10?(send_code(s,REPZ_3_10,s.bl_tree),send_bits(s,count-3,3)):(send_code(s,REPZ_11_138,s.bl_tree),send_bits(s,count-11,7));count=0,prevlen=curlen,0===nextlen?(max_count=138,min_count=3):curlen===nextlen?(max_count=6,min_count=3):(max_count=7,min_count=4)}}zero(base_dist);var static_init_done=!1;function _tr_stored_block(s,buf,stored_len,last){send_bits(s,(STORED_BLOCK<<1)+(last?1:0),3),function(s,buf,len,header){bi_windup(s),header&&(put_short(s,len),put_short(s,~len)),utils.arraySet(s.pending_buf,s.window,buf,len,s.pending),s.pending+=len}(s,buf,stored_len,!0)}exports._tr_init=function(s){static_init_done||(function(){var n,bits,length,code,dist,bl_count=new Array(MAX_BITS+1);for(length=0,code=0;code<LENGTH_CODES-1;code++)for(base_length[code]=length,n=0;n<1<<extra_lbits[code];n++)_length_code[length++]=code;for(_length_code[length-1]=code,dist=0,code=0;code<16;code++)for(base_dist[code]=dist,n=0;n<1<<extra_dbits[code];n++)_dist_code[dist++]=code;for(dist>>=7;code<D_CODES;code++)for(base_dist[code]=dist<<7,n=0;n<1<<extra_dbits[code]-7;n++)_dist_code[256+dist++]=code;for(bits=0;bits<=MAX_BITS;bits++)bl_count[bits]=0;for(n=0;n<=143;)static_ltree[2*n+1]=8,n++,bl_count[8]++;for(;n<=255;)static_ltree[2*n+1]=9,n++,bl_count[9]++;for(;n<=279;)static_ltree[2*n+1]=7,n++,bl_count[7]++;for(;n<=287;)static_ltree[2*n+1]=8,n++,bl_count[8]++;for(gen_codes(static_ltree,L_CODES+1,bl_count),n=0;n<D_CODES;n++)static_dtree[2*n+1]=5,static_dtree[2*n]=bi_reverse(n,5);static_l_desc=new StaticTreeDesc(static_ltree,extra_lbits,LITERALS+1,L_CODES,MAX_BITS),static_d_desc=new StaticTreeDesc(static_dtree,extra_dbits,0,D_CODES,MAX_BITS),static_bl_desc=new StaticTreeDesc(new Array(0),extra_blbits,0,BL_CODES,MAX_BL_BITS)}(),static_init_done=!0),s.l_desc=new TreeDesc(s.dyn_ltree,static_l_desc),s.d_desc=new TreeDesc(s.dyn_dtree,static_d_desc),s.bl_desc=new TreeDesc(s.bl_tree,static_bl_desc),s.bi_buf=0,s.bi_valid=0,init_block(s)},exports._tr_stored_block=_tr_stored_block,exports._tr_flush_block=function(s,buf,stored_len,last){var opt_lenb,static_lenb,max_blindex=0;s.level>0?(s.strm.data_type===Z_UNKNOWN&&(s.strm.data_type=function(s){var n,black_mask=4093624447;for(n=0;n<=31;n++,black_mask>>>=1)if(1&black_mask&&0!==s.dyn_ltree[2*n])return Z_BINARY;if(0!==s.dyn_ltree[18]||0!==s.dyn_ltree[20]||0!==s.dyn_ltree[26])return Z_TEXT;for(n=32;n<LITERALS;n++)if(0!==s.dyn_ltree[2*n])return Z_TEXT;return Z_BINARY}(s)),build_tree(s,s.l_desc),build_tree(s,s.d_desc),max_blindex=function(s){var max_blindex;for(scan_tree(s,s.dyn_ltree,s.l_desc.max_code),scan_tree(s,s.dyn_dtree,s.d_desc.max_code),build_tree(s,s.bl_desc),max_blindex=BL_CODES-1;max_blindex>=3&&0===s.bl_tree[2*bl_order[max_blindex]+1];max_blindex--);return s.opt_len+=3*(max_blindex+1)+5+5+4,max_blindex}(s),opt_lenb=s.opt_len+3+7>>>3,(static_lenb=s.static_len+3+7>>>3)<=opt_lenb&&(opt_lenb=static_lenb)):opt_lenb=static_lenb=stored_len+5,stored_len+4<=opt_lenb&&-1!==buf?_tr_stored_block(s,buf,stored_len,last):s.strategy===Z_FIXED||static_lenb===opt_lenb?(send_bits(s,(STATIC_TREES<<1)+(last?1:0),3),compress_block(s,static_ltree,static_dtree)):(send_bits(s,(DYN_TREES<<1)+(last?1:0),3),function(s,lcodes,dcodes,blcodes){var rank;for(send_bits(s,lcodes-257,5),send_bits(s,dcodes-1,5),send_bits(s,blcodes-4,4),rank=0;rank<blcodes;rank++)send_bits(s,s.bl_tree[2*bl_order[rank]+1],3);send_tree(s,s.dyn_ltree,lcodes-1),send_tree(s,s.dyn_dtree,dcodes-1)}(s,s.l_desc.max_code+1,s.d_desc.max_code+1,max_blindex+1),compress_block(s,s.dyn_ltree,s.dyn_dtree)),init_block(s),last&&bi_windup(s)},exports._tr_tally=function(s,dist,lc){return s.pending_buf[s.d_buf+2*s.last_lit]=dist>>>8&255,s.pending_buf[s.d_buf+2*s.last_lit+1]=255&dist,s.pending_buf[s.l_buf+s.last_lit]=255&lc,s.last_lit++,0===dist?s.dyn_ltree[2*lc]++:(s.matches++,dist--,s.dyn_ltree[2*(_length_code[lc]+LITERALS+1)]++,s.dyn_dtree[2*d_code(dist)]++),s.last_lit===s.lit_bufsize-1},exports._tr_align=function(s){send_bits(s,STATIC_TREES<<1,3),send_code(s,END_BLOCK,static_ltree),function(s){16===s.bi_valid?(put_short(s,s.bi_buf),s.bi_buf=0,s.bi_valid=0):s.bi_valid>=8&&(s.pending_buf[s.pending++]=255&s.bi_buf,s.bi_buf>>=8,s.bi_valid-=8)}(s)}},function(module,exports,__nested_webpack_require_337882__){\"use strict\";var zlib_inflate=__nested_webpack_require_337882__(113),utils=__nested_webpack_require_337882__(8),strings=__nested_webpack_require_337882__(67),c=__nested_webpack_require_337882__(69),msg=__nested_webpack_require_337882__(45),ZStream=__nested_webpack_require_337882__(68),GZheader=__nested_webpack_require_337882__(116),toString=Object.prototype.toString;function Inflate(options){if(!(this instanceof Inflate))return new Inflate(options);this.options=utils.assign({chunkSize:16384,windowBits:0,to:\"\"},options||{});var opt=this.options;opt.raw&&opt.windowBits>=0&&opt.windowBits<16&&(opt.windowBits=-opt.windowBits,0===opt.windowBits&&(opt.windowBits=-15)),!(opt.windowBits>=0&&opt.windowBits<16)||options&&options.windowBits||(opt.windowBits+=32),opt.windowBits>15&&opt.windowBits<48&&0==(15&opt.windowBits)&&(opt.windowBits|=15),this.err=0,this.msg=\"\",this.ended=!1,this.chunks=[],this.strm=new ZStream,this.strm.avail_out=0;var status=zlib_inflate.inflateInit2(this.strm,opt.windowBits);if(status!==c.Z_OK)throw new Error(msg[status]);if(this.header=new GZheader,zlib_inflate.inflateGetHeader(this.strm,this.header),opt.dictionary&&(\"string\"==typeof opt.dictionary?opt.dictionary=strings.string2buf(opt.dictionary):\"[object ArrayBuffer]\"===toString.call(opt.dictionary)&&(opt.dictionary=new Uint8Array(opt.dictionary)),opt.raw&&(status=zlib_inflate.inflateSetDictionary(this.strm,opt.dictionary))!==c.Z_OK))throw new Error(msg[status])}function inflate(input,options){var inflator=new Inflate(options);if(inflator.push(input,!0),inflator.err)throw inflator.msg||msg[inflator.err];return inflator.result}Inflate.prototype.push=function(data,mode){var status,_mode,next_out_utf8,tail,utf8str,strm=this.strm,chunkSize=this.options.chunkSize,dictionary=this.options.dictionary,allowBufError=!1;if(this.ended)return!1;_mode=mode===~~mode?mode:!0===mode?c.Z_FINISH:c.Z_NO_FLUSH,\"string\"==typeof data?strm.input=strings.binstring2buf(data):\"[object ArrayBuffer]\"===toString.call(data)?strm.input=new Uint8Array(data):strm.input=data,strm.next_in=0,strm.avail_in=strm.input.length;do{if(0===strm.avail_out&&(strm.output=new utils.Buf8(chunkSize),strm.next_out=0,strm.avail_out=chunkSize),(status=zlib_inflate.inflate(strm,c.Z_NO_FLUSH))===c.Z_NEED_DICT&&dictionary&&(status=zlib_inflate.inflateSetDictionary(this.strm,dictionary)),status===c.Z_BUF_ERROR&&!0===allowBufError&&(status=c.Z_OK,allowBufError=!1),status!==c.Z_STREAM_END&&status!==c.Z_OK)return this.onEnd(status),this.ended=!0,!1;strm.next_out&&(0!==strm.avail_out&&status!==c.Z_STREAM_END&&(0!==strm.avail_in||_mode!==c.Z_FINISH&&_mode!==c.Z_SYNC_FLUSH)||(\"string\"===this.options.to?(next_out_utf8=strings.utf8border(strm.output,strm.next_out),tail=strm.next_out-next_out_utf8,utf8str=strings.buf2string(strm.output,next_out_utf8),strm.next_out=tail,strm.avail_out=chunkSize-tail,tail&&utils.arraySet(strm.output,strm.output,next_out_utf8,tail,0),this.onData(utf8str)):this.onData(utils.shrinkBuf(strm.output,strm.next_out)))),0===strm.avail_in&&0===strm.avail_out&&(allowBufError=!0)}while((strm.avail_in>0||0===strm.avail_out)&&status!==c.Z_STREAM_END);return status===c.Z_STREAM_END&&(_mode=c.Z_FINISH),_mode===c.Z_FINISH?(status=zlib_inflate.inflateEnd(this.strm),this.onEnd(status),this.ended=!0,status===c.Z_OK):_mode!==c.Z_SYNC_FLUSH||(this.onEnd(c.Z_OK),strm.avail_out=0,!0)},Inflate.prototype.onData=function(chunk){this.chunks.push(chunk)},Inflate.prototype.onEnd=function(status){status===c.Z_OK&&(\"string\"===this.options.to?this.result=this.chunks.join(\"\"):this.result=utils.flattenChunks(this.chunks)),this.chunks=[],this.err=status,this.msg=this.strm.msg},exports.Inflate=Inflate,exports.inflate=inflate,exports.inflateRaw=function(input,options){return(options=options||{}).raw=!0,inflate(input,options)},exports.ungzip=inflate},function(module,exports,__nested_webpack_require_341645__){\"use strict\";var utils=__nested_webpack_require_341645__(8),adler32=__nested_webpack_require_341645__(65),crc32=__nested_webpack_require_341645__(66),inflate_fast=__nested_webpack_require_341645__(114),inflate_table=__nested_webpack_require_341645__(115),CODES=0,LENS=1,DISTS=2,Z_FINISH=4,Z_BLOCK=5,Z_TREES=6,Z_OK=0,Z_STREAM_END=1,Z_NEED_DICT=2,Z_STREAM_ERROR=-2,Z_DATA_ERROR=-3,Z_MEM_ERROR=-4,Z_BUF_ERROR=-5,Z_DEFLATED=8,HEAD=1,FLAGS=2,TIME=3,OS=4,EXLEN=5,EXTRA=6,NAME=7,COMMENT=8,HCRC=9,DICTID=10,DICT=11,TYPE=12,TYPEDO=13,STORED=14,COPY_=15,COPY=16,TABLE=17,LENLENS=18,CODELENS=19,LEN_=20,LEN=21,LENEXT=22,DIST=23,DISTEXT=24,MATCH=25,LIT=26,CHECK=27,LENGTH=28,DONE=29,BAD=30,MEM=31,SYNC=32,ENOUGH_LENS=852,ENOUGH_DISTS=592,DEF_WBITS=15;function zswap32(q){return(q>>>24&255)+(q>>>8&65280)+((65280&q)<<8)+((255&q)<<24)}function inflateResetKeep(strm){var state;return strm&&strm.state?(state=strm.state,strm.total_in=strm.total_out=state.total=0,strm.msg=\"\",state.wrap&&(strm.adler=1&state.wrap),state.mode=HEAD,state.last=0,state.havedict=0,state.dmax=32768,state.head=null,state.hold=0,state.bits=0,state.lencode=state.lendyn=new utils.Buf32(ENOUGH_LENS),state.distcode=state.distdyn=new utils.Buf32(ENOUGH_DISTS),state.sane=1,state.back=-1,Z_OK):Z_STREAM_ERROR}function inflateReset(strm){var state;return strm&&strm.state?((state=strm.state).wsize=0,state.whave=0,state.wnext=0,inflateResetKeep(strm)):Z_STREAM_ERROR}function inflateReset2(strm,windowBits){var wrap,state;return strm&&strm.state?(state=strm.state,windowBits<0?(wrap=0,windowBits=-windowBits):(wrap=1+(windowBits>>4),windowBits<48&&(windowBits&=15)),windowBits&&(windowBits<8||windowBits>15)?Z_STREAM_ERROR:(null!==state.window&&state.wbits!==windowBits&&(state.window=null),state.wrap=wrap,state.wbits=windowBits,inflateReset(strm))):Z_STREAM_ERROR}function inflateInit2(strm,windowBits){var ret,state;return strm?(state=new function(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new utils.Buf16(320),this.work=new utils.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0},strm.state=state,state.window=null,(ret=inflateReset2(strm,windowBits))!==Z_OK&&(strm.state=null),ret):Z_STREAM_ERROR}var lenfix,distfix,virgin=!0;function fixedtables(state){if(virgin){var sym;for(lenfix=new utils.Buf32(512),distfix=new utils.Buf32(32),sym=0;sym<144;)state.lens[sym++]=8;for(;sym<256;)state.lens[sym++]=9;for(;sym<280;)state.lens[sym++]=7;for(;sym<288;)state.lens[sym++]=8;for(inflate_table(LENS,state.lens,0,288,lenfix,0,state.work,{bits:9}),sym=0;sym<32;)state.lens[sym++]=5;inflate_table(DISTS,state.lens,0,32,distfix,0,state.work,{bits:5}),virgin=!1}state.lencode=lenfix,state.lenbits=9,state.distcode=distfix,state.distbits=5}function updatewindow(strm,src,end,copy){var dist,state=strm.state;return null===state.window&&(state.wsize=1<<state.wbits,state.wnext=0,state.whave=0,state.window=new utils.Buf8(state.wsize)),copy>=state.wsize?(utils.arraySet(state.window,src,end-state.wsize,state.wsize,0),state.wnext=0,state.whave=state.wsize):((dist=state.wsize-state.wnext)>copy&&(dist=copy),utils.arraySet(state.window,src,end-copy,dist,state.wnext),(copy-=dist)?(utils.arraySet(state.window,src,end-copy,copy,0),state.wnext=copy,state.whave=state.wsize):(state.wnext+=dist,state.wnext===state.wsize&&(state.wnext=0),state.whave<state.wsize&&(state.whave+=dist))),0}exports.inflateReset=inflateReset,exports.inflateReset2=inflateReset2,exports.inflateResetKeep=inflateResetKeep,exports.inflateInit=function(strm){return inflateInit2(strm,DEF_WBITS)},exports.inflateInit2=inflateInit2,exports.inflate=function(strm,flush){var state,input,output,next,put,have,left,hold,bits,_in,_out,copy,from,from_source,here_bits,here_op,here_val,last_bits,last_op,last_val,len,ret,opts,n,here=0,hbuf=new utils.Buf8(4),order=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!strm||!strm.state||!strm.output||!strm.input&&0!==strm.avail_in)return Z_STREAM_ERROR;(state=strm.state).mode===TYPE&&(state.mode=TYPEDO),put=strm.next_out,output=strm.output,left=strm.avail_out,next=strm.next_in,input=strm.input,have=strm.avail_in,hold=state.hold,bits=state.bits,_in=have,_out=left,ret=Z_OK;inf_leave:for(;;)switch(state.mode){case HEAD:if(0===state.wrap){state.mode=TYPEDO;break}for(;bits<16;){if(0===have)break inf_leave;have--,hold+=input[next++]<<bits,bits+=8}if(2&state.wrap&&35615===hold){state.check=0,hbuf[0]=255&hold,hbuf[1]=hold>>>8&255,state.check=crc32(state.check,hbuf,2,0),hold=0,bits=0,state.mode=FLAGS;break}if(state.flags=0,state.head&&(state.head.done=!1),!(1&state.wrap)||(((255&hold)<<8)+(hold>>8))%31){strm.msg=\"incorrect header check\",state.mode=BAD;break}if((15&hold)!==Z_DEFLATED){strm.msg=\"unknown compression method\",state.mode=BAD;break}if(bits-=4,len=8+(15&(hold>>>=4)),0===state.wbits)state.wbits=len;else if(len>state.wbits){strm.msg=\"invalid window size\",state.mode=BAD;break}state.dmax=1<<len,strm.adler=state.check=1,state.mode=512&hold?DICTID:TYPE,hold=0,bits=0;break;case FLAGS:for(;bits<16;){if(0===have)break inf_leave;have--,hold+=input[next++]<<bits,bits+=8}if(state.flags=hold,(255&state.flags)!==Z_DEFLATED){strm.msg=\"unknown compression method\",state.mode=BAD;break}if(57344&state.flags){strm.msg=\"unknown header flags set\",state.mode=BAD;break}state.head&&(state.head.text=hold>>8&1),512&state.flags&&(hbuf[0]=255&hold,hbuf[1]=hold>>>8&255,state.check=crc32(state.check,hbuf,2,0)),hold=0,bits=0,state.mode=TIME;case TIME:for(;bits<32;){if(0===have)break inf_leave;have--,hold+=input[next++]<<bits,bits+=8}state.head&&(state.head.time=hold),512&state.flags&&(hbuf[0]=255&hold,hbuf[1]=hold>>>8&255,hbuf[2]=hold>>>16&255,hbuf[3]=hold>>>24&255,state.check=crc32(state.check,hbuf,4,0)),hold=0,bits=0,state.mode=OS;case OS:for(;bits<16;){if(0===have)break inf_leave;have--,hold+=input[next++]<<bits,bits+=8}state.head&&(state.head.xflags=255&hold,state.head.os=hold>>8),512&state.flags&&(hbuf[0]=255&hold,hbuf[1]=hold>>>8&255,state.check=crc32(state.check,hbuf,2,0)),hold=0,bits=0,state.mode=EXLEN;case EXLEN:if(1024&state.flags){for(;bits<16;){if(0===have)break inf_leave;have--,hold+=input[next++]<<bits,bits+=8}state.length=hold,state.head&&(state.head.extra_len=hold),512&state.flags&&(hbuf[0]=255&hold,hbuf[1]=hold>>>8&255,state.check=crc32(state.check,hbuf,2,0)),hold=0,bits=0}else state.head&&(state.head.extra=null);state.mode=EXTRA;case EXTRA:if(1024&state.flags&&((copy=state.length)>have&&(copy=have),copy&&(state.head&&(len=state.head.extra_len-state.length,state.head.extra||(state.head.extra=new Array(state.head.extra_len)),utils.arraySet(state.head.extra,input,next,copy,len)),512&state.flags&&(state.check=crc32(state.check,input,copy,next)),have-=copy,next+=copy,state.length-=copy),state.length))break inf_leave;state.length=0,state.mode=NAME;case NAME:if(2048&state.flags){if(0===have)break inf_leave;copy=0;do{len=input[next+copy++],state.head&&len&&state.length<65536&&(state.head.name+=String.fromCharCode(len))}while(len&&copy<have);if(512&state.flags&&(state.check=crc32(state.check,input,copy,next)),have-=copy,next+=copy,len)break inf_leave}else state.head&&(state.head.name=null);state.length=0,state.mode=COMMENT;case COMMENT:if(4096&state.flags){if(0===have)break inf_leave;copy=0;do{len=input[next+copy++],state.head&&len&&state.length<65536&&(state.head.comment+=String.fromCharCode(len))}while(len&&copy<have);if(512&state.flags&&(state.check=crc32(state.check,input,copy,next)),have-=copy,next+=copy,len)break inf_leave}else state.head&&(state.head.comment=null);state.mode=HCRC;case HCRC:if(512&state.flags){for(;bits<16;){if(0===have)break inf_leave;have--,hold+=input[next++]<<bits,bits+=8}if(hold!==(65535&state.check)){strm.msg=\"header crc mismatch\",state.mode=BAD;break}hold=0,bits=0}state.head&&(state.head.hcrc=state.flags>>9&1,state.head.done=!0),strm.adler=state.check=0,state.mode=TYPE;break;case DICTID:for(;bits<32;){if(0===have)break inf_leave;have--,hold+=input[next++]<<bits,bits+=8}strm.adler=state.check=zswap32(hold),hold=0,bits=0,state.mode=DICT;case DICT:if(0===state.havedict)return strm.next_out=put,strm.avail_out=left,strm.next_in=next,strm.avail_in=have,state.hold=hold,state.bits=bits,Z_NEED_DICT;strm.adler=state.check=1,state.mode=TYPE;case TYPE:if(flush===Z_BLOCK||flush===Z_TREES)break inf_leave;case TYPEDO:if(state.last){hold>>>=7&bits,bits-=7&bits,state.mode=CHECK;break}for(;bits<3;){if(0===have)break inf_leave;have--,hold+=input[next++]<<bits,bits+=8}switch(state.last=1&hold,bits-=1,3&(hold>>>=1)){case 0:state.mode=STORED;break;case 1:if(fixedtables(state),state.mode=LEN_,flush===Z_TREES){hold>>>=2,bits-=2;break inf_leave}break;case 2:state.mode=TABLE;break;case 3:strm.msg=\"invalid block type\",state.mode=BAD}hold>>>=2,bits-=2;break;case STORED:for(hold>>>=7&bits,bits-=7&bits;bits<32;){if(0===have)break inf_leave;have--,hold+=input[next++]<<bits,bits+=8}if((65535&hold)!=(hold>>>16^65535)){strm.msg=\"invalid stored block lengths\",state.mode=BAD;break}if(state.length=65535&hold,hold=0,bits=0,state.mode=COPY_,flush===Z_TREES)break inf_leave;case COPY_:state.mode=COPY;case COPY:if(copy=state.length){if(copy>have&&(copy=have),copy>left&&(copy=left),0===copy)break inf_leave;utils.arraySet(output,input,next,copy,put),have-=copy,next+=copy,left-=copy,put+=copy,state.length-=copy;break}state.mode=TYPE;break;case TABLE:for(;bits<14;){if(0===have)break inf_leave;have--,hold+=input[next++]<<bits,bits+=8}if(state.nlen=257+(31&hold),hold>>>=5,bits-=5,state.ndist=1+(31&hold),hold>>>=5,bits-=5,state.ncode=4+(15&hold),hold>>>=4,bits-=4,state.nlen>286||state.ndist>30){strm.msg=\"too many length or distance symbols\",state.mode=BAD;break}state.have=0,state.mode=LENLENS;case LENLENS:for(;state.have<state.ncode;){for(;bits<3;){if(0===have)break inf_leave;have--,hold+=input[next++]<<bits,bits+=8}state.lens[order[state.have++]]=7&hold,hold>>>=3,bits-=3}for(;state.have<19;)state.lens[order[state.have++]]=0;if(state.lencode=state.lendyn,state.lenbits=7,opts={bits:state.lenbits},ret=inflate_table(CODES,state.lens,0,19,state.lencode,0,state.work,opts),state.lenbits=opts.bits,ret){strm.msg=\"invalid code lengths set\",state.mode=BAD;break}state.have=0,state.mode=CODELENS;case CODELENS:for(;state.have<state.nlen+state.ndist;){for(;here_op=(here=state.lencode[hold&(1<<state.lenbits)-1])>>>16&255,here_val=65535&here,!((here_bits=here>>>24)<=bits);){if(0===have)break inf_leave;have--,hold+=input[next++]<<bits,bits+=8}if(here_val<16)hold>>>=here_bits,bits-=here_bits,state.lens[state.have++]=here_val;else{if(16===here_val){for(n=here_bits+2;bits<n;){if(0===have)break inf_leave;have--,hold+=input[next++]<<bits,bits+=8}if(hold>>>=here_bits,bits-=here_bits,0===state.have){strm.msg=\"invalid bit length repeat\",state.mode=BAD;break}len=state.lens[state.have-1],copy=3+(3&hold),hold>>>=2,bits-=2}else if(17===here_val){for(n=here_bits+3;bits<n;){if(0===have)break inf_leave;have--,hold+=input[next++]<<bits,bits+=8}bits-=here_bits,len=0,copy=3+(7&(hold>>>=here_bits)),hold>>>=3,bits-=3}else{for(n=here_bits+7;bits<n;){if(0===have)break inf_leave;have--,hold+=input[next++]<<bits,bits+=8}bits-=here_bits,len=0,copy=11+(127&(hold>>>=here_bits)),hold>>>=7,bits-=7}if(state.have+copy>state.nlen+state.ndist){strm.msg=\"invalid bit length repeat\",state.mode=BAD;break}for(;copy--;)state.lens[state.have++]=len}}if(state.mode===BAD)break;if(0===state.lens[256]){strm.msg=\"invalid code -- missing end-of-block\",state.mode=BAD;break}if(state.lenbits=9,opts={bits:state.lenbits},ret=inflate_table(LENS,state.lens,0,state.nlen,state.lencode,0,state.work,opts),state.lenbits=opts.bits,ret){strm.msg=\"invalid literal/lengths set\",state.mode=BAD;break}if(state.distbits=6,state.distcode=state.distdyn,opts={bits:state.distbits},ret=inflate_table(DISTS,state.lens,state.nlen,state.ndist,state.distcode,0,state.work,opts),state.distbits=opts.bits,ret){strm.msg=\"invalid distances set\",state.mode=BAD;break}if(state.mode=LEN_,flush===Z_TREES)break inf_leave;case LEN_:state.mode=LEN;case LEN:if(have>=6&&left>=258){strm.next_out=put,strm.avail_out=left,strm.next_in=next,strm.avail_in=have,state.hold=hold,state.bits=bits,inflate_fast(strm,_out),put=strm.next_out,output=strm.output,left=strm.avail_out,next=strm.next_in,input=strm.input,have=strm.avail_in,hold=state.hold,bits=state.bits,state.mode===TYPE&&(state.back=-1);break}for(state.back=0;here_op=(here=state.lencode[hold&(1<<state.lenbits)-1])>>>16&255,here_val=65535&here,!((here_bits=here>>>24)<=bits);){if(0===have)break inf_leave;have--,hold+=input[next++]<<bits,bits+=8}if(here_op&&0==(240&here_op)){for(last_bits=here_bits,last_op=here_op,last_val=here_val;here_op=(here=state.lencode[last_val+((hold&(1<<last_bits+last_op)-1)>>last_bits)])>>>16&255,here_val=65535&here,!(last_bits+(here_bits=here>>>24)<=bits);){if(0===have)break inf_leave;have--,hold+=input[next++]<<bits,bits+=8}hold>>>=last_bits,bits-=last_bits,state.back+=last_bits}if(hold>>>=here_bits,bits-=here_bits,state.back+=here_bits,state.length=here_val,0===here_op){state.mode=LIT;break}if(32&here_op){state.back=-1,state.mode=TYPE;break}if(64&here_op){strm.msg=\"invalid literal/length code\",state.mode=BAD;break}state.extra=15&here_op,state.mode=LENEXT;case LENEXT:if(state.extra){for(n=state.extra;bits<n;){if(0===have)break inf_leave;have--,hold+=input[next++]<<bits,bits+=8}state.length+=hold&(1<<state.extra)-1,hold>>>=state.extra,bits-=state.extra,state.back+=state.extra}state.was=state.length,state.mode=DIST;case DIST:for(;here_op=(here=state.distcode[hold&(1<<state.distbits)-1])>>>16&255,here_val=65535&here,!((here_bits=here>>>24)<=bits);){if(0===have)break inf_leave;have--,hold+=input[next++]<<bits,bits+=8}if(0==(240&here_op)){for(last_bits=here_bits,last_op=here_op,last_val=here_val;here_op=(here=state.distcode[last_val+((hold&(1<<last_bits+last_op)-1)>>last_bits)])>>>16&255,here_val=65535&here,!(last_bits+(here_bits=here>>>24)<=bits);){if(0===have)break inf_leave;have--,hold+=input[next++]<<bits,bits+=8}hold>>>=last_bits,bits-=last_bits,state.back+=last_bits}if(hold>>>=here_bits,bits-=here_bits,state.back+=here_bits,64&here_op){strm.msg=\"invalid distance code\",state.mode=BAD;break}state.offset=here_val,state.extra=15&here_op,state.mode=DISTEXT;case DISTEXT:if(state.extra){for(n=state.extra;bits<n;){if(0===have)break inf_leave;have--,hold+=input[next++]<<bits,bits+=8}state.offset+=hold&(1<<state.extra)-1,hold>>>=state.extra,bits-=state.extra,state.back+=state.extra}if(state.offset>state.dmax){strm.msg=\"invalid distance too far back\",state.mode=BAD;break}state.mode=MATCH;case MATCH:if(0===left)break inf_leave;if(copy=_out-left,state.offset>copy){if((copy=state.offset-copy)>state.whave&&state.sane){strm.msg=\"invalid distance too far back\",state.mode=BAD;break}copy>state.wnext?(copy-=state.wnext,from=state.wsize-copy):from=state.wnext-copy,copy>state.length&&(copy=state.length),from_source=state.window}else from_source=output,from=put-state.offset,copy=state.length;copy>left&&(copy=left),left-=copy,state.length-=copy;do{output[put++]=from_source[from++]}while(--copy);0===state.length&&(state.mode=LEN);break;case LIT:if(0===left)break inf_leave;output[put++]=state.length,left--,state.mode=LEN;break;case CHECK:if(state.wrap){for(;bits<32;){if(0===have)break inf_leave;have--,hold|=input[next++]<<bits,bits+=8}if(_out-=left,strm.total_out+=_out,state.total+=_out,_out&&(strm.adler=state.check=state.flags?crc32(state.check,output,_out,put-_out):adler32(state.check,output,_out,put-_out)),_out=left,(state.flags?hold:zswap32(hold))!==state.check){strm.msg=\"incorrect data check\",state.mode=BAD;break}hold=0,bits=0}state.mode=LENGTH;case LENGTH:if(state.wrap&&state.flags){for(;bits<32;){if(0===have)break inf_leave;have--,hold+=input[next++]<<bits,bits+=8}if(hold!==(4294967295&state.total)){strm.msg=\"incorrect length check\",state.mode=BAD;break}hold=0,bits=0}state.mode=DONE;case DONE:ret=Z_STREAM_END;break inf_leave;case BAD:ret=Z_DATA_ERROR;break inf_leave;case MEM:return Z_MEM_ERROR;case SYNC:default:return Z_STREAM_ERROR}return strm.next_out=put,strm.avail_out=left,strm.next_in=next,strm.avail_in=have,state.hold=hold,state.bits=bits,(state.wsize||_out!==strm.avail_out&&state.mode<BAD&&(state.mode<CHECK||flush!==Z_FINISH))&&updatewindow(strm,strm.output,strm.next_out,_out-strm.avail_out)?(state.mode=MEM,Z_MEM_ERROR):(_in-=strm.avail_in,_out-=strm.avail_out,strm.total_in+=_in,strm.total_out+=_out,state.total+=_out,state.wrap&&_out&&(strm.adler=state.check=state.flags?crc32(state.check,output,_out,strm.next_out-_out):adler32(state.check,output,_out,strm.next_out-_out)),strm.data_type=state.bits+(state.last?64:0)+(state.mode===TYPE?128:0)+(state.mode===LEN_||state.mode===COPY_?256:0),(0===_in&&0===_out||flush===Z_FINISH)&&ret===Z_OK&&(ret=Z_BUF_ERROR),ret)},exports.inflateEnd=function(strm){if(!strm||!strm.state)return Z_STREAM_ERROR;var state=strm.state;return state.window&&(state.window=null),strm.state=null,Z_OK},exports.inflateGetHeader=function(strm,head){var state;return strm&&strm.state?0==(2&(state=strm.state).wrap)?Z_STREAM_ERROR:(state.head=head,head.done=!1,Z_OK):Z_STREAM_ERROR},exports.inflateSetDictionary=function(strm,dictionary){var state,dictLength=dictionary.length;return strm&&strm.state?0!==(state=strm.state).wrap&&state.mode!==DICT?Z_STREAM_ERROR:state.mode===DICT&&adler32(1,dictionary,dictLength,0)!==state.check?Z_DATA_ERROR:updatewindow(strm,dictionary,dictLength,dictLength)?(state.mode=MEM,Z_MEM_ERROR):(state.havedict=1,Z_OK):Z_STREAM_ERROR},exports.inflateInfo=\"pako inflate (from Nodeca project)\"},function(module,exports,__webpack_require__){\"use strict\";module.exports=function(strm,start){var state,_in,last,_out,beg,end,dmax,wsize,whave,wnext,s_window,hold,bits,lcode,dcode,lmask,dmask,here,op,len,dist,from,from_source,input,output;state=strm.state,_in=strm.next_in,input=strm.input,last=_in+(strm.avail_in-5),_out=strm.next_out,output=strm.output,beg=_out-(start-strm.avail_out),end=_out+(strm.avail_out-257),dmax=state.dmax,wsize=state.wsize,whave=state.whave,wnext=state.wnext,s_window=state.window,hold=state.hold,bits=state.bits,lcode=state.lencode,dcode=state.distcode,lmask=(1<<state.lenbits)-1,dmask=(1<<state.distbits)-1;top:do{bits<15&&(hold+=input[_in++]<<bits,bits+=8,hold+=input[_in++]<<bits,bits+=8),here=lcode[hold&lmask];dolen:for(;;){if(hold>>>=op=here>>>24,bits-=op,0===(op=here>>>16&255))output[_out++]=65535&here;else{if(!(16&op)){if(0==(64&op)){here=lcode[(65535&here)+(hold&(1<<op)-1)];continue dolen}if(32&op){state.mode=12;break top}strm.msg=\"invalid literal/length code\",state.mode=30;break top}len=65535&here,(op&=15)&&(bits<op&&(hold+=input[_in++]<<bits,bits+=8),len+=hold&(1<<op)-1,hold>>>=op,bits-=op),bits<15&&(hold+=input[_in++]<<bits,bits+=8,hold+=input[_in++]<<bits,bits+=8),here=dcode[hold&dmask];dodist:for(;;){if(hold>>>=op=here>>>24,bits-=op,!(16&(op=here>>>16&255))){if(0==(64&op)){here=dcode[(65535&here)+(hold&(1<<op)-1)];continue dodist}strm.msg=\"invalid distance code\",state.mode=30;break top}if(dist=65535&here,bits<(op&=15)&&(hold+=input[_in++]<<bits,(bits+=8)<op&&(hold+=input[_in++]<<bits,bits+=8)),(dist+=hold&(1<<op)-1)>dmax){strm.msg=\"invalid distance too far back\",state.mode=30;break top}if(hold>>>=op,bits-=op,dist>(op=_out-beg)){if((op=dist-op)>whave&&state.sane){strm.msg=\"invalid distance too far back\",state.mode=30;break top}if(from=0,from_source=s_window,0===wnext){if(from+=wsize-op,op<len){len-=op;do{output[_out++]=s_window[from++]}while(--op);from=_out-dist,from_source=output}}else if(wnext<op){if(from+=wsize+wnext-op,(op-=wnext)<len){len-=op;do{output[_out++]=s_window[from++]}while(--op);if(from=0,wnext<len){len-=op=wnext;do{output[_out++]=s_window[from++]}while(--op);from=_out-dist,from_source=output}}}else if(from+=wnext-op,op<len){len-=op;do{output[_out++]=s_window[from++]}while(--op);from=_out-dist,from_source=output}for(;len>2;)output[_out++]=from_source[from++],output[_out++]=from_source[from++],output[_out++]=from_source[from++],len-=3;len&&(output[_out++]=from_source[from++],len>1&&(output[_out++]=from_source[from++]))}else{from=_out-dist;do{output[_out++]=output[from++],output[_out++]=output[from++],output[_out++]=output[from++],len-=3}while(len>2);len&&(output[_out++]=output[from++],len>1&&(output[_out++]=output[from++]))}break}}break}}while(_in<last&&_out<end);_in-=len=bits>>3,hold&=(1<<(bits-=len<<3))-1,strm.next_in=_in,strm.next_out=_out,strm.avail_in=_in<last?last-_in+5:5-(_in-last),strm.avail_out=_out<end?end-_out+257:257-(_out-end),state.hold=hold,state.bits=bits}},function(module,exports,__nested_webpack_require_362439__){\"use strict\";var utils=__nested_webpack_require_362439__(8),lbase=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],lext=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],dbase=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],dext=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];module.exports=function(type,lens,lens_index,codes,table,table_index,work,opts){var incr,fill,low,mask,next,end,here_bits,here_op,here_val,bits=opts.bits,len=0,sym=0,min=0,max=0,root=0,curr=0,drop=0,left=0,used=0,huff=0,base=null,base_index=0,count=new utils.Buf16(16),offs=new utils.Buf16(16),extra=null,extra_index=0;for(len=0;len<=15;len++)count[len]=0;for(sym=0;sym<codes;sym++)count[lens[lens_index+sym]]++;for(root=bits,max=15;max>=1&&0===count[max];max--);if(root>max&&(root=max),0===max)return table[table_index++]=20971520,table[table_index++]=20971520,opts.bits=1,0;for(min=1;min<max&&0===count[min];min++);for(root<min&&(root=min),left=1,len=1;len<=15;len++)if(left<<=1,(left-=count[len])<0)return-1;if(left>0&&(0===type||1!==max))return-1;for(offs[1]=0,len=1;len<15;len++)offs[len+1]=offs[len]+count[len];for(sym=0;sym<codes;sym++)0!==lens[lens_index+sym]&&(work[offs[lens[lens_index+sym]]++]=sym);if(0===type?(base=extra=work,end=19):1===type?(base=lbase,base_index-=257,extra=lext,extra_index-=257,end=256):(base=dbase,extra=dext,end=-1),huff=0,sym=0,len=min,next=table_index,curr=root,drop=0,low=-1,mask=(used=1<<root)-1,1===type&&used>852||2===type&&used>592)return 1;for(;;){here_bits=len-drop,work[sym]<end?(here_op=0,here_val=work[sym]):work[sym]>end?(here_op=extra[extra_index+work[sym]],here_val=base[base_index+work[sym]]):(here_op=96,here_val=0),incr=1<<len-drop,min=fill=1<<curr;do{table[next+(huff>>drop)+(fill-=incr)]=here_bits<<24|here_op<<16|here_val|0}while(0!==fill);for(incr=1<<len-1;huff&incr;)incr>>=1;if(0!==incr?(huff&=incr-1,huff+=incr):huff=0,sym++,0==--count[len]){if(len===max)break;len=lens[lens_index+work[sym]]}if(len>root&&(huff&mask)!==low){for(0===drop&&(drop=root),next+=min,left=1<<(curr=len-drop);curr+drop<max&&!((left-=count[curr+drop])<=0);)curr++,left<<=1;if(used+=1<<curr,1===type&&used>852||2===type&&used>592)return 1;table[low=huff&mask]=root<<24|curr<<16|next-table_index|0}}return 0!==huff&&(table[next+huff]=len-drop<<24|64<<16|0),opts.bits=root,0}},function(module,exports,__webpack_require__){\"use strict\";module.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name=\"\",this.comment=\"\",this.hcrc=0,this.done=!1}},function(module,exports,__nested_webpack_require_365185__){\"use strict\";var utils=__nested_webpack_require_365185__(0),GenericWorker=__nested_webpack_require_365185__(2),utf8=__nested_webpack_require_365185__(13),crc32=__nested_webpack_require_365185__(44),signature=__nested_webpack_require_365185__(70),decToHex=function(dec,bytes){var i,hex=\"\";for(i=0;i<bytes;i++)hex+=String.fromCharCode(255&dec),dec>>>=8;return hex},generateZipParts=function(streamInfo,streamedContent,streamingEnded,offset,platform,encodeFileName){var dosTime,dosDate,file=streamInfo.file,compression=streamInfo.compression,useCustomEncoding=encodeFileName!==utf8.utf8encode,encodedFileName=utils.transformTo(\"string\",encodeFileName(file.name)),utfEncodedFileName=utils.transformTo(\"string\",utf8.utf8encode(file.name)),comment=file.comment,encodedComment=utils.transformTo(\"string\",encodeFileName(comment)),utfEncodedComment=utils.transformTo(\"string\",utf8.utf8encode(comment)),useUTF8ForFileName=utfEncodedFileName.length!==file.name.length,useUTF8ForComment=utfEncodedComment.length!==comment.length,extraFields=\"\",unicodePathExtraField=\"\",unicodeCommentExtraField=\"\",dir=file.dir,date=file.date,dataInfo={crc32:0,compressedSize:0,uncompressedSize:0};streamedContent&&!streamingEnded||(dataInfo.crc32=streamInfo.crc32,dataInfo.compressedSize=streamInfo.compressedSize,dataInfo.uncompressedSize=streamInfo.uncompressedSize);var bitflag=0;streamedContent&&(bitflag|=8),useCustomEncoding||!useUTF8ForFileName&&!useUTF8ForComment||(bitflag|=2048);var extFileAttr=0,versionMadeBy=0;dir&&(extFileAttr|=16),\"UNIX\"===platform?(versionMadeBy=798,extFileAttr|=function(unixPermissions,isDir){var result=unixPermissions;return unixPermissions||(result=isDir?16893:33204),(65535&result)<<16}(file.unixPermissions,dir)):(versionMadeBy=20,extFileAttr|=function(dosPermissions,isDir){return 63&(dosPermissions||0)}(file.dosPermissions)),dosTime=date.getUTCHours(),dosTime<<=6,dosTime|=date.getUTCMinutes(),dosTime<<=5,dosTime|=date.getUTCSeconds()/2,dosDate=date.getUTCFullYear()-1980,dosDate<<=4,dosDate|=date.getUTCMonth()+1,dosDate<<=5,dosDate|=date.getUTCDate(),useUTF8ForFileName&&(unicodePathExtraField=decToHex(1,1)+decToHex(crc32(encodedFileName),4)+utfEncodedFileName,extraFields+=\"up\"+decToHex(unicodePathExtraField.length,2)+unicodePathExtraField),useUTF8ForComment&&(unicodeCommentExtraField=decToHex(1,1)+decToHex(crc32(encodedComment),4)+utfEncodedComment,extraFields+=\"uc\"+decToHex(unicodeCommentExtraField.length,2)+unicodeCommentExtraField);var header=\"\";return header+=\"\\n\\0\",header+=decToHex(bitflag,2),header+=compression.magic,header+=decToHex(dosTime,2),header+=decToHex(dosDate,2),header+=decToHex(dataInfo.crc32,4),header+=decToHex(dataInfo.compressedSize,4),header+=decToHex(dataInfo.uncompressedSize,4),header+=decToHex(encodedFileName.length,2),header+=decToHex(extraFields.length,2),{fileRecord:signature.LOCAL_FILE_HEADER+header+encodedFileName+extraFields,dirRecord:signature.CENTRAL_FILE_HEADER+decToHex(versionMadeBy,2)+header+decToHex(encodedComment.length,2)+\"\\0\\0\\0\\0\"+decToHex(extFileAttr,4)+decToHex(offset,4)+encodedFileName+extraFields+encodedComment}};function ZipFileWorker(streamFiles,comment,platform,encodeFileName){GenericWorker.call(this,\"ZipFileWorker\"),this.bytesWritten=0,this.zipComment=comment,this.zipPlatform=platform,this.encodeFileName=encodeFileName,this.streamFiles=streamFiles,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}utils.inherits(ZipFileWorker,GenericWorker),ZipFileWorker.prototype.push=function(chunk){var currentFilePercent=chunk.meta.percent||0,entriesCount=this.entriesCount,remainingFiles=this._sources.length;this.accumulate?this.contentBuffer.push(chunk):(this.bytesWritten+=chunk.data.length,GenericWorker.prototype.push.call(this,{data:chunk.data,meta:{currentFile:this.currentFile,percent:entriesCount?(currentFilePercent+100*(entriesCount-remainingFiles-1))/entriesCount:100}}))},ZipFileWorker.prototype.openedSource=function(streamInfo){this.currentSourceOffset=this.bytesWritten,this.currentFile=streamInfo.file.name;var streamedContent=this.streamFiles&&!streamInfo.file.dir;if(streamedContent){var record=generateZipParts(streamInfo,streamedContent,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:record.fileRecord,meta:{percent:0}})}else this.accumulate=!0},ZipFileWorker.prototype.closedSource=function(streamInfo){this.accumulate=!1;var streamedContent=this.streamFiles&&!streamInfo.file.dir,record=generateZipParts(streamInfo,streamedContent,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(record.dirRecord),streamedContent)this.push({data:function(streamInfo){return signature.DATA_DESCRIPTOR+decToHex(streamInfo.crc32,4)+decToHex(streamInfo.compressedSize,4)+decToHex(streamInfo.uncompressedSize,4)}(streamInfo),meta:{percent:100}});else for(this.push({data:record.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},ZipFileWorker.prototype.flush=function(){for(var localDirLength=this.bytesWritten,i=0;i<this.dirRecords.length;i++)this.push({data:this.dirRecords[i],meta:{percent:100}});var centralDirLength=this.bytesWritten-localDirLength,dirEnd=function(entriesCount,centralDirLength,localDirLength,comment,encodeFileName){var encodedComment=utils.transformTo(\"string\",encodeFileName(comment));return signature.CENTRAL_DIRECTORY_END+\"\\0\\0\\0\\0\"+decToHex(entriesCount,2)+decToHex(entriesCount,2)+decToHex(centralDirLength,4)+decToHex(localDirLength,4)+decToHex(encodedComment.length,2)+encodedComment}(this.dirRecords.length,centralDirLength,localDirLength,this.zipComment,this.encodeFileName);this.push({data:dirEnd,meta:{percent:100}})},ZipFileWorker.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},ZipFileWorker.prototype.registerPrevious=function(previous){this._sources.push(previous);var self=this;return previous.on(\"data\",function(chunk){self.processChunk(chunk)}),previous.on(\"end\",function(){self.closedSource(self.previous.streamInfo),self._sources.length?self.prepareNextSource():self.end()}),previous.on(\"error\",function(e){self.error(e)}),this},ZipFileWorker.prototype.resume=function(){return!!GenericWorker.prototype.resume.call(this)&&(!this.previous&&this._sources.length?(this.prepareNextSource(),!0):this.previous||this._sources.length||this.generatedError?void 0:(this.end(),!0))},ZipFileWorker.prototype.error=function(e){var sources=this._sources;if(!GenericWorker.prototype.error.call(this,e))return!1;for(var i=0;i<sources.length;i++)try{sources[i].error(e)}catch(e){}return!0},ZipFileWorker.prototype.lock=function(){GenericWorker.prototype.lock.call(this);for(var sources=this._sources,i=0;i<sources.length;i++)sources[i].lock()},module.exports=ZipFileWorker},function(module,exports,__nested_webpack_require_372112__){\"use strict\";var utils=__nested_webpack_require_372112__(0),GenericWorker=__nested_webpack_require_372112__(2);function NodejsStreamInputAdapter(filename,stream){GenericWorker.call(this,\"Nodejs stream input adapter for \"+filename),this._upstreamEnded=!1,this._bindStream(stream)}utils.inherits(NodejsStreamInputAdapter,GenericWorker),NodejsStreamInputAdapter.prototype._bindStream=function(stream){var self=this;this._stream=stream,stream.pause(),stream.on(\"data\",function(chunk){self.push({data:chunk,meta:{percent:0}})}).on(\"error\",function(e){self.isPaused?this.generatedError=e:self.error(e)}).on(\"end\",function(){self.isPaused?self._upstreamEnded=!0:self.end()})},NodejsStreamInputAdapter.prototype.pause=function(){return!!GenericWorker.prototype.pause.call(this)&&(this._stream.pause(),!0)},NodejsStreamInputAdapter.prototype.resume=function(){return!!GenericWorker.prototype.resume.call(this)&&(this._upstreamEnded?this.end():this._stream.resume(),!0)},module.exports=NodejsStreamInputAdapter},function(module,exports,__nested_webpack_require_373131__){\"use strict\";var utils=__nested_webpack_require_373131__(0),external=__nested_webpack_require_373131__(26),utf8=__nested_webpack_require_373131__(13),ZipEntries=(utils=__nested_webpack_require_373131__(0),__nested_webpack_require_373131__(120)),Crc32Probe=__nested_webpack_require_373131__(63),nodejsUtils=__nested_webpack_require_373131__(31);function checkEntryCRC32(zipEntry){return new external.Promise(function(resolve,reject){var worker=zipEntry.decompressed.getContentWorker().pipe(new Crc32Probe);worker.on(\"error\",function(e){reject(e)}).on(\"end\",function(){worker.streamInfo.crc32!==zipEntry.decompressed.crc32?reject(new Error(\"Corrupted zip : CRC32 mismatch\")):resolve()}).resume()})}module.exports=function(data,options){var zip=this;return options=utils.extend(options||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:utf8.utf8decode}),nodejsUtils.isNode&&nodejsUtils.isStream(data)?external.Promise.reject(new Error(\"JSZip can't accept a stream when loading a zip file.\")):utils.prepareContent(\"the loaded zip file\",data,!0,options.optimizedBinaryString,options.base64).then(function(data){var zipEntries=new ZipEntries(options);return zipEntries.load(data),zipEntries}).then(function(zipEntries){var promises=[external.Promise.resolve(zipEntries)],files=zipEntries.files;if(options.checkCRC32)for(var i=0;i<files.length;i++)promises.push(checkEntryCRC32(files[i]));return external.Promise.all(promises)}).then(function(results){for(var zipEntries=results.shift(),files=zipEntries.files,i=0;i<files.length;i++){var input=files[i];zip.file(input.fileNameStr,input.decompressed,{binary:!0,optimizedBinaryString:!0,date:input.date,dir:input.dir,comment:input.fileCommentStr.length?input.fileCommentStr:null,unixPermissions:input.unixPermissions,dosPermissions:input.dosPermissions,createFolders:options.createFolders})}return zipEntries.zipComment.length&&(zip.comment=zipEntries.zipComment),zip})}},function(module,exports,__nested_webpack_require_375027__){\"use strict\";var readerFor=__nested_webpack_require_375027__(71),utils=__nested_webpack_require_375027__(0),sig=__nested_webpack_require_375027__(70),ZipEntry=__nested_webpack_require_375027__(123),support=(__nested_webpack_require_375027__(13),__nested_webpack_require_375027__(7));function ZipEntries(loadOptions){this.files=[],this.loadOptions=loadOptions}ZipEntries.prototype={checkSignature:function(expectedSignature){if(!this.reader.readAndCheckSignature(expectedSignature)){this.reader.index-=4;var signature=this.reader.readString(4);throw new Error(\"Corrupted zip or bug: unexpected signature (\"+utils.pretty(signature)+\", expected \"+utils.pretty(expectedSignature)+\")\")}},isSignature:function(askedIndex,expectedSignature){var currentIndex=this.reader.index;this.reader.setIndex(askedIndex);var result=this.reader.readString(4)===expectedSignature;return this.reader.setIndex(currentIndex),result},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var zipComment=this.reader.readData(this.zipCommentLength),decodeParamType=support.uint8array?\"uint8array\":\"array\",decodeContent=utils.transformTo(decodeParamType,zipComment);this.zipComment=this.loadOptions.decodeFileName(decodeContent)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var extraFieldId,extraFieldLength,extraFieldValue,extraDataSize=this.zip64EndOfCentralSize-44;0<extraDataSize;)extraFieldId=this.reader.readInt(2),extraFieldLength=this.reader.readInt(4),extraFieldValue=this.reader.readData(extraFieldLength),this.zip64ExtensibleData[extraFieldId]={id:extraFieldId,length:extraFieldLength,value:extraFieldValue}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),this.disksCount>1)throw new Error(\"Multi-volumes zip are not supported\")},readLocalFiles:function(){var i,file;for(i=0;i<this.files.length;i++)file=this.files[i],this.reader.setIndex(file.localHeaderOffset),this.checkSignature(sig.LOCAL_FILE_HEADER),file.readLocalPart(this.reader),file.handleUTF8(),file.processAttributes()},readCentralDir:function(){var file;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(sig.CENTRAL_FILE_HEADER);)(file=new ZipEntry({zip64:this.zip64},this.loadOptions)).readCentralPart(this.reader),this.files.push(file);if(this.centralDirRecords!==this.files.length&&0!==this.centralDirRecords&&0===this.files.length)throw new Error(\"Corrupted zip or bug: expected \"+this.centralDirRecords+\" records in central dir, got \"+this.files.length)},readEndOfCentral:function(){var offset=this.reader.lastIndexOfSignature(sig.CENTRAL_DIRECTORY_END);if(offset<0)throw!this.isSignature(0,sig.LOCAL_FILE_HEADER)?new Error(\"Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html\"):new Error(\"Corrupted zip: can't find end of central directory\");this.reader.setIndex(offset);var endOfCentralDirOffset=offset;if(this.checkSignature(sig.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===utils.MAX_VALUE_16BITS||this.diskWithCentralDirStart===utils.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===utils.MAX_VALUE_16BITS||this.centralDirRecords===utils.MAX_VALUE_16BITS||this.centralDirSize===utils.MAX_VALUE_32BITS||this.centralDirOffset===utils.MAX_VALUE_32BITS){if(this.zip64=!0,(offset=this.reader.lastIndexOfSignature(sig.ZIP64_CENTRAL_DIRECTORY_LOCATOR))<0)throw new Error(\"Corrupted zip: can't find the ZIP64 end of central directory locator\");if(this.reader.setIndex(offset),this.checkSignature(sig.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,sig.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(sig.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error(\"Corrupted zip: can't find the ZIP64 end of central directory\");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(sig.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var expectedEndOfCentralDirOffset=this.centralDirOffset+this.centralDirSize;this.zip64&&(expectedEndOfCentralDirOffset+=20,expectedEndOfCentralDirOffset+=12+this.zip64EndOfCentralSize);var extraBytes=endOfCentralDirOffset-expectedEndOfCentralDirOffset;if(extraBytes>0)this.isSignature(endOfCentralDirOffset,sig.CENTRAL_FILE_HEADER)||(this.reader.zero=extraBytes);else if(extraBytes<0)throw new Error(\"Corrupted zip: missing \"+Math.abs(extraBytes)+\" bytes.\")},prepareReader:function(data){this.reader=readerFor(data)},load:function(data){this.prepareReader(data),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},module.exports=ZipEntries},function(module,exports,__nested_webpack_require_380526__){\"use strict\";var DataReader=__nested_webpack_require_380526__(73);function StringReader(data){DataReader.call(this,data)}__nested_webpack_require_380526__(0).inherits(StringReader,DataReader),StringReader.prototype.byteAt=function(i){return this.data.charCodeAt(this.zero+i)},StringReader.prototype.lastIndexOfSignature=function(sig){return this.data.lastIndexOf(sig)-this.zero},StringReader.prototype.readAndCheckSignature=function(sig){return sig===this.readData(4)},StringReader.prototype.readData=function(size){this.checkOffset(size);var result=this.data.slice(this.zero+this.index,this.zero+this.index+size);return this.index+=size,result},module.exports=StringReader},function(module,exports,__nested_webpack_require_381218__){\"use strict\";var Uint8ArrayReader=__nested_webpack_require_381218__(74);function NodeBufferReader(data){Uint8ArrayReader.call(this,data)}__nested_webpack_require_381218__(0).inherits(NodeBufferReader,Uint8ArrayReader),NodeBufferReader.prototype.readData=function(size){this.checkOffset(size);var result=this.data.slice(this.zero+this.index,this.zero+this.index+size);return this.index+=size,result},module.exports=NodeBufferReader},function(module,exports,__nested_webpack_require_381667__){\"use strict\";var readerFor=__nested_webpack_require_381667__(71),utils=__nested_webpack_require_381667__(0),CompressedObject=__nested_webpack_require_381667__(43),crc32fn=__nested_webpack_require_381667__(44),utf8=__nested_webpack_require_381667__(13),compressions=__nested_webpack_require_381667__(64),support=__nested_webpack_require_381667__(7);function ZipEntry(options,loadOptions){this.options=options,this.loadOptions=loadOptions}ZipEntry.prototype={isEncrypted:function(){return 1==(1&this.bitFlag)},useUTF8:function(){return 2048==(2048&this.bitFlag)},readLocalPart:function(reader){var compression,localExtraFieldsLength;if(reader.skip(22),this.fileNameLength=reader.readInt(2),localExtraFieldsLength=reader.readInt(2),this.fileName=reader.readData(this.fileNameLength),reader.skip(localExtraFieldsLength),-1===this.compressedSize||-1===this.uncompressedSize)throw new Error(\"Bug or corrupted zip : didn't get enough informations from the central directory (compressedSize === -1 || uncompressedSize === -1)\");if(null===(compression=function(compressionMethod){for(var method in compressions)if(compressions.hasOwnProperty(method)&&compressions[method].magic===compressionMethod)return compressions[method];return null}(this.compressionMethod)))throw new Error(\"Corrupted zip : compression \"+utils.pretty(this.compressionMethod)+\" unknown (inner file : \"+utils.transformTo(\"string\",this.fileName)+\")\");this.decompressed=new CompressedObject(this.compressedSize,this.uncompressedSize,this.crc32,compression,reader.readData(this.compressedSize))},readCentralPart:function(reader){this.versionMadeBy=reader.readInt(2),reader.skip(2),this.bitFlag=reader.readInt(2),this.compressionMethod=reader.readString(2),this.date=reader.readDate(),this.crc32=reader.readInt(4),this.compressedSize=reader.readInt(4),this.uncompressedSize=reader.readInt(4);var fileNameLength=reader.readInt(2);if(this.extraFieldsLength=reader.readInt(2),this.fileCommentLength=reader.readInt(2),this.diskNumberStart=reader.readInt(2),this.internalFileAttributes=reader.readInt(2),this.externalFileAttributes=reader.readInt(4),this.localHeaderOffset=reader.readInt(4),this.isEncrypted())throw new Error(\"Encrypted zip are not supported\");reader.skip(fileNameLength),this.readExtraFields(reader),this.parseZIP64ExtraField(reader),this.fileComment=reader.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var madeBy=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),0===madeBy&&(this.dosPermissions=63&this.externalFileAttributes),3===madeBy&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||\"/\"!==this.fileNameStr.slice(-1)||(this.dir=!0)},parseZIP64ExtraField:function(reader){if(this.extraFields[1]){var extraReader=readerFor(this.extraFields[1].value);this.uncompressedSize===utils.MAX_VALUE_32BITS&&(this.uncompressedSize=extraReader.readInt(8)),this.compressedSize===utils.MAX_VALUE_32BITS&&(this.compressedSize=extraReader.readInt(8)),this.localHeaderOffset===utils.MAX_VALUE_32BITS&&(this.localHeaderOffset=extraReader.readInt(8)),this.diskNumberStart===utils.MAX_VALUE_32BITS&&(this.diskNumberStart=extraReader.readInt(4))}},readExtraFields:function(reader){var extraFieldId,extraFieldLength,extraFieldValue,end=reader.index+this.extraFieldsLength;for(this.extraFields||(this.extraFields={});reader.index<end;)extraFieldId=reader.readInt(2),extraFieldLength=reader.readInt(2),extraFieldValue=reader.readData(extraFieldLength),this.extraFields[extraFieldId]={id:extraFieldId,length:extraFieldLength,value:extraFieldValue}},handleUTF8:function(){var decodeParamType=support.uint8array?\"uint8array\":\"array\";if(this.useUTF8())this.fileNameStr=utf8.utf8decode(this.fileName),this.fileCommentStr=utf8.utf8decode(this.fileComment);else{var upath=this.findExtraFieldUnicodePath();if(null!==upath)this.fileNameStr=upath;else{var fileNameByteArray=utils.transformTo(decodeParamType,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(fileNameByteArray)}var ucomment=this.findExtraFieldUnicodeComment();if(null!==ucomment)this.fileCommentStr=ucomment;else{var commentByteArray=utils.transformTo(decodeParamType,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(commentByteArray)}}},findExtraFieldUnicodePath:function(){var upathField=this.extraFields[28789];if(upathField){var extraReader=readerFor(upathField.value);return 1!==extraReader.readInt(1)?null:crc32fn(this.fileName)!==extraReader.readInt(4)?null:utf8.utf8decode(extraReader.readData(upathField.length-5))}return null},findExtraFieldUnicodeComment:function(){var ucommentField=this.extraFields[25461];if(ucommentField){var extraReader=readerFor(ucommentField.value);return 1!==extraReader.readInt(1)?null:crc32fn(this.fileComment)!==extraReader.readInt(4)?null:utf8.utf8decode(extraReader.readData(ucommentField.length-5))}return null}},module.exports=ZipEntry},function(module,exports,__webpack_require__){\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:!0}),exports.getHTML=function(content,segments){return'\\n  <div class=\"pushwoosh-subscription-segments\">\\n    <div class=\"pushwoosh-subscription-segments__header\">\\n      '+content.headerText+'\\n    </div>\\n    <div class=\"pushwoosh-subscription-segments__body\">\\n      <div class=\"pushwoosh-subscription-segments__sub-header\">\\n        '+(content.subHeaderText?content.subHeaderText:\"\")+'\\n      </div>\\n      <div class=\"pushwoosh-subscription-segments__channels\">\\n        '+segments.reduce(function(result,segment){return result+'<div class=\"pushwoosh-subscription-segments__channel\">\\n            <label class=\"pushwoosh-subscription-segments__label\">\\n              <input\\n                class=\"pushwoosh-subscription-segments__field\" \\n                type=\"checkbox\" \\n                value=\"'+segment.code+'\"\\n                checked=\"true\"\\n              />\\n              <span class=\"pushwoosh-subscription-segments__icon\">\\n                <svg width=\"18\" height=\"18\" viewBox=\"0 0 24 24\" xmlns=\"http://www.w3.org/2000/svg\">\\n                    <path d=\"M18.0303 8.46967C18.3232 8.76256 18.3232 9.23744 18.0303 9.53033L11.0303 16.5303C10.7374 16.8232 10.2626 16.8232 9.96967 16.5303L6.96967 13.5303C6.67678 13.2374 6.67678 12.7626 6.96967 12.4697C7.26256 12.1768 7.73744 12.1768 8.03033 12.4697L10.5 14.9393L16.9697 8.46967C17.2626 8.17678 17.7374 8.17678 18.0303 8.46967Z\" fill=\"currentColor\"/>\\n                  </svg>\\n              </span>\\n              <span class=\"pushwoosh-subscription-segments__text\">\\n                '+segment.name+\"\\n              </span>\\n            </label>\\n          </div>\"},\"\")+'\\n      </div>\\n      <div class=\"pushwoosh-subscription-segments__controls\">\\n        <button type=\"button\" id=\"pushwoosh-subscription-segments-deny\" class=\"pushwoosh-subscription-segments__control pushwoosh-subscription-segments__control_deny\">\\n          '+content.controlsDenyButtonText+'\\n        </button>\\n        <button type=\"button\" id=\"pushwoosh-subscription-segments-accept\" class=\"pushwoosh-subscription-segments__control pushwoosh-subscription-segments__control_accept\">\\n          '+content.controlsButtonText+\"\\n        </button>\\n      </div>\\n    </div>\\n  </div>\\n  \"},exports.getStyles=function(content){var styles=document.createElement(\"style\");return styles.innerHTML=\"\\n    .pushwoosh-subscription-segments * {\\n      box-sizing: border-box!important;\\n    }\\n  \\n    .pushwoosh-subscription-segments {\\n      padding: 24px 16px 16px 24px!important;\\n      user-select: none!important;\\n    }\\n  \\n    .pushwoosh-subscription-segments__header {\\n      font-weight: bold!important;\\n      font-size: 20px!important;\\n      line-height: 23px!important;\\n    }\\n    \\n    .pushwoosh-subscription-segments__sub-header {\\n      margin-top: 16px!important;\\n      font-size: 16px!important;\\n      line-height: 24px!important;\\n      color: rgba(0, 0, 0, 0.54)!important;\\n    }\\n    \\n    .pushwoosh-subscription-segments__sub-header:empty {\\n      display:none!important;\\n    }\\n    \\n    .pushwoosh-subscription-segments__channels {\\n      margin-top: 16px!important;\\n      font-size: 16px!important;\\n      line-height: 24px!important;\\n    }\\n    \\n    .pushwoosh-subscription-segments__channel + .pushwoosh-subscription-segments__channel {\\n      margin-top: 8px!important;\\n    }\\n    \\n    .pushwoosh-subscription-segments__label {\\n      display: inline-flex!important;\\n      align-items: flex-start!important;\\n      cursor: pointer!important;\\n    }\\n    \\n    .pushwoosh-subscription-segments__field {\\n      display: none!important;\\n    }\\n    \\n    .pushwoosh-subscription-segments__icon {\\n      display: block!important;\\n      line-height: 0!important;\\n      width: 20px!important;\\n      height: 20px!important;\\n      border: 1px solid #ddd!important;\\n      border-radius: 4px!important;\\n      color: #fff!important;\\n      margin: 2px 8px 0 0!important;\\n    }\\n    \\n    .pushwoosh-subscription-segments__text {\\n      color: \"+content.channelsTextColor+\"!important;\\n    }\\n    \\n    .pushwoosh-subscription-segments__controls {\\n      margin-top: 24px!important;\\n      text-align: right!important;\\n    }\\n    \\n    .pushwoosh-subscription-segments__field:checked + .pushwoosh-subscription-segments__icon {\\n      background: \"+content.channelsToggleColor+\"!important;\\n      border: 1px solid transparent!important;\\n    }\\n    \\n    .pushwoosh-subscription-segments__control {\\n      appearance: none!important;\\n      height: 36px!important;\\n      border-radius: 4px!important;\\n      padding: 0 16px!important;\\n      font-weight: bold!important;\\n      font-size: 14px!important;\\n      line-height: 16px!important;\\n      cursor: pointer!important;\\n    }\\n    \\n    .pushwoosh-subscription-segments__control + .pushwoosh-subscription-segments__control {\\n      margin: 0 0 0 4px!important;\\n    }\\n    \\n    .pushwoosh-subscription-segments__control.pushwoosh-subscription-segments__control_deny {\\n      border: none!important;\\n      color: \"+content.controlsDenyButtonTextColor+\"!important;\\n      background-color: \"+content.controlsDenyButtonBackgroundColor+\"!important;\\n      border-radius: \"+content.controlsDenyButtonRound+\"!important;\\n    }\\n    \\n    .pushwoosh-subscription-segments__control.pushwoosh-subscription-segments__control_accept {\\n      border: none!important;\\n      color: \"+content.controlsButtonTextColor+\"!important;\\n      background-color: \"+content.controlsButtonBackgroundColor+\"!important;\\n      border-radius: \"+content.controlsButtonRound+\"!important;\\n    }\\n  \",styles}},function(module,exports,__nested_webpack_require_392252__){\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:!0});var SubscriptionPromptWidget_helpers_1=__nested_webpack_require_392252__(126),SubscriptionPromptWidget_constants_1=__nested_webpack_require_392252__(75),SubscriptionPromptWidget=function(){function SubscriptionPromptWidget(eventBus,pw){this.eventBus=eventBus,this.pw=pw}return SubscriptionPromptWidget.prototype.init=function(params){if(!this.getRootElement()){var html=SubscriptionPromptWidget_helpers_1.getHTML(params),styles=SubscriptionPromptWidget_helpers_1.getStyles(params);document.body.insertAdjacentHTML(\"beforeend\",html),document.head.appendChild(styles)}this.addEventListeners()},SubscriptionPromptWidget.prototype.show=function(){var rootElement=this.getRootElementWithCheckExist();this.eventBus.dispatchEvent(\"show-subscription-widget\",{}),rootElement.classList.add(SubscriptionPromptWidget_constants_1.SUBSCRIPTION_PROMPT_WIDGET_NAMESPACE+\"_show\")},SubscriptionPromptWidget.prototype.hide=function(){var rootElement=this.getRootElementWithCheckExist();rootElement.classList.contains(SubscriptionPromptWidget_constants_1.SUBSCRIPTION_PROMPT_WIDGET_NAMESPACE+\"_show\")&&(this.eventBus.dispatchEvent(\"hide-subscription-widget\",{}),rootElement.classList.remove(SubscriptionPromptWidget_constants_1.SUBSCRIPTION_PROMPT_WIDGET_NAMESPACE+\"_show\"))},SubscriptionPromptWidget.prototype.getRootElement=function(){return document.getElementById(SubscriptionPromptWidget_constants_1.SUBSCRIPTION_PROMPT_WIDGET_NAMESPACE+\"-root\")},SubscriptionPromptWidget.prototype.getRootElementWithCheckExist=function(){var element=this.getRootElement();if(!element)throw new Error(\"Can't find element by id \\\"\"+SubscriptionPromptWidget_constants_1.SUBSCRIPTION_PROMPT_WIDGET_NAMESPACE+'-root\", please use method init first.');return element},SubscriptionPromptWidget.prototype.getDeclineButtonWithCheckExist=function(){var element=document.getElementById(SubscriptionPromptWidget_constants_1.SUBSCRIPTION_PROMPT_WIDGET_NAMESPACE+\"-decline\");if(!element)throw new Error(\"Can't find element by id \\\"\"+SubscriptionPromptWidget_constants_1.SUBSCRIPTION_PROMPT_WIDGET_NAMESPACE+'-decline\", please use method init first.');return element},SubscriptionPromptWidget.prototype.getAcceptButtonWithCheckExist=function(){var element=document.getElementById(SubscriptionPromptWidget_constants_1.SUBSCRIPTION_PROMPT_WIDGET_NAMESPACE+\"-accept\");if(!element)throw new Error(\"Can't find element by id \\\"\"+SubscriptionPromptWidget_constants_1.SUBSCRIPTION_PROMPT_WIDGET_NAMESPACE+'-accept\", please use method init first.');return element},SubscriptionPromptWidget.prototype.addEventListeners=function(){var _this=this,rootElement=this.getRootElementWithCheckExist(),declineElement=this.getDeclineButtonWithCheckExist(),acceptElement=this.getAcceptButtonWithCheckExist();document.addEventListener(\"click\",function(event){rootElement.contains(event.target)||_this.hide()}),declineElement.addEventListener(\"click\",function(){_this.hide()}),acceptElement.addEventListener(\"click\",function(){_this.hide(),_this.pw.subscribe()})},SubscriptionPromptWidget}();exports.SubscriptionPromptWidget=SubscriptionPromptWidget},function(module,exports,__nested_webpack_require_395418__){\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:!0});var SubscriptionPromptWidget_constants_1=__nested_webpack_require_395418__(75);exports.getHTML=function(params){return'\\n  <div id=\"'+SubscriptionPromptWidget_constants_1.SUBSCRIPTION_PROMPT_WIDGET_NAMESPACE+'-root\" class=\"'+SubscriptionPromptWidget_constants_1.SUBSCRIPTION_PROMPT_WIDGET_NAMESPACE+'\">\\n    <div class=\"'+SubscriptionPromptWidget_constants_1.SUBSCRIPTION_PROMPT_WIDGET_NAMESPACE+'__body\">\\n      <div class=\"'+SubscriptionPromptWidget_constants_1.SUBSCRIPTION_PROMPT_WIDGET_NAMESPACE+'__header\">\\n        '+params.headerText+'\\n      </div>\\n      <div class=\"'+SubscriptionPromptWidget_constants_1.SUBSCRIPTION_PROMPT_WIDGET_NAMESPACE+'__description\">\\n        '+params.subheaderText+'\\n      </div>\\n      <div class=\"'+SubscriptionPromptWidget_constants_1.SUBSCRIPTION_PROMPT_WIDGET_NAMESPACE+'__controls\">\\n        <button type=\"button\" id=\"'+SubscriptionPromptWidget_constants_1.SUBSCRIPTION_PROMPT_WIDGET_NAMESPACE+'-decline\" class=\"'+SubscriptionPromptWidget_constants_1.SUBSCRIPTION_PROMPT_WIDGET_NAMESPACE+\"__control \"+SubscriptionPromptWidget_constants_1.SUBSCRIPTION_PROMPT_WIDGET_NAMESPACE+'__control_decline\">\\n          '+params.buttonCancelText+'\\n        </button>\\n        <button type=\"button\" id=\"'+SubscriptionPromptWidget_constants_1.SUBSCRIPTION_PROMPT_WIDGET_NAMESPACE+'-accept\" class=\"'+SubscriptionPromptWidget_constants_1.SUBSCRIPTION_PROMPT_WIDGET_NAMESPACE+\"__control \"+SubscriptionPromptWidget_constants_1.SUBSCRIPTION_PROMPT_WIDGET_NAMESPACE+'__control_accept\">\\n          '+params.buttonAcceptText+\"\\n        </button>\\n      </div>\\n    </div>\\n  </div>\\n  \"},exports.getStyles=function(params){var styles=document.createElement(\"style\");return styles.innerHTML=\"\\n    .\"+SubscriptionPromptWidget_constants_1.SUBSCRIPTION_PROMPT_WIDGET_NAMESPACE+\" * {\\n      box-sizing: border-box!important;\\n    }\\n  \\n    .\"+SubscriptionPromptWidget_constants_1.SUBSCRIPTION_PROMPT_WIDGET_NAMESPACE+\" {\\n      position: fixed;\\n      top: 0;\\n      left: 0;\\n      right: 0;\\n      margin: 0 auto;\\n      width: 320px;\\n      display: none;\\n      z-index: 2147483648;\\n      opacity: 0.99;\\n    }\\n    \\n    .\"+SubscriptionPromptWidget_constants_1.SUBSCRIPTION_PROMPT_WIDGET_NAMESPACE+\"_show {\\n      display: block;\\n    }\\n    \\n    .\"+SubscriptionPromptWidget_constants_1.SUBSCRIPTION_PROMPT_WIDGET_NAMESPACE+\"__body {\\n      width: 320px;\\n      background-color: \"+(params.backgroundColor?params.backgroundColor:\"#FFFFFF\")+\";\\n      box-shadow: 0 9px 15px rgba(0, 0, 0, 0.1), 0 0 6px rgba(0, 0, 0, 0.06);\\n      border-radius: 4px;\\n      padding: 20px 20px 12px;\\n    }\\n    \\n    .\"+SubscriptionPromptWidget_constants_1.SUBSCRIPTION_PROMPT_WIDGET_NAMESPACE+\"__header {\\n      color: \"+params.headerTextColor+\";\\n      font-size: 18px;\\n      font-weight: bold; \\n    }\\n    \\n    .\"+SubscriptionPromptWidget_constants_1.SUBSCRIPTION_PROMPT_WIDGET_NAMESPACE+\"__description {\\n      color: \"+params.subheaderTextColor+\";\\n      font-size: 14px;\\n      line-height: 1.5;\\n      margin-top: 14px;\\n    }\\n    \\n    .\"+SubscriptionPromptWidget_constants_1.SUBSCRIPTION_PROMPT_WIDGET_NAMESPACE+\"__description:empty {\\n      display: none;\\n    }\\n    \\n    .\"+SubscriptionPromptWidget_constants_1.SUBSCRIPTION_PROMPT_WIDGET_NAMESPACE+\"__controls {\\n      display: flex;\\n      flex-wrap: nowrap;\\n      justify-content: flex-end;\\n      margin: 20px 0 0;\\n    }\\n    \\n    .\"+SubscriptionPromptWidget_constants_1.SUBSCRIPTION_PROMPT_WIDGET_NAMESPACE+\"__control {\\n      -webkit-appearance: none;\\n      border: 1px solid transparent;\\n      font-size: 12px;\\n      font-weight: bold;\\n      padding: 0 20px;\\n      height: 32px;\\n      cursor: pointer;\\n    }\\n    \\n    .\"+SubscriptionPromptWidget_constants_1.SUBSCRIPTION_PROMPT_WIDGET_NAMESPACE+\"__control_decline {\\n      color: \"+params.buttonCancelTextColor+\";\\n      background-color: \"+params.buttonCancelBackgroundColor+\";\\n      border-radius: \"+params.buttonCancelRound+\";\\n      border-color: \"+params.buttonCancelBorderColor+\";\\n    }\\n    \\n    .\"+SubscriptionPromptWidget_constants_1.SUBSCRIPTION_PROMPT_WIDGET_NAMESPACE+\"__control_accept {\\n      color: \"+params.buttonAcceptTextColor+\";\\n      background-color: \"+params.buttonAcceptBackgroundColor+\";\\n      border-radius: \"+params.buttonAcceptRound+\";\\n      border-color: \"+params.buttonAcceptBorderColor+\";\\n      margin: 0 0 0 12px;\\n    }\\n  \",styles}},function(module,exports,__nested_webpack_require_399931__){\"use strict\";var __awaiter=this&&this.__awaiter||function(thisArg,_arguments,P,generator){return new(P||(P=Promise))(function(resolve,reject){function fulfilled(value){try{step(generator.next(value))}catch(e){reject(e)}}function rejected(value){try{step(generator.throw(value))}catch(e){reject(e)}}function step(result){result.done?resolve(result.value):function(value){return value instanceof P?value:new P(function(resolve){resolve(value)})}(result.value).then(fulfilled,rejected)}step((generator=generator.apply(thisArg,_arguments||[])).next())})},__generator=this&&this.__generator||function(thisArg,body){var f,y,t,g,_={label:0,sent:function(){if(1&t[0])throw t[1];return t[1]},trys:[],ops:[]};return g={next:verb(0),throw:verb(1),return:verb(2)},\"function\"==typeof Symbol&&(g[Symbol.iterator]=function(){return this}),g;function verb(n){return function(v){return function(op){if(f)throw new TypeError(\"Generator is already executing.\");for(;_;)try{if(f=1,y&&(t=2&op[0]?y.return:op[0]?y.throw||((t=y.return)&&t.call(y),0):y.next)&&!(t=t.call(y,op[1])).done)return t;switch(y=0,t&&(op=[2&op[0],t.value]),op[0]){case 0:case 1:t=op;break;case 4:return _.label++,{value:op[1],done:!1};case 5:_.label++,y=op[1],op=[0];continue;case 7:op=_.ops.pop(),_.trys.pop();continue;default:if(!(t=(t=_.trys).length>0&&t[t.length-1])&&(6===op[0]||2===op[0])){_=0;continue}if(3===op[0]&&(!t||op[1]>t[0]&&op[1]<t[3])){_.label=op[1];break}if(6===op[0]&&_.label<t[1]){_.label=t[1],t=op;break}if(t&&_.label<t[2]){_.label=t[2],_.ops.push(op);break}t[2]&&_.ops.pop(),_.trys.pop();continue}op=body.call(thisArg,_)}catch(e){op=[6,e],y=0}finally{f=t=0}if(5&op[0])throw op[1];return{value:op[0]?op[1]:void 0,done:!0}}([n,v])}}};Object.defineProperty(exports,\"__esModule\",{value:!0});var constants_1=__nested_webpack_require_399931__(1),functions_1=__nested_webpack_require_399931__(10),storage_1=__nested_webpack_require_399931__(3),FacebookModule=function(){function FacebookModule(config){this.userRef=functions_1.generateUUID(),this.config=config,this.init()}return FacebookModule.prototype.init=function(){this.renderCheckbox(),this.initFacebookSDK(),this.loadFacebookSDK()},FacebookModule.prototype.renderCheckbox=function(){for(var _a=this.config,pageId=_a.pageId,containerClass=_a.containerClass,attributes=[{name:\"messenger_app_id\",value:constants_1.FACEBOOK_APP_ID},{name:\"class\",value:\"fb-messenger-checkbox\"},{name:\"page_id\",value:pageId},{name:\"origin\",value:window.location.protocol+\"//\"+window.location.hostname},{name:\"user_ref\",value:this.userRef},{name:\"allow_login\",value:\"true\"},{name:\"size\",value:\"large\"},{name:\"skin\",value:\"light\"},{name:\"center_align\",value:\"false\"}],nodes=document.getElementsByClassName(containerClass),_loop_1=function(index){var node=document.createElement(\"div\");attributes.forEach(function(attribute){node.setAttribute(attribute.name,attribute.value)}),nodes[index].appendChild(node)},index=0;index<nodes.length;index++)_loop_1(index)},FacebookModule.prototype.getHWID=function(){return __awaiter(this,void 0,void 0,function(){var hwid,applicationCode,newHWID;return __generator(this,function(_a){switch(_a.label){case 0:return[4,storage_1.keyValue.get(constants_1.FACEBOOK_HWID_KEY)];case 1:return(hwid=_a.sent())?[3,3]:(applicationCode=this.config.applicationCode,newHWID=applicationCode+\"_\"+functions_1.generateUUID()+\"_fb\",[4,storage_1.keyValue.set(constants_1.FACEBOOK_HWID_KEY,newHWID)]);case 2:return _a.sent(),[2,newHWID];case 3:return[2,hwid]}})})},FacebookModule.prototype.userConfirm=function(){return __awaiter(this,void 0,void 0,function(){var _a,pageId,applicationCode,userId,FB,facebookHwid;return __generator(this,function(_b){switch(_b.label){case 0:return _a=this.config,pageId=_a.pageId,applicationCode=_a.applicationCode,userId=_a.userId,FB=window.FB,[4,this.getHWID()];case 1:return facebookHwid=_b.sent(),FB&&FB.AppEvents.logEvent(\"MessengerCheckboxUserConfirmation\",null,{app_id:constants_1.FACEBOOK_APP_ID,page_id:pageId,ref:JSON.stringify({applicationCode:applicationCode,userId:userId,hwid:facebookHwid}),user_ref:this.userRef}),[2]}})})},FacebookModule.prototype.initFacebookSDK=function(){var _this=this;window.fbAsyncInit=function(){window.FB.init({appId:constants_1.FACEBOOK_APP_ID,xfbml:!0,version:\"v3.2\"}),window.FB.Event.subscribe(\"messenger_checkbox\",function(_a){\"checkbox\"===_a.event&&_this.userConfirm()})}},FacebookModule.prototype.loadFacebookSDK=function(){var language=navigator.language||\"en_US\";!function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0];d.getElementById(id)||((js=d.createElement(s)).id=id,js.src=\"https://connect.facebook.net/\"+language+\"/sdk.js\",fjs&&fjs.parentNode.insertBefore(js,fjs))}(document,\"script\",\"facebook-jssdk\")},FacebookModule}();exports.default=FacebookModule},function(module,exports,__nested_webpack_require_404694__){\"use strict\";var __awaiter=this&&this.__awaiter||function(thisArg,_arguments,P,generator){return new(P||(P=Promise))(function(resolve,reject){function fulfilled(value){try{step(generator.next(value))}catch(e){reject(e)}}function rejected(value){try{step(generator.throw(value))}catch(e){reject(e)}}function step(result){result.done?resolve(result.value):function(value){return value instanceof P?value:new P(function(resolve){resolve(value)})}(result.value).then(fulfilled,rejected)}step((generator=generator.apply(thisArg,_arguments||[])).next())})},__generator=this&&this.__generator||function(thisArg,body){var f,y,t,g,_={label:0,sent:function(){if(1&t[0])throw t[1];return t[1]},trys:[],ops:[]};return g={next:verb(0),throw:verb(1),return:verb(2)},\"function\"==typeof Symbol&&(g[Symbol.iterator]=function(){return this}),g;function verb(n){return function(v){return function(op){if(f)throw new TypeError(\"Generator is already executing.\");for(;_;)try{if(f=1,y&&(t=2&op[0]?y.return:op[0]?y.throw||((t=y.return)&&t.call(y),0):y.next)&&!(t=t.call(y,op[1])).done)return t;switch(y=0,t&&(op=[2&op[0],t.value]),op[0]){case 0:case 1:t=op;break;case 4:return _.label++,{value:op[1],done:!1};case 5:_.label++,y=op[1],op=[0];continue;case 7:op=_.ops.pop(),_.trys.pop();continue;default:if(!(t=(t=_.trys).length>0&&t[t.length-1])&&(6===op[0]||2===op[0])){_=0;continue}if(3===op[0]&&(!t||op[1]>t[0]&&op[1]<t[3])){_.label=op[1];break}if(6===op[0]&&_.label<t[1]){_.label=t[1],t=op;break}if(t&&_.label<t[2]){_.label=t[2],_.ops.push(op);break}t[2]&&_.ops.pop(),_.trys.pop();continue}op=body.call(thisArg,_)}catch(e){op=[6,e],y=0}finally{f=t=0}if(5&op[0])throw op[1];return{value:op[0]?op[1]:void 0,done:!0}}([n,v])}}};Object.defineProperty(exports,\"__esModule\",{value:!0});var Modal_1=__nested_webpack_require_404694__(129),RichMedia_1=__nested_webpack_require_404694__(131),expanders_1=__nested_webpack_require_404694__(141),Data_1=__nested_webpack_require_404694__(4),InApps=function(){function InApps(options,pw,eventBus,api){this.delayInApps=[],this.isLoadedInAppsList=!1,this.pw=pw,this.options=options,this.eventBus=eventBus,this.api=api,this.modal=new Modal_1.Modal(this.options&&this.options.modal?this.options.modal:{}),this.data=new Data_1.Data}return InApps.prototype.init=function(){return __awaiter(this,void 0,void 0,function(){var inApps,_this=this;return __generator(this,function(_a){switch(_a.label){case 0:return this.subscribeToReceiveMessageFromIFrame(),this.eventBus.addEventHandler(\"receive-in-app-code\",function(_a){var code=_a.code;_this.isLoadedInAppsList?_this.showInApp(code):_this.delayInApps.push(code)}),[4,this.getList()];case 1:return inApps=_a.sent().inApps,this.delayInApps.length&&this.delayInApps.forEach(function(code){_this.showInApp(code)}),this.isLoadedInAppsList=!0,[4,this.data.setInApps(inApps)];case 2:return _a.sent(),this.inApps=inApps,[2]}})})},InApps.prototype.subscribeToReceiveMessageFromIFrame=function(){var _this=this;window.addEventListener(\"message\",function(event){if(event.source&&(event.source===window||\"parent\"in event.source&&event.source.parent===window))try{var data=JSON.parse(event.data);data&&\"object\"==typeof data&&_this.onReceiveNewMessageFromIFrame(data)}catch(e){}})},InApps.prototype.onReceiveNewMessageFromIFrame=function(message){var _this=this;switch(message.method){case\"subscribe\":this.pw.subscribe().then(function(){_this.modal.postMessage({code:message.code})});break;case\"unsubscribe\":this.pw.unsubscribe().then(function(){_this.modal.postMessage({code:message.code})});break;case\"getTags\":this.pw.api.getTags().then(function(_a){var result=_a.result;_this.modal.postMessage({code:message.code,tags:result})});break;case\"setTags\":this.pw.api.setTags(message.options.tags).then(function(){_this.modal.postMessage({code:message.code})});break;case\"getChannels\":this.data.getFeatures().then(function(_a){var channels=_a.channels;_this.modal.postMessage({code:message.code,channels:channels})});break;case\"checkSubscription\":this.api.checkDeviceSubscribeForPushNotifications().then(function(state){_this.modal.postMessage({code:message.code,state:state})});break;case\"checkManualUnsubscribed\":this.data.getStatusManualUnsubscribed().then(function(state){_this.modal.postMessage({code:message.code,state:state})});break;case\"closeInApp\":this.modal.hide();break;case\"openLink\":window.open(message.options.href,\"_blank\")}},InApps.prototype.showInApp=function(code){return __awaiter(this,void 0,void 0,function(){var filteredRichMedia,currentRichMedia,inAppContent;return __generator(this,function(_a){switch(_a.label){case 0:if(1!==(filteredRichMedia=this.inApps.filter(function(inApp){return inApp.code===code})).length)throw new Error(\"Can't find Rich Media\");return this.modal.setLoading().show(),currentRichMedia=filteredRichMedia[0],[4,new RichMedia_1.RichMedia(currentRichMedia.url,this.api,[expanders_1.ExpanderPushwooshSendMessage,expanders_1.ExpanderPushwoosh,expanders_1.ExpanderPushManager]).getContent()];case 1:return inAppContent=_a.sent(),[4,this.modal.setContent(inAppContent)];case 2:return _a.sent(),this.modal.removeLoading().showContent(),[2]}})})},InApps.prototype.getList=function(){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(_a){return[2,this.api.getInApps()]})})},InApps}();exports.InApps=InApps},function(module,exports,__nested_webpack_require_410001__){\"use strict\";var __assign=this&&this.__assign||function(){return(__assign=Object.assign||function(t){for(var s,i=1,n=arguments.length;i<n;i++)for(var p in s=arguments[i])Object.prototype.hasOwnProperty.call(s,p)&&(t[p]=s[p]);return t}).apply(this,arguments)},__awaiter=this&&this.__awaiter||function(thisArg,_arguments,P,generator){return new(P||(P=Promise))(function(resolve,reject){function fulfilled(value){try{step(generator.next(value))}catch(e){reject(e)}}function rejected(value){try{step(generator.throw(value))}catch(e){reject(e)}}function step(result){result.done?resolve(result.value):function(value){return value instanceof P?value:new P(function(resolve){resolve(value)})}(result.value).then(fulfilled,rejected)}step((generator=generator.apply(thisArg,_arguments||[])).next())})},__generator=this&&this.__generator||function(thisArg,body){var f,y,t,g,_={label:0,sent:function(){if(1&t[0])throw t[1];return t[1]},trys:[],ops:[]};return g={next:verb(0),throw:verb(1),return:verb(2)},\"function\"==typeof Symbol&&(g[Symbol.iterator]=function(){return this}),g;function verb(n){return function(v){return function(op){if(f)throw new TypeError(\"Generator is already executing.\");for(;_;)try{if(f=1,y&&(t=2&op[0]?y.return:op[0]?y.throw||((t=y.return)&&t.call(y),0):y.next)&&!(t=t.call(y,op[1])).done)return t;switch(y=0,t&&(op=[2&op[0],t.value]),op[0]){case 0:case 1:t=op;break;case 4:return _.label++,{value:op[1],done:!1};case 5:_.label++,y=op[1],op=[0];continue;case 7:op=_.ops.pop(),_.trys.pop();continue;default:if(!(t=(t=_.trys).length>0&&t[t.length-1])&&(6===op[0]||2===op[0])){_=0;continue}if(3===op[0]&&(!t||op[1]>t[0]&&op[1]<t[3])){_.label=op[1];break}if(6===op[0]&&_.label<t[1]){_.label=t[1],t=op;break}if(t&&_.label<t[2]){_.label=t[2],_.ops.push(op);break}t[2]&&_.ops.pop(),_.trys.pop();continue}op=body.call(thisArg,_)}catch(e){op=[6,e],y=0}finally{f=t=0}if(5&op[0])throw op[1];return{value:op[0]?op[1]:void 0,done:!0}}([n,v])}}};Object.defineProperty(exports,\"__esModule\",{value:!0});var Modal_constants_1=__nested_webpack_require_410001__(130),Modal=function(){function Modal(options){var _this=this;void 0===options&&(options={});var wrapper=document.getElementById(Modal_constants_1.MODAL_WRAPPER_NAMESPACE),inner=document.getElementById(Modal_constants_1.MODAL_INNER_NAMESPACE),loader=document.getElementById(Modal_constants_1.MODAL_LOADER_NAMESPACE),iframe=document.getElementById(Modal_constants_1.MODAL_IFRAME_NAMESPACE),close=document.getElementById(Modal_constants_1.MODAL_CLOSE_BUTTON_NAMESPACE);if(this.option=__assign(__assign({},Modal_constants_1.MODAL_DEFAILT_OPTIONS),options),!(wrapper&&inner&&loader&&iframe&&close)){(wrapper=document.createElement(\"div\")).id=Modal_constants_1.MODAL_WRAPPER_NAMESPACE,wrapper.className=Modal_constants_1.MODAL_WRAPPER_NAMESPACE,(inner=document.createElement(\"div\")).id=Modal_constants_1.MODAL_INNER_NAMESPACE,inner.className=Modal_constants_1.MODAL_INNER_NAMESPACE,(loader=document.createElement(\"div\")).id=Modal_constants_1.MODAL_LOADER_NAMESPACE,loader.className=Modal_constants_1.MODAL_LOADER_NAMESPACE,(close=document.createElement(\"button\")).id=Modal_constants_1.MODAL_CLOSE_BUTTON_NAMESPACE,close.className=Modal_constants_1.MODAL_CLOSE_BUTTON_NAMESPACE,(iframe=document.createElement(\"iframe\")).id=Modal_constants_1.MODAL_IFRAME_NAMESPACE,iframe.className=Modal_constants_1.MODAL_IFRAME_NAMESPACE,inner.appendChild(iframe),inner.appendChild(close),this.option.isShowPreloader&&inner.appendChild(loader),wrapper.appendChild(inner),document.body.appendChild(wrapper);var style=document.createElement(\"style\");style.innerHTML=\"\\n        .\"+Modal_constants_1.MODAL_WRAPPER_NAMESPACE+\" {\\n          position: fixed;\\n          top: 0;\\n          left: 0;\\n          width: 100%;\\n          height: 100%;\\n          z-index: 2147483648;\\n          opacity: 0.999;\\n          display:none;\\n        }\\n\\n        .\"+Modal_constants_1.MODAL_WRAPPER_NAMESPACE+\"_state-show {\\n          display: block;\\n        }\\n\\n        .\"+Modal_constants_1.MODAL_INNER_NAMESPACE+\" {\\n          width: 100%;\\n          height: 100%;\\n        }\\n\\n        .\"+Modal_constants_1.MODAL_INNER_NAMESPACE+\"_state-loading {\\n          background-color: \"+this.option.backgroundColor+\";\\n        }\\n\\n        .\"+Modal_constants_1.MODAL_CLOSE_BUTTON_NAMESPACE+\" {\\n          appearance: none;\\n          border: none;\\n          background-color: transparent;\\n          box-shadow: none;\\n          position: absolute;\\n          top: 20px;\\n          right: 20px;\\n          width: 40px;\\n          height: 40px;\\n          cursor: pointer;\\n        }\\n\\n        .\"+Modal_constants_1.MODAL_CLOSE_BUTTON_NAMESPACE+\":after {\\n          content: '';\\n          position: absolute;\\n          top: 50%;\\n          left:50%;\\n          width: 30px;\\n          height: 2px;\\n          background-color: \"+this.option.closeButtonColor+\";\\n          transform: translateX(-50%) translateY(-50%) rotate(-45deg);\\n        }\\n\\n        .\"+Modal_constants_1.MODAL_CLOSE_BUTTON_NAMESPACE+\":before {\\n          content: '';\\n          position: absolute;\\n          top: 50%;\\n          left:50%;\\n          width: 30px;\\n          height: 2px;\\n          background-color: \"+this.option.closeButtonColor+\";\\n          transform: translateX(-50%) translateY(-50%) rotate(45deg);\\n        }\\n\\n        .\"+Modal_constants_1.MODAL_INNER_NAMESPACE+\"_state-loading .\"+Modal_constants_1.MODAL_LOADER_NAMESPACE+\" {\\n          display: block;\\n          position: absolute;\\n          top: 50%;\\n          left: 50%;\\n          transform: translate(-50%, -50%);\\n        }\\n\\n        .\"+Modal_constants_1.MODAL_LOADER_NAMESPACE+\" {\\n          display: none;\\n        }\\n\\n        .\"+Modal_constants_1.MODAL_LOADER_NAMESPACE+\",\\n        .\"+Modal_constants_1.MODAL_LOADER_NAMESPACE+\":before,\\n        .\"+Modal_constants_1.MODAL_LOADER_NAMESPACE+\":after {\\n          border-radius: 50%;\\n          width: 2.5em;\\n          height: 2.5em;\\n          -webkit-animation-fill-mode: both;\\n          animation-fill-mode: both;\\n          -webkit-animation: \"+Modal_constants_1.MODAL_LOADER_NAMESPACE+\" 1.8s infinite ease-in-out;\\n          animation: \"+Modal_constants_1.MODAL_LOADER_NAMESPACE+\" 1.8s infinite ease-in-out;\\n        }\\n\\n        .\"+Modal_constants_1.MODAL_LOADER_NAMESPACE+\" {\\n          color: #ffffff;\\n          font-size: 10px;\\n          text-indent: -9999em;\\n          -webkit-transform: translateZ(0);\\n          -ms-transform: translateZ(0);\\n          transform: translateZ(0);\\n          -webkit-animation-delay: -0.16s;\\n          animation-delay: -0.16s;\\n        }\\n\\n        .\"+Modal_constants_1.MODAL_LOADER_NAMESPACE+\":before,\\n        .\"+Modal_constants_1.MODAL_LOADER_NAMESPACE+\":after {\\n          content: '';\\n          position: absolute;\\n          top: 0;\\n        }\\n\\n        .\"+Modal_constants_1.MODAL_LOADER_NAMESPACE+\":before {\\n          left: -3.5em;\\n          -webkit-animation-delay: -0.32s;\\n          animation-delay: -0.32s;\\n        }\\n\\n        .\"+Modal_constants_1.MODAL_LOADER_NAMESPACE+\":after {\\n          left: 3.5em;\\n        }\\n\\n        @-webkit-keyframes \"+Modal_constants_1.MODAL_LOADER_NAMESPACE+\" {\\n          0%,\\n          80%,\\n          100% {\\n            box-shadow: 0 2.5em 0 -1.3em \"+this.option.preloaderColor+\";\\n          }\\n          40% {\\n            box-shadow: 0 2.5em 0 0 \"+this.option.preloaderColor+\";\\n          }\\n        }\\n\\n        @keyframes \"+Modal_constants_1.MODAL_LOADER_NAMESPACE+\" {\\n          0%,\\n          80%,\\n          100% {\\n            box-shadow: 0 2.5em 0 -1.3em \"+this.option.preloaderColor+\";\\n          }\\n          40% {\\n            box-shadow: 0 2.5em 0 0 \"+this.option.preloaderColor+\";\\n          }\\n        }\\n\\n        .\"+Modal_constants_1.MODAL_IFRAME_NAMESPACE+\" {\\n          width: 100%;\\n          height: 100%;\\n          padding: 0;\\n          border: none;\\n          display: none;\\n        }\\n\\n        .\"+Modal_constants_1.MODAL_IFRAME_NAMESPACE+\"_state-show {\\n          display: block;\\n        }\\n      \",document.head.appendChild(style)}this.wrapper=wrapper,this.inner=inner,this.iframe=iframe,close.addEventListener(\"click\",function(){_this.hide()})}return Modal.prototype.postMessage=function(data){this.iframe.contentWindow.postMessage(JSON.stringify(data),\"*\")},Modal.prototype.show=function(){return this.wrapper.className=Modal_constants_1.MODAL_WRAPPER_NAMESPACE+\" \"+Modal_constants_1.MODAL_WRAPPER_NAMESPACE+\"_state-show\",document.body.style.overflow=\"hidden\",this},Modal.prototype.hide=function(){return this.wrapper.className=Modal_constants_1.MODAL_WRAPPER_NAMESPACE,document.body.style.overflow=\"auto\",this},Modal.prototype.setLoading=function(){return this.inner.className=Modal_constants_1.MODAL_INNER_NAMESPACE+\" \"+Modal_constants_1.MODAL_INNER_NAMESPACE+\"_state-loading\",this.iframe.className=Modal_constants_1.MODAL_IFRAME_NAMESPACE,this},Modal.prototype.removeLoading=function(){return this.inner.className=Modal_constants_1.MODAL_INNER_NAMESPACE,this},Modal.prototype.setContent=function(content){return __awaiter(this,void 0,void 0,function(){var _this=this;return __generator(this,function(_a){return this.iframe.srcdoc=content,[2,new Promise(function(resolve,reject){_this.iframe.onload=resolve,_this.iframe.onerror=reject})]})})},Modal.prototype.showContent=function(){return this.inner.className=Modal_constants_1.MODAL_INNER_NAMESPACE,this.iframe.className=Modal_constants_1.MODAL_IFRAME_NAMESPACE+\" \"+Modal_constants_1.MODAL_IFRAME_NAMESPACE+\"_state-show\",this},Modal}();exports.Modal=Modal},function(module,exports,__webpack_require__){\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:!0}),exports.MODAL_WRAPPER_NAMESPACE=\"pushwoosh-in-app-modal-wrapper\",exports.MODAL_INNER_NAMESPACE=\"pushwoosh-in-app-modal-inner\",exports.MODAL_LOADER_NAMESPACE=\"pushwoosh-in-app-modal-loader\",exports.MODAL_CLOSE_BUTTON_NAMESPACE=\"pushwoosh-in-app-modal-close-button\",exports.MODAL_IFRAME_NAMESPACE=\"pushwoosh-in-app-modal-iframe\",exports.MODAL_DEFAILT_OPTIONS={backgroundColor:\"rgba(0, 0, 0, .8)\",closeButtonColor:\"rgba(255, 255, 255, .8)\",closeButtonHoverColor:\"rgba(255, 255, 1)\",isShowPreloader:!0,preloaderColor:\"rgba(255, 255, 255, 1)\"}},function(module,exports,__nested_webpack_require_420252__){\"use strict\";var __awaiter=this&&this.__awaiter||function(thisArg,_arguments,P,generator){return new(P||(P=Promise))(function(resolve,reject){function fulfilled(value){try{step(generator.next(value))}catch(e){reject(e)}}function rejected(value){try{step(generator.throw(value))}catch(e){reject(e)}}function step(result){result.done?resolve(result.value):function(value){return value instanceof P?value:new P(function(resolve){resolve(value)})}(result.value).then(fulfilled,rejected)}step((generator=generator.apply(thisArg,_arguments||[])).next())})},__generator=this&&this.__generator||function(thisArg,body){var f,y,t,g,_={label:0,sent:function(){if(1&t[0])throw t[1];return t[1]},trys:[],ops:[]};return g={next:verb(0),throw:verb(1),return:verb(2)},\"function\"==typeof Symbol&&(g[Symbol.iterator]=function(){return this}),g;function verb(n){return function(v){return function(op){if(f)throw new TypeError(\"Generator is already executing.\");for(;_;)try{if(f=1,y&&(t=2&op[0]?y.return:op[0]?y.throw||((t=y.return)&&t.call(y),0):y.next)&&!(t=t.call(y,op[1])).done)return t;switch(y=0,t&&(op=[2&op[0],t.value]),op[0]){case 0:case 1:t=op;break;case 4:return _.label++,{value:op[1],done:!1};case 5:_.label++,y=op[1],op=[0];continue;case 7:op=_.ops.pop(),_.trys.pop();continue;default:if(!(t=(t=_.trys).length>0&&t[t.length-1])&&(6===op[0]||2===op[0])){_=0;continue}if(3===op[0]&&(!t||op[1]>t[0]&&op[1]<t[3])){_.label=op[1];break}if(6===op[0]&&_.label<t[1]){_.label=t[1],t=op;break}if(t&&_.label<t[2]){_.label=t[2],_.ops.push(op);break}t[2]&&_.ops.pop(),_.trys.pop();continue}op=body.call(thisArg,_)}catch(e){op=[6,e],y=0}finally{f=t=0}if(5&op[0])throw op[1];return{value:op[0]?op[1]:void 0,done:!0}}([n,v])}}};Object.defineProperty(exports,\"__esModule\",{value:!0});var detect_browser_1=__nested_webpack_require_420252__(132),getZip_1=__nested_webpack_require_420252__(49),DynamicContent_1=__nested_webpack_require_420252__(133),RichMediaExpander_1=__nested_webpack_require_420252__(135),ExternalResources_1=__nested_webpack_require_420252__(136),RichMedia=function(){function RichMedia(url,api,expanders){this.url=url,this.api=api,this.expanders=expanders}return RichMedia.prototype.getContent=function(){return __awaiter(this,void 0,void 0,function(){var language,jszip,values,_a,_b,content,browser,context;return __generator(this,function(_c){switch(_c.label){case 0:return[4,this.api.getTags()];case 1:return language=_c.sent().result.Language,[4,getZip_1.getZip(this.url)];case 2:if(!(jszip=_c.sent()).files[\"index.html\"])throw new Error(\"Can't find index.html\");if(!jszip.files[\"pushwoosh.json\"])throw new Error(\"Can't find pushwoosh.json\");return _b=(_a=JSON).parse,[4,jszip.file(\"pushwoosh.json\").async(\"text\")];case 3:return values=_b.apply(_a,[_c.sent()]),[4,jszip.file(\"index.html\").async(\"text\")];case 4:return content=_c.sent(),browser=detect_browser_1.detect(),context={platform:\"web\",browser:browser&&browser.name||\"unknown\",os:browser&&browser.os||\"unknown\",isMobileBrowser:this.checkIsMobileBrowser()},content=new DynamicContent_1.DynamicContent(content,values,language).getReplacedContent(),[4,new ExternalResources_1.ExternalResources(content,jszip).getReplacedContent()];case 5:return content=_c.sent(),content=new DynamicContent_1.DynamicContent(content,values,language).getReplacedContent(),content=new RichMediaExpander_1.RichMediaExpander(content,['<script type=\"text/javascript\">\\n          window.pushwoosh.platform = \\''+context.platform.replace(\" \",\"\").toLowerCase()+\"';\\n          window.pushwoosh.browser = '\"+context.browser.replace(\" \",\"\").toLowerCase()+\"';\\n          window.pushwoosh.os = '\"+context.os.replace(\" \",\"\").toLowerCase()+\"';\\n          window.pushwoosh.isMobileBrowser = \"+context.isMobileBrowser+\";\\n        <\\/script>\"]).uploadExpanders(),[2,content=new RichMediaExpander_1.RichMediaExpander(content,this.expanders).uploadExpanders()]}})})},RichMedia.prototype.checkIsMobileBrowser=function(){var isMobileBrowser=!1;return function(str){(/(android|bb\\d+|meego).+mobile|avantgo|bada\\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\\.(browser|link)|vodafone|wap|windows ce|xda|xiino|android|ipad|playbook|silk/i.test(str)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\\-(n|u)|c55\\/|capi|ccwa|cdm\\-|cell|chtm|cldc|cmd\\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\\-s|devi|dica|dmob|do(c|p)o|ds(12|\\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\\-|_)|g1 u|g560|gene|gf\\-5|g\\-mo|go(\\.w|od)|gr(ad|un)|haie|hcit|hd\\-(m|p|t)|hei\\-|hi(pt|ta)|hp( i|ip)|hs\\-c|ht(c(\\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\\-(20|go|ma)|i230|iac( |\\-|\\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\\/)|klon|kpt |kwc\\-|kyo(c|k)|le(no|xi)|lg( g|\\/(k|l|u)|50|54|\\-[a-w])|libw|lynx|m1\\-w|m3ga|m50\\/|ma(te|ui|xo)|mc(01|21|ca)|m\\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\\-2|po(ck|rt|se)|prox|psio|pt\\-g|qa\\-a|qc(07|12|21|32|60|\\-[2-7]|i\\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\\-|oo|p\\-)|sdk\\/|se(c(\\-|0|1)|47|mc|nd|ri)|sgh\\-|shar|sie(\\-|m)|sk\\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\\-|v\\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\\-|tdg\\-|tel(i|m)|tim\\-|t\\-mo|to(pl|sh)|ts(70|m\\-|m3|m5)|tx\\-9|up(\\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\\-|your|zeto|zte\\-/i.test(str.substr(0,4)))&&(isMobileBrowser=!0)}(navigator.userAgent||navigator.vendor||window.opera),isMobileBrowser},RichMedia}();exports.RichMedia=RichMedia},function(module,exports,__nested_webpack_require_426328__){\"use strict\";(function(process){var __spreadArrays=this&&this.__spreadArrays||function(){for(var s=0,i=0,il=arguments.length;i<il;i++)s+=arguments[i].length;var r=Array(s),k=0;for(i=0;i<il;i++)for(var a=arguments[i],j=0,jl=a.length;j<jl;j++,k++)r[k]=a[j];return r};Object.defineProperty(exports,\"__esModule\",{value:!0});var BrowserInfo=function(){return function(name,version,os){this.name=name,this.version=version,this.os=os}}();exports.BrowserInfo=BrowserInfo;var NodeInfo=function(){return function(version){this.version=version,this.name=\"node\",this.os=process.platform}}();exports.NodeInfo=NodeInfo;var BotInfo=function(){return function(){this.bot=!0,this.name=\"bot\",this.version=null,this.os=null}}();exports.BotInfo=BotInfo;var REQUIRED_VERSION_PARTS=3,userAgentRules=[[\"aol\",/AOLShield\\/([0-9\\._]+)/],[\"edge\",/Edge\\/([0-9\\._]+)/],[\"edge-ios\",/EdgiOS\\/([0-9\\._]+)/],[\"yandexbrowser\",/YaBrowser\\/([0-9\\._]+)/],[\"vivaldi\",/Vivaldi\\/([0-9\\.]+)/],[\"kakaotalk\",/KAKAOTALK\\s([0-9\\.]+)/],[\"samsung\",/SamsungBrowser\\/([0-9\\.]+)/],[\"silk\",/\\bSilk\\/([0-9._-]+)\\b/],[\"miui\",/MiuiBrowser\\/([0-9\\.]+)$/],[\"beaker\",/BeakerBrowser\\/([0-9\\.]+)/],[\"edge-chromium\",/Edg\\/([0-9\\.]+)/],[\"chromium-webview\",/(?!Chrom.*OPR)wv\\).*Chrom(?:e|ium)\\/([0-9\\.]+)(:?\\s|$)/],[\"chrome\",/(?!Chrom.*OPR)Chrom(?:e|ium)\\/([0-9\\.]+)(:?\\s|$)/],[\"phantomjs\",/PhantomJS\\/([0-9\\.]+)(:?\\s|$)/],[\"crios\",/CriOS\\/([0-9\\.]+)(:?\\s|$)/],[\"firefox\",/Firefox\\/([0-9\\.]+)(?:\\s|$)/],[\"fxios\",/FxiOS\\/([0-9\\.]+)/],[\"opera-mini\",/Opera Mini.*Version\\/([0-9\\.]+)/],[\"opera\",/Opera\\/([0-9\\.]+)(?:\\s|$)/],[\"opera\",/OPR\\/([0-9\\.]+)(:?\\s|$)/],[\"ie\",/Trident\\/7\\.0.*rv\\:([0-9\\.]+).*\\).*Gecko$/],[\"ie\",/MSIE\\s([0-9\\.]+);.*Trident\\/[4-7].0/],[\"ie\",/MSIE\\s(7\\.0)/],[\"bb10\",/BB10;\\sTouch.*Version\\/([0-9\\.]+)/],[\"android\",/Android\\s([0-9\\.]+)/],[\"ios\",/Version\\/([0-9\\._]+).*Mobile.*Safari.*/],[\"safari\",/Version\\/([0-9\\._]+).*Safari/],[\"facebook\",/FBAV\\/([0-9\\.]+)/],[\"instagram\",/Instagram\\s([0-9\\.]+)/],[\"ios-webview\",/AppleWebKit\\/([0-9\\.]+).*Mobile/],[\"ios-webview\",/AppleWebKit\\/([0-9\\.]+).*Gecko\\)$/],[\"searchbot\",/alexa|bot|crawl(er|ing)|facebookexternalhit|feedburner|google web preview|nagios|postrank|pingdom|slurp|spider|yahoo!|yandex/]],operatingSystemRules=[[\"iOS\",/iP(hone|od|ad)/],[\"Android OS\",/Android/],[\"BlackBerry OS\",/BlackBerry|BB10/],[\"Windows Mobile\",/IEMobile/],[\"Amazon OS\",/Kindle/],[\"Windows 3.11\",/Win16/],[\"Windows 95\",/(Windows 95)|(Win95)|(Windows_95)/],[\"Windows 98\",/(Windows 98)|(Win98)/],[\"Windows 2000\",/(Windows NT 5.0)|(Windows 2000)/],[\"Windows XP\",/(Windows NT 5.1)|(Windows XP)/],[\"Windows Server 2003\",/(Windows NT 5.2)/],[\"Windows Vista\",/(Windows NT 6.0)/],[\"Windows 7\",/(Windows NT 6.1)/],[\"Windows 8\",/(Windows NT 6.2)/],[\"Windows 8.1\",/(Windows NT 6.3)/],[\"Windows 10\",/(Windows NT 10.0)/],[\"Windows ME\",/Windows ME/],[\"Open BSD\",/OpenBSD/],[\"Sun OS\",/SunOS/],[\"Chrome OS\",/CrOS/],[\"Linux\",/(Linux)|(X11)/],[\"Mac OS\",/(Mac_PowerPC)|(Macintosh)/],[\"QNX\",/QNX/],[\"BeOS\",/BeOS/],[\"OS/2\",/OS\\/2/],[\"Search Bot\",/(nuhk)|(Googlebot)|(Yammybot)|(Openbot)|(Slurp)|(MSNBot)|(Ask Jeeves\\/Teoma)|(ia_archiver)/]];function parseUserAgent(ua){var matchedRule=\"\"!==ua&&userAgentRules.reduce(function(matched,_a){var browser=_a[0],regex=_a[1];if(matched)return matched;var uaMatch=regex.exec(ua);return!!uaMatch&&[browser,uaMatch]},!1);if(!matchedRule)return null;var name=matchedRule[0],match=matchedRule[1];if(\"searchbot\"===name)return new BotInfo;var versionParts=match[1]&&match[1].split(/[._]/).slice(0,3);return versionParts?versionParts.length<REQUIRED_VERSION_PARTS&&(versionParts=__spreadArrays(versionParts,function(count){for(var output=[],ii=0;ii<count;ii++)output.push(\"0\");return output}(REQUIRED_VERSION_PARTS-versionParts.length))):versionParts=[],new BrowserInfo(name,versionParts.join(\".\"),detectOS(ua))}function detectOS(ua){for(var ii=0,count=operatingSystemRules.length;ii<count;ii++){var _a=operatingSystemRules[ii],os=_a[0];if(_a[1].test(ua))return os}return null}function getNodeVersion(){return void 0!==process&&process.version?new NodeInfo(process.version.slice(1)):null}exports.detect=function(userAgent){return userAgent?parseUserAgent(userAgent):\"undefined\"!=typeof navigator?parseUserAgent(navigator.userAgent):getNodeVersion()},exports.parseUserAgent=parseUserAgent,exports.detectOS=detectOS,exports.getNodeVersion=getNodeVersion}).call(this,__nested_webpack_require_426328__(24))},function(module,exports,__nested_webpack_require_430753__){\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:!0});var DynamicContent_constants_1=__nested_webpack_require_430753__(134),DynamicContent=function(){function DynamicContent(content,values,language){this.content=content,this.values=values,this.language=language}return DynamicContent.prototype.getReplacedContent=function(){var _this=this,regexp=new RegExp(\"\\\\{\\\\{[^\\\\}\\\\}]*}}\",\"gm\");return this.content.replace(regexp,function(substring){var pattern=substring.replace(\"}}\",\"\").replace(\"{{\",\"\");return _this.getResultingContent(pattern)})},DynamicContent.prototype.getResultingContent=function(pattern){var _a=pattern.split(\"|\"),name=_a[0],modifier=_a[1],_b=_a[2],value=void 0===_b?\"\":_b,hasReplacedValueByCurrentLanguage=this.values.localization&&this.values.localization[this.language]&&this.values.localization[this.language][name],hasReplacedValueByDefaultLanguage=this.values.localization&&this.values.localization[this.values.default_language]&&this.values.localization[this.values.default_language][name];return hasReplacedValueByCurrentLanguage?value=this.values.localization[this.language][name]:hasReplacedValueByDefaultLanguage&&(value=this.values.localization[this.values.default_language][name]),this.updateStringByModifier(value,modifier)},DynamicContent.prototype.updateStringByModifier=function(string,modifier){switch(modifier.toLowerCase()){case DynamicContent_constants_1.DYNAMIC_CONTENT_MODIFIER_CAPITALIZE_FIRST:return string=(string=string.toLowerCase()).charAt(0).toUpperCase()+string.substring(1);case DynamicContent_constants_1.DYNAMIC_CONTENT_MODIFIER_CAPITALIZE_ALL_FIRST:for(var arrLetters=string.toLowerCase().split(\" \"),i=0;i<arrLetters.length;i++)arrLetters[i]=arrLetters[i].charAt(0).toUpperCase()+arrLetters[i].substring(1);return string=arrLetters.join(\" \");case DynamicContent_constants_1.DYNAMIC_CONTENT_MODIFIER_UPPERCASE:return string.toUpperCase();case DynamicContent_constants_1.DYNAMIC_CONTENT_MODIFIER_LOWERCASE:return string.toLowerCase();default:return string}},DynamicContent}();exports.DynamicContent=DynamicContent},function(module,exports,__webpack_require__){\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:!0}),exports.DYNAMIC_CONTENT_MODIFIER_CAPITALIZE_FIRST=\"capitalizefirst\",exports.DYNAMIC_CONTENT_MODIFIER_CAPITALIZE_ALL_FIRST=\"capitalizeallfirst\",exports.DYNAMIC_CONTENT_MODIFIER_UPPERCASE=\"uppercase\",exports.DYNAMIC_CONTENT_MODIFIER_LOWERCASE=\"lowercase\"},function(module,exports,__webpack_require__){\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:!0});var RichMediaExpander=function(){function RichMediaExpander(content,expanders){void 0===expanders&&(expanders=[]),this.content=content,this.expanders=expanders}return RichMediaExpander.prototype.uploadExpanders=function(){var merge=this.expanders.join(\"\\r\\n\");return this.content.replace(\"<head>\",\"<head>\"+merge)},RichMediaExpander}();exports.RichMediaExpander=RichMediaExpander},function(module,exports,__nested_webpack_require_433721__){\"use strict\";var __awaiter=this&&this.__awaiter||function(thisArg,_arguments,P,generator){return new(P||(P=Promise))(function(resolve,reject){function fulfilled(value){try{step(generator.next(value))}catch(e){reject(e)}}function rejected(value){try{step(generator.throw(value))}catch(e){reject(e)}}function step(result){result.done?resolve(result.value):function(value){return value instanceof P?value:new P(function(resolve){resolve(value)})}(result.value).then(fulfilled,rejected)}step((generator=generator.apply(thisArg,_arguments||[])).next())})},__generator=this&&this.__generator||function(thisArg,body){var f,y,t,g,_={label:0,sent:function(){if(1&t[0])throw t[1];return t[1]},trys:[],ops:[]};return g={next:verb(0),throw:verb(1),return:verb(2)},\"function\"==typeof Symbol&&(g[Symbol.iterator]=function(){return this}),g;function verb(n){return function(v){return function(op){if(f)throw new TypeError(\"Generator is already executing.\");for(;_;)try{if(f=1,y&&(t=2&op[0]?y.return:op[0]?y.throw||((t=y.return)&&t.call(y),0):y.next)&&!(t=t.call(y,op[1])).done)return t;switch(y=0,t&&(op=[2&op[0],t.value]),op[0]){case 0:case 1:t=op;break;case 4:return _.label++,{value:op[1],done:!1};case 5:_.label++,y=op[1],op=[0];continue;case 7:op=_.ops.pop(),_.trys.pop();continue;default:if(!(t=(t=_.trys).length>0&&t[t.length-1])&&(6===op[0]||2===op[0])){_=0;continue}if(3===op[0]&&(!t||op[1]>t[0]&&op[1]<t[3])){_.label=op[1];break}if(6===op[0]&&_.label<t[1]){_.label=t[1],t=op;break}if(t&&_.label<t[2]){_.label=t[2],_.ops.push(op);break}t[2]&&_.ops.pop(),_.trys.pop();continue}op=body.call(thisArg,_)}catch(e){op=[6,e],y=0}finally{f=t=0}if(5&op[0])throw op[1];return{value:op[0]?op[1]:void 0,done:!0}}([n,v])}}};Object.defineProperty(exports,\"__esModule\",{value:!0});var logger_1=__nested_webpack_require_433721__(5),UrlParser_1=__nested_webpack_require_433721__(137),ExternalResources_constants_1=__nested_webpack_require_433721__(140),ExternalResources=function(){function ExternalResources(content,jszip){this.content=content,this.jszip=jszip}return ExternalResources.prototype.getReplacedContent=function(){return __awaiter(this,void 0,void 0,function(){var _this=this;return __generator(this,function(_a){return[2,this.replaceExternalStyles(this.content).then(function(content){return _this.replaceExternalBackgroundUrl(content)}).then(function(content){return _this.replaceExternalImage(content)}).then(function(content){return _this.replaceExternalScript(content)})]})})},ExternalResources.prototype.replaceExternalStyles=function(content,base){return void 0===base&&(base=\"/\"),__awaiter(this,void 0,void 0,function(){var pattern,_this=this;return __generator(this,function(_a){switch(_a.label){case 0:return pattern=this.getSearchPattern(\"style\"),[4,this.replacer(content,pattern,function(substring){return __awaiter(_this,void 0,void 0,function(){var path,content,relative;return __generator(this,function(_a){switch(_a.label){case 0:return[4,this.getReplacedFilePath(substring,pattern,ExternalResources_constants_1.EXTERNAL_RESOURCES_REGEXP_SECOND_GROUP,base)];case 1:return(path=_a.sent())?[4,this.jszip.file(path).async(\"text\")]:[2,substring];case 2:return content=_a.sent(),relative=path.split(\"/\").splice(-1,1).join(\"/\"),[4,this.replaceExternalBackgroundUrl(content,relative)];case 3:return[2,'<style type=\"text/css\">'+_a.sent().replace(\"\\n\",\"\")+\"</style>\"]}})})})];case 1:return[2,_a.sent()]}})})},ExternalResources.prototype.replaceExternalBackgroundUrl=function(content,base){return void 0===base&&(base=\"/\"),__awaiter(this,void 0,void 0,function(){var pattern,_this=this;return __generator(this,function(_a){switch(_a.label){case 0:return pattern=this.getSearchPattern(\"backgroundUrl\"),[4,this.replacer(content,pattern,function(substring){return __awaiter(_this,void 0,void 0,function(){var path,content,extension;return __generator(this,function(_a){switch(_a.label){case 0:return[4,this.getReplacedFilePath(substring,pattern,ExternalResources_constants_1.EXTERNAL_RESOURCES_REGEXP_SECOND_GROUP,base)];case 1:return(path=_a.sent())?[4,this.jszip.file(path).async(\"base64\")]:[2,substring];case 2:return content=_a.sent(),[2,'url(\"data:image/'+(\"svg\"===(extension=path.split(\".\").pop())?\"svg+xml\":extension)+\";base64,\"+content+'\")']}})})})];case 1:return[2,_a.sent()]}})})},ExternalResources.prototype.replaceExternalImage=function(content,base){return void 0===base&&(base=\"/\"),__awaiter(this,void 0,void 0,function(){var pattern,_this=this;return __generator(this,function(_a){switch(_a.label){case 0:return pattern=this.getSearchPattern(\"image\"),[4,this.replacer(content,pattern,function(substring){return __awaiter(_this,void 0,void 0,function(){var path,content,extension;return __generator(this,function(_a){switch(_a.label){case 0:return[4,this.getReplacedFilePath(substring,pattern,ExternalResources_constants_1.EXTERNAL_RESOURCES_REGEXP_SECOND_GROUP,base)];case 1:return(path=_a.sent())?[4,this.jszip.file(path).async(\"base64\")]:[2,substring];case 2:return content=_a.sent(),[2,'<img src=\"data:image/'+(\"svg\"===(extension=path.split(\".\").pop())?\"svg+xml\":extension)+\";base64,\"+content+'\" alt=\"\">']}})})})];case 1:return[2,_a.sent()]}})})},ExternalResources.prototype.replaceExternalScript=function(content,base){return void 0===base&&(base=\"/\"),__awaiter(this,void 0,void 0,function(){var pattern,_this=this;return __generator(this,function(_a){switch(_a.label){case 0:return pattern=this.getSearchPattern(\"script\"),[4,this.replacer(content,pattern,function(substring){return __awaiter(_this,void 0,void 0,function(){var path;return __generator(this,function(_a){switch(_a.label){case 0:return[4,this.getReplacedFilePath(substring,pattern,ExternalResources_constants_1.EXTERNAL_RESOURCES_REGEXP_SECOND_GROUP,base)];case 1:return(path=_a.sent())?[4,this.jszip.file(path).async(\"text\")]:[2,substring];case 2:return[2,\"<script>\"+_a.sent()+\"<\\/script>\"]}})})})];case 1:return[2,_a.sent()]}})})},ExternalResources.prototype.getSearchPattern=function(type){switch(type){case\"style\":return\"<link[^>]*href=('|\\\")([^>]*.(css))('|\\\")[^>]*>\";case\"backgroundUrl\":return\"url\\\\s*\\\\(('|\\\")?([^)]*\\\\.(gif|jpg|jpeg|png|svg))('|\\\")?\\\\s*\\\\)\";case\"image\":return\"<img[^\\\\/?>]*src=('|\\\")([^>]*\\\\.(gif|jpg|jpeg|png|svg))('|\\\")[^\\\\/?>]*>\";case\"script\":return\"<script[^>]*src=('|\\\")(.*\\\\.js)('|\\\")[^>]*>(\\\\n|\\\\r|\\\\s)*<\\\\/script>\"}},ExternalResources.prototype.replacer=function(content,pattern,callback){return __awaiter(this,void 0,void 0,function(){var arPromises,regexp,replaces;return __generator(this,function(_a){switch(_a.label){case 0:return arPromises=[],regexp=new RegExp(pattern,\"g\"),content.replace(regexp,function(substring){return arPromises.push(callback(substring)),substring}),[4,Promise.all(arPromises)];case 1:return replaces=_a.sent(),[2,content.replace(regexp,function(){return replaces.shift()||\"\"})]}})})},ExternalResources.prototype.getReplacedFilePath=function(substring,pattern,matchPosition,base){return void 0===base&&(base=\"/\"),__awaiter(this,void 0,void 0,function(){var regexp,matches,match,url,path;return __generator(this,function(_a){return regexp=new RegExp(pattern),(matches=substring.match(regexp))&&matches.length?(match=matches[matchPosition],(url=new UrlParser_1.UrlParser(match,base)).checkIsAbsolutePath()?[2]:(path=url.getRelativePath(),this.jszip.files[path]?[2,path]:(logger_1.Logger.write(\"error\",'Not found file: \"'+path+'\" for replace.'),[2]))):[2]})})},ExternalResources}();exports.ExternalResources=ExternalResources},function(module,exports,__nested_webpack_require_441186__){\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:!0});var resolver=__nested_webpack_require_441186__(138),UrlParser_constants_1=__nested_webpack_require_441186__(139),UrlParser=function(){function UrlParser(url,base){void 0===base&&(base=\"/\"),this.url=url,this.base=base}return UrlParser.prototype.checkIsAbsolutePath=function(){return new RegExp(\"^(?:[a-z]+:)?//\",\"i\").test(this.url)},UrlParser.prototype.getRelativePath=function(){var pathWithBase=resolver(UrlParser_constants_1.URL_PARSER_PSEUDO_DOMAIN,this.base);return resolver(pathWithBase,this.url).replace(UrlParser_constants_1.URL_PARSER_PSEUDO_DOMAIN,\"\")},UrlParser}();exports.UrlParser=UrlParser},function(module,exports,__webpack_require__){\"use strict\";function _addSlash(url){return url+(\"/\"===url[url.length-1]?\"\":\"/\")}function _pathResolve(path){let pathSplit=path.split(\"/\");\"\"===pathSplit[0]&&(pathSplit=pathSplit.slice(1));let resultArray=[];return pathSplit.forEach((current,index)=>{\".\"!==current&&(\"..\"===current?resultArray.pop():\"\"!==current&&resultArray.push(current))}),\"/\"+resultArray.join(\"/\")}module.exports=function(base,relative){if(base=base.trim(),(relative=relative.trim()).startsWith(\"about:\"))return relative;if(\"\"===base)return _shouldAddSlash(relative)?_addSlash(relative):relative;const baseObj=function(base){const resultObject={host:\"\",path:\"\",query:\"\",protocol:\"\"};let path=base,protocolEndIndex=base.indexOf(\"//\");if(-1===protocolEndIndex)throw new Error(\"Error, protocol is not specified\");resultObject.protocol=path.substring(0,protocolEndIndex),protocolEndIndex+=2;const pathIndex=base.indexOf(\"/\",protocolEndIndex),queryIndex=base.indexOf(\"?\"),hashIndex=base.indexOf(\"#\");-1!==hashIndex&&(path=path.substring(0,hashIndex));if(-1!==queryIndex){const query=path.substring(queryIndex);resultObject.query=query,path=path.substring(0,queryIndex)}if(-1!==pathIndex){const host=path.substring(0,pathIndex);resultObject.host=host,path=path.substring(pathIndex),resultObject.path=path}else resultObject.host=path;return resultObject}(base);if(\"\"===relative){const{host:host,path:path,query:query}=baseObj;return path||query?host+path+query:_addSlash(host)}const relativeObj=function(relative){const resultObject={href:relative,hash:\"\",query:\"\",netPath:!1,absolutePath:!1,relativePath:!1};if(_isAbsolute.test(relative))return resultObject.netPath=!0,resultObject;\"/\"===relative[0]?resultObject.absolutePath=!0:resultObject.relativePath=!0;let path=relative;const queryIndex=relative.indexOf(\"?\"),hashIndex=relative.indexOf(\"#\");if(-1!==hashIndex){const hash=path.substring(hashIndex);resultObject.hash=hash,path=path.substring(0,hashIndex)}if(-1!==queryIndex){const query=path.substring(queryIndex);resultObject.query=query,path=path.substring(0,queryIndex)}return resultObject.path=path,resultObject}(relative);if(relativeObj.netPath)return function(url){return url.startsWith(\"//\")}(relativeObj.href)&&(relativeObj.href=baseObj.protocol+relativeObj.href),_shouldAddSlash(relativeObj.href)?_addSlash(relativeObj.href):relativeObj.href;if(relativeObj.absolutePath){const{path:path,query:query,hash:hash}=relativeObj;return baseObj.host+_pathResolve(path)+query+hash}if(relativeObj.relativePath){const{path:path,query:query,hash:hash}=relativeObj;let resolvePath,basePath=baseObj.path,resultString=baseObj.host;return 0===path.length?resolvePath=basePath:(basePath=basePath.substring(0,basePath.lastIndexOf(\"/\")),resolvePath=_pathResolve(basePath+\"/\"+path)),resultString+=\"\"!==resolvePath||query||hash?resolvePath+query+hash:\"/\"}};const _isAbsolute=new RegExp(\"^([a-z][a-z0-9+.-]*:)?//\",\"i\");function _shouldAddSlash(url){const protocolIndex=url.indexOf(\"//\")+2,noPath=!url.includes(\"/\",protocolIndex),noQuery=!url.includes(\"?\",protocolIndex),noHash=!url.includes(\"#\",protocolIndex);return noPath&&noQuery&&noHash}},function(module,exports,__webpack_require__){\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:!0}),exports.URL_PARSER_PSEUDO_DOMAIN=\"https://pushwoosh.com/\"},function(module,exports,__webpack_require__){\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:!0}),exports.EXTERNAL_RESOURCES_REGEXP_SECOND_GROUP=2},function(module,exports,__nested_webpack_require_445354__){\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:!0});var RichMediaPushwooshSendMessage_html_1=__nested_webpack_require_445354__(142);exports.ExpanderPushwooshSendMessage=RichMediaPushwooshSendMessage_html_1.default;var RichMediaPushwoosh_html_1=__nested_webpack_require_445354__(143);exports.ExpanderPushwoosh=RichMediaPushwoosh_html_1.default;var RichMediaPushManager_html_1=__nested_webpack_require_445354__(144);exports.ExpanderPushManager=RichMediaPushManager_html_1.default},function(module,__webpack_exports__,__nested_webpack_require_445864__){\"use strict\";__nested_webpack_require_445864__.r(__webpack_exports__),__webpack_exports__.default='<script type=\"text/javascript\">\\n  function PushwooshSendMessage(message, success, failure) {\\n    var code = uuidv4();\\n\\n    if (success) {\\n      window.addEventListener(\\'message\\', function (event) {\\n        if (!event.source) {\\n          return;\\n        }\\n\\n        if (window.top === event.source.parent) {\\n          try {\\n            const data = JSON.parse(event.data);\\n\\n            if (data && data.code === code) {\\n              success && success(data);\\n            }\\n          } catch (error) {\\n            failure && failure(error);\\n          }\\n        }\\n      });\\n    }\\n\\n    var data = Object.assign(\\n      message,\\n      {\\n        code: code\\n      }\\n    );\\n\\n    window.parent.postMessage(JSON.stringify(data), \"*\");\\n\\n    function uuidv4() {\\n      return \"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx\".replace(/[xy]/g, function (c) {\\n        var r = (Math.random() * 16) | 0,\\n          v = c == \"x\" ? r : (r & 0x3) | 0x8;\\n        return v.toString(16);\\n      });\\n    }\\n  }\\n<\\/script>\\n'},function(module,__webpack_exports__,__nested_webpack_require_447036__){\"use strict\";__nested_webpack_require_447036__.r(__webpack_exports__),__webpack_exports__.default=\"<script type=\\\"text/javascript\\\">\\n  function PushwooshBridge() {\\n    var self = this;\\n\\n    self.isWebSDK = true;\\n    self.isSafari = navigator.userAgent.toLowerCase().indexOf('safari') !== -1\\n      && navigator.userAgent.toLowerCase().indexOf('chrome') === -1;\\n\\n    self.registerForPushNotifications = function () {\\n      PushwooshSendMessage({\\n        method: 'subscribe',\\n      })\\n    };\\n\\n    self.unregisterForPushNotifications = function () {\\n      PushwooshSendMessage({\\n        method: 'unsubscribe',\\n      });\\n    };\\n\\n    self.getTags = function (onSuccessCallback) {\\n      PushwooshSendMessage({\\n        method: 'getTags',\\n      }, function (result) {\\n        onSuccessCallback(result && result.tags);\\n      })\\n    };\\n\\n    self.sendTags = function (tags) {\\n      PushwooshSendMessage({\\n        method: 'setTags',\\n        options: {\\n          tags: tags\\n        },\\n      });\\n    };\\n\\n    self.isRegisteredForPushNotifications = function (onSuccessCallback) {\\n      PushwooshSendMessage({\\n        method: 'checkSubscription',\\n      }, function (result) {\\n        onSuccessCallback(result.state)\\n      });\\n    };\\n\\n    self.isManualUnregisterForPushNotifications = function (onSuccessCallback) {\\n      PushwooshSendMessage({\\n        method: 'checkManualUnsubscribed',\\n      }, function (result) {\\n        onSuccessCallback(result.state)\\n      });\\n    };\\n\\n    self.getChannels = function (onSuccessCallback) {\\n      PushwooshSendMessage({\\n        method: 'getChannels',\\n      }, function (result) {\\n        onSuccessCallback(result.channels)\\n      });\\n    };\\n  }\\n\\n  window.pushwoosh = new PushwooshBridge();\\n<\\/script>\\n\"},function(module,__webpack_exports__,__nested_webpack_require_448866__){\"use strict\";__nested_webpack_require_448866__.r(__webpack_exports__),__webpack_exports__.default=\"<script type=\\\"text/javascript\\\">\\n  function PushwooshPushManagerBridge() {\\n    var self = this;\\n    var absoluteURLPattern = new RegExp('^(?:[a-z]+:)?//', 'i');\\n\\n    self.closeInApp = function (options) {\\n      PushwooshSendMessage({\\n        method: 'closeInApp',\\n        options: options,\\n      });\\n    };\\n\\n    self.openLink = function (options) {\\n      PushwooshSendMessage({\\n        method: 'openLink',\\n        options: options,\\n      });\\n    };\\n\\n    window.addEventListener('load', function () {\\n      var closeLinks = document.querySelectorAll('a[href=\\\"pushwoosh://close\\\"]');\\n      var otherLinks = document.querySelectorAll('a:not([href=\\\"pushwoosh://close\\\"])');\\n\\n      for (var i = 0; i < closeLinks.length; i++) {\\n        closeLinks[i].addEventListener('click', function (event) {\\n          event.preventDefault();\\n\\n          self.closeInApp();\\n        });\\n      }\\n\\n      for (var j = 0; j < otherLinks.length; j++) {\\n        var href = otherLinks[j].getAttribute('href');\\n\\n        if (absoluteURLPattern.test(href)) {\\n          otherLinks[j].addEventListener('click', function (event) {\\n            event.preventDefault();\\n\\n            self.openLink({\\n              href: event.target.href\\n            });\\n\\n            self.closeInApp();\\n          });\\n        }\\n      }\\n    });\\n  }\\n\\n  window.pushManager = new PushwooshPushManagerBridge();\\n<\\/script>\\n\"},function(module,exports,__nested_webpack_require_450414__){\"use strict\";var __awaiter=this&&this.__awaiter||function(thisArg,_arguments,P,generator){return new(P||(P=Promise))(function(resolve,reject){function fulfilled(value){try{step(generator.next(value))}catch(e){reject(e)}}function rejected(value){try{step(generator.throw(value))}catch(e){reject(e)}}function step(result){result.done?resolve(result.value):function(value){return value instanceof P?value:new P(function(resolve){resolve(value)})}(result.value).then(fulfilled,rejected)}step((generator=generator.apply(thisArg,_arguments||[])).next())})},__generator=this&&this.__generator||function(thisArg,body){var f,y,t,g,_={label:0,sent:function(){if(1&t[0])throw t[1];return t[1]},trys:[],ops:[]};return g={next:verb(0),throw:verb(1),return:verb(2)},\"function\"==typeof Symbol&&(g[Symbol.iterator]=function(){return this}),g;function verb(n){return function(v){return function(op){if(f)throw new TypeError(\"Generator is already executing.\");for(;_;)try{if(f=1,y&&(t=2&op[0]?y.return:op[0]?y.throw||((t=y.return)&&t.call(y),0):y.next)&&!(t=t.call(y,op[1])).done)return t;switch(y=0,t&&(op=[2&op[0],t.value]),op[0]){case 0:case 1:t=op;break;case 4:return _.label++,{value:op[1],done:!1};case 5:_.label++,y=op[1],op=[0];continue;case 7:op=_.ops.pop(),_.trys.pop();continue;default:if(!(t=(t=_.trys).length>0&&t[t.length-1])&&(6===op[0]||2===op[0])){_=0;continue}if(3===op[0]&&(!t||op[1]>t[0]&&op[1]<t[3])){_.label=op[1];break}if(6===op[0]&&_.label<t[1]){_.label=t[1],t=op;break}if(t&&_.label<t[2]){_.label=t[2],_.ops.push(op);break}t[2]&&_.ops.pop(),_.trys.pop();continue}op=body.call(thisArg,_)}catch(e){op=[6,e],y=0}finally{f=t=0}if(5&op[0])throw op[1];return{value:op[0]?op[1]:void 0,done:!0}}([n,v])}}};Object.defineProperty(exports,\"__esModule\",{value:!0});var constants_1=__nested_webpack_require_450414__(1),PlatformChecker_1=__nested_webpack_require_450414__(21),constants_2=__nested_webpack_require_450414__(76),positioning_1=__nested_webpack_require_450414__(146),bell_1=__nested_webpack_require_450414__(147),storage_1=__nested_webpack_require_450414__(3),SubscribeWidget=function(){function SubscribeWidget(pw){var _this=this;if(this.pw=pw,PlatformChecker_1.default.isAvailableNotifications){this.clickBell=this.clickBell.bind(this),this.onSubscribeEvent=this.onSubscribeEvent.bind(this),this.onUnsubscribeEvent=this.onUnsubscribeEvent.bind(this),this.onPermissionDeniedEvent=this.onPermissionDeniedEvent.bind(this),this.clickOutOfPopover=this.clickOutOfPopover.bind(this),this.onClickBellIfEnableChannels=this.onClickBellIfEnableChannels.bind(this);var tooltipText=Object.assign(constants_2.SUBSCRIBE_WIDGET_DEFAULT_CONFIG.tooltipText,this.pw.subscribeWidgetConfig.tooltipText);this.config=Object.assign(constants_2.SUBSCRIBE_WIDGET_DEFAULT_CONFIG,this.pw.subscribeWidgetConfig),this.config.tooltipText=tooltipText;var arrActions=[],isEnableChannels=this.pw.isEnableChannels(),isSubscribed=this.pw.isSubscribed();arrActions.push(isEnableChannels),arrActions.push(isSubscribed),Promise.all(arrActions).then(function(_a){var isEnableChannels=_a[0],isSubscribed=_a[1];isEnableChannels&&(_this.isEnableChannels=!0),isSubscribed&&!isEnableChannels||_this.render()})}else console.warn(\"Browser does not support push notifications\")}return SubscribeWidget.prototype.addStylesToElement=function(styles,element){Object.keys(styles).forEach(function(st){element.style[st]=styles[st]})},SubscribeWidget.prototype.createContainer=function(){var container=document.createElement(\"div\");container.id=constants_2.WIDGET_CONTAINER_ID,container.className=\"pushwoosh-subscribe-widget\";var position=positioning_1.default.getBellPosition(this.config.position,this.config.indent),styles=Object.assign({zIndex:this.config.zIndex},position);return this.addStylesToElement(styles,container),container},SubscribeWidget.prototype.createStyle=function(){var styles=__nested_webpack_require_450414__(148),styleNode=document.createElement(\"style\");return styleNode.innerHTML=styles,styleNode},SubscribeWidget.prototype.createBell=function(){var bell=document.createElement(\"div\");bell.className=\"pushwoosh-subscribe-widget__bell-button\";var styles={width:this.config.size,height:this.config.size,backgroundColor:this.config.bgColor,boxShadow:this.config.shadow,lineHeight:this.config.size,border:this.config.bellButtonBorder};return this.addStylesToElement(styles,bell),bell.innerHTML=bell_1.default(this.config.bellColor,this.config.bellStrokeColor),bell},SubscribeWidget.prototype.createTooltip=function(){return __awaiter(this,void 0,void 0,function(){var tooltip,_a,position,modification,_b,_c;return __generator(this,function(_d){switch(_d.label){case 0:return tooltip=document.createElement(\"div\"),_a=positioning_1.default.getTooltipPosition(this.config.position,this.config.size),position=_a[0],modification=_a[1],tooltip.className=\"pushwoosh-subscribe-widget__tooltip pushwoosh-subscribe-widget__tooltip__\"+modification,this.addStylesToElement(position,tooltip),_c=(_b=tooltip).appendChild,[4,this.createTooltipContent()];case 1:return _c.apply(_b,[_d.sent()]),[2,tooltip]}})})},SubscribeWidget.prototype.createTooltipContent=function(){return __awaiter(this,void 0,void 0,function(){var tooltipContent,_a;return __generator(this,function(_b){switch(_b.label){case 0:return tooltipContent=document.createElement(\"div\"),_a=tooltipContent,[4,this.tooltipTextFactory()];case 1:return _a.innerText=_b.sent(),tooltipContent.className=\"pushwoosh-subscribe-widget__tooltip-content\",[2,tooltipContent]}})})},SubscribeWidget.prototype.tooltipTextFactory=function(){return __awaiter(this,void 0,void 0,function(){var permission,tooltipText,isManuallyUnsubscribed;return __generator(this,function(_a){switch(_a.label){case 0:return[4,this.pw.driver.getPermission()];case 1:return permission=_a.sent(),tooltipText=this.config.tooltipText,[4,storage_1.keyValue.get(constants_1.MANUAL_UNSUBSCRIBE)];case 2:switch(isManuallyUnsubscribed=_a.sent(),permission){case constants_1.PERMISSION_GRANTED:return[2,isManuallyUnsubscribed?tooltipText.needSubscribe:tooltipText.alreadySubscribed];case constants_1.PERMISSION_PROMPT:return[2,tooltipText.needSubscribe];case constants_1.PERMISSION_DENIED:return[2,tooltipText.blockSubscribe];default:return[2,tooltipText.needSubscribe]}return[2]}})})},SubscribeWidget.prototype.createPopover=function(){var popoverContentWrapper=document.createElement(\"div\"),popover=document.createElement(\"div\"),_a=positioning_1.default.getPopoverPosition(this.config.position,this.config.size),position=_a[0],modification=_a[1];popover.className=\"pushwoosh-subscribe-widget__popover pushwoosh-subscribe-widget__popover__\"+modification,popoverContentWrapper.className=\"pushwoosh-subscribe-widget__popover-content-wrapper\",this.style.innerHTML+=positioning_1.default.getPopoverArrowPosition(this.config.position,this.config.size);var styles=Object.assign({maxWidth:\"calc(100vw - \"+this.config.indent+\" - \"+this.config.indent+\")\"},position);return this.addStylesToElement(styles,popover),popoverContentWrapper.appendChild(this.createPopoverContent()),popover.appendChild(popoverContentWrapper),popover},SubscribeWidget.prototype.createPopoverContent=function(){var _a,popoverContent=document.createElement(\"div\");popoverContent.className=\"pushwoosh-subscribe-widget__popover-content\";var imagePreference=document.createElement(\"img\");imagePreference.width=500,imagePreference.height=130;var imageUnlock=document.createElement(\"img\");return imageUnlock.width=500,imageUnlock.height=230,_a=this.helpImageSourceFactory(),imagePreference.src=_a[0],imageUnlock.src=_a[1],popoverContent.appendChild(imagePreference),popoverContent.appendChild(imageUnlock),popoverContent},SubscribeWidget.prototype.helpImageSourceFactory=function(){var preferenceSource,unlockSource;return PlatformChecker_1.default.isOpera?[preferenceSource=\"https://cdn.pushwoosh.com/webpush/img/opera.jpg\",unlockSource=\"https://cdn.pushwoosh.com/webpush/img/opera_unlock.jpg\"]:(11===PlatformChecker_1.default.platform?navigator.userAgent.match(/Android/i)?(preferenceSource=\"https://cdn.pushwoosh.com/webpush/img/mobile_chrome.jpg\",unlockSource=\"https://cdn.pushwoosh.com/webpush/img/mobile_chrome_unlock.jpg\"):(preferenceSource=\"https://cdn.pushwoosh.com/webpush/img/chrome.jpg\",unlockSource=\"https://cdn.pushwoosh.com/webpush/img/chrome_unlock.jpg\"):12===PlatformChecker_1.default.platform?(preferenceSource=\"https://cdn.pushwoosh.com/webpush/img/FF.jpg\",unlockSource=\"https://cdn.pushwoosh.com/webpush/img/FF_unlock.jpg\"):10===PlatformChecker_1.default.platform?(preferenceSource=\"https://cdn.pushwoosh.com/webpush/img/safari.jpg\",unlockSource=\"https://cdn.pushwoosh.com/webpush/img/safari_unlock.jpg\"):(preferenceSource=\"https://cdn.pushwoosh.com/webpush/img/chrome.jpg\",unlockSource=\"https://cdn.pushwoosh.com/webpush/img/chrome_unlock.jpg\"),[preferenceSource,unlockSource])},SubscribeWidget.prototype.render=function(){return __awaiter(this,void 0,void 0,function(){var bell,_a,_b;return __generator(this,function(_c){switch(_c.label){case 0:return this.widget=this.createContainer(),this.style=this.createStyle(),bell=this.createBell(),_a=this,[4,this.createTooltip()];case 1:return _a.tooltip=_c.sent(),_b=this,[4,this.createPopover()];case 2:return _b.popover=_c.sent(),this.widget.appendChild(this.style),this.widget.appendChild(bell),this.widget.appendChild(this.tooltip),this.widget.appendChild(this.popover),document.body.appendChild(this.widget),this.pw.push([\"onSubscribe\",this.onSubscribeEvent]),this.pw.push([\"onUnsubscribe\",this.onUnsubscribeEvent]),this.pw.push([\"onPermissionDenied\",this.onPermissionDeniedEvent]),this.isEnableChannels?(this.widget.addEventListener(\"click\",this.onClickBellIfEnableChannels),[2]):(this.addEventListenersIfDisabledChannels(),[2])}})})},SubscribeWidget.prototype.onClickBellIfEnableChannels=function(){var _this=this;this.pw.push(function(api){_this.pw.driver.checkIsPermissionDefault()?_this.pw.subscriptionSegmentWidget.init():api.postEvent(constants_1.SUBSCRIPTION_SEGMENT_EVENT,{})})},SubscribeWidget.prototype.addEventListenersIfDisabledChannels=function(){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(_a){switch(_a.label){case 0:return this.widget.addEventListener(\"click\",this.clickBell),window.addEventListener(\"click\",this.clickOutOfPopover),[4,this.triggerPwEvent(constants_1.EVENT_SHOW_SUBSCRIBE_BUTTON,constants_1.KEY_SHOW_SUBSCRIBE_WIDGET)];case 1:return _a.sent(),[2]}})})},SubscribeWidget.prototype.toggleHelpPopover=function(){this.popover.classList.toggle(\"pushwoosh-subscribe-widget__popover__visible\")},SubscribeWidget.prototype.clickBell=function(){return __awaiter(this,void 0,void 0,function(){var permission;return __generator(this,function(_b){switch(_b.label){case 0:switch(permission=this.pw.driver.getPermission(),permission){case constants_1.PERMISSION_GRANTED:return[3,1];case constants_1.PERMISSION_PROMPT:return[3,3];case constants_1.PERMISSION_DENIED:return[3,5]}return[3,6];case 1:return[4,this.pw.subscribe()];case 2:return _b.sent(),[3,7];case 3:return[4,this.pw.subscribe()];case 4:return _b.sent(),[3,7];case 5:return this.toggleHelpPopover(),[3,7];case 6:console.warn(\"Unknown browser notification permission\"),_b.label=7;case 7:return[4,this.triggerPwEvent(constants_1.EVENT_CLICK_SUBSCRIBE_BUTTON,constants_1.KEY_CLICK_SUBSCRIBE_WIDGET)];case 8:return _b.sent(),[2]}})})},SubscribeWidget.prototype.onSubscribeEvent=function(){return __awaiter(this,void 0,void 0,function(){var isEnableChannels,tooltipContent,_this=this;return __generator(this,function(_a){return isEnableChannels=this.pw.isEnableChannels(),null===(tooltipContent=this.tooltip.querySelector(\"div\"))?[2]:(tooltipContent.innerText=this.config.tooltipText.successSubscribe,this.tooltip.classList.add(\"pushwoosh-subscribe-widget__tooltip__visible\"),setTimeout(function(){return __awaiter(_this,void 0,void 0,function(){var _a;return __generator(this,function(_b){switch(_b.label){case 0:return this.tooltip.classList.remove(\"pushwoosh-subscribe-widget__tooltip__visible\"),_a=tooltipContent,[4,this.tooltipTextFactory()];case 1:return _a.innerText=_b.sent(),isEnableChannels||this.widget.classList.add(\"pushwoosh-subscribe-widget__subscribed\"),[2]}})})},2e3),[2])})})},SubscribeWidget.prototype.onPermissionDeniedEvent=function(){return __awaiter(this,void 0,void 0,function(){var tooltipContent,_a;return __generator(this,function(_b){switch(_b.label){case 0:return[4,this.pw.isEnableChannels()];case 1:return _b.sent()&&(this.widget.removeEventListener(\"click\",this.onClickBellIfEnableChannels),this.addEventListenersIfDisabledChannels()),null===(tooltipContent=this.tooltip.querySelector(\"div\"))?[2]:(_a=tooltipContent,[4,this.tooltipTextFactory()]);case 2:return _a.innerText=_b.sent(),[2]}})})},SubscribeWidget.prototype.clickOutOfPopover=function(ev){this.popover.classList.contains(\"pushwoosh-subscribe-widget__popover__visible\")&&!ev.target.classList.contains(\"pushwoosh-subscribe-widget__popover\")&&null===ev.target.closest(\".pushwoosh-subscribe-widget__popover\")&&!ev.target.classList.contains(\"pushwoosh-subscribe-widget__bell-button\")&&null===ev.target.closest(\".pushwoosh-subscribe-widget__bell-button\")&&this.popover.classList.remove(\"pushwoosh-subscribe-widget__popover__visible\")},SubscribeWidget.prototype.triggerPwEvent=function(event,widget){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(_a){return[2]})})},SubscribeWidget.prototype.onUnsubscribeEvent=function(){return __awaiter(this,void 0,void 0,function(){var tooltipContent,_a;return __generator(this,function(_b){switch(_b.label){case 0:return null===(tooltipContent=this.tooltip.querySelector(\"div\"))?[2]:(_a=tooltipContent,[4,this.tooltipTextFactory()]);case 1:return _a.innerText=_b.sent(),[2]}})})},SubscribeWidget}();document.addEventListener(\"pushwoosh.initialized\",function(ev){ev.detail.pw.subscribeWidgetConfig.enable&&new SubscribeWidget(ev.detail.pw)})},function(module,exports,__nested_webpack_require_464279__){\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:!0});var constants_1=__nested_webpack_require_464279__(76),Positioning=function(){function Positioning(){}return Positioning.getBellPosition=function(position,indent){var positionStyles;switch(position){case constants_1.BELL_POSITION_BOTTOM_RIGHT:positionStyles={top:\"auto\",left:\"auto\",bottom:indent,right:indent};break;case constants_1.BELL_POSITION_BOTTOM_LEFT:positionStyles={top:\"auto\",left:indent,bottom:indent,right:\"auto\"};break;case constants_1.BELL_POSITION_TOP_LEFT:positionStyles={top:indent,left:indent,bottom:\"auto\",right:\"auto\"};break;case constants_1.BELL_POSITION_TOP_RIGHT:positionStyles={top:indent,left:\"auto\",bottom:\"auto\",right:indent};break;default:positionStyles={top:\"auto\",left:\"auto\",bottom:indent,right:indent}}return positionStyles},Positioning.getTooltipPosition=function(bellPosition,bellSize){var positionStyles,tooltipModification,increaseIndent=parseInt(bellSize)+12+\"px\";switch(bellPosition){case constants_1.BELL_POSITION_BOTTOM_RIGHT:positionStyles={right:increaseIndent},tooltipModification=\"right\";break;case constants_1.BELL_POSITION_BOTTOM_LEFT:case constants_1.BELL_POSITION_TOP_LEFT:positionStyles={left:increaseIndent},tooltipModification=\"left\";break;case constants_1.BELL_POSITION_TOP_RIGHT:positionStyles={right:increaseIndent},tooltipModification=\"right\";break;default:positionStyles={right:increaseIndent},tooltipModification=\"right\"}return[positionStyles,tooltipModification]},Positioning.getPopoverPosition=function(bellPosition,bellSize){var positionStyles,popoverModification,increaseIndent=parseInt(bellSize)+15+\"px\";switch(bellPosition){case constants_1.BELL_POSITION_BOTTOM_RIGHT:positionStyles={bottom:increaseIndent,right:\"0\",left:\"auto\",top:\"auto\"},popoverModification=\"bottom\";break;case constants_1.BELL_POSITION_BOTTOM_LEFT:positionStyles={bottom:increaseIndent,left:\"0\",right:\"auto\",top:\"auto\"},popoverModification=\"bottom\";break;case constants_1.BELL_POSITION_TOP_LEFT:positionStyles={top:increaseIndent,left:\"0\",right:\"auto\",bottom:\"auto\"},popoverModification=\"top\";break;case constants_1.BELL_POSITION_TOP_RIGHT:positionStyles={top:increaseIndent,right:\"0\",left:\"auto\",bottom:\"auto\"},popoverModification=\"top\";break;default:positionStyles={bottom:increaseIndent,right:\"0\",left:\"auto\",top:\"auto\"},popoverModification=\"bottom\"}return[positionStyles,popoverModification]},Positioning.getPopoverArrowPosition=function(bellPosition,bellSize){var arrowAdditionalStyles;switch(bellPosition){case constants_1.BELL_POSITION_BOTTOM_RIGHT:arrowAdditionalStyles=\"\\n.pushwoosh-subscribe-widget__popover__bottom:after {left: auto; right: \"+(parseInt(bellSize)/2-4)+\"px\";break;case constants_1.BELL_POSITION_BOTTOM_LEFT:arrowAdditionalStyles=\"\\n.pushwoosh-subscribe-widget__popover__bottom:after {right: auto; left: \"+(parseInt(bellSize)/2-12)+\"px\";break;case constants_1.BELL_POSITION_TOP_LEFT:arrowAdditionalStyles=\"\\n.pushwoosh-subscribe-widget__popover__top:after {right: auto; left: \"+(parseInt(bellSize)/2-12)+\"px\";break;case constants_1.BELL_POSITION_TOP_RIGHT:arrowAdditionalStyles=\"\\n.pushwoosh-subscribe-widget__popover__top:after {left: auto; right: \"+(parseInt(bellSize)/2-4)+\"px\";break;default:arrowAdditionalStyles=\"\\n.pushwoosh-subscribe-widget__popover__bottom:after {left: auto; right: \"+(parseInt(bellSize)/2-4)+\"px\"}return arrowAdditionalStyles},Positioning}();exports.default=Positioning},function(module,exports,__webpack_require__){\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:!0}),exports.default=function(fillColor,strokeColor){return'<?xml version=\"1.0\" encoding=\"UTF-8\" standalone=\"no\"?>\\n<svg\\n   xmlns:dc=\"http://purl.org/dc/elements/1.1/\"\\n   xmlns:cc=\"http://creativecommons.org/ns#\"\\n   xmlns:rdf=\"http://www.w3.org/1999/02/22-rdf-syntax-ns#\"\\n   xmlns:svg=\"http://www.w3.org/2000/svg\"\\n   xmlns=\"http://www.w3.org/2000/svg\"\\n   xmlns:sodipodi=\"http://sodipodi.sourceforge.net/DTD/sodipodi-0.dtd\"\\n   xmlns:inkscape=\"http://www.inkscape.org/namespaces/inkscape\"\\n   version=\"1.1\"\\n   id=\"Capa_1\"\\n   x=\"0px\"\\n   y=\"0px\"\\n   viewBox=\"0 0 346.013 346.013\"\\n   style=\"enable-background:new 0 0 346.013 346.013;width: 80%; height: auto; vertical-align: middle;\"\\n   xml:space=\"preserve\"\\n   inkscape:version=\"0.91 r13725\"\\n   sodipodi:docname=\"alarm_white.svg\"><metadata\\n     id=\"metadata51\"><rdf:RDF><cc:Work\\n         rdf:about=\"\"><dc:format>image/svg+xml</dc:format><dc:type\\n           rdf:resource=\"http://purl.org/dc/dcmitype/StillImage\" /><dc:title></dc:title></cc:Work></rdf:RDF></metadata><defs\\n     id=\"defs49\" /><sodipodi:namedview\\n     borderopacity=\"1\"\\n     objecttolerance=\"10\"\\n     gridtolerance=\"10\"\\n     guidetolerance=\"10\"\\n     inkscape:pageopacity=\"0\"\\n     inkscape:pageshadow=\"2\"\\n     inkscape:window-width=\"1618\"\\n     inkscape:window-height=\"828\"\\n     id=\"namedview47\"\\n     showgrid=\"false\"\\n     inkscape:zoom=\"0.6820553\"\\n     inkscape:cx=\"173.0065\"\\n     inkscape:cy=\"173.0065\"\\n     inkscape:window-x=\"0\"\\n     inkscape:window-y=\"0\"\\n     inkscape:window-maximized=\"0\"\\n     inkscape:current-layer=\"g3\" /><g\\n     id=\"g3\"><path\\n       d=\"m 256.76227,220.19006 c -1.77513,-2.69766 -3.45154,-5.24564 -3.98966,-7.46382 -0.042,-0.17861 -0.0911,-0.36128 -0.16237,-0.61436 -2.28354,-7.67647 0.69147,-24.43921 2.46886,-34.45124 0.26788,-1.50394 0.52274,-2.94197 0.75286,-4.29035 0.0232,-0.13675 0.044,-0.27211 0.0724,-0.48006 1.95582,-15.28051 2.58811,-37.91956 -5.51044,-58.99147 -5.6032,-14.57978 -14.45978,-25.82612 -26.3559,-33.48393 1.26598,-9.812938 -4.85967,-19.343691 -14.66682,-22.0511 -9.80715,-2.70741 -19.95724,2.33226 -23.90298,11.405413 -14.1382,0.467533 -27.51111,5.577097 -39.80114,15.219267 -17.76129,13.9298 -28.83431,33.68757 -34.99389,47.80757 l -0.0479,0.11335 c -0.0512,0.12175 -0.0998,0.24114 -0.13249,0.32962 -0.49733,1.28292 -1.01552,2.64514 -1.55689,4.07255 -3.61311,9.51043 -9.66004,25.42824 -15.611995,30.89342 -0.106524,0.10027 -0.208228,0.20187 -0.362362,0.35435 -1.636243,1.66563 -4.382941,2.99463 -7.288979,4.40101 -7.145531,3.45301 -22.013613,10.64166 -17.206389,31.67844 0.929154,4.07105 4.008437,7.29057 8.033861,8.40185 l 167.570804,46.2604 c 4.02253,1.11048 8.31521,-0.0729 11.2052,-3.08958 14.91617,-15.58874 5.84693,-29.38668 1.48625,-36.02133 z\"\\n       id=\"path5\"\\n       inkscape:connector-curvature=\"0\"\\n       vector-effect=\"non-scaling-stroke\"\\n       style=\"fill:'+fillColor+\"; stroke: \"+strokeColor+'; stroke-width: 1; \" /><path\\n       vector-effect=\"non-scaling-stroke\"\\n       d=\"m 174.26737,259.72378 -38.76399,-10.70137 c -1.59243,-0.43962 -3.28183,-0.15596 -4.63548,0.7754 -2.53909,1.7494 -2.84182,4.93159 -3.02304,6.83188 l -0.0151,0.15247 c -1.22819,12.67106 6.79854,24.33046 19.08688,27.72284 12.51583,3.45518 25.8324,-2.91586 30.9681,-14.80385 l 0.0935,-0.19205 c 0.52305,-1.06418 1.74613,-3.55554 0.50882,-6.31116 -0.44302,-0.98439 -1.5794,-2.74529 -4.21964,-3.47416 z\"\\n       id=\"path7\"\\n       inkscape:connector-curvature=\"0\"\\n       style=\"fill:'+fillColor+\"; stroke: \"+strokeColor+'; stroke-width: 1;\" /></g><g\\n     id=\"g17\" /><g\\n     id=\"g19\" /><g\\n     id=\"g21\" /><g\\n     id=\"g23\" /><g\\n     id=\"g25\" /><g\\n     id=\"g27\" /><g\\n     id=\"g29\" /><g\\n     id=\"g31\" /><g\\n     id=\"g33\" /><g\\n     id=\"g35\" /><g\\n     id=\"g37\" /><g\\n     id=\"g39\" /><g\\n     id=\"g41\" /><g\\n     id=\"g43\" /><g\\n     id=\"g45\" /></svg>'}},function(module,exports,__nested_webpack_require_471681__){var result=__nested_webpack_require_471681__(149);module.exports=\"string\"==typeof result?result:result.toString()},function(module,exports,__nested_webpack_require_471827__){(module.exports=__nested_webpack_require_471827__(150)(void 0)).push([module.i,'/* Widget */\\n.pushwoosh-subscribe-widget {\\n  position: fixed;\\n  display: block;\\n  -webkit-transform: translate3d(0, 0, 0);\\n          transform: translate3d(0, 0, 0);\\n}\\n\\n.pushwoosh-subscribe-widget__subscribed {\\n  display: none;\\n}\\n\\n.pushwoosh-subscribe-widget .pushwoosh-subscribe-widget__bell-button {\\n  -webkit-border-radius: 50%;\\n          border-radius: 50%;\\n  cursor: pointer;\\n  font-size: 0;\\n  text-align: center;\\n  -webkit-transform: scale(0.9) translate3d(0, 0, 0);\\n          transform: scale(0.9) translate3d(0, 0, 0);\\n  -webkit-transition: -webkit-transform .3s ease-in-out;\\n  transition: -webkit-transform .3s ease-in-out;\\n  -o-transition: transform .3s ease-in-out;\\n  transition: transform .3s ease-in-out;\\n  transition: transform .3s ease-in-out, -webkit-transform .3s ease-in-out;\\n  position: relative;\\n}\\n\\n.pushwoosh-subscribe-widget .pushwoosh-subscribe-widget__bell-button:hover {\\n  -webkit-transform: scale(1);\\n      -ms-transform: scale(1);\\n          transform: scale(1);\\n}\\n\\n/* Tooltip */\\n.pushwoosh-subscribe-widget__tooltip {\\n  position: absolute;\\n  height: 48px;\\n  max-width: 300px;\\n  min-width: 200px;\\n  padding: 5px 7px;\\n  background-color: #3b444b;\\n  color: #ffffff;\\n  text-align: center;\\n  vertical-align: middle;\\n  -webkit-box-sizing: border-box;\\n          box-sizing: border-box;\\n  line-height: 38px;\\n  font-size: 0;\\n  font-weight: normal;\\n  visibility: hidden;\\n  opacity: 0;\\n  -webkit-transition: visibility 0s ease-in .3s,\\n              opacity .3s ease-in;\\n  -o-transition: visibility 0s ease-in .3s,\\n              opacity .3s ease-in;\\n  transition: visibility 0s ease-in .3s,\\n              opacity .3s ease-in;\\n  top: 50%;\\n  -webkit-transform: translate(0, -50%);\\n      -ms-transform: translate(0, -50%);\\n          transform: translate(0, -50%);\\n  -webkit-box-shadow: 1px 1px 5px 0 rgba(0,0,0,0.5);\\n          box-shadow: 1px 1px 5px 0 rgba(0,0,0,0.5);\\n}\\n\\n.pushwoosh-subscribe-widget__tooltip__right:after,\\n.pushwoosh-subscribe-widget__tooltip__left:after {\\n  content: \"\";\\n  top: 50%;\\n  height: 0;\\n  width: 0;\\n  position: absolute;\\n  pointer-events: none;\\n  border-top: 5px solid transparent;\\n  border-bottom: 5px solid transparent;\\n  background: #3b444b;\\n}\\n\\n.pushwoosh-subscribe-widget__tooltip__right:after {\\n  left: calc(100% - 7px);\\n  border-top: 5px solid #3b444b;\\n  border-left: 5px solid #3b444b;\\n  border-right: 5px solid transparent;\\n  -webkit-box-sizing: border-box;\\n          box-sizing: border-box;\\n  -webkit-transform-origin: 0 0;\\n      -ms-transform-origin: 0 0;\\n          transform-origin: 0 0;\\n  -webkit-transform: rotate(-45deg);\\n      -ms-transform: rotate(-45deg);\\n          transform: rotate(-45deg);\\n  -webkit-box-shadow: 2px 2px 2px 0 rgba(0, 0, 0, 0.25);\\n          box-shadow: 2px 2px 2px 0 rgba(0, 0, 0, 0.25);\\n}\\n\\n.pushwoosh-subscribe-widget__tooltip__left:after {\\n  left: -7px;\\n  border-top: 5px solid #3b444b;\\n  border-right: 5px solid #3b444b;\\n  border-left: 5px solid transparent;\\n  -webkit-box-sizing: border-box;\\n          box-sizing: border-box;\\n  -webkit-transform-origin: 0 0;\\n      -ms-transform-origin: 0 0;\\n          transform-origin: 0 0;\\n  -webkit-transform: rotate(-45deg);\\n      -ms-transform: rotate(-45deg);\\n          transform: rotate(-45deg);\\n  -webkit-box-shadow: -2px -2px 2px 0 rgba(0, 0, 0, 0.25);\\n          box-shadow: -2px -2px 2px 0 rgba(0, 0, 0, 0.25);\\n}\\n\\n.pushwoosh-subscribe-widget__bell-button:hover + .pushwoosh-subscribe-widget__tooltip,\\n.pushwoosh-subscribe-widget__tooltip.pushwoosh-subscribe-widget__tooltip__visible {\\n  display: block;\\n  visibility: visible;\\n  opacity: 1;\\n  -webkit-transition-delay: 0s;\\n       -o-transition-delay: 0s;\\n          transition-delay: 0s;\\n}\\n\\n.pushwoosh-subscribe-widget .pushwoosh-subscribe-widget__tooltip-content {\\n  display: inline-block;\\n  vertical-align: middle;\\n  font-size: 14px;\\n  line-height: 1.4;\\n  white-space: nowrap;\\n  overflow: hidden;\\n  padding-right: 5px;\\n  -o-text-overflow: ellipsis;\\n     text-overflow: ellipsis;\\n  max-width: 100%;\\n}\\n\\n/* Popover */\\n\\n.pushwoosh-subscribe-widget .pushwoosh-subscribe-widget__popover {\\n  position: absolute;\\n  right: auto;\\n  -webkit-box-shadow: 1px 1px 5px 0 rgba(0, 0, 0, 0.5);\\n          box-shadow: 1px 1px 5px 0 rgba(0, 0, 0, 0.5);\\n  -webkit-box-sizing: border-box;\\n          box-sizing: border-box;\\n  background: #9ca8b1;\\n  visibility: hidden;\\n  opacity: 0;\\n  -webkit-transition: visibility 0s ease-in .5s,\\n              opacity .5s ease-in;\\n  -o-transition: visibility 0s ease-in .5s,\\n              opacity .5s ease-in;\\n  transition: visibility 0s ease-in .5s,\\n              opacity .5s ease-in;\\n}\\n\\n.pushwoosh-subscribe-widget .pushwoosh-subscribe-widget__popover__visible {\\n  display: block;\\n  visibility: visible;\\n  opacity: 1;\\n  -webkit-transition-delay: 0s;\\n       -o-transition-delay: 0s;\\n          transition-delay: 0s;\\n}\\n\\n.pushwoosh-subscribe-widget__popover__bottom:after,\\n.pushwoosh-subscribe-widget__popover__top:after {\\n  content: \"\";\\n  height: 0;\\n  width: 0;\\n  position: absolute;\\n  pointer-events: none;\\n  border-right: 8px solid transparent;\\n  border-left: 8px solid #9ca8b1;\\n  background: #9ca8b1;\\n  -webkit-transform-origin: 0 0;\\n      -ms-transform-origin: 0 0;\\n          transform-origin: 0 0;\\n  -webkit-transform: rotate(-45deg);\\n      -ms-transform: rotate(-45deg);\\n          transform: rotate(-45deg);\\n}\\n\\n.pushwoosh-subscribe-widget__popover__bottom:after {\\n  border-bottom: 8px solid #9ca8b1;\\n  border-top: 8px solid transparent;\\n  -webkit-box-sizing: border-box;\\n          box-sizing: border-box;\\n  -webkit-box-shadow: -2px 2px 1px 0 rgba(0, 0, 0, 0.25);\\n          box-shadow: -2px 2px 1px 0 rgba(0, 0, 0, 0.25);\\n  bottom: -16px;\\n}\\n\\n.pushwoosh-subscribe-widget__popover__top:after {\\n  top: 0;\\n  border-top: 8px solid #9ca8b1;\\n  border-bottom: 8px solid transparent;\\n  -webkit-box-sizing: border-box;\\n          box-sizing: border-box;\\n  -webkit-box-shadow: 1px -1px 1px 0 rgba(0, 0, 0, 0.25);\\n          box-shadow: 1px -1px 1px 0 rgba(0, 0, 0, 0.25);\\n}\\n\\n.pushwoosh-subscribe-widget__popover-content-wrapper {\\n  overflow: auto;\\n  max-width: 100%;\\n}\\n\\n\\n.pushwoosh-subscribe-widget .pushwoosh-subscribe-widget__popover-content {\\n  display: -webkit-box;\\n  display: -ms-flexbox;\\n  display: flex;\\n  -webkit-box-orient: vertical;\\n  -webkit-box-direction: normal;\\n      -ms-flex-direction: column;\\n          flex-direction: column;\\n  padding: 14px;\\n  -webkit-box-sizing: border-box;\\n          box-sizing: border-box;\\n  float: left;\\n  min-width: 100%;\\n  -webkit-box-align: center;\\n      -ms-flex-align: center;\\n          align-items: center;\\n}\\n\\n.pushwoosh-subscribe-widget .pushwoosh-subscribe-widget__popover img {\\n  display: block;\\n}\\n\\n.pushwoosh-subscribe-widget .pushwoosh-subscribe-widget__popover img:first-child {\\n  margin-bottom: 14px;\\n}\\n\\n@media (max-width: 767px) and (orientation: portrait) {\\n  .pushwoosh-subscribe-widget .pushwoosh-subscribe-widget__popover-content {\\n    -webkit-box-orient: vertical;\\n    -webkit-box-direction: normal;\\n        -ms-flex-direction: column;\\n            flex-direction: column;\\n  }\\n  .pushwoosh-subscribe-widget .pushwoosh-subscribe-widget__popover img {\\n    max-width: 280px;\\n    height: auto;\\n  }\\n  .pushwoosh-subscribe-widget .pushwoosh-subscribe-widget__popover img:first-child {\\n    margin-right: 0;\\n    margin-bottom: 14px;\\n  }\\n}\\n@media (max-width: 767px) and (orientation: landscape) {\\n  .pushwoosh-subscribe-widget .pushwoosh-subscribe-widget__popover-content {\\n    -webkit-box-orient: horizontal;\\n    -webkit-box-direction: normal;\\n        -ms-flex-direction: row;\\n            flex-direction: row;\\n  }\\n  .pushwoosh-subscribe-widget .pushwoosh-subscribe-widget__popover img {\\n    max-width: 280px;\\n    height: auto;\\n  }\\n  .pushwoosh-subscribe-widget .pushwoosh-subscribe-widget__popover img:first-child {\\n    margin-right: 14px;\\n    margin-bottom: 0;\\n  }\\n}\\n',\"\"])},function(module,exports){module.exports=function(useSourceMap){var list=[];return list.toString=function(){return this.map(function(item){var content=function(item,useSourceMap){var content=item[1]||\"\",cssMapping=item[3];if(!cssMapping)return content;if(useSourceMap&&\"function\"==typeof btoa){var sourceMapping=function(sourceMap){return\"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,\"+btoa(unescape(encodeURIComponent(JSON.stringify(sourceMap))))+\" */\"}(cssMapping),sourceURLs=cssMapping.sources.map(function(source){return\"/*# sourceURL=\"+cssMapping.sourceRoot+source+\" */\"});return[content].concat(sourceURLs).concat([sourceMapping]).join(\"\\n\")}return[content].join(\"\\n\")}(item,useSourceMap);return item[2]?\"@media \"+item[2]+\"{\"+content+\"}\":content}).join(\"\")},list.i=function(modules,mediaQuery){\"string\"==typeof modules&&(modules=[[null,modules,\"\"]]);for(var alreadyImportedModules={},i=0;i<this.length;i++){var id=this[i][0];\"number\"==typeof id&&(alreadyImportedModules[id]=!0)}for(i=0;i<modules.length;i++){var item=modules[i];\"number\"==typeof item[0]&&alreadyImportedModules[item[0]]||(mediaQuery&&!item[2]?item[2]=mediaQuery:mediaQuery&&(item[2]=\"(\"+item[2]+\") and (\"+mediaQuery+\")\"),list.push(item))}},list}},function(module,exports,__nested_webpack_require_481244__){\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:!0});var pwInboxWidget=__nested_webpack_require_481244__(152);document.addEventListener(\"pushwoosh.initialized\",function(ev){ev.detail.pw.pwinbox&&ev.detail.pw.inboxWidgetConfig.enable&&(ev.detail.pw.pwinboxWidget=new pwInboxWidget.PWInboxWidget(ev.detail.pw))})},function(module,exports,__webpack_require__){module.exports=function(modules){var installedModules={};function __nested_webpack_require_481680__(moduleId){if(installedModules[moduleId])return installedModules[moduleId].exports;var module=installedModules[moduleId]={i:moduleId,l:!1,exports:{}};return modules[moduleId].call(module.exports,module,module.exports,__nested_webpack_require_481680__),module.l=!0,module.exports}return __nested_webpack_require_481680__.m=modules,__nested_webpack_require_481680__.c=installedModules,__nested_webpack_require_481680__.d=function(exports,name,getter){__nested_webpack_require_481680__.o(exports,name)||Object.defineProperty(exports,name,{configurable:!1,enumerable:!0,get:getter})},__nested_webpack_require_481680__.r=function(exports){Object.defineProperty(exports,\"__esModule\",{value:!0})},__nested_webpack_require_481680__.n=function(module){var getter=module&&module.__esModule?function(){return module.default}:function(){return module};return __nested_webpack_require_481680__.d(getter,\"a\",getter),getter},__nested_webpack_require_481680__.o=function(object,property){return Object.prototype.hasOwnProperty.call(object,property)},__nested_webpack_require_481680__.p=\"\",__nested_webpack_require_481680__(__nested_webpack_require_481680__.s=2)}([function(module,exports,__nested_webpack_require_482712__){\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:!0});var constants_1=__nested_webpack_require_482712__(1);exports.isElementFixed=function isElementFixed(element){var isFixed=\"fixed\"===window.getComputedStyle(element).position;return!isFixed&&element.parentElement&&(isFixed=isElementFixed(element.parentElement)),isFixed},exports.getGlobal=function(){return Function(\"return this\")()},exports.getMessageTime=function(date){var localDate=new Date(date),localTime=localDate.getHours()+localDate.getTimezoneOffset()/60;localDate.setHours(localTime);var gap=(new Date).getTime()-localDate.getTime();return gap<=6e4?\"Just now\":gap<constants_1.MILLISECONDS_IN_HOUR&&gap>0?Math.floor(gap/6e4)+\" minutes ago\":gap<constants_1.MILLISECONDS_IN_DAY&&gap>0?Math.floor(gap/36e5)+\" hours ago\":localDate.getDate()+\" \"+constants_1.MONTHS[localDate.getMonth()]+\" \"+localDate.getFullYear()+\", \"+localDate.getHours()+\":\"+(\"0\"+localDate.getMinutes().toString()).slice(-2)},exports.getValidColor=function(color){return\"transparent\"===color?color:constants_1.COLOR_TEST_REGEXP.test(color)?color:\"#333\"},exports.compareBySendDate=function(dateOne,dateTwo){var localDateOne=new Date(dateOne),localTimeOne=localDateOne.getHours()+localDateOne.getTimezoneOffset()/60,localDateTwo=new Date(dateTwo),localTimeTwo=localDateTwo.getHours()+localDateTwo.getTimezoneOffset()/60;return localDateOne.setHours(localTimeOne),localDateTwo.setHours(localTimeTwo),localDateTwo.getTime()-localDateOne.getTime()}},function(module,exports,__webpack_require__){\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:!0}),exports.MILLISECONDS_IN_DAY=864e5,exports.MILLISECONDS_IN_HOUR=36e5,exports.MONTHS=[\"Jan\",\"Feb\",\"Mar\",\"Apr\",\"May\",\"June\",\"July\",\"Aug\",\"Sept\",\"Oct\",\"Nov\",\"Dec\"],exports.CONFIG_STYLES=[{name:\"widgetWidth\",type:\"size\"},{name:\"borderRadius\",type:\"size\"},{name:\"zIndex\",type:\"number\"},{name:\"fontFamily\",type:\"string\"},{name:\"bgColor\",type:\"color\"},{name:\"textColor\",type:\"color\"},{name:\"arrowBorderColor\",type:\"color\"},{name:\"borderColor\",type:\"color\"},{name:\"badgeBgColor\",type:\"color\"},{name:\"badgeTextColor\",type:\"color\"},{name:\"timeTextColor\",type:\"color\"},{name:\"messageTitleColor\",type:\"color\"},{name:\"emptyInboxTitleColor\",type:\"color\"},{name:\"emptyInboxTextColor\",type:\"color\"}],exports.DEFAULT_CONFIG={enable:!1,triggerId:\"pwInbox\",position:\"bottom\",appendTo:\"body\",title:\"Inbox\",bgColor:\"#ffffff\",textColor:\"#333333\",fontFamily:\"inherit\",borderRadius:4,borderColor:\"transparent\",badgeBgColor:\"#ff4c00\",badgeTextColor:\"#ffffff\",widgetWidth:350,zIndex:100,messageTitleColor:\"#7a7a7a\",timeTextColor:\"#c4c4c4\",emptyInboxTitle:\"You're all caught up\",emptyInboxTitleColor:\"#333333\",emptyInboxText:\"There are no new messages. Stay tuned!\",emptyInboxTextColor:\"#7a7a7a\",emptyInboxIconUrl:\"https://pushon.pushwoosh.com/images/icon-empty-inbox.png\",arrowBorderColor:\"rgba(0,0,0,.1)\"},exports.COLOR_TEST_REGEXP=/^(#([\\da-f]{3}){1,2}$|(rgb|hsl)a\\((\\d{1,3}%?,\\s?){3}(1|0?\\.\\d+)\\)$|(rgb|hsl)\\(\\d{1,3}%?(,\\s?\\d{1,3}%?){2}\\)$)/},function(module,exports,__nested_webpack_require_485761__){\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:!0});var InboxWidget_1=__nested_webpack_require_485761__(3);exports.PWInboxWidget=InboxWidget_1.default},function(module,exports,__nested_webpack_require_485960__){\"use strict\";var __assign=this&&this.__assign||Object.assign||function(t){for(var s,i=1,n=arguments.length;i<n;i++)for(var p in s=arguments[i])Object.prototype.hasOwnProperty.call(s,p)&&(t[p]=s[p]);return t};Object.defineProperty(exports,\"__esModule\",{value:!0});var widgetTemplates_1=__nested_webpack_require_485960__(4),constants_1=__nested_webpack_require_485960__(1),helpers_1=__nested_webpack_require_485960__(0),InboxWidget=function(){function InboxWidget(pw){this.pw=pw,this.config=__assign({},constants_1.DEFAULT_CONFIG,{arrowBorderColor:this.pw.inboxWidgetConfig.borderColor&&\"transparent\"!==this.pw.inboxWidgetConfig.borderColor?this.pw.inboxWidgetConfig.borderColor:\"rgba(0,0,0,.1)\"},this.pw.inboxWidgetConfig),this.updateInbox=this.updateInbox.bind(this),this.markVisibleItemsAsRead=this.markVisibleItemsAsRead.bind(this),this.onWidgetClickHandler=this.onWidgetClickHandler.bind(this),this.onTriggerClickHandler=this.onTriggerClickHandler.bind(this),this.onWindowScrollHandler=this.onWindowScrollHandler.bind(this),this.toggle=this.toggle.bind(this);try{this.initTrigger(),this.updateInbox(),this.addListeners()}catch(err){console.warn(err)}}return InboxWidget.prototype.toggle=function(isOpened){(void 0===isOpened?!this.isOpened:isOpened)?this.openWidget():this.closeWidget()},InboxWidget.prototype.initTrigger=function(){if(!this.pw.pwinbox)throw new Error(\"Web inbox is not allowed.\");var trigger=document.getElementById(this.config.triggerId);if(!trigger)throw new Error(\"Inbox trigger element doesn't exist. You must set triggerId in inboxWidget config. See the documentation.\");this.trigger=trigger,this.trigger.classList.add(\"pw-inbox-trigger\"),this.defaultMargin=12,this.messagesElements={},this.messages=[],this.readItems=[],this.updateCounter(0),this.isOpened=!1,this.renderWidget(),this.isFixed=helpers_1.isElementFixed(this.trigger)},InboxWidget.prototype.renderWidget=function(){this.widget=document.createElement(\"div\"),this.widget.id=\"pwInboxWidget\",this.widget.className=\"pw-inbox-widget\",this.widget.classList.toggle(\"pw-open\",this.isOpened),this.widgetParent=document.querySelector(this.config.appendTo)||document.body,this.widgetParent.appendChild(this.widget),this.widgetParent.appendChild(this.getStyle()),this.renderWidgetInner()},InboxWidget.prototype.getStyle=function(){var styles=__nested_webpack_require_485960__(5),styleNode=document.createElement(\"style\");return styleNode.innerHTML=this.configureStyle(styles),styleNode},InboxWidget.prototype.configureStyle=function(styles){var _this=this,resultStyles=styles.toString();return constants_1.CONFIG_STYLES.forEach(function(style){var template=new RegExp(\"var\\\\(--\"+style.name+\"\\\\)\",\"ig\"),result=_this.getStyleFormatter(style);resultStyles=resultStyles.replace(template,result)}),resultStyles},InboxWidget.prototype.getStyleFormatter=function(style){switch(style.type){case\"size\":return(this.config[style.name]||0)+\"px\";case\"number\":return parseFloat(this.config[style.name].toString()).toString();case\"string\":return this.config[style.name].toString();case\"color\":return helpers_1.getValidColor(this.config[style.name].toString());default:return\"none\"}},InboxWidget.prototype.renderWidgetInner=function(){if(this.messages.length>0)this.widget.classList.remove(\"pw-inbox-widget--empty\"),this.widget.innerHTML=widgetTemplates_1.widgetTemplate(this.config.title),this.renderMessages();else{this.widget.classList.add(\"pw-inbox-widget--empty\");var _a=this.config,emptyInboxTitle=_a.emptyInboxTitle,emptyInboxText=_a.emptyInboxText,emptyInboxIconUrl=_a.emptyInboxIconUrl;this.widget.innerHTML=widgetTemplates_1.widgetTemplateEmpty(emptyInboxIconUrl,emptyInboxTitle,emptyInboxText)}},InboxWidget.prototype.renderMessages=function(){var _this=this;this.list=this.widget.querySelector(\".pw-inbox_list\")||document.createElement(\"ul\"),this.messages.forEach(function(message){var messageElement=document.createElement(\"li\");messageElement.className=\"pw-inbox_item\",messageElement.classList.toggle(\"pw-new\",!message.isRead),messageElement.classList.toggle(\"pw-unread\",!message.isActionPerformed),messageElement.setAttribute(\"data-pw-inbox-message-id\",message.code),messageElement.innerHTML=widgetTemplates_1.messageTemplate(message),_this.list.appendChild(messageElement),_this.messagesElements[message.code]=messageElement})},InboxWidget.prototype.updateCounter=function(count){this.count=count,this.trigger.setAttribute(\"data-pw-count\",\"\"+this.count),this.trigger.classList.toggle(\"pw-empty\",0===this.count)},InboxWidget.prototype.updateInboxMessages=function(messages){this.messages=messages.sort(function(_a,_b){var sendDateOne=_a.sendDate,sendDateTwo=_b.sendDate;return helpers_1.compareBySendDate(sendDateOne,sendDateTwo)}),this.renderWidgetInner()},InboxWidget.prototype.openWidget=function(){this.isOpened=!0,this.widget.classList.add(\"pw-open\"),document.addEventListener(\"click\",this.onWidgetClickHandler),window.addEventListener(\"scroll\",this.onWindowScrollHandler),window.addEventListener(\"resize\",this.onWindowScrollHandler),this.markVisibleItemsAsRead(),this.messages.length>0&&this.list.addEventListener(\"scroll\",this.markVisibleItemsAsRead),this.positionWidget()},InboxWidget.prototype.closeWidget=function(){this.isOpened=!1,document.removeEventListener(\"click\",this.onWidgetClickHandler),document.removeEventListener(\"click\",this.onWindowScrollHandler),window.removeEventListener(\"resize\",this.onWindowScrollHandler),this.updateReadStatus(),this.messages.length>0&&this.list.removeEventListener(\"scroll\",this.markVisibleItemsAsRead),this.widget.classList.remove(\"pw-open\",\"pw-top\",\"pw-bottom\",\"pw-right\",\"pw-left\"),this.widget.removeAttribute(\"style\")},InboxWidget.prototype.positionWidget=function(){this.isOpened&&(this.widgetParent===document.body?this.defaultPlaceWidget():this.customPlaceWidget())},InboxWidget.prototype.customPlaceWidget=function(){var position=this.config.position;this.widgetParent.style.position=\"relative\",this.widget.classList.add(\"pw-inbox-widget--inset\"),this.widget.classList.add(\"pw-\"+position)},InboxWidget.prototype.defaultPlaceWidget=function(){var position=this.pw.inboxWidgetConfig.position?this.config.position:this.getDefaultPosition(),widgetRect=this.widget.getBoundingClientRect();if(document.documentElement){var windowWidth=Math.max(document.documentElement.clientWidth,window.innerWidth||0),windowHeight=Math.max(document.documentElement.clientHeight,window.innerHeight||0);switch(widgetRect.width+2*this.defaultMargin>windowWidth&&(this.widget.style.width=windowWidth-2*this.defaultMargin+\"px\"),widgetRect.height+24>windowHeight&&(this.widget.style.height=windowHeight-2*this.defaultMargin+\"px\"),position){case\"top\":this.alignWidgetTop();break;case\"right\":this.alignWidgetRight();break;case\"left\":this.alignWidgetLeft();break;case\"bottom\":this.alignWidgetBottom()}}},InboxWidget.prototype.alignWidgetTop=function(){var triggerRect=this.trigger.getBoundingClientRect(),widgetRect=this.widget.getBoundingClientRect();if(document.documentElement){var windowWidth=Math.max(document.documentElement.clientWidth,window.innerWidth||0),arrow=this.widget.querySelector(\".pw-inbox__arrow\")||document.createElement(\"div\");this.widget.classList.add(\"pw-top\");var left=pageXOffset+triggerRect.left+Math.floor(triggerRect.width/2)-Math.floor(widgetRect.width/2),isUnderLeft=left<pageXOffset,isUnderRight=left+widgetRect.width>pageXOffset+windowWidth;isUnderLeft&&(left=pageXOffset+this.defaultMargin),isUnderRight&&(left=pageXOffset+windowWidth-widgetRect.width-this.defaultMargin);var top=pageYOffset+triggerRect.top-widgetRect.height;this.alignWidgetElement(left,top),arrow.style.left=triggerRect.left+Math.floor(triggerRect.width/2)-left+\"px\";var topMargin=this.widget.getBoundingClientRect().top;if(topMargin<0){var newHeight=this.widget.getBoundingClientRect().height+topMargin-this.defaultMargin,newTop=this.widget.getBoundingClientRect().top-topMargin+this.defaultMargin;this.widget.style.height=newHeight+\"px\",this.widget.style.top=newTop+\"px\"}}},InboxWidget.prototype.alignWidgetRight=function(){var triggerRect=this.trigger.getBoundingClientRect(),widgetRect=this.widget.getBoundingClientRect();if(document.documentElement){var windowWidth=Math.max(document.documentElement.clientWidth,window.innerWidth||0),windowHeight=Math.max(document.documentElement.clientHeight,window.innerHeight||0),arrow=this.widget.querySelector(\".pw-inbox__arrow\")||document.createElement(\"div\");this.widget.classList.add(\"pw-right\");var top=pageYOffset+triggerRect.top+Math.floor(triggerRect.height/2)-Math.floor(widgetRect.height/2),isUnderTop=top<pageYOffset,isUnderBottom=pageYOffset+windowHeight<top+widgetRect.height;isUnderTop&&(top=pageYOffset+this.defaultMargin),isUnderBottom&&(top=pageYOffset+windowHeight-widgetRect.height-this.defaultMargin);var left=pageXOffset+triggerRect.left+triggerRect.width;this.alignWidgetElement(left,top),arrow.style.top=triggerRect.top+Math.floor(triggerRect.height/2)-top+\"px\";var rightMargin=windowWidth-this.widget.getBoundingClientRect().right;if(rightMargin<this.defaultMargin){var newWidth=this.widget.getBoundingClientRect().width+rightMargin-this.defaultMargin;this.widget.style.width=newWidth+\"px\"}}},InboxWidget.prototype.alignWidgetLeft=function(){var triggerRect=this.trigger.getBoundingClientRect(),widgetRect=this.widget.getBoundingClientRect();if(document.documentElement){var windowHeight=Math.max(document.documentElement.clientHeight,window.innerHeight||0),arrow=this.widget.querySelector(\".pw-inbox__arrow\")||document.createElement(\"div\");this.widget.classList.add(\"pw-left\");var top=pageYOffset+triggerRect.top+Math.floor(triggerRect.height/2)-Math.floor(widgetRect.height/2),isUnderTop=top<pageYOffset,isUnderBottom=pageYOffset+windowHeight<top+widgetRect.height;isUnderTop&&(top=pageYOffset+this.defaultMargin),isUnderBottom&&(top=pageYOffset+windowHeight-widgetRect.height-this.defaultMargin);var left=pageXOffset+triggerRect.left-widgetRect.width;this.alignWidgetElement(left,top),arrow.style.top=triggerRect.top+Math.floor(triggerRect.height/2)-top+\"px\";var leftMargin=this.widget.getBoundingClientRect().left;if(leftMargin<0){var newWidth=this.widget.getBoundingClientRect().width+leftMargin-this.defaultMargin,newLeft=this.widget.getBoundingClientRect().left-leftMargin;this.widget.style.width=newWidth+\"px\",this.widget.style.left=newLeft+\"px\"}}},InboxWidget.prototype.alignWidgetBottom=function(){var triggerRect=this.trigger.getBoundingClientRect(),widgetRect=this.widget.getBoundingClientRect();if(document.documentElement){var windowWidth=Math.max(document.documentElement.clientWidth,window.innerWidth||0),windowHeight=Math.max(document.documentElement.clientHeight,window.innerHeight||0),arrow=this.widget.querySelector(\".pw-inbox__arrow\")||document.createElement(\"div\");this.widget.classList.add(\"pw-bottom\");var left=pageXOffset+triggerRect.left+Math.floor(triggerRect.width/2)-Math.floor(widgetRect.width/2),isUnderLeft=left<pageXOffset,isUnderRight=left+widgetRect.width>pageXOffset+windowWidth;isUnderLeft&&(left=pageXOffset+this.defaultMargin),isUnderRight&&(left=pageXOffset+windowWidth-widgetRect.width-12);var top=pageYOffset+triggerRect.top+triggerRect.height;this.alignWidgetElement(left,top),arrow.style.left=triggerRect.left+Math.floor(triggerRect.width/2)-left+\"px\";var bottomRange=windowHeight-this.widget.getBoundingClientRect().bottom;if(bottomRange<this.defaultMargin){var newHeight=this.widget.getBoundingClientRect().height+bottomRange-this.defaultMargin;this.widget.style.height=newHeight+\"px\"}}},InboxWidget.prototype.alignWidgetElement=function(left,top){this.widget.style.left=left+\"px\",this.widget.style.top=top+\"px\"},InboxWidget.prototype.getDefaultPosition=function(){var _a=this.trigger.getBoundingClientRect(),left=_a.left,top=_a.top,width=_a.width,height=_a.height;if(!document.documentElement)return\"\";var antiMargins={right:left,bottom:top,left:Math.max(document.documentElement.clientWidth,window.innerWidth||0)-(left+width),top:Math.max(document.documentElement.clientHeight,window.innerHeight||0)-(top+height)},leastMargin=Math.min(left,top,antiMargins.left,antiMargins.top),position=\"bottom\";return Object.keys(antiMargins).forEach(function(key){antiMargins[key]===leastMargin&&(position=key)}),position},InboxWidget.prototype.addListeners=function(){var _this=this;this.trigger.addEventListener(\"click\",this.onTriggerClickHandler),this.pw.push([\"onPutNewMessageToInboxStore\",function(){_this.updateInbox()}]),this.pw.push([\"onUpdateInboxMessages\",function(){_this.updateInbox()}])},InboxWidget.prototype.markVisibleItemsAsRead=function(){var _this=this;if(0!==this.messages.length){var scrollTop=this.list.clientHeight+this.list.scrollTop-50;Object.keys(this.messagesElements).forEach(function(code){if(_this.messagesElements[code]&&!(_this.messagesElements[code].offsetTop>scrollTop)){var message=_this.messages.find(function(message){return message.code===code});!message||message.isRead||_this.readItems.indexOf(code)+1||_this.readItems.push(code)}})}},InboxWidget.prototype.updateReadStatus=function(){this.pw.pwinbox.readMessagesWithCodes(this.readItems).then(this.updateInbox)},InboxWidget.prototype.updateInbox=function(){var _this=this;this.pw.pwinbox.loadMessages().then(function(messages){_this.updateInboxMessages(messages)}),this.pw.pwinbox.unreadMessagesCount().then(function(count){_this.updateCounter(count)})},InboxWidget.prototype.performMessageAction=function(code){var _this=this;this.pw.pwinbox.performActionForMessageWithCode(code).then(function(){_this.updateInbox()})},InboxWidget.prototype.removeMessages=function(messages){var _this=this;messages.forEach(function(code){_this.readItems=_this.readItems.slice(_this.readItems.indexOf(code),1)}),this.pw.pwinbox.deleteMessagesWithCodes(messages).then(function(){_this.updateInbox()})},InboxWidget.prototype.onTriggerClickHandler=function(event){event.stopPropagation(),event.target&&this.toggle()},InboxWidget.prototype.onWidgetClickHandler=function(event){if(event.target){var itemElement=event.target.closest(\".pw-inbox_item\");if(itemElement){var messageCode=itemElement.getAttribute(\"data-pw-inbox-message-id\");messageCode&&(event.target.closest(\".pw-inbox_item-remove\")?this.removeMessages([messageCode]):this.performMessageAction(messageCode))}else this.toggle()}},InboxWidget.prototype.onWindowScrollHandler=function(){this.isFixed&&this.isOpened?this.toggle():this.positionWidget()},InboxWidget}();exports.default=InboxWidget},function(module,exports,__nested_webpack_require_500380__){\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:!0});var helpers_1=__nested_webpack_require_500380__(0);exports.widgetTemplate=function(title){return'\\n<div class=\"pw-inbox__arrow\"></div>\\n<div class=\"pw-inbox_inner\">\\n    <div class=\"pw-inbox_title\">\\n      '+title+'\\n    </div>\\n    <ul class=\"pw-inbox_list\">\\n    \\n    </ul>\\n</div>'},exports.widgetTemplateEmpty=function(emptyInboxIconUrl,emptyInboxTitle,emptyInboxText){return'\\n<div class=\"pw-inbox__arrow\"></div>\\n<div class=\"pw-inbox_list--empty\">\\n    <div class=\"pw-inbox_list-icon\">\\n      <img src=\"'+emptyInboxIconUrl+'\" alt=\"'+emptyInboxTitle+'\">\\n    </div>\\n    <div class=\"pw-inbox_list-title\">\\n      '+emptyInboxTitle+'\\n    </div>\\n    <div class=\"ipw-inbox_list-body\">\\n      '+emptyInboxText+\"\\n    </div>\\n</div>\"},exports.messageTemplate=function(_a){var imageUrl=_a.imageUrl,title=_a.title,message=_a.message,sendDate=_a.sendDate;return'\\n<div class=\"pw-inbox_item-inner\">\\n  <div class=\"pw-inbox_icon\">\\n    <img src=\"'+imageUrl+'\" alt=\"'+(title||message)+'\" class=\"pw-inbox_message-image\">\\n  </div>\\n  <div class=\"pw-inbox_content\">\\n    '+(title?'<div class=\"pw-inbox_item-title\">\\n      '+title+\"\\n    </div>\":null)+'\\n    <div class=\"pw-inbox_item-body\">\\n      '+message+'\\n    </div>\\n    <div class=\"pw-inbox_item-time\">\\n      '+helpers_1.getMessageTime(sendDate)+'\\n    </div>\\n  </div>\\n</div>\\n<span class=\"pw-inbox_item-remove\"></span>'}},function(module,exports,__nested_webpack_require_501856__){var result=__nested_webpack_require_501856__(6);module.exports=\"string\"==typeof result?result:result.toString()},function(module,exports,__nested_webpack_require_502000__){(module.exports=__nested_webpack_require_502000__(7)(void 0)).push([module.i,\".pw-inbox-trigger {\\n  position: relative;\\n  cursor: pointer;\\n}\\n\\n.pw-inbox-trigger:after {\\n  content: attr(data-pw-count);\\n  display: block;\\n  position: absolute;\\n  right: 0;\\n  top: 0;\\n  background: var(--badgeBgColor);\\n  -webkit-border-radius: 8px;\\n          border-radius: 8px;\\n  color: var(--badgeTextColor);\\n  font-size: 10px;\\n  font-weight: normal;\\n  line-height: 16px;\\n  width: 16px;\\n  padding: 0 2px;\\n  -webkit-box-sizing: border-box;\\n          box-sizing: border-box;\\n  text-align: center;\\n}\\n\\n.pw-inbox-trigger.pw-empty:after {\\n  display: none;\\n}\\n\\n.pw-inbox-widget * {\\n  position: static;\\n  -webkit-box-sizing: border-box;\\n          box-sizing: border-box;\\n  font-size: 1em;\\n  outline: none;\\n  font-family: var(--fontFamily);\\n}\\n.pw-inbox-widget {\\n  font-size: 14px;\\n  position: absolute;\\n  top: 0;\\n  left: -1000px;\\n  background: var(--bgColor);\\n  border: solid 1px var(--borderColor);\\n  -webkit-border-radius: var(--borderRadius);\\n          border-radius: var(--borderRadius);\\n  width: var(--widgetWidth);\\n  -webkit-box-shadow: 0 1px 4px 0 rgba(0,0,0,.25);\\n          box-shadow: 0 1px 4px 0 rgba(0,0,0,.25);\\n  z-index: var(--zIndex);\\n  opacity: 0;\\n  -webkit-transition: opacity .6s ease;\\n  -o-transition: opacity .6s ease;\\n  transition: opacity .6s ease;\\n  -webkit-transition-delay: 100ms;\\n       -o-transition-delay: 100ms;\\n          transition-delay: 100ms;\\n}\\n.pw-inbox-widget.pw-open {\\n  opacity: 1;\\n  -webkit-transition-delay: 0ms;\\n       -o-transition-delay: 0ms;\\n          transition-delay: 0ms;\\n}\\n.pw-inbox-widget.pw-inbox-widget--inset {\\n  top: auto;\\n  left: auto;\\n  display: none;\\n}\\n.pw-inbox-widget.pw-inbox-widget--inset.pw-open {\\n  display: block;\\n}\\n.pw-inbox-widget.pw-inbox-widget--inset.pw-bottom {\\n  top: 100%;\\n  left: 50%;\\n  -webkit-transform: translateX(-50%);\\n      -ms-transform: translateX(-50%);\\n          transform: translateX(-50%);\\n}\\n.pw-inbox-widget.pw-inbox-widget--inset.pw-top {\\n  bottom: 100%;\\n  left: 50%;\\n  -webkit-transform: translateX(-50%);\\n      -ms-transform: translateX(-50%);\\n          transform: translateX(-50%);\\n}\\n.pw-inbox-widget.pw-inbox-widget--inset.pw-right {\\n  left: 100%;\\n  top: 50%;\\n  -webkit-transform: translateY(-50%);\\n      -ms-transform: translateY(-50%);\\n          transform: translateY(-50%);\\n}\\n.pw-inbox-widget.pw-inbox-widget--inset.pw-left {\\n  right: 100%;\\n  top: 50%;\\n  -webkit-transform: translateY(-50%);\\n      -ms-transform: translateY(-50%);\\n          transform: translateY(-50%);\\n}\\n.pw-inbox-widget.pw-inbox-widget--empty {\\n  max-height: none;\\n}\\n.pw-inbox-widget .pw-inbox__arrow {\\n  display: block;\\n  width: 0;\\n  height: 0;\\n  border-width: 10px;\\n  border-style: solid;\\n  border-color: transparent;\\n  position: absolute;\\n}\\n.pw-inbox-widget .pw-inbox__arrow:before {\\n  content: \\\"\\\";\\n  display: block;\\n  width: 0;\\n  height: 0;\\n  border-width: 10px;\\n  border-style: solid;\\n  border-color: transparent;\\n  position: absolute;\\n}\\n.pw-inbox-widget.pw-top {\\n  margin-top: -12px;\\n}\\n.pw-inbox-widget.pw-top .pw-inbox__arrow {\\n  border-top-color: var(--arrowBorderColor);\\n  bottom: -21px;\\n  left: 50%;\\n  -webkit-transform: translateX(-50%);\\n      -ms-transform: translateX(-50%);\\n          transform: translateX(-50%);\\n}\\n.pw-inbox-widget.pw-top .pw-inbox__arrow:before {\\n  border-top-color: var(--bgColor);\\n  top: -11px;\\n  left: -10px;\\n}\\n.pw-inbox-widget.pw-bottom {\\n  margin-top: 12px;\\n}\\n.pw-inbox-widget.pw-bottom .pw-inbox__arrow {\\n  border-bottom-color: var(--arrowBorderColor);\\n  top: -21px;\\n  left: 50%;\\n  -webkit-transform: translateX(-50%);\\n      -ms-transform: translateX(-50%);\\n          transform: translateX(-50%);\\n}\\n.pw-inbox-widget.pw-bottom .pw-inbox__arrow:before {\\n  border-bottom-color: var(--bgColor);\\n  bottom: -11px;\\n  left: -10px;\\n}\\n.pw-inbox-widget.pw-left {\\n  margin-left: -12px;\\n}\\n.pw-inbox-widget.pw-left .pw-inbox__arrow {\\n  border-left-color: var(--arrowBorderColor);\\n  right: -21px;\\n  top: 50%;\\n  -webkit-transform: translateY(-50%);\\n      -ms-transform: translateY(-50%);\\n          transform: translateY(-50%);\\n}\\n.pw-inbox-widget.pw-left .pw-inbox__arrow:before {\\n  border-left-color: var(--bgColor);\\n  left: -11px;\\n  top: -10px;\\n}\\n.pw-inbox-widget.pw-right {\\n  margin-left: 12px;\\n}\\n.pw-inbox-widget.pw-right .pw-inbox__arrow {\\n  border-right-color: var(--arrowBorderColor);\\n  left: -21px;\\n  top: 50%;\\n  -webkit-transform: translateY(-50%);\\n      -ms-transform: translateY(-50%);\\n          transform: translateY(-50%);\\n}\\n.pw-inbox-widget.pw-right .pw-inbox__arrow:before {\\n  border-right-color: var(--bgColor);\\n  right: -11px;\\n  top: -10px;\\n}\\n.pw-inbox_inner {\\n  overflow: hidden;\\n  display: -webkit-box;\\n  display: -ms-flexbox;\\n  display: flex;\\n  -webkit-box-orient: vertical;\\n  -webkit-box-direction: normal;\\n      -ms-flex-direction: column;\\n          flex-direction: column;\\n  height: 100%;\\n}\\n.pw-inbox_title {\\n  color: var(--textColor);\\n  margin: 0;\\n  padding: 28px 32px 12px;\\n  font-size: 24px;\\n  font-weight: 500;\\n  line-height: 1.1;\\n  text-align: left;\\n  -webkit-box-flex: 0;\\n      -ms-flex: 0 0 66px;\\n          flex: 0 0 66px;\\n}\\n.pw-inbox_list {\\n  overflow-x: hidden;\\n  overflow-y: auto;\\n  min-width: 200px;\\n  max-height: 300px;\\n  padding: 0;\\n  margin: 0;\\n  list-style: none;\\n  position: relative;\\n  -webkit-box-flex: 1;\\n      -ms-flex: 1 1 auto;\\n          flex: 1 1 auto;\\n}\\n\\n.pw-inbox_item {\\n  position: relative;\\n  padding: 8px 32px;\\n  margin: 0;\\n  text-align: left;\\n}\\n.pw-inbox_item-inner {\\n  display: -webkit-box;\\n  display: -ms-flexbox;\\n  display: flex;\\n  cursor: pointer;\\n}\\n.pw-inbox_icon {\\n  -webkit-box-flex: 0;\\n      -ms-flex: 0 0 40px;\\n          flex: 0 0 40px;\\n}\\n.pw-inbox_message-image {\\n  width: 28px;\\n}\\n.pw-inbox_content {\\n  -webkit-box-flex: 0;\\n      -ms-flex: 0 1 100%;\\n          flex: 0 1 100%;\\n}\\n.pw-inbox_item-title {\\n  color: var(--messageTitleColor);\\n  font-size: 14px;\\n  line-height: 20px;\\n  margin-bottom: 4px;\\n}\\n.pw-inbox_item-body {\\n  color: var(--textColor);\\n  font-size: 14px;\\n  line-height: 20px;\\n  margin-bottom: 4px;\\n}\\n.pw-inbox_item-time {\\n  color: var(--timeTextColor);\\n  font-size: 12px;\\n  line-height: 17px;\\n}\\n.pw-inbox_item-remove {\\n  position: absolute;\\n  z-index: 2;\\n  top: 8px;\\n  right: 8px;\\n  display: none;\\n  width: 10px;\\n  height: 10px;\\n  background: transparent url('https://cdn.pushwoosh.com/webpush/img/iconClose.svg') 50% no-repeat;\\n  cursor: pointer;\\n}\\n.pw-inbox_item:hover .pw-inbox_item-remove {\\n  display: block;\\n}\\n\\n.pw-inbox_item.pw-new .pw-inbox_item-title {\\n  color: var(--textColor);\\n  font-weight: 700;\\n}\\n\\n.pw-inbox_item.pw-new .pw-inbox_item-body {\\n  font-weight: 700;\\n}\\n\\n.pw-inbox_list--empty {\\n  padding: 50px 16px;\\n  text-align: center;\\n  max-height: 100%;\\n  overflow: auto;\\n}\\n\\n.pw-inbox_list--empty .pw-inbox_list-icon {\\n  text-align: center;\\n  margin-bottom: 30px;\\n}\\n.pw-inbox_list--empty .pw-inbox_list-icon img {\\n  max-width: 100%;\\n}\\n\\n.pw-inbox_list--empty .pw-inbox_list-title {\\n  font-size: 28px;\\n  line-height: 36px;\\n  color: var(--emptyInboxTitleColor);\\n  margin-bottom: 20px;\\n}\\n\\n.pw-inbox_list--empty .ipw-inbox_list-body {\\n  font-size: 14px;\\n  line-height: 18px;\\n  color: var(--emptyInboxTextColor);\\n}\\n\",\"\"])},function(module,exports){module.exports=function(useSourceMap){var list=[];return list.toString=function(){return this.map(function(item){var content=function(item,useSourceMap){var content=item[1]||\"\",cssMapping=item[3];if(!cssMapping)return content;if(useSourceMap&&\"function\"==typeof btoa){var sourceMapping=function(sourceMap){return\"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,\"+btoa(unescape(encodeURIComponent(JSON.stringify(sourceMap))))+\" */\"}(cssMapping),sourceURLs=cssMapping.sources.map(function(source){return\"/*# sourceURL=\"+cssMapping.sourceRoot+source+\" */\"});return[content].concat(sourceURLs).concat([sourceMapping]).join(\"\\n\")}return[content].join(\"\\n\")}(item,useSourceMap);return item[2]?\"@media \"+item[2]+\"{\"+content+\"}\":content}).join(\"\")},list.i=function(modules,mediaQuery){\"string\"==typeof modules&&(modules=[[null,modules,\"\"]]);for(var alreadyImportedModules={},i=0;i<this.length;i++){var id=this[i][0];\"number\"==typeof id&&(alreadyImportedModules[id]=!0)}for(i=0;i<modules.length;i++){var item=modules[i];\"number\"==typeof item[0]&&alreadyImportedModules[item[0]]||(mediaQuery&&!item[2]?item[2]=mediaQuery:mediaQuery&&(item[2]=\"(\"+item[2]+\") and (\"+mediaQuery+\")\"),list.push(item))}},list}}])},function(module,exports,__nested_webpack_require_510744__){\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:!0});var web_push_subscribe_popup_1=__nested_webpack_require_510744__(154);document.addEventListener(\"pushwoosh.initialized\",function(ev){if(ev.detail.pw.subscribePopupConfig&&ev.detail.pw.subscribePopupConfig.enable){var popup_1=new web_push_subscribe_popup_1.PWSubscribePopup(ev.detail.pw);popup_1.initPopup().then(function(){ev.detail.pw.subscribePopup=popup_1})}})},function(module,exports,__webpack_require__){module.exports=function(modules){var installedModules={};function __nested_webpack_require_511286__(moduleId){if(installedModules[moduleId])return installedModules[moduleId].exports;var module=installedModules[moduleId]={i:moduleId,l:!1,exports:{}};return modules[moduleId].call(module.exports,module,module.exports,__nested_webpack_require_511286__),module.l=!0,module.exports}return __nested_webpack_require_511286__.m=modules,__nested_webpack_require_511286__.c=installedModules,__nested_webpack_require_511286__.d=function(exports,name,getter){__nested_webpack_require_511286__.o(exports,name)||Object.defineProperty(exports,name,{configurable:!1,enumerable:!0,get:getter})},__nested_webpack_require_511286__.r=function(exports){Object.defineProperty(exports,\"__esModule\",{value:!0})},__nested_webpack_require_511286__.n=function(module){var getter=module&&module.__esModule?function(){return module.default}:function(){return module};return __nested_webpack_require_511286__.d(getter,\"a\",getter),getter},__nested_webpack_require_511286__.o=function(object,property){return Object.prototype.hasOwnProperty.call(object,property)},__nested_webpack_require_511286__.p=\"\",__nested_webpack_require_511286__(__nested_webpack_require_511286__.s=1)}([function(module,exports,__webpack_require__){\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:!0}),exports.DEFAULT_CONFIG={text:\"Dont miss out on our news and updates! Enable push notifications\",askLaterButtonText:\"Not now\",confirmSubscriptionButtonText:\"Subscribe\",delay:60,retryOffset:604800,overlay:!1,position:\"top\",bgColor:\"#fff\",borderColor:\"transparent\",boxShadow:\"0 3px 6px rgba(0,0,0,0.16), 0 3px 6px rgba(0,0,0,0.23)\",textColor:\"#000\",textSize:\"inherit\",fontFamily:\"inherit\",subscribeBtnBgColor:\"#4285f4\",subscribeBtnTextColor:\"#fff\",askLaterBtnBgColor:\"transparent\",askLaterBtnTextColor:\"#000\",theme:\"material\",viewport:\"html\"},exports.COLOR_TEST_REGEXP=/^(#([\\da-f]{3}){1,2}$|(rgb|hsl)a\\((\\d{1,3}%?,\\s?){3}(1|0?\\.\\d+)\\)$|(rgb|hsl)\\(\\d{1,3}%?(,\\s?\\d{1,3}%?){2}\\)$)/,exports.PERMISSION_DENIED=\"denied\",exports.PERMISSION_GRANTED=\"granted\",exports.CONFIG_STYLES=[{name:\"bgColor\",type:\"color\"},{name:\"borderColor\",type:\"color\"},{name:\"boxShadow\",type:\"string\"},{name:\"textColor\",type:\"color\"},{name:\"textSize\",type:\"string\"},{name:\"fontFamily\",type:\"string\"},{name:\"subscribeBtnBgColor\",type:\"color\"},{name:\"subscribeBtnTextColor\",type:\"color\"},{name:\"askLaterBtnBgColor\",type:\"color\"},{name:\"askLaterBtnTextColor\",type:\"color\"}]},function(module,exports,__nested_webpack_require_513572__){\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:!0});var SubscribePopup_1=__nested_webpack_require_513572__(2);exports.PWSubscribePopup=SubscribePopup_1.default},function(module,exports,__nested_webpack_require_513780__){\"use strict\";var __assign=this&&this.__assign||Object.assign||function(t){for(var s,i=1,n=arguments.length;i<n;i++)for(var p in s=arguments[i])Object.prototype.hasOwnProperty.call(s,p)&&(t[p]=s[p]);return t},__awaiter=this&&this.__awaiter||function(thisArg,_arguments,P,generator){return new(P||(P=Promise))(function(resolve,reject){function fulfilled(value){try{step(generator.next(value))}catch(e){reject(e)}}function rejected(value){try{step(generator.throw(value))}catch(e){reject(e)}}function step(result){result.done?resolve(result.value):new P(function(resolve){resolve(result.value)}).then(fulfilled,rejected)}step((generator=generator.apply(thisArg,_arguments||[])).next())})},__generator=this&&this.__generator||function(thisArg,body){var f,y,t,g,_={label:0,sent:function(){if(1&t[0])throw t[1];return t[1]},trys:[],ops:[]};return g={next:verb(0),throw:verb(1),return:verb(2)},\"function\"==typeof Symbol&&(g[Symbol.iterator]=function(){return this}),g;function verb(n){return function(v){return function(op){if(f)throw new TypeError(\"Generator is already executing.\");for(;_;)try{if(f=1,y&&(t=2&op[0]?y.return:op[0]?y.throw||((t=y.return)&&t.call(y),0):y.next)&&!(t=t.call(y,op[1])).done)return t;switch(y=0,t&&(op=[2&op[0],t.value]),op[0]){case 0:case 1:t=op;break;case 4:return _.label++,{value:op[1],done:!1};case 5:_.label++,y=op[1],op=[0];continue;case 7:op=_.ops.pop(),_.trys.pop();continue;default:if(!(t=(t=_.trys).length>0&&t[t.length-1])&&(6===op[0]||2===op[0])){_=0;continue}if(3===op[0]&&(!t||op[1]>t[0]&&op[1]<t[3])){_.label=op[1];break}if(6===op[0]&&_.label<t[1]){_.label=t[1],t=op;break}if(t&&_.label<t[2]){_.label=t[2],_.ops.push(op);break}t[2]&&_.ops.pop(),_.trys.pop();continue}op=body.call(thisArg,_)}catch(e){op=[6,e],y=0}finally{f=t=0}if(5&op[0])throw op[1];return{value:op[0]?op[1]:void 0,done:!0}}([n,v])}}};Object.defineProperty(exports,\"__esModule\",{value:!0});var constants_1=__nested_webpack_require_513780__(0),popupTemplates_1=__nested_webpack_require_513780__(3),constants_2=__nested_webpack_require_513780__(0),helpers_1=__nested_webpack_require_513780__(4),SubscribePopup=function(){function SubscribePopup(pw){this.pw=pw,this.config=__assign({},constants_1.DEFAULT_CONFIG,this.pw.subscribePopupConfig),this.onAskLaterClick=this.onAskLaterClick.bind(this),this.onSubscribeClick=this.onSubscribeClick.bind(this)}return SubscribePopup.prototype.initPopup=function(){return __awaiter(this,void 0,void 0,function(){var isSubscribed,isManualUnsubscribed,permission,lastPopupOpen,lastPopupOpenTime,now,_this=this;return __generator(this,function(_a){switch(_a.label){case 0:return[4,this.pw.isSubscribed()];case 1:return isSubscribed=_a.sent(),[4,this.pw.data.getStatusManualUnsubscribed()];case 2:return isManualUnsubscribed=_a.sent(),isSubscribed||isManualUnsubscribed?[2]:[4,this.pw.driver.getPermission()];case 3:return(permission=_a.sent())===constants_2.PERMISSION_GRANTED||permission===constants_2.PERMISSION_DENIED?[2]:(this.renderPopup(),this.appendStyles(),lastPopupOpen=localStorage.getItem(\"LAST_OPEN_SUBSCRIPTION_POPUP\"),lastPopupOpenTime=lastPopupOpen?parseInt(lastPopupOpen):0,now=(new Date).getTime(),lastPopupOpenTime+1e3*this.config.retryOffset<now&&setTimeout(function(){_this.toggle(!0)},1e3*this.config.delay),[2])}})})},SubscribePopup.prototype.toggle=function(isShown){(\"boolean\"==typeof isShown?isShown:!this.isShown)?this.showPopup():this.closePopup()},SubscribePopup.prototype.showPopup=function(){this.isShown=!0,this.popup.classList.add(\"pw-show\"),document.body.classList.add(\"pw-popup-opened\");var event=new CustomEvent(\"showPopup\",{bubbles:!1,cancelable:!1,detail:{popup:this.popup}});if(this.popup.dispatchEvent(event),!(Math.max(document.documentElement.clientWidth,window.innerWidth||0)<541)){var _a=this.config,theme=_a.theme,viewport=_a.viewport,position=_a.position;if(\"topbar\"===theme&&\"top\"===position){var viewportElement=document.querySelector(viewport)||document.createElement(\"div\"),currentMarginTop=window.getComputedStyle(viewportElement).marginTop||\"0\";viewportElement.style.transition=\"margin-top .3s ease-out\",viewportElement.style.marginTop=parseInt(currentMarginTop)+this.popup.getBoundingClientRect().height+\"px\"}}},SubscribePopup.prototype.closePopup=function(){this.isShown=!1,this.popup.classList.remove(\"pw-show\"),document.body.classList.remove(\"pw-popup-opened\");var event=new CustomEvent(\"hidePopup\",{bubbles:!1,cancelable:!1,detail:{popup:this.popup}});this.popup.dispatchEvent(event);var now=(new Date).getTime().toString();if(localStorage.setItem(\"LAST_OPEN_SUBSCRIPTION_POPUP\",now),!(Math.max(document.documentElement.clientWidth,window.innerWidth||0)<541)){var _a=this.config,theme=_a.theme,viewport=_a.viewport,position=_a.position;if(\"topbar\"===theme&&\"top\"===position){var viewportElement=document.querySelector(viewport)||document.createElement(\"div\"),currentMarginTop=window.getComputedStyle(viewportElement).marginTop||\"0\";viewportElement.style.marginTop=parseInt(currentMarginTop)-this.popup.getBoundingClientRect().height+\"px\"}}},SubscribePopup.prototype.renderPopup=function(){this.popup=document.createElement(\"div\"),this.popup.id=\"pwSubscribePopup\";var _a=this.config,text=_a.text,askLaterButtonText=_a.askLaterButtonText,confirmSubscriptionButtonText=_a.confirmSubscriptionButtonText,iconUrl=_a.iconUrl,position=_a.position,overlay=_a.overlay,theme=_a.theme;this.popup.className=\"pw-subscribe-popup pw-position-\"+position+\" pw-subscribe-popup-\"+theme,this.popup.classList.toggle(\"pw-subscribe-popup__overlay\",overlay),this.popup.innerHTML=popupTemplates_1.innerTemplate({text:text,askLaterButtonText:askLaterButtonText,confirmSubscriptionButtonText:confirmSubscriptionButtonText,iconUrl:iconUrl}),document.body.appendChild(this.popup),this.addListeners()},SubscribePopup.prototype.appendStyles=function(){var styles=__nested_webpack_require_513780__(5),style=document.createElement(\"style\");style.innerHTML=this.configureStyle(styles),document.body.appendChild(style)},SubscribePopup.prototype.getStyleFormatter=function(style){switch(style.type){case\"size\":return(this.config[style.name]||0)+\"px\";case\"number\":return parseFloat(this.config[style.name].toString()).toString();case\"string\":return this.config[style.name].toString();case\"color\":return helpers_1.getValidColor(this.config[style.name].toString());default:return\"none\"}},SubscribePopup.prototype.configureStyle=function(styles){var _this=this,resultStyles=styles.toString();return constants_1.CONFIG_STYLES.forEach(function(style){var template=new RegExp(\"var\\\\(--\"+style.name+\"\\\\)\",\"ig\"),result=_this.getStyleFormatter(style);resultStyles=resultStyles.replace(template,result)}),resultStyles},SubscribePopup.prototype.addListeners=function(){var askLaterButton=this.popup.querySelector('button[name=\"pwAskLater\"]')||document.createElement(\"button\"),subscribeButton=this.popup.querySelector('button[name=\"pwSubscribe\"]')||document.createElement(\"button\");askLaterButton.addEventListener(\"click\",this.onAskLaterClick),subscribeButton.addEventListener(\"click\",this.onSubscribeClick)},SubscribePopup.prototype.onAskLaterClick=function(){this.toggle(!1)},SubscribePopup.prototype.onSubscribeClick=function(){this.pw.subscribe(),this.toggle(!1)},SubscribePopup}();exports.default=SubscribePopup},function(module,exports,__webpack_require__){\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:!0}),exports.innerTemplate=function(_a){var iconUrl=_a.iconUrl,text=_a.text,askLaterButtonText=_a.askLaterButtonText,confirmSubscriptionButtonText=_a.confirmSubscriptionButtonText;return'<div class=\"pw-subscription-popup-inner\">\\n    <div class=\"pw-subscription-popup-content\">\\n      '+(iconUrl?'<div class=\"pw-subscription-popup-icon\">\\n        <img src=\"'+iconUrl+'\">\\n      </div>':\"\")+'\\n      <div class=\"pw-subscription-popup-text\">\\n        '+text+'\\n      </div>\\n    </div>\\n    <div class=\"pw-subscription-popup-controls\">\\n      <button name=\"pwSubscribe\" class=\"pw-subscribe-popup-button pw-subscribe-popup-button-active\">'+confirmSubscriptionButtonText+'</button>\\n      <button name=\"pwAskLater\" class=\"pw-subscribe-popup-button\">'+askLaterButtonText+\"</button>\\n    </div>\\n  </div>\"}},function(module,exports,__nested_webpack_require_521926__){\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:!0});var constants_1=__nested_webpack_require_521926__(0);exports.getValidColor=function(color){return\"transparent\"===color?color:constants_1.COLOR_TEST_REGEXP.test(color)?color:\"#333\"},exports.getGlobal=function(){return Function(\"return this\")()}},function(module,exports,__nested_webpack_require_522270__){var result=__nested_webpack_require_522270__(6);module.exports=\"string\"==typeof result?result:result.toString()},function(module,exports,__nested_webpack_require_522414__){(module.exports=__nested_webpack_require_522414__(7)(void 0)).push([module.i,\".pw-subscribe-popup {\\n  position: fixed;\\n  left: 50%;\\n  -webkit-transform: translateX(-50%);\\n      -ms-transform: translateX(-50%);\\n          transform: translateX(-50%);\\n  -webkit-box-pack: center;\\n      -ms-flex-pack: center;\\n          justify-content: center;\\n  z-index: 1000000;\\n  display: -webkit-box;\\n  display: -ms-flexbox;\\n  display: flex;\\n  -webkit-transition: all .4s ease-out;\\n  -o-transition: all .4s ease-out;\\n  transition: all .4s ease-out;\\n}\\n\\n.pw-subscribe-popup.pw-position-top {\\n  top: calc(-100% - 24px);\\n}\\n.pw-subscribe-popup.pw-position-top.pw-show {\\n  top: 0;\\n}\\n\\n.pw-subscribe-popup.pw-position-bottom {\\n  bottom: calc(-100% - 24px);\\n}\\n.pw-subscribe-popup.pw-position-bottom.pw-show {\\n  bottom: 0;\\n}\\n\\n.pw-subscribe-popup.pw-position-center {\\n  display: none;\\n}\\n.pw-subscribe-popup.pw-position-center.pw-show {\\n  top: 50%;\\n  display: -webkit-box;\\n  display: -ms-flexbox;\\n  display: flex;\\n}\\n\\n.pw-subscribe-popup__overlay {\\n  position: fixed;\\n  left: 0;\\n  right: 0;\\n  -webkit-transform: none;\\n      -ms-transform: none;\\n          transform: none;\\n  height: 100%;\\n  -webkit-box-pack: center;\\n      -ms-flex-pack: center;\\n          justify-content: center;\\n  background: rgba(0,0,0,.4);\\n  z-index: 1000000;\\n  display: none;\\n  top: 0;\\n}\\n\\n.pw-subscribe-popup__overlay.pw-position-top {\\n  -webkit-box-align: start;\\n      -ms-flex-align: start;\\n          align-items: flex-start;\\n}\\n\\n.pw-subscribe-popup__overlay.pw-position-bottom {\\n  -webkit-box-align: end;\\n      -ms-flex-align: end;\\n          align-items: flex-end;\\n}\\n\\n.pw-subscribe-popup__overlay.pw-position-center {\\n  -webkit-box-align: center;\\n      -ms-flex-align: center;\\n          align-items: center;\\n}\\n\\n.pw-subscription-popup-inner {\\n  max-width: 400px;\\n  font-size: var(--textSize);\\n  color: var(--textColor);\\n  font-family: var(--fontFamily);\\n  border-style: solid;\\n  border-width: 1px;\\n  border-color: var(--borderColor);\\n  background: var(--bgColor);\\n  -webkit-box-shadow: var(--boxShadow);\\n          box-shadow: var(--boxShadow);\\n}\\n\\n.pw-subscription-popup-content {\\n  padding: 16px 16px 4px;\\n  display: -webkit-box;\\n  display: -ms-flexbox;\\n  display: flex;\\n  -webkit-box-pack: stretch;\\n      -ms-flex-pack: stretch;\\n          justify-content: stretch;\\n}\\n\\n.pw-subscription-popup-icon {\\n  -webkit-box-flex: 0;\\n      -ms-flex: 0 0 50px;\\n          flex: 0 0 50px;\\n  margin-right: 12px;\\n  padding-top: 4px;\\n}\\n\\n.pw-subscription-popup-icon img {\\n  max-width: 60px;\\n  max-height: 60px;\\n}\\n\\n.pw-subscription-popup-text {\\n  -webkit-box-flex: 1;\\n      -ms-flex: 1 1 300px;\\n          flex: 1 1 300px;\\n}\\n\\n.pw-subscription-popup-controls {\\n  display: -webkit-box;\\n  display: -ms-flexbox;\\n  display: flex;\\n  -ms-flex-wrap: wrap;\\n      flex-wrap: wrap;\\n  -webkit-box-pack: center;\\n      -ms-flex-pack: center;\\n          justify-content: center;\\n  padding: 8px 16px 16px;\\n}\\n\\nbutton.pw-subscribe-popup-button {\\n  border: solid 1px transparent;\\n  -webkit-border-radius: 2px;\\n          border-radius: 2px;\\n  display: inline-block;\\n  height: 36px;\\n  line-height: 36px;\\n  padding: 0 16px;\\n  text-transform: uppercase;\\n  vertical-align: middle;\\n  -webkit-tap-highlight-color: transparent;\\n  font-size: 14px;\\n  outline: 0;\\n  text-decoration: none;\\n  color: var(--askLaterBtnTextColor);\\n  text-align: center;\\n  letter-spacing: .5px;\\n  cursor: pointer;\\n  background: var(--askLaterBtnBgColor);\\n  margin: 4px 8px;\\n}\\nbutton.pw-subscribe-popup-button:hover {\\n  background: rgba(0,0,0,.04);\\n}\\nbutton.pw-subscribe-popup-button:active {\\n  background: rgba(0,0,0,.12);\\n}\\n\\nbutton.pw-subscribe-popup-button.pw-subscribe-popup-button-active {\\n  color: var(--subscribeBtnTextColor);\\n  background: var(--subscribeBtnBgColor);\\n  -webkit-box-shadow: 0 2px 2px 0 rgba(0,0,0,0.14),\\n  0 3px 1px -2px rgba(0,0,0,0.12),\\n  0 1px 5px 0 rgba(0,0,0,0.2);\\n          box-shadow: 0 2px 2px 0 rgba(0,0,0,0.14),\\n  0 3px 1px -2px rgba(0,0,0,0.12),\\n  0 1px 5px 0 rgba(0,0,0,0.2);\\n}\\nbutton.pw-subscribe-popup-button.pw-subscribe-popup-button-active:hover {\\n  -webkit-box-shadow: 0 3px 3px 0 rgba(0,0,0,0.14),\\n  0 1px 7px 0 rgba(0,0,0,0.12),\\n  0 3px 1px -1px rgba(0,0,0,0.2);\\n          box-shadow: 0 3px 3px 0 rgba(0,0,0,0.14),\\n  0 1px 7px 0 rgba(0,0,0,0.12),\\n  0 3px 1px -1px rgba(0,0,0,0.2);\\n}\\nbutton.pw-subscribe-popup-button.pw-subscribe-popup-button-active:active {\\n  -webkit-box-shadow: 0 2px 2px 0 rgba(0,0,0,0.14),\\n  0 3px 1px -2px rgba(0,0,0,0.12),\\n  0 1px 5px 0 rgba(0,0,0,0.2);\\n          box-shadow: 0 2px 2px 0 rgba(0,0,0,0.14),\\n  0 3px 1px -2px rgba(0,0,0,0.12),\\n  0 1px 5px 0 rgba(0,0,0,0.2);\\n}\\n\\n@media screen and (min-width: 541px) {\\n\\n  .pw-subscribe-popup-topbar {\\n    width: 100%;\\n  }\\n\\n  .pw-subscribe-popup-topbar .pw-subscription-popup-inner {\\n    max-width: 100%;\\n    width: 100%;\\n    display: -webkit-box;\\n    display: -ms-flexbox;\\n    display: flex;\\n    -webkit-box-orient: horizontal;\\n    -webkit-box-direction: normal;\\n        -ms-flex-direction: row;\\n            flex-direction: row;\\n    padding: 2px 40px;\\n    -webkit-box-pack: justify;\\n        -ms-flex-pack: justify;\\n            justify-content: space-between;\\n    -webkit-box-align: center;\\n        -ms-flex-align: center;\\n            align-items: center;\\n    -ms-flex-wrap: nowrap;\\n        flex-wrap: nowrap;\\n  }\\n\\n  .pw-subscribe-popup-topbar .pw-subscription-popup-content {\\n    padding: 0;\\n    -webkit-box-pack: start;\\n        -ms-flex-pack: start;\\n            justify-content: flex-start;\\n    -webkit-box-align: center;\\n        -ms-flex-align: center;\\n            align-items: center;\\n    -webkit-box-flex: 1;\\n        -ms-flex: 1 1 60%;\\n            flex: 1 1 60%;\\n  }\\n\\n  .pw-subscribe-popup-topbar .pw-subscription-popup-icon img {\\n    max-width: 28px;\\n    max-height: 28px;\\n  }\\n\\n  .pw-subscribe-popup-topbar button.pw-subscribe-popup-button {\\n    height: 32px;\\n    line-height: 32px;\\n  }\\n\\n  .pw-subscribe-popup-topbar .pw-subscription-popup-controls {\\n    padding: 0 0 0 16px;\\n    -webkit-box-align: center;\\n        -ms-flex-align: center;\\n            align-items: center;\\n  }\\n}\\n@media screen and (max-width: 540px) {\\n  .pw-subscribe-popup,\\n  .pw-subscribe-popup.pw-position-top,\\n  .pw-subscribe-popup.pw-position-center,\\n  .pw-subscribe-popup.pw-position-bottom {\\n    top: auto;\\n    bottom: -110%;\\n    left: 0;\\n    right: 0;\\n    -webkit-transform: none;\\n        -ms-transform: none;\\n            transform: none;\\n    display: -webkit-box;\\n    display: -ms-flexbox;\\n    display: flex;\\n    -webkit-transition: bottom .4s ease-out;\\n    -o-transition: bottom .4s ease-out;\\n    transition: bottom .4s ease-out;\\n    -webkit-box-align: end;\\n        -ms-flex-align: end;\\n            align-items: flex-end;\\n  }\\n\\n  .pw-subscribe-popup.pw-subscribe-popup__overlay {\\n    height: 100%;\\n    -webkit-box-align: end;\\n        -ms-flex-align: end;\\n            align-items: flex-end;\\n  }\\n\\n  .pw-subscribe-popup.pw-show {\\n    bottom: 0;\\n  }\\n\\n  .pw-subscribe-popup__overlay .pw-subscription-popup-inner {\\n    -webkit-box-align: end;\\n        -ms-flex-align: end;\\n            align-items: flex-end;\\n    -webkit-box-pack: stretch;\\n        -ms-flex-pack: stretch;\\n            justify-content: stretch;\\n  }\\n\\n  .pw-subscription-popup-inner {\\n    max-width: 100%;\\n    width: 100%;\\n  }\\n}\\n\",\"\"])},function(module,exports){module.exports=function(useSourceMap){var list=[];return list.toString=function(){return this.map(function(item){var content=function(item,useSourceMap){var content=item[1]||\"\",cssMapping=item[3];if(!cssMapping)return content;if(useSourceMap&&\"function\"==typeof btoa){var sourceMapping=function(sourceMap){return\"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,\"+btoa(unescape(encodeURIComponent(JSON.stringify(sourceMap))))+\" */\"}(cssMapping),sourceURLs=cssMapping.sources.map(function(source){return\"/*# sourceURL=\"+cssMapping.sourceRoot+source+\" */\"});return[content].concat(sourceURLs).concat([sourceMapping]).join(\"\\n\")}return[content].join(\"\\n\")}(item,useSourceMap);return item[2]?\"@media \"+item[2]+\"{\"+content+\"}\":content}).join(\"\")},list.i=function(modules,mediaQuery){\"string\"==typeof modules&&(modules=[[null,modules,\"\"]]);for(var alreadyImportedModules={},i=0;i<this.length;i++){var id=this[i][0];\"number\"==typeof id&&(alreadyImportedModules[id]=!0)}for(i=0;i<modules.length;i++){var item=modules[i];\"number\"==typeof item[0]&&alreadyImportedModules[item[0]]||(mediaQuery&&!item[2]?item[2]=mediaQuery:mediaQuery&&(item[2]=\"(\"+item[2]+\") and (\"+mediaQuery+\")\"),list.push(item))}},list}}])}])});//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL0BkZXJpdi93ZWItcHVzaC1ub3RpZmljYXRpb25zL2xpYi9pbmRleC5qcy5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uLi8uLi8uLi9ub2RlX21vZHVsZXMvQGRlcml2L3dlYi1wdXNoLW5vdGlmaWNhdGlvbnMvbGliL2luZGV4LmpzP2ViYzMiXSwic291cmNlc0NvbnRlbnQiOlsiIWZ1bmN0aW9uKHJvb3QsZmFjdG9yeSl7aWYoXCJvYmplY3RcIj09dHlwZW9mIGV4cG9ydHMmJlwib2JqZWN0XCI9PXR5cGVvZiBtb2R1bGUpbW9kdWxlLmV4cG9ydHM9ZmFjdG9yeSgpO2Vsc2UgaWYoXCJmdW5jdGlvblwiPT10eXBlb2YgZGVmaW5lJiZkZWZpbmUuYW1kKWRlZmluZShbXSxmYWN0b3J5KTtlbHNle3ZhciBhPWZhY3RvcnkoKTtmb3IodmFyIGkgaW4gYSkoXCJvYmplY3RcIj09dHlwZW9mIGV4cG9ydHM/ZXhwb3J0czpyb290KVtpXT1hW2ldfX0odGhpcyxmdW5jdGlvbigpe3JldHVybiBmdW5jdGlvbihtb2R1bGVzKXt2YXIgaW5zdGFsbGVkTW9kdWxlcz17fTtmdW5jdGlvbiBfX3dlYnBhY2tfcmVxdWlyZV9fKG1vZHVsZUlkKXtpZihpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSlyZXR1cm4gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0uZXhwb3J0czt2YXIgbW9kdWxlPWluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdPXtpOm1vZHVsZUlkLGw6ITEsZXhwb3J0czp7fX07cmV0dXJuIG1vZHVsZXNbbW9kdWxlSWRdLmNhbGwobW9kdWxlLmV4cG9ydHMsbW9kdWxlLG1vZHVsZS5leHBvcnRzLF9fd2VicGFja19yZXF1aXJlX18pLG1vZHVsZS5sPSEwLG1vZHVsZS5leHBvcnRzfXJldHVybiBfX3dlYnBhY2tfcmVxdWlyZV9fLm09bW9kdWxlcyxfX3dlYnBhY2tfcmVxdWlyZV9fLmM9aW5zdGFsbGVkTW9kdWxlcyxfX3dlYnBhY2tfcmVxdWlyZV9fLmQ9ZnVuY3Rpb24oZXhwb3J0cyxuYW1lLGdldHRlcil7X193ZWJwYWNrX3JlcXVpcmVfXy5vKGV4cG9ydHMsbmFtZSl8fE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLG5hbWUse2NvbmZpZ3VyYWJsZTohMSxlbnVtZXJhYmxlOiEwLGdldDpnZXR0ZXJ9KX0sX193ZWJwYWNrX3JlcXVpcmVfXy5yPWZ1bmN0aW9uKGV4cG9ydHMpe09iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pfSxfX3dlYnBhY2tfcmVxdWlyZV9fLm49ZnVuY3Rpb24obW9kdWxlKXt2YXIgZ2V0dGVyPW1vZHVsZSYmbW9kdWxlLl9fZXNNb2R1bGU/ZnVuY3Rpb24oKXtyZXR1cm4gbW9kdWxlLmRlZmF1bHR9OmZ1bmN0aW9uKCl7cmV0dXJuIG1vZHVsZX07cmV0dXJuIF9fd2VicGFja19yZXF1aXJlX18uZChnZXR0ZXIsXCJhXCIsZ2V0dGVyKSxnZXR0ZXJ9LF9fd2VicGFja19yZXF1aXJlX18ubz1mdW5jdGlvbihvYmplY3QscHJvcGVydHkpe3JldHVybiBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqZWN0LHByb3BlcnR5KX0sX193ZWJwYWNrX3JlcXVpcmVfXy5wPVwiXCIsX193ZWJwYWNrX3JlcXVpcmVfXyhfX3dlYnBhY2tfcmVxdWlyZV9fLnM9NzcpfShbZnVuY3Rpb24obW9kdWxlLGV4cG9ydHMsX193ZWJwYWNrX3JlcXVpcmVfXyl7XCJ1c2Ugc3RyaWN0XCI7dmFyIHN1cHBvcnQ9X193ZWJwYWNrX3JlcXVpcmVfXyg3KSxiYXNlNjQ9X193ZWJwYWNrX3JlcXVpcmVfXyg1OCksbm9kZWpzVXRpbHM9X193ZWJwYWNrX3JlcXVpcmVfXygzMSksc2V0SW1tZWRpYXRlPV9fd2VicGFja19yZXF1aXJlX18oMTAwKSxleHRlcm5hbD1fX3dlYnBhY2tfcmVxdWlyZV9fKDI2KTtmdW5jdGlvbiBpZGVudGl0eShpbnB1dCl7cmV0dXJuIGlucHV0fWZ1bmN0aW9uIHN0cmluZ1RvQXJyYXlMaWtlKHN0cixhcnJheSl7Zm9yKHZhciBpPTA7aTxzdHIubGVuZ3RoOysraSlhcnJheVtpXT0yNTUmc3RyLmNoYXJDb2RlQXQoaSk7cmV0dXJuIGFycmF5fWV4cG9ydHMubmV3QmxvYj1mdW5jdGlvbihwYXJ0LHR5cGUpe2V4cG9ydHMuY2hlY2tTdXBwb3J0KFwiYmxvYlwiKTt0cnl7cmV0dXJuIG5ldyBCbG9iKFtwYXJ0XSx7dHlwZTp0eXBlfSl9Y2F0Y2goZSl7dHJ5e3ZhciBidWlsZGVyPW5ldyhzZWxmLkJsb2JCdWlsZGVyfHxzZWxmLldlYktpdEJsb2JCdWlsZGVyfHxzZWxmLk1vekJsb2JCdWlsZGVyfHxzZWxmLk1TQmxvYkJ1aWxkZXIpO3JldHVybiBidWlsZGVyLmFwcGVuZChwYXJ0KSxidWlsZGVyLmdldEJsb2IodHlwZSl9Y2F0Y2goZSl7dGhyb3cgbmV3IEVycm9yKFwiQnVnIDogY2FuJ3QgY29uc3RydWN0IHRoZSBCbG9iLlwiKX19fTt2YXIgYXJyYXlUb1N0cmluZ0hlbHBlcj17c3RyaW5naWZ5QnlDaHVuazpmdW5jdGlvbihhcnJheSx0eXBlLGNodW5rKXt2YXIgcmVzdWx0PVtdLGs9MCxsZW49YXJyYXkubGVuZ3RoO2lmKGxlbjw9Y2h1bmspcmV0dXJuIFN0cmluZy5mcm9tQ2hhckNvZGUuYXBwbHkobnVsbCxhcnJheSk7Zm9yKDtrPGxlbjspXCJhcnJheVwiPT09dHlwZXx8XCJub2RlYnVmZmVyXCI9PT10eXBlP3Jlc3VsdC5wdXNoKFN0cmluZy5mcm9tQ2hhckNvZGUuYXBwbHkobnVsbCxhcnJheS5zbGljZShrLE1hdGgubWluKGsrY2h1bmssbGVuKSkpKTpyZXN1bHQucHVzaChTdHJpbmcuZnJvbUNoYXJDb2RlLmFwcGx5KG51bGwsYXJyYXkuc3ViYXJyYXkoayxNYXRoLm1pbihrK2NodW5rLGxlbikpKSksays9Y2h1bms7cmV0dXJuIHJlc3VsdC5qb2luKFwiXCIpfSxzdHJpbmdpZnlCeUNoYXI6ZnVuY3Rpb24oYXJyYXkpe2Zvcih2YXIgcmVzdWx0U3RyPVwiXCIsaT0wO2k8YXJyYXkubGVuZ3RoO2krKylyZXN1bHRTdHIrPVN0cmluZy5mcm9tQ2hhckNvZGUoYXJyYXlbaV0pO3JldHVybiByZXN1bHRTdHJ9LGFwcGx5Q2FuQmVVc2VkOnt1aW50OGFycmF5OmZ1bmN0aW9uKCl7dHJ5e3JldHVybiBzdXBwb3J0LnVpbnQ4YXJyYXkmJjE9PT1TdHJpbmcuZnJvbUNoYXJDb2RlLmFwcGx5KG51bGwsbmV3IFVpbnQ4QXJyYXkoMSkpLmxlbmd0aH1jYXRjaChlKXtyZXR1cm4hMX19KCksbm9kZWJ1ZmZlcjpmdW5jdGlvbigpe3RyeXtyZXR1cm4gc3VwcG9ydC5ub2RlYnVmZmVyJiYxPT09U3RyaW5nLmZyb21DaGFyQ29kZS5hcHBseShudWxsLG5vZGVqc1V0aWxzLmFsbG9jQnVmZmVyKDEpKS5sZW5ndGh9Y2F0Y2goZSl7cmV0dXJuITF9fSgpfX07ZnVuY3Rpb24gYXJyYXlMaWtlVG9TdHJpbmcoYXJyYXkpe3ZhciBjaHVuaz02NTUzNix0eXBlPWV4cG9ydHMuZ2V0VHlwZU9mKGFycmF5KSxjYW5Vc2VBcHBseT0hMDtpZihcInVpbnQ4YXJyYXlcIj09PXR5cGU/Y2FuVXNlQXBwbHk9YXJyYXlUb1N0cmluZ0hlbHBlci5hcHBseUNhbkJlVXNlZC51aW50OGFycmF5Olwibm9kZWJ1ZmZlclwiPT09dHlwZSYmKGNhblVzZUFwcGx5PWFycmF5VG9TdHJpbmdIZWxwZXIuYXBwbHlDYW5CZVVzZWQubm9kZWJ1ZmZlciksY2FuVXNlQXBwbHkpZm9yKDtjaHVuaz4xOyl0cnl7cmV0dXJuIGFycmF5VG9TdHJpbmdIZWxwZXIuc3RyaW5naWZ5QnlDaHVuayhhcnJheSx0eXBlLGNodW5rKX1jYXRjaChlKXtjaHVuaz1NYXRoLmZsb29yKGNodW5rLzIpfXJldHVybiBhcnJheVRvU3RyaW5nSGVscGVyLnN0cmluZ2lmeUJ5Q2hhcihhcnJheSl9ZnVuY3Rpb24gYXJyYXlMaWtlVG9BcnJheUxpa2UoYXJyYXlGcm9tLGFycmF5VG8pe2Zvcih2YXIgaT0wO2k8YXJyYXlGcm9tLmxlbmd0aDtpKyspYXJyYXlUb1tpXT1hcnJheUZyb21baV07cmV0dXJuIGFycmF5VG99ZXhwb3J0cy5hcHBseUZyb21DaGFyQ29kZT1hcnJheUxpa2VUb1N0cmluZzt2YXIgdHJhbnNmb3JtPXt9O3RyYW5zZm9ybS5zdHJpbmc9e3N0cmluZzppZGVudGl0eSxhcnJheTpmdW5jdGlvbihpbnB1dCl7cmV0dXJuIHN0cmluZ1RvQXJyYXlMaWtlKGlucHV0LG5ldyBBcnJheShpbnB1dC5sZW5ndGgpKX0sYXJyYXlidWZmZXI6ZnVuY3Rpb24oaW5wdXQpe3JldHVybiB0cmFuc2Zvcm0uc3RyaW5nLnVpbnQ4YXJyYXkoaW5wdXQpLmJ1ZmZlcn0sdWludDhhcnJheTpmdW5jdGlvbihpbnB1dCl7cmV0dXJuIHN0cmluZ1RvQXJyYXlMaWtlKGlucHV0LG5ldyBVaW50OEFycmF5KGlucHV0Lmxlbmd0aCkpfSxub2RlYnVmZmVyOmZ1bmN0aW9uKGlucHV0KXtyZXR1cm4gc3RyaW5nVG9BcnJheUxpa2UoaW5wdXQsbm9kZWpzVXRpbHMuYWxsb2NCdWZmZXIoaW5wdXQubGVuZ3RoKSl9fSx0cmFuc2Zvcm0uYXJyYXk9e3N0cmluZzphcnJheUxpa2VUb1N0cmluZyxhcnJheTppZGVudGl0eSxhcnJheWJ1ZmZlcjpmdW5jdGlvbihpbnB1dCl7cmV0dXJuIG5ldyBVaW50OEFycmF5KGlucHV0KS5idWZmZXJ9LHVpbnQ4YXJyYXk6ZnVuY3Rpb24oaW5wdXQpe3JldHVybiBuZXcgVWludDhBcnJheShpbnB1dCl9LG5vZGVidWZmZXI6ZnVuY3Rpb24oaW5wdXQpe3JldHVybiBub2RlanNVdGlscy5uZXdCdWZmZXJGcm9tKGlucHV0KX19LHRyYW5zZm9ybS5hcnJheWJ1ZmZlcj17c3RyaW5nOmZ1bmN0aW9uKGlucHV0KXtyZXR1cm4gYXJyYXlMaWtlVG9TdHJpbmcobmV3IFVpbnQ4QXJyYXkoaW5wdXQpKX0sYXJyYXk6ZnVuY3Rpb24oaW5wdXQpe3JldHVybiBhcnJheUxpa2VUb0FycmF5TGlrZShuZXcgVWludDhBcnJheShpbnB1dCksbmV3IEFycmF5KGlucHV0LmJ5dGVMZW5ndGgpKX0sYXJyYXlidWZmZXI6aWRlbnRpdHksdWludDhhcnJheTpmdW5jdGlvbihpbnB1dCl7cmV0dXJuIG5ldyBVaW50OEFycmF5KGlucHV0KX0sbm9kZWJ1ZmZlcjpmdW5jdGlvbihpbnB1dCl7cmV0dXJuIG5vZGVqc1V0aWxzLm5ld0J1ZmZlckZyb20obmV3IFVpbnQ4QXJyYXkoaW5wdXQpKX19LHRyYW5zZm9ybS51aW50OGFycmF5PXtzdHJpbmc6YXJyYXlMaWtlVG9TdHJpbmcsYXJyYXk6ZnVuY3Rpb24oaW5wdXQpe3JldHVybiBhcnJheUxpa2VUb0FycmF5TGlrZShpbnB1dCxuZXcgQXJyYXkoaW5wdXQubGVuZ3RoKSl9LGFycmF5YnVmZmVyOmZ1bmN0aW9uKGlucHV0KXtyZXR1cm4gaW5wdXQuYnVmZmVyfSx1aW50OGFycmF5OmlkZW50aXR5LG5vZGVidWZmZXI6ZnVuY3Rpb24oaW5wdXQpe3JldHVybiBub2RlanNVdGlscy5uZXdCdWZmZXJGcm9tKGlucHV0KX19LHRyYW5zZm9ybS5ub2RlYnVmZmVyPXtzdHJpbmc6YXJyYXlMaWtlVG9TdHJpbmcsYXJyYXk6ZnVuY3Rpb24oaW5wdXQpe3JldHVybiBhcnJheUxpa2VUb0FycmF5TGlrZShpbnB1dCxuZXcgQXJyYXkoaW5wdXQubGVuZ3RoKSl9LGFycmF5YnVmZmVyOmZ1bmN0aW9uKGlucHV0KXtyZXR1cm4gdHJhbnNmb3JtLm5vZGVidWZmZXIudWludDhhcnJheShpbnB1dCkuYnVmZmVyfSx1aW50OGFycmF5OmZ1bmN0aW9uKGlucHV0KXtyZXR1cm4gYXJyYXlMaWtlVG9BcnJheUxpa2UoaW5wdXQsbmV3IFVpbnQ4QXJyYXkoaW5wdXQubGVuZ3RoKSl9LG5vZGVidWZmZXI6aWRlbnRpdHl9LGV4cG9ydHMudHJhbnNmb3JtVG89ZnVuY3Rpb24ob3V0cHV0VHlwZSxpbnB1dCl7aWYoaW5wdXR8fChpbnB1dD1cIlwiKSwhb3V0cHV0VHlwZSlyZXR1cm4gaW5wdXQ7ZXhwb3J0cy5jaGVja1N1cHBvcnQob3V0cHV0VHlwZSk7dmFyIGlucHV0VHlwZT1leHBvcnRzLmdldFR5cGVPZihpbnB1dCk7cmV0dXJuIHRyYW5zZm9ybVtpbnB1dFR5cGVdW291dHB1dFR5cGVdKGlucHV0KX0sZXhwb3J0cy5nZXRUeXBlT2Y9ZnVuY3Rpb24oaW5wdXQpe3JldHVyblwic3RyaW5nXCI9PXR5cGVvZiBpbnB1dD9cInN0cmluZ1wiOlwiW29iamVjdCBBcnJheV1cIj09PU9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChpbnB1dCk/XCJhcnJheVwiOnN1cHBvcnQubm9kZWJ1ZmZlciYmbm9kZWpzVXRpbHMuaXNCdWZmZXIoaW5wdXQpP1wibm9kZWJ1ZmZlclwiOnN1cHBvcnQudWludDhhcnJheSYmaW5wdXQgaW5zdGFuY2VvZiBVaW50OEFycmF5P1widWludDhhcnJheVwiOnN1cHBvcnQuYXJyYXlidWZmZXImJmlucHV0IGluc3RhbmNlb2YgQXJyYXlCdWZmZXI/XCJhcnJheWJ1ZmZlclwiOnZvaWQgMH0sZXhwb3J0cy5jaGVja1N1cHBvcnQ9ZnVuY3Rpb24odHlwZSl7aWYoIXN1cHBvcnRbdHlwZS50b0xvd2VyQ2FzZSgpXSl0aHJvdyBuZXcgRXJyb3IodHlwZStcIiBpcyBub3Qgc3VwcG9ydGVkIGJ5IHRoaXMgcGxhdGZvcm1cIil9LGV4cG9ydHMuTUFYX1ZBTFVFXzE2QklUUz02NTUzNSxleHBvcnRzLk1BWF9WQUxVRV8zMkJJVFM9LTEsZXhwb3J0cy5wcmV0dHk9ZnVuY3Rpb24oc3RyKXt2YXIgY29kZSxpLHJlcz1cIlwiO2ZvcihpPTA7aTwoc3RyfHxcIlwiKS5sZW5ndGg7aSsrKXJlcys9XCJcXFxceFwiKygoY29kZT1zdHIuY2hhckNvZGVBdChpKSk8MTY/XCIwXCI6XCJcIikrY29kZS50b1N0cmluZygxNikudG9VcHBlckNhc2UoKTtyZXR1cm4gcmVzfSxleHBvcnRzLmRlbGF5PWZ1bmN0aW9uKGNhbGxiYWNrLGFyZ3Msc2VsZil7c2V0SW1tZWRpYXRlKGZ1bmN0aW9uKCl7Y2FsbGJhY2suYXBwbHkoc2VsZnx8bnVsbCxhcmdzfHxbXSl9KX0sZXhwb3J0cy5pbmhlcml0cz1mdW5jdGlvbihjdG9yLHN1cGVyQ3Rvcil7dmFyIE9iaj1mdW5jdGlvbigpe307T2JqLnByb3RvdHlwZT1zdXBlckN0b3IucHJvdG90eXBlLGN0b3IucHJvdG90eXBlPW5ldyBPYmp9LGV4cG9ydHMuZXh0ZW5kPWZ1bmN0aW9uKCl7dmFyIGksYXR0cixyZXN1bHQ9e307Zm9yKGk9MDtpPGFyZ3VtZW50cy5sZW5ndGg7aSsrKWZvcihhdHRyIGluIGFyZ3VtZW50c1tpXSlhcmd1bWVudHNbaV0uaGFzT3duUHJvcGVydHkoYXR0cikmJnZvaWQgMD09PXJlc3VsdFthdHRyXSYmKHJlc3VsdFthdHRyXT1hcmd1bWVudHNbaV1bYXR0cl0pO3JldHVybiByZXN1bHR9LGV4cG9ydHMucHJlcGFyZUNvbnRlbnQ9ZnVuY3Rpb24obmFtZSxpbnB1dERhdGEsaXNCaW5hcnksaXNPcHRpbWl6ZWRCaW5hcnlTdHJpbmcsaXNCYXNlNjQpe3JldHVybiBleHRlcm5hbC5Qcm9taXNlLnJlc29sdmUoaW5wdXREYXRhKS50aGVuKGZ1bmN0aW9uKGRhdGEpe3JldHVybiBzdXBwb3J0LmJsb2ImJihkYXRhIGluc3RhbmNlb2YgQmxvYnx8LTEhPT1bXCJbb2JqZWN0IEZpbGVdXCIsXCJbb2JqZWN0IEJsb2JdXCJdLmluZGV4T2YoT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKGRhdGEpKSkmJlwidW5kZWZpbmVkXCIhPXR5cGVvZiBGaWxlUmVhZGVyP25ldyBleHRlcm5hbC5Qcm9taXNlKGZ1bmN0aW9uKHJlc29sdmUscmVqZWN0KXt2YXIgcmVhZGVyPW5ldyBGaWxlUmVhZGVyO3JlYWRlci5vbmxvYWQ9ZnVuY3Rpb24oZSl7cmVzb2x2ZShlLnRhcmdldC5yZXN1bHQpfSxyZWFkZXIub25lcnJvcj1mdW5jdGlvbihlKXtyZWplY3QoZS50YXJnZXQuZXJyb3IpfSxyZWFkZXIucmVhZEFzQXJyYXlCdWZmZXIoZGF0YSl9KTpkYXRhfSkudGhlbihmdW5jdGlvbihkYXRhKXt2YXIgZGF0YVR5cGU9ZXhwb3J0cy5nZXRUeXBlT2YoZGF0YSk7cmV0dXJuIGRhdGFUeXBlPyhcImFycmF5YnVmZmVyXCI9PT1kYXRhVHlwZT9kYXRhPWV4cG9ydHMudHJhbnNmb3JtVG8oXCJ1aW50OGFycmF5XCIsZGF0YSk6XCJzdHJpbmdcIj09PWRhdGFUeXBlJiYoaXNCYXNlNjQ/ZGF0YT1iYXNlNjQuZGVjb2RlKGRhdGEpOmlzQmluYXJ5JiYhMCE9PWlzT3B0aW1pemVkQmluYXJ5U3RyaW5nJiYoZGF0YT1mdW5jdGlvbihzdHIpe3JldHVybiBzdHJpbmdUb0FycmF5TGlrZShzdHIsc3VwcG9ydC51aW50OGFycmF5P25ldyBVaW50OEFycmF5KHN0ci5sZW5ndGgpOm5ldyBBcnJheShzdHIubGVuZ3RoKSl9KGRhdGEpKSksZGF0YSk6ZXh0ZXJuYWwuUHJvbWlzZS5yZWplY3QobmV3IEVycm9yKFwiQ2FuJ3QgcmVhZCB0aGUgZGF0YSBvZiAnXCIrbmFtZStcIicuIElzIGl0IGluIGEgc3VwcG9ydGVkIEphdmFTY3JpcHQgdHlwZSAoU3RyaW5nLCBCbG9iLCBBcnJheUJ1ZmZlciwgZXRjKSA/XCIpKX0pfX0sZnVuY3Rpb24obW9kdWxlLGV4cG9ydHMsX193ZWJwYWNrX3JlcXVpcmVfXyl7XCJ1c2Ugc3RyaWN0XCI7T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSksZXhwb3J0cy5ERUZBVUxUX1NFUlZJQ0VfV09SS0VSX1VSTD1cIi9wdXNod29vc2gtc2VydmljZS13b3JrZXIuanNcIixleHBvcnRzLkRFRkFVTFRfQVBJX1VSTD1cImh0dHBzOi8vY3AucHVzaHdvb3NoLmNvbS9qc29uLzEuMy9cIixleHBvcnRzLkZBQ0VCT09LX0FQUF9JRD1cIjQzNjcxMTc2NzA4MTc5N1wiLGV4cG9ydHMuRkFDRUJPT0tfSFdJRF9LRVk9XCJGQUNFQk9PS19IV0lEX0tFWVwiLGV4cG9ydHMuUEVSSU9EX1NFTkRfQVBQX09QRU49MzZlNSxleHBvcnRzLlBFUklPRF9HT0FMX0VWRU5UPTg2NGU1LGV4cG9ydHMuREVGQVVMVF9OT1RJRklDQVRJT05fRFVSQVRJT049MTAsZXhwb3J0cy5NSU5fTk9USUZJQ0FUSU9OX0RVUkFUSU9OPTEwLGV4cG9ydHMuTUFYX05PVElGSUNBVElPTl9EVVJBVElPTj01NSxleHBvcnRzLldBS0VfVVBfU0VSVklDRV9XT1JLRVJfSU5URVJWQUw9MjAsZXhwb3J0cy5ERUZBVUxUX05PVElGSUNBVElPTl9USVRMRT1cIlB1c2h3b29zaCBub3RpZmljYXRpb25cIixleHBvcnRzLkRFRkFVTFRfTk9USUZJQ0FUSU9OX0lNQUdFPVwiaHR0cHM6Ly9jcC5wdXNod29vc2guY29tL2ltZy9sb2dvLW1lZGl1bS5wbmdcIixleHBvcnRzLkRFRkFVTFRfTk9USUZJQ0FUSU9OX1VSTD1cIi9cIixleHBvcnRzLktFWV9BUElfUEFSQU1TPVwiQVBJX1BBUkFNU1wiLGV4cG9ydHMuS0VZX0lOSVRfUEFSQU1TPVwiSU5JVF9QQVJBTVNcIixleHBvcnRzLktFWV9TREtfVkVSU0lPTj1cIlNES19WRVJTSU9OXCIsZXhwb3J0cy5LRVlfV09SS0VSX1ZFUlNJT049XCJXT1JLRVJfVkVSU0lPTlwiLGV4cG9ydHMuS0VZX0xBU1RfU0VOVF9BUFBfT1BFTj1cIkxBU1RfU0VOVF9BUFBfT1BFTlwiLGV4cG9ydHMuS0VZX0xBU1RfT1BFTl9NRVNTQUdFPVwiTEFTVF9PUEVOX01FU1NBR0VcIixleHBvcnRzLktFWV9BUElfQkFTRV9VUkw9XCJBUElfQkFTRV9VUkxcIixleHBvcnRzLktFWV9TSE9XX1NVQlNDUklCRV9XSURHRVQ9XCJXSURHRVRfU0hPV0VEXCIsZXhwb3J0cy5LRVlfQ0xJQ0tfU1VCU0NSSUJFX1dJREdFVD1cIldJREdFVF9DTElDS0VEXCIsZXhwb3J0cy5LRVlfREVMQVlFRF9FVkVOVD1cIkRFTEFZRURfRVZFTlRcIixleHBvcnRzLktFWV9DT01NVU5JQ0FUSU9OX0VOQUJMRUQ9XCJDT01NVU5JQ0FUSU9OX0VOQUJMRURcIixleHBvcnRzLktFWV9ERVZJQ0VfREFUQV9SRU1PVkVEPVwiREVWSUNFX0RBVEFfUkVNT1ZFRFwiLGV4cG9ydHMuS0VZX0lOVEVSTkFMX0VWRU5UUz1cIklOVEVSTkFMX0VWRU5UU1wiLGV4cG9ydHMuS0VZX1VOU1VCU0NSSUJFRF9EVUVfVE9fVU5ERUZJTkVEX0tFWVM9XCJVTlNVQlNDUklCRURfRFVFX1RPX1VOREVGSU5FRF9LRVlTXCIsZXhwb3J0cy5LRVlfRkFLRV9QVVNIX1RPS0VOPVwiZmFrZVB1c2hUb2tlblwiLGV4cG9ydHMuS0VZX0RFVklDRV9SRUdJU1RSQVRJT05fU1RBVFVTPVwiZGV2aWNlUmVnaXN0cmF0aW9uU3RhdHVzXCIsZXhwb3J0cy5LRVlfU0FGQVJJX1BSRVZJT1VTX1BFUk1JU1NJT049XCJzYWZhcmlQcmV2aW91c1Blcm1pc3Npb25cIixleHBvcnRzLk1BTlVBTF9TRVRfTE9HR0VSX0xFVkVMPVwiUFdfU0VUX0xPR0dFUl9MRVZFTFwiLGV4cG9ydHMuREVWSUNFX1JFR0lTVFJBVElPTl9TVEFUVVNfUkVHSVNURVJFRD1cInJlZ2lzdGVyZWRcIixleHBvcnRzLkRFVklDRV9SRUdJU1RSQVRJT05fU1RBVFVTX1VOUkVHSVNURVJFRD1cInVucmVnaXN0ZXJlZFwiLGV4cG9ydHMuS0VZX1NFTkRFUl9JRD1cIkdDTV9TRU5ERVJfSURcIixleHBvcnRzLktFWV9GQ01fU1VCU0NSSVBUSU9OPVwiRkNNX1NVQlNDUklQVElPTlwiLGV4cG9ydHMuUEVSTUlTU0lPTl9ERU5JRUQ9XCJkZW5pZWRcIixleHBvcnRzLlBFUk1JU1NJT05fR1JBTlRFRD1cImdyYW50ZWRcIixleHBvcnRzLlBFUk1JU1NJT05fUFJPTVBUPVwiZGVmYXVsdFwiLGV4cG9ydHMuRVZFTlRfT05fTE9BRD1cIm9uTG9hZFwiLGV4cG9ydHMuRVZFTlRfT05fUkVBRFk9XCJvblJlYWR5XCIsZXhwb3J0cy5FVkVOVF9PTl9TVUJTQ1JJQkU9XCJvblN1YnNjcmliZVwiLGV4cG9ydHMuRVZFTlRfT05fVU5TVUJTQ1JJQkU9XCJvblVuc3Vic2NyaWJlXCIsZXhwb3J0cy5FVkVOVF9PTl9SRUdJU1RFUj1cIm9uUmVnaXN0ZXJcIixleHBvcnRzLkVWRU5UX09OX1BFUk1JU1NJT05fUFJPTVBUPVwib25QZXJtaXNzaW9uUHJvbXB0XCIsZXhwb3J0cy5FVkVOVF9PTl9QRVJNSVNTSU9OX0RFTklFRD1cIm9uUGVybWlzc2lvbkRlbmllZFwiLGV4cG9ydHMuRVZFTlRfT05fUEVSTUlTU0lPTl9HUkFOVEVEPVwib25QZXJtaXNzaW9uR3JhbnRlZFwiLGV4cG9ydHMuRVZFTlRfT05fU1dfSU5JVF9FUlJPUj1cIm9uU1dJbml0RXJyb3JcIixleHBvcnRzLkVWRU5UX09OX1BVU0hfREVMSVZFUlk9XCJvblB1c2hEZWxpdmVyeVwiLGV4cG9ydHMuRVZFTlRfT05fTk9USUZJQ0FUSU9OX0NMSUNLPVwib25Ob3RpZmljYXRpb25DbGlja1wiLGV4cG9ydHMuRVZFTlRfT05fTk9USUZJQ0FUSU9OX0NMT1NFPVwib25Ob3RpZmljYXRpb25DbG9zZVwiLGV4cG9ydHMuRVZFTlRfT05fQ0hBTkdFX0NPTU1VTklDQVRJT05fRU5BQkxFRD1cIm9uQ2hhbmdlQ29tbXVuaWNhdGlvbkVuYWJsZWRcIixleHBvcnRzLkVWRU5UX09OX1BVVF9ORVdfTUVTU0FHRV9UT19JTkJPWF9TVE9SRT1cIm9uUHV0TmV3TWVzc2FnZVRvSW5ib3hTdG9yZVwiLGV4cG9ydHMuRVZFTlRfT05fVVBEQVRFX0lOQk9YX01FU1NBR0VTPVwib25VcGRhdGVJbmJveE1lc3NhZ2VzXCIsZXhwb3J0cy5FVkVOVF9PTl9TSE9XX05PVElGSUNBVElPTl9QRVJNSVNTSU9OX0RJQUxPRz1cIm9uU2hvd05vdGlmaWNhdGlvblBlcm1pc3Npb25EaWFsb2dcIixleHBvcnRzLkVWRU5UX09OX0hJREVfTk9USUZJQ0FUSU9OX1BFUk1JU1NJT05fRElBTE9HPVwib25IaWRlTm90aWZpY2F0aW9uUGVybWlzc2lvbkRpYWxvZ1wiLGV4cG9ydHMuRVZFTlRfT05fU0hPV19TVUJTQ1JJUFRJT05fV0lER0VUPVwib25TaG93U3Vic2NyaXB0aW9uV2lkZ2V0XCIsZXhwb3J0cy5FVkVOVF9PTl9ISURFX1NVQlNDUklQVElPTl9XSURHRVQ9XCJvbkhpZGVTdWJzY3JpcHRpb25XaWRnZXRcIixleHBvcnRzLkVWRU5UX1NIT1dfU1VCU0NSSUJFX0JVVFRPTj1cInNob3dTdWJzY3JpYmVCdXR0b25cIixleHBvcnRzLkVWRU5UX0NMSUNLX1NVQlNDUklCRV9CVVRUT049XCJjbGlja1N1YnNjcmliZUJ1dHRvblwiLGV4cG9ydHMuRVZFTlRfR0RQUl9DT05TRU5UPVwiR0RQUkNvbnNlbnRcIixleHBvcnRzLkVWRU5UX0dEUFJfREVMRVRFPVwiR0RQUkRlbGV0ZVwiLGV4cG9ydHMuRVZFTlRfUFdfU0lURV9PUEVORUQ9XCJQV19TaXRlT3BlbmVkXCIsZXhwb3J0cy5NQU5VQUxfVU5TVUJTQ1JJQkU9XCJNQU5VQUxfVU5TVUJTQ1JJQkVcIixleHBvcnRzLlBBR0VfVklTSVRFRF9VUkw9XCJQQUdFX1ZJU0lURURfVVJMXCIsZXhwb3J0cy5DSEFOTkVMUz1cIkNIQU5ORUxTXCIsZXhwb3J0cy5TVUJTQ1JJUFRJT05fU0VHTUVOVF9FVkVOVD1cIlN1YnNjcmlwdGlvbiBTZWdtZW50c1wiLGV4cG9ydHMuU1VCU0NSSVBUSU9OX1dJREdFVF9VU0VfQ0FTRV9OT1RfU0VUPVwibm90LXNldFwiLGV4cG9ydHMuU1VCU0NSSVBUSU9OX1dJREdFVF9VU0VfQ0FTRV9OT1RfVVNFRD1cIm5vdC11c2VkXCIsZXhwb3J0cy5TVUJTQ1JJUFRJT05fV0lER0VUX1VTRV9DQVNFX0RFRkFVTFQ9XCJkZWZhdWx0XCIsZXhwb3J0cy5TVUJTQ1JJUFRJT05fV0lER0VUX1VTRV9DQVNFX1RPUElDX0JBU0VEPVwidG9waWMtYmFzZWRcIixleHBvcnRzLkJST1dTRVJfVFlQRV9DSFJPTUU9XCJjaHJvbWVcIixleHBvcnRzLkJST1dTRVJfVFlQRV9GRj1cImZpcmVmb3hcIixleHBvcnRzLkJST1dTRVJfVFlQRV9TQUZBUkk9XCJzYWZhcmlcIixleHBvcnRzLlNVQlNDUklQVElPTl9QUk9NUFRfV0lER0VUX0RFRkFVTFRfQ09ORklHPXtoZWFkZXJUZXh0OlwiU3Vic2NyaWJlIHRvIG91ciBuZXdzXCIsaGVhZGVyVGV4dENvbG9yOlwiIzAwMDAwMFwiLHN1YmhlYWRlclRleHQ6XCJEb24ndCBtaXNzIG91dCBvbiB0aGUgbGF0ZXN0IG5ld3MgYW5kIHVwZGF0ZXMhXCIsc3ViaGVhZGVyVGV4dENvbG9yOlwiIzAwMDAwMFwiLGJ1dHRvbkFjY2VwdFRleHQ6XCJBZ3JlZVwiLGJ1dHRvbkFjY2VwdFRleHRDb2xvcjpcIiMxQTcyRThcIixidXR0b25BY2NlcHRSb3VuZDpcIjRweFwiLGJ1dHRvbkFjY2VwdEJhY2tncm91bmRDb2xvcjpcIiNGRkZGRkZcIixidXR0b25BY2NlcHRCb3JkZXJDb2xvcjpcIiNFM0U0RThcIixidXR0b25DYW5jZWxUZXh0OlwiRGVueVwiLGJ1dHRvbkNhbmNlbFRleHRDb2xvcjpcIiMxQTcyRThcIixidXR0b25DYW5jZWxSb3VuZDpcIjRweFwiLGJ1dHRvbkNhbmNlbEJhY2tncm91bmRDb2xvcjpcIiNGRkZGRkZcIixidXR0b25DYW5jZWxCb3JkZXJDb2xvcjpcIiNFM0U0RThcIixjYXBwaW5nQ291bnQ6MyxjYXBwaW5nRGVsYXk6MTQ0ZTUsYmFja2dyb3VuZENvbG9yOlwiI0ZGRkZGRlwifX0sZnVuY3Rpb24obW9kdWxlLGV4cG9ydHMsX193ZWJwYWNrX3JlcXVpcmVfXyl7XCJ1c2Ugc3RyaWN0XCI7ZnVuY3Rpb24gR2VuZXJpY1dvcmtlcihuYW1lKXt0aGlzLm5hbWU9bmFtZXx8XCJkZWZhdWx0XCIsdGhpcy5zdHJlYW1JbmZvPXt9LHRoaXMuZ2VuZXJhdGVkRXJyb3I9bnVsbCx0aGlzLmV4dHJhU3RyZWFtSW5mbz17fSx0aGlzLmlzUGF1c2VkPSEwLHRoaXMuaXNGaW5pc2hlZD0hMSx0aGlzLmlzTG9ja2VkPSExLHRoaXMuX2xpc3RlbmVycz17ZGF0YTpbXSxlbmQ6W10sZXJyb3I6W119LHRoaXMucHJldmlvdXM9bnVsbH1HZW5lcmljV29ya2VyLnByb3RvdHlwZT17cHVzaDpmdW5jdGlvbihjaHVuayl7dGhpcy5lbWl0KFwiZGF0YVwiLGNodW5rKX0sZW5kOmZ1bmN0aW9uKCl7aWYodGhpcy5pc0ZpbmlzaGVkKXJldHVybiExO3RoaXMuZmx1c2goKTt0cnl7dGhpcy5lbWl0KFwiZW5kXCIpLHRoaXMuY2xlYW5VcCgpLHRoaXMuaXNGaW5pc2hlZD0hMH1jYXRjaChlKXt0aGlzLmVtaXQoXCJlcnJvclwiLGUpfXJldHVybiEwfSxlcnJvcjpmdW5jdGlvbihlKXtyZXR1cm4hdGhpcy5pc0ZpbmlzaGVkJiYodGhpcy5pc1BhdXNlZD90aGlzLmdlbmVyYXRlZEVycm9yPWU6KHRoaXMuaXNGaW5pc2hlZD0hMCx0aGlzLmVtaXQoXCJlcnJvclwiLGUpLHRoaXMucHJldmlvdXMmJnRoaXMucHJldmlvdXMuZXJyb3IoZSksdGhpcy5jbGVhblVwKCkpLCEwKX0sb246ZnVuY3Rpb24obmFtZSxsaXN0ZW5lcil7cmV0dXJuIHRoaXMuX2xpc3RlbmVyc1tuYW1lXS5wdXNoKGxpc3RlbmVyKSx0aGlzfSxjbGVhblVwOmZ1bmN0aW9uKCl7dGhpcy5zdHJlYW1JbmZvPXRoaXMuZ2VuZXJhdGVkRXJyb3I9dGhpcy5leHRyYVN0cmVhbUluZm89bnVsbCx0aGlzLl9saXN0ZW5lcnM9W119LGVtaXQ6ZnVuY3Rpb24obmFtZSxhcmcpe2lmKHRoaXMuX2xpc3RlbmVyc1tuYW1lXSlmb3IodmFyIGk9MDtpPHRoaXMuX2xpc3RlbmVyc1tuYW1lXS5sZW5ndGg7aSsrKXRoaXMuX2xpc3RlbmVyc1tuYW1lXVtpXS5jYWxsKHRoaXMsYXJnKX0scGlwZTpmdW5jdGlvbihuZXh0KXtyZXR1cm4gbmV4dC5yZWdpc3RlclByZXZpb3VzKHRoaXMpfSxyZWdpc3RlclByZXZpb3VzOmZ1bmN0aW9uKHByZXZpb3VzKXtpZih0aGlzLmlzTG9ja2VkKXRocm93IG5ldyBFcnJvcihcIlRoZSBzdHJlYW0gJ1wiK3RoaXMrXCInIGhhcyBhbHJlYWR5IGJlZW4gdXNlZC5cIik7dGhpcy5zdHJlYW1JbmZvPXByZXZpb3VzLnN0cmVhbUluZm8sdGhpcy5tZXJnZVN0cmVhbUluZm8oKSx0aGlzLnByZXZpb3VzPXByZXZpb3VzO3ZhciBzZWxmPXRoaXM7cmV0dXJuIHByZXZpb3VzLm9uKFwiZGF0YVwiLGZ1bmN0aW9uKGNodW5rKXtzZWxmLnByb2Nlc3NDaHVuayhjaHVuayl9KSxwcmV2aW91cy5vbihcImVuZFwiLGZ1bmN0aW9uKCl7c2VsZi5lbmQoKX0pLHByZXZpb3VzLm9uKFwiZXJyb3JcIixmdW5jdGlvbihlKXtzZWxmLmVycm9yKGUpfSksdGhpc30scGF1c2U6ZnVuY3Rpb24oKXtyZXR1cm4hdGhpcy5pc1BhdXNlZCYmIXRoaXMuaXNGaW5pc2hlZCYmKHRoaXMuaXNQYXVzZWQ9ITAsdGhpcy5wcmV2aW91cyYmdGhpcy5wcmV2aW91cy5wYXVzZSgpLCEwKX0scmVzdW1lOmZ1bmN0aW9uKCl7aWYoIXRoaXMuaXNQYXVzZWR8fHRoaXMuaXNGaW5pc2hlZClyZXR1cm4hMTt0aGlzLmlzUGF1c2VkPSExO3ZhciB3aXRoRXJyb3I9ITE7cmV0dXJuIHRoaXMuZ2VuZXJhdGVkRXJyb3ImJih0aGlzLmVycm9yKHRoaXMuZ2VuZXJhdGVkRXJyb3IpLHdpdGhFcnJvcj0hMCksdGhpcy5wcmV2aW91cyYmdGhpcy5wcmV2aW91cy5yZXN1bWUoKSwhd2l0aEVycm9yfSxmbHVzaDpmdW5jdGlvbigpe30scHJvY2Vzc0NodW5rOmZ1bmN0aW9uKGNodW5rKXt0aGlzLnB1c2goY2h1bmspfSx3aXRoU3RyZWFtSW5mbzpmdW5jdGlvbihrZXksdmFsdWUpe3JldHVybiB0aGlzLmV4dHJhU3RyZWFtSW5mb1trZXldPXZhbHVlLHRoaXMubWVyZ2VTdHJlYW1JbmZvKCksdGhpc30sbWVyZ2VTdHJlYW1JbmZvOmZ1bmN0aW9uKCl7Zm9yKHZhciBrZXkgaW4gdGhpcy5leHRyYVN0cmVhbUluZm8pdGhpcy5leHRyYVN0cmVhbUluZm8uaGFzT3duUHJvcGVydHkoa2V5KSYmKHRoaXMuc3RyZWFtSW5mb1trZXldPXRoaXMuZXh0cmFTdHJlYW1JbmZvW2tleV0pfSxsb2NrOmZ1bmN0aW9uKCl7aWYodGhpcy5pc0xvY2tlZCl0aHJvdyBuZXcgRXJyb3IoXCJUaGUgc3RyZWFtICdcIit0aGlzK1wiJyBoYXMgYWxyZWFkeSBiZWVuIHVzZWQuXCIpO3RoaXMuaXNMb2NrZWQ9ITAsdGhpcy5wcmV2aW91cyYmdGhpcy5wcmV2aW91cy5sb2NrKCl9LHRvU3RyaW5nOmZ1bmN0aW9uKCl7dmFyIG1lPVwiV29ya2VyIFwiK3RoaXMubmFtZTtyZXR1cm4gdGhpcy5wcmV2aW91cz90aGlzLnByZXZpb3VzK1wiIC0+IFwiK21lOm1lfX0sbW9kdWxlLmV4cG9ydHM9R2VuZXJpY1dvcmtlcn0sZnVuY3Rpb24obW9kdWxlLGV4cG9ydHMsX193ZWJwYWNrX3JlcXVpcmVfXyl7XCJ1c2Ugc3RyaWN0XCI7dmFyIF9fZXh0ZW5kcz10aGlzJiZ0aGlzLl9fZXh0ZW5kc3x8ZnVuY3Rpb24oKXt2YXIgZXh0ZW5kU3RhdGljcz1mdW5jdGlvbihkLGIpe3JldHVybihleHRlbmRTdGF0aWNzPU9iamVjdC5zZXRQcm90b3R5cGVPZnx8e19fcHJvdG9fXzpbXX1pbnN0YW5jZW9mIEFycmF5JiZmdW5jdGlvbihkLGIpe2QuX19wcm90b19fPWJ9fHxmdW5jdGlvbihkLGIpe2Zvcih2YXIgcCBpbiBiKWIuaGFzT3duUHJvcGVydHkocCkmJihkW3BdPWJbcF0pfSkoZCxiKX07cmV0dXJuIGZ1bmN0aW9uKGQsYil7ZnVuY3Rpb24gX18oKXt0aGlzLmNvbnN0cnVjdG9yPWR9ZXh0ZW5kU3RhdGljcyhkLGIpLGQucHJvdG90eXBlPW51bGw9PT1iP09iamVjdC5jcmVhdGUoYik6KF9fLnByb3RvdHlwZT1iLnByb3RvdHlwZSxuZXcgX18pfX0oKSxfX2Fzc2lnbj10aGlzJiZ0aGlzLl9fYXNzaWdufHxmdW5jdGlvbigpe3JldHVybihfX2Fzc2lnbj1PYmplY3QuYXNzaWdufHxmdW5jdGlvbih0KXtmb3IodmFyIHMsaT0xLG49YXJndW1lbnRzLmxlbmd0aDtpPG47aSsrKWZvcih2YXIgcCBpbiBzPWFyZ3VtZW50c1tpXSlPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwocyxwKSYmKHRbcF09c1twXSk7cmV0dXJuIHR9KS5hcHBseSh0aGlzLGFyZ3VtZW50cyl9LF9fYXdhaXRlcj10aGlzJiZ0aGlzLl9fYXdhaXRlcnx8ZnVuY3Rpb24odGhpc0FyZyxfYXJndW1lbnRzLFAsZ2VuZXJhdG9yKXtyZXR1cm4gbmV3KFB8fChQPVByb21pc2UpKShmdW5jdGlvbihyZXNvbHZlLHJlamVjdCl7ZnVuY3Rpb24gZnVsZmlsbGVkKHZhbHVlKXt0cnl7c3RlcChnZW5lcmF0b3IubmV4dCh2YWx1ZSkpfWNhdGNoKGUpe3JlamVjdChlKX19ZnVuY3Rpb24gcmVqZWN0ZWQodmFsdWUpe3RyeXtzdGVwKGdlbmVyYXRvci50aHJvdyh2YWx1ZSkpfWNhdGNoKGUpe3JlamVjdChlKX19ZnVuY3Rpb24gc3RlcChyZXN1bHQpe3Jlc3VsdC5kb25lP3Jlc29sdmUocmVzdWx0LnZhbHVlKTpmdW5jdGlvbih2YWx1ZSl7cmV0dXJuIHZhbHVlIGluc3RhbmNlb2YgUD92YWx1ZTpuZXcgUChmdW5jdGlvbihyZXNvbHZlKXtyZXNvbHZlKHZhbHVlKX0pfShyZXN1bHQudmFsdWUpLnRoZW4oZnVsZmlsbGVkLHJlamVjdGVkKX1zdGVwKChnZW5lcmF0b3I9Z2VuZXJhdG9yLmFwcGx5KHRoaXNBcmcsX2FyZ3VtZW50c3x8W10pKS5uZXh0KCkpfSl9LF9fZ2VuZXJhdG9yPXRoaXMmJnRoaXMuX19nZW5lcmF0b3J8fGZ1bmN0aW9uKHRoaXNBcmcsYm9keSl7dmFyIGYseSx0LGcsXz17bGFiZWw6MCxzZW50OmZ1bmN0aW9uKCl7aWYoMSZ0WzBdKXRocm93IHRbMV07cmV0dXJuIHRbMV19LHRyeXM6W10sb3BzOltdfTtyZXR1cm4gZz17bmV4dDp2ZXJiKDApLHRocm93OnZlcmIoMSkscmV0dXJuOnZlcmIoMil9LFwiZnVuY3Rpb25cIj09dHlwZW9mIFN5bWJvbCYmKGdbU3ltYm9sLml0ZXJhdG9yXT1mdW5jdGlvbigpe3JldHVybiB0aGlzfSksZztmdW5jdGlvbiB2ZXJiKG4pe3JldHVybiBmdW5jdGlvbih2KXtyZXR1cm4gZnVuY3Rpb24ob3Ape2lmKGYpdGhyb3cgbmV3IFR5cGVFcnJvcihcIkdlbmVyYXRvciBpcyBhbHJlYWR5IGV4ZWN1dGluZy5cIik7Zm9yKDtfOyl0cnl7aWYoZj0xLHkmJih0PTImb3BbMF0/eS5yZXR1cm46b3BbMF0/eS50aHJvd3x8KCh0PXkucmV0dXJuKSYmdC5jYWxsKHkpLDApOnkubmV4dCkmJiEodD10LmNhbGwoeSxvcFsxXSkpLmRvbmUpcmV0dXJuIHQ7c3dpdGNoKHk9MCx0JiYob3A9WzImb3BbMF0sdC52YWx1ZV0pLG9wWzBdKXtjYXNlIDA6Y2FzZSAxOnQ9b3A7YnJlYWs7Y2FzZSA0OnJldHVybiBfLmxhYmVsKysse3ZhbHVlOm9wWzFdLGRvbmU6ITF9O2Nhc2UgNTpfLmxhYmVsKysseT1vcFsxXSxvcD1bMF07Y29udGludWU7Y2FzZSA3Om9wPV8ub3BzLnBvcCgpLF8udHJ5cy5wb3AoKTtjb250aW51ZTtkZWZhdWx0OmlmKCEodD0odD1fLnRyeXMpLmxlbmd0aD4wJiZ0W3QubGVuZ3RoLTFdKSYmKDY9PT1vcFswXXx8Mj09PW9wWzBdKSl7Xz0wO2NvbnRpbnVlfWlmKDM9PT1vcFswXSYmKCF0fHxvcFsxXT50WzBdJiZvcFsxXTx0WzNdKSl7Xy5sYWJlbD1vcFsxXTticmVha31pZig2PT09b3BbMF0mJl8ubGFiZWw8dFsxXSl7Xy5sYWJlbD10WzFdLHQ9b3A7YnJlYWt9aWYodCYmXy5sYWJlbDx0WzJdKXtfLmxhYmVsPXRbMl0sXy5vcHMucHVzaChvcCk7YnJlYWt9dFsyXSYmXy5vcHMucG9wKCksXy50cnlzLnBvcCgpO2NvbnRpbnVlfW9wPWJvZHkuY2FsbCh0aGlzQXJnLF8pfWNhdGNoKGUpe29wPVs2LGVdLHk9MH1maW5hbGx5e2Y9dD0wfWlmKDUmb3BbMF0pdGhyb3cgb3BbMV07cmV0dXJue3ZhbHVlOm9wWzBdP29wWzFdOnZvaWQgMCxkb25lOiEwfX0oW24sdl0pfX19LF9fcmVzdD10aGlzJiZ0aGlzLl9fcmVzdHx8ZnVuY3Rpb24ocyxlKXt2YXIgdD17fTtmb3IodmFyIHAgaW4gcylPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwocyxwKSYmZS5pbmRleE9mKHApPDAmJih0W3BdPXNbcF0pO2lmKG51bGwhPXMmJlwiZnVuY3Rpb25cIj09dHlwZW9mIE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMpe3ZhciBpPTA7Zm9yKHA9T2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyhzKTtpPHAubGVuZ3RoO2krKyllLmluZGV4T2YocFtpXSk8MCYmT2JqZWN0LnByb3RvdHlwZS5wcm9wZXJ0eUlzRW51bWVyYWJsZS5jYWxsKHMscFtpXSkmJih0W3BbaV1dPXNbcFtpXV0pfXJldHVybiB0fTtPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cyxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KTt2YXIgZGF0YWJhc2VQcm9taXNlLHZlcnNpb25fMT1fX3dlYnBhY2tfcmVxdWlyZV9fKDE4KSxNaWdyYXRpb25FeGVjdXRvcl8xPV9fd2VicGFja19yZXF1aXJlX18oMTkpLGNvbnN0YW50c18xPV9fd2VicGFja19yZXF1aXJlX18oOSk7ZnVuY3Rpb24gb252ZXJzaW9uY2hhbmdlKGRhdGFiYXNlLGV2ZW50KXtjb25zb2xlLmluZm8oXCJvbnZlcnNpb25jaGFuZ2VcIixldmVudCksZGF0YWJhc2UuY2xvc2UoKX1mdW5jdGlvbiBnZXRJbnN0YW5jZSgpe3JldHVybiBkYXRhYmFzZVByb21pc2V8fChkYXRhYmFzZVByb21pc2U9bmV3IFByb21pc2UoZnVuY3Rpb24ocmVzb2x2ZSxyZWplY3Qpe3ZhciByZXF1ZXN0PWluZGV4ZWREQi5vcGVuKFwiUFVTSFdPT1NIX1NES19TVE9SRVwiLHZlcnNpb25fMS5kZWZhdWx0KTtyZXF1ZXN0Lm9uc3VjY2Vzcz1mdW5jdGlvbihldmVudCl7dmFyIGRhdGFiYXNlPWV2ZW50LnRhcmdldC5yZXN1bHQ7ZGF0YWJhc2Uub252ZXJzaW9uY2hhbmdlPW9udmVyc2lvbmNoYW5nZS5iaW5kKG51bGwsZGF0YWJhc2UscmVqZWN0KSxyZXNvbHZlKGRhdGFiYXNlKX0scmVxdWVzdC5vbmVycm9yPWZ1bmN0aW9uKCl7cmV0dXJuIHJlamVjdChyZXF1ZXN0LmVycm9yKX0scmVxdWVzdC5vbnVwZ3JhZGVuZWVkZWQ9ZnVuY3Rpb24oZXZlbnQpe3ZhciBkYXRhYmFzZT1ldmVudC50YXJnZXQucmVzdWx0O2RhdGFiYXNlLm9udmVyc2lvbmNoYW5nZT1vbnZlcnNpb25jaGFuZ2UuYmluZChudWxsLGRhdGFiYXNlLHJlamVjdCksbmV3IE1pZ3JhdGlvbkV4ZWN1dG9yXzEuZGVmYXVsdChkYXRhYmFzZSkuYXBwbHlNaWdyYXRpb25zKCl9fSkpLGRhdGFiYXNlUHJvbWlzZX1mdW5jdGlvbiBnZXRJbnN0YW5jZVdpdGhQcm9taXNlKGV4ZWN1dG9yKXtyZXR1cm4gZ2V0SW5zdGFuY2UoKS50aGVuKGZ1bmN0aW9uKGRhdGFiYXNlKXtyZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24ocmVzb2x2ZSxyZWplY3Qpe3JldHVybiBleGVjdXRvcihkYXRhYmFzZSxyZXNvbHZlLHJlamVjdCl9KX0pfWV4cG9ydHMuZ2V0SW5zdGFuY2U9Z2V0SW5zdGFuY2U7dmFyIExvZ0Jhc2U9ZnVuY3Rpb24oKXtmdW5jdGlvbiBMb2dCYXNlKCl7fXJldHVybiBMb2dCYXNlLnByb3RvdHlwZS5fYWRkPWZ1bmN0aW9uKG9iail7dmFyIF90aGlzPXRoaXM7cmV0dXJuIGdldEluc3RhbmNlV2l0aFByb21pc2UoZnVuY3Rpb24oZGF0YWJhc2UscmVzb2x2ZSxyZWplY3Qpe3ZhciByZXF1ZXN0PWRhdGFiYXNlLnRyYW5zYWN0aW9uKFtfdGhpcy5uYW1lXSxcInJlYWR3cml0ZVwiKS5vYmplY3RTdG9yZShfdGhpcy5uYW1lKS5hZGQob2JqKTtyZXF1ZXN0Lm9uc3VjY2Vzcz1mdW5jdGlvbigpe3Jlc29sdmUob2JqKX0scmVxdWVzdC5vbmVycm9yPWZ1bmN0aW9uKCl7cmVqZWN0KHJlcXVlc3QuZXJyb3IpfX0pLnRoZW4oZnVuY3Rpb24ob2JqKXtyZXR1cm4gX3RoaXMuZ2V0QWxsKCkudGhlbihmdW5jdGlvbihpdGVtcyl7aWYoQXJyYXkuaXNBcnJheShpdGVtcykpe3ZhciBpZHM9aXRlbXMubWFwKGZ1bmN0aW9uKGkpe3JldHVybiBpLmlkfSkuc29ydChmdW5jdGlvbihhLGIpe3JldHVybiBhPT1iPzA6YTxiPzE6LTF9KTtpZihpZHMubGVuZ3RoPl90aGlzLm1heEl0ZW1zKXJldHVybiBQcm9taXNlLmFsbChpZHMuc2xpY2UoX3RoaXMubWF4SXRlbXMpLm1hcChmdW5jdGlvbihpZCl7cmV0dXJuIF90aGlzLmRlbGV0ZShpZCl9KSkudGhlbihmdW5jdGlvbigpe3JldHVybiBvYmp9KX1yZXR1cm4gb2JqfSl9KX0sTG9nQmFzZS5wcm90b3R5cGUuZGVsZXRlPWZ1bmN0aW9uKGtleSl7dmFyIF90aGlzPXRoaXM7cmV0dXJuIGdldEluc3RhbmNlV2l0aFByb21pc2UoZnVuY3Rpb24oZGF0YWJhc2UscmVzb2x2ZSxyZWplY3Qpe3ZhciByZXF1ZXN0PWRhdGFiYXNlLnRyYW5zYWN0aW9uKFtfdGhpcy5uYW1lXSxcInJlYWR3cml0ZVwiKS5vYmplY3RTdG9yZShfdGhpcy5uYW1lKS5kZWxldGUoa2V5KTtyZXF1ZXN0Lm9uc3VjY2Vzcz1mdW5jdGlvbigpe3Jlc29sdmUocmVxdWVzdC5yZXN1bHQpfSxyZXF1ZXN0Lm9uZXJyb3I9ZnVuY3Rpb24oKXtyZWplY3QocmVxdWVzdC5lcnJvcil9fSl9LExvZ0Jhc2UucHJvdG90eXBlLmdldEFsbD1mdW5jdGlvbigpe3ZhciBfdGhpcz10aGlzO3JldHVybiBnZXRJbnN0YW5jZVdpdGhQcm9taXNlKGZ1bmN0aW9uKGRhdGFiYXNlLHJlc29sdmUscmVqZWN0KXt2YXIgcmVzdWx0PVtdLGN1cnNvcj1kYXRhYmFzZS50cmFuc2FjdGlvbihfdGhpcy5uYW1lKS5vYmplY3RTdG9yZShfdGhpcy5uYW1lKS5vcGVuQ3Vyc29yKCk7Y3Vyc29yLm9uc3VjY2Vzcz1mdW5jdGlvbihldil7dmFyIGN1cnNvclJlc3VsdD1ldi50YXJnZXQucmVzdWx0O2N1cnNvclJlc3VsdD8oY3Vyc29yUmVzdWx0LnZhbHVlJiZyZXN1bHQucHVzaChjdXJzb3JSZXN1bHQudmFsdWUpLGN1cnNvclJlc3VsdC5jb250aW51ZSgpKTpyZXNvbHZlKHJlc3VsdCl9LGN1cnNvci5vbmVycm9yPWZ1bmN0aW9uKCl7cmVqZWN0KGN1cnNvci5lcnJvcil9fSl9LExvZ0Jhc2V9KCk7ZXhwb3J0cy5Mb2dCYXNlPUxvZ0Jhc2U7dmFyIExvZ0xvZz1mdW5jdGlvbihfc3VwZXIpe2Z1bmN0aW9uIExvZ0xvZygpe3ZhciBfdGhpcz1udWxsIT09X3N1cGVyJiZfc3VwZXIuYXBwbHkodGhpcyxhcmd1bWVudHMpfHx0aGlzO3JldHVybiBfdGhpcy5uYW1lPWNvbnN0YW50c18xLlNUT1JFX05BTUVfTUFJTl9MT0csX3RoaXMubWF4SXRlbXM9MTAwLF90aGlzLmVudmlyb25tZW50PVwidW5kZWZpbmVkXCIhPXR5cGVvZiBzZWxmJiZzZWxmLnJlZ2lzdHJhdGlvbj9cIndvcmtlclwiOlwiYnJvd3NlclwiLF90aGlzfXJldHVybiBfX2V4dGVuZHMoTG9nTG9nLF9zdXBlciksTG9nTG9nLnByb3RvdHlwZS5hZGQ9ZnVuY3Rpb24odHlwZSxtZXNzYWdlLGFkZGl0aW9uYWwpe3ZhciBvYmo9e3R5cGU6dHlwZSxlbnZpcm9ubWVudDp0aGlzLmVudmlyb25tZW50LG1lc3NhZ2U6XCJcIittZXNzYWdlLGRhdGU6bmV3IERhdGV9O3JldHVybiBtZXNzYWdlIGluc3RhbmNlb2YgRXJyb3ImJihvYmouc3RhY2s9bWVzc2FnZS5zdGFjayksYWRkaXRpb25hbCYmKG9iai5hZGRpdGlvbmFsPWFkZGl0aW9uYWwpLHRoaXMuX2FkZChvYmopfSxMb2dMb2d9KExvZ0Jhc2UpO2V4cG9ydHMuTG9nTG9nPUxvZ0xvZzt2YXIgTG9nTWVzc2FnZT1mdW5jdGlvbihfc3VwZXIpe2Z1bmN0aW9uIExvZ01lc3NhZ2UoKXt2YXIgX3RoaXM9bnVsbCE9PV9zdXBlciYmX3N1cGVyLmFwcGx5KHRoaXMsYXJndW1lbnRzKXx8dGhpcztyZXR1cm4gX3RoaXMubmFtZT1jb25zdGFudHNfMS5TVE9SRV9OQU1FX01FU1NBR0VfTE9HLF90aGlzLm1heEl0ZW1zPTI1LF90aGlzfXJldHVybiBfX2V4dGVuZHMoTG9nTWVzc2FnZSxfc3VwZXIpLExvZ01lc3NhZ2UucHJvdG90eXBlLmFkZD1mdW5jdGlvbihsb2cpe3JldHVybiB0aGlzLl9hZGQoX19hc3NpZ24oX19hc3NpZ24oe30sbG9nKSx7ZGF0ZTpuZXcgRGF0ZX0pKX0sTG9nTWVzc2FnZX0oTG9nQmFzZSk7ZXhwb3J0cy5Mb2dNZXNzYWdlPUxvZ01lc3NhZ2UsZXhwb3J0cy5rZXlWYWx1ZT1mdW5jdGlvbihuYW1lKXtyZXR1cm57Z2V0OmZ1bmN0aW9uKGtleSxkZWZhdWx0VmFsdWUpe3JldHVybiBnZXRJbnN0YW5jZVdpdGhQcm9taXNlKGZ1bmN0aW9uKGRhdGFiYXNlLHJlc29sdmUscmVqZWN0KXt2YXIgdGltZW91dCxyZXF1ZXN0PWRhdGFiYXNlLnRyYW5zYWN0aW9uKG5hbWUpLm9iamVjdFN0b3JlKG5hbWUpLmdldChrZXkpLGlzQ29tcGxldGU9ITEsaXNFcnJvcj0hMSxjaGVjaz1mdW5jdGlvbigpe2lmKGNsZWFyVGltZW91dCh0aW1lb3V0KSxpc0NvbXBsZXRlKXt2YXIgcmVzdWx0PXJlcXVlc3QucmVzdWx0O3Jlc29sdmUocmVzdWx0JiZyZXN1bHQudmFsdWV8fGRlZmF1bHRWYWx1ZSl9ZWxzZSBpc0Vycm9yP3JlamVjdChyZXF1ZXN0LmVycm9yKTp0aW1lb3V0PXNldFRpbWVvdXQoY2hlY2ssMCl9O3JlcXVlc3Qub25zdWNjZXNzPWZ1bmN0aW9uKCl7cmV0dXJuIGlzQ29tcGxldGU9ITB9LHJlcXVlc3Qub25lcnJvcj1mdW5jdGlvbigpe3JldHVybiBpc0Vycm9yPSEwfSxjaGVjaygpfSl9LGdldEFsbDpmdW5jdGlvbigpe3JldHVybiBnZXRJbnN0YW5jZVdpdGhQcm9taXNlKGZ1bmN0aW9uKGRhdGFiYXNlLHJlc29sdmUscmVqZWN0KXt2YXIgdGltZW91dCxyZXN1bHQ9e30sY3Vyc29yPWRhdGFiYXNlLnRyYW5zYWN0aW9uKG5hbWUpLm9iamVjdFN0b3JlKG5hbWUpLm9wZW5DdXJzb3IoKSxpc0NvbXBsZXRlPSExLGlzRXJyb3I9ITEsY2hlY2s9ZnVuY3Rpb24oKXtjbGVhclRpbWVvdXQodGltZW91dCksaXNDb21wbGV0ZT9yZXNvbHZlKHJlc3VsdCk6aXNFcnJvcj9yZWplY3QoY3Vyc29yLmVycm9yKTp0aW1lb3V0PXNldFRpbWVvdXQoY2hlY2ssMCl9O2N1cnNvci5vbnN1Y2Nlc3M9ZnVuY3Rpb24oZXZlbnQpe3ZhciBjdXJzb3JSZXN1bHQ9ZXZlbnQudGFyZ2V0LnJlc3VsdDtjdXJzb3JSZXN1bHQ/KHJlc3VsdFtjdXJzb3JSZXN1bHQua2V5XT1jdXJzb3JSZXN1bHQudmFsdWUudmFsdWUsY3Vyc29yUmVzdWx0LmNvbnRpbnVlKCkpOmlzQ29tcGxldGU9ITB9LGN1cnNvci5vbmVycm9yPWZ1bmN0aW9uKCl7cmV0dXJuIGlzRXJyb3I9ITB9LGNoZWNrKCl9KX0sZXh0ZW5kOmZ1bmN0aW9uKGtleSx2YWx1ZSl7cmV0dXJuIF9fYXdhaXRlcih0aGlzLHZvaWQgMCx2b2lkIDAsZnVuY3Rpb24oKXt2YXIgb2xkVmFsdWVzLG5ld1ZhbHVlcztyZXR1cm4gX19nZW5lcmF0b3IodGhpcyxmdW5jdGlvbihfYSl7c3dpdGNoKF9hLmxhYmVsKXtjYXNlIDA6cmV0dXJuWzQsdGhpcy5nZXQoa2V5KV07Y2FzZSAxOnJldHVybiBvbGRWYWx1ZXM9X2Euc2VudCgpLG5ld1ZhbHVlcz1fX3Jlc3QodmFsdWUsW10pLFs0LHRoaXMuc2V0KGtleSxfX2Fzc2lnbihfX2Fzc2lnbih7fSxvbGRWYWx1ZXMpLG5ld1ZhbHVlcykpXTtjYXNlIDI6cmV0dXJuIF9hLnNlbnQoKSxbMl19fSl9KX0sc2V0OmZ1bmN0aW9uKGtleSx2YWx1ZSl7cmV0dXJuIGdldEluc3RhbmNlV2l0aFByb21pc2UoZnVuY3Rpb24oZGF0YWJhc2UscmVzb2x2ZSxyZWplY3Qpe3ZhciB0aW1lb3V0LHJlcXVlc3Q9ZGF0YWJhc2UudHJhbnNhY3Rpb24oW25hbWVdLFwicmVhZHdyaXRlXCIpLm9iamVjdFN0b3JlKG5hbWUpLnB1dCh7a2V5OmtleSx2YWx1ZTp2YWx1ZX0pLGlzQ29tcGxldGU9ITEsaXNFcnJvcj0hMSxjaGVjaz1mdW5jdGlvbigpe2NsZWFyVGltZW91dCh0aW1lb3V0KSxpc0NvbXBsZXRlP3Jlc29sdmUoa2V5KTppc0Vycm9yP3JlamVjdChyZXF1ZXN0LmVycm9yKTp0aW1lb3V0PXNldFRpbWVvdXQoY2hlY2ssMCl9O3JlcXVlc3Qub25zdWNjZXNzPWZ1bmN0aW9uKCl7cmV0dXJuIGlzQ29tcGxldGU9ITB9LHJlcXVlc3Qub25lcnJvcj1mdW5jdGlvbigpe3JldHVybiBpc0Vycm9yPSEwfSxjaGVjaygpfSl9fX0oY29uc3RhbnRzXzEuU1RPUkVfTkFNRV9LRVlfVkFMVUUpLGV4cG9ydHMubG9nPW5ldyBMb2dMb2csZXhwb3J0cy5tZXNzYWdlPW5ldyBMb2dNZXNzYWdlfSxmdW5jdGlvbihtb2R1bGUsZXhwb3J0cyxfX3dlYnBhY2tfcmVxdWlyZV9fKXtcInVzZSBzdHJpY3RcIjt2YXIgX19hc3NpZ249dGhpcyYmdGhpcy5fX2Fzc2lnbnx8ZnVuY3Rpb24oKXtyZXR1cm4oX19hc3NpZ249T2JqZWN0LmFzc2lnbnx8ZnVuY3Rpb24odCl7Zm9yKHZhciBzLGk9MSxuPWFyZ3VtZW50cy5sZW5ndGg7aTxuO2krKylmb3IodmFyIHAgaW4gcz1hcmd1bWVudHNbaV0pT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHMscCkmJih0W3BdPXNbcF0pO3JldHVybiB0fSkuYXBwbHkodGhpcyxhcmd1bWVudHMpfSxfX2F3YWl0ZXI9dGhpcyYmdGhpcy5fX2F3YWl0ZXJ8fGZ1bmN0aW9uKHRoaXNBcmcsX2FyZ3VtZW50cyxQLGdlbmVyYXRvcil7cmV0dXJuIG5ldyhQfHwoUD1Qcm9taXNlKSkoZnVuY3Rpb24ocmVzb2x2ZSxyZWplY3Qpe2Z1bmN0aW9uIGZ1bGZpbGxlZCh2YWx1ZSl7dHJ5e3N0ZXAoZ2VuZXJhdG9yLm5leHQodmFsdWUpKX1jYXRjaChlKXtyZWplY3QoZSl9fWZ1bmN0aW9uIHJlamVjdGVkKHZhbHVlKXt0cnl7c3RlcChnZW5lcmF0b3IudGhyb3codmFsdWUpKX1jYXRjaChlKXtyZWplY3QoZSl9fWZ1bmN0aW9uIHN0ZXAocmVzdWx0KXtyZXN1bHQuZG9uZT9yZXNvbHZlKHJlc3VsdC52YWx1ZSk6ZnVuY3Rpb24odmFsdWUpe3JldHVybiB2YWx1ZSBpbnN0YW5jZW9mIFA/dmFsdWU6bmV3IFAoZnVuY3Rpb24ocmVzb2x2ZSl7cmVzb2x2ZSh2YWx1ZSl9KX0ocmVzdWx0LnZhbHVlKS50aGVuKGZ1bGZpbGxlZCxyZWplY3RlZCl9c3RlcCgoZ2VuZXJhdG9yPWdlbmVyYXRvci5hcHBseSh0aGlzQXJnLF9hcmd1bWVudHN8fFtdKSkubmV4dCgpKX0pfSxfX2dlbmVyYXRvcj10aGlzJiZ0aGlzLl9fZ2VuZXJhdG9yfHxmdW5jdGlvbih0aGlzQXJnLGJvZHkpe3ZhciBmLHksdCxnLF89e2xhYmVsOjAsc2VudDpmdW5jdGlvbigpe2lmKDEmdFswXSl0aHJvdyB0WzFdO3JldHVybiB0WzFdfSx0cnlzOltdLG9wczpbXX07cmV0dXJuIGc9e25leHQ6dmVyYigwKSx0aHJvdzp2ZXJiKDEpLHJldHVybjp2ZXJiKDIpfSxcImZ1bmN0aW9uXCI9PXR5cGVvZiBTeW1ib2wmJihnW1N5bWJvbC5pdGVyYXRvcl09ZnVuY3Rpb24oKXtyZXR1cm4gdGhpc30pLGc7ZnVuY3Rpb24gdmVyYihuKXtyZXR1cm4gZnVuY3Rpb24odil7cmV0dXJuIGZ1bmN0aW9uKG9wKXtpZihmKXRocm93IG5ldyBUeXBlRXJyb3IoXCJHZW5lcmF0b3IgaXMgYWxyZWFkeSBleGVjdXRpbmcuXCIpO2Zvcig7XzspdHJ5e2lmKGY9MSx5JiYodD0yJm9wWzBdP3kucmV0dXJuOm9wWzBdP3kudGhyb3d8fCgodD15LnJldHVybikmJnQuY2FsbCh5KSwwKTp5Lm5leHQpJiYhKHQ9dC5jYWxsKHksb3BbMV0pKS5kb25lKXJldHVybiB0O3N3aXRjaCh5PTAsdCYmKG9wPVsyJm9wWzBdLHQudmFsdWVdKSxvcFswXSl7Y2FzZSAwOmNhc2UgMTp0PW9wO2JyZWFrO2Nhc2UgNDpyZXR1cm4gXy5sYWJlbCsrLHt2YWx1ZTpvcFsxXSxkb25lOiExfTtjYXNlIDU6Xy5sYWJlbCsrLHk9b3BbMV0sb3A9WzBdO2NvbnRpbnVlO2Nhc2UgNzpvcD1fLm9wcy5wb3AoKSxfLnRyeXMucG9wKCk7Y29udGludWU7ZGVmYXVsdDppZighKHQ9KHQ9Xy50cnlzKS5sZW5ndGg+MCYmdFt0Lmxlbmd0aC0xXSkmJig2PT09b3BbMF18fDI9PT1vcFswXSkpe189MDtjb250aW51ZX1pZigzPT09b3BbMF0mJighdHx8b3BbMV0+dFswXSYmb3BbMV08dFszXSkpe18ubGFiZWw9b3BbMV07YnJlYWt9aWYoNj09PW9wWzBdJiZfLmxhYmVsPHRbMV0pe18ubGFiZWw9dFsxXSx0PW9wO2JyZWFrfWlmKHQmJl8ubGFiZWw8dFsyXSl7Xy5sYWJlbD10WzJdLF8ub3BzLnB1c2gob3ApO2JyZWFrfXRbMl0mJl8ub3BzLnBvcCgpLF8udHJ5cy5wb3AoKTtjb250aW51ZX1vcD1ib2R5LmNhbGwodGhpc0FyZyxfKX1jYXRjaChlKXtvcD1bNixlXSx5PTB9ZmluYWxseXtmPXQ9MH1pZig1Jm9wWzBdKXRocm93IG9wWzFdO3JldHVybnt2YWx1ZTpvcFswXT9vcFsxXTp2b2lkIDAsZG9uZTohMH19KFtuLHZdKX19fTtPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cyxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KTt2YXIgc3RvcmFnZV8xPV9fd2VicGFja19yZXF1aXJlX18oMyksQ09OU1RBTlRTPV9fd2VicGFja19yZXF1aXJlX18oMSksRGF0YT1mdW5jdGlvbigpe2Z1bmN0aW9uIERhdGEoc3RvcmUpe3ZvaWQgMD09PXN0b3JlJiYoc3RvcmU9c3RvcmFnZV8xLmtleVZhbHVlKSx0aGlzLnN0b3JlPXN0b3JlfXJldHVybiBEYXRhLnByb3RvdHlwZS5jbGVhckFsbD1mdW5jdGlvbigpe3JldHVybiBfX2F3YWl0ZXIodGhpcyx2b2lkIDAsdm9pZCAwLGZ1bmN0aW9uKCl7cmV0dXJuIF9fZ2VuZXJhdG9yKHRoaXMsZnVuY3Rpb24oX2Epe3N3aXRjaChfYS5sYWJlbCl7Y2FzZSAwOnJldHVybls0LHRoaXMuc3RvcmUuc2V0KFwicGFyYW1zLmFwcGxpY2F0aW9uQ29kZVwiLHZvaWQgMCldO2Nhc2UgMTpyZXR1cm4gX2Euc2VudCgpLFs0LHRoaXMuc3RvcmUuc2V0KFwicGFyYW1zLmh3aWRcIix2b2lkIDApXTtjYXNlIDI6cmV0dXJuIF9hLnNlbnQoKSxbNCx0aGlzLnN0b3JlLnNldChcInBhcmFtcy5kZXZpY2VUeXBlXCIsdm9pZCAwKV07Y2FzZSAzOnJldHVybiBfYS5zZW50KCksWzQsdGhpcy5zdG9yZS5zZXQoXCJwYXJhbXMuZGV2aWNlTW9kZWxcIix2b2lkIDApXTtjYXNlIDQ6cmV0dXJuIF9hLnNlbnQoKSxbNCx0aGlzLnN0b3JlLnNldChcInBhcmFtcy5sYW5ndWFnZVwiLHZvaWQgMCldO2Nhc2UgNTpyZXR1cm4gX2Euc2VudCgpLFs0LHRoaXMuc3RvcmUuc2V0KFwicGFyYW1zLmFwaUVudHJ5cG9pbnRcIix2b2lkIDApXTtjYXNlIDY6cmV0dXJuIF9hLnNlbnQoKSxbNCx0aGlzLnN0b3JlLnNldChcInBhcmFtcy50b2tlbnNcIix2b2lkIDApXTtjYXNlIDc6cmV0dXJuIF9hLnNlbnQoKSxbNCx0aGlzLnN0b3JlLnNldChcInBhcmFtcy5hcHBsaWNhdGlvblNlcnZlcktleVwiLHZvaWQgMCldO2Nhc2UgODpyZXR1cm4gX2Euc2VudCgpLFs0LHRoaXMuc3RvcmUuc2V0KFwicGFyYW1zLnNlbmRlcklkXCIsdm9pZCAwKV07Y2FzZSA5OnJldHVybiBfYS5zZW50KCksWzQsdGhpcy5zdG9yZS5zZXQoXCJwYXJhbXMud2ViU2l0ZVB1c2hJZFwiLHZvaWQgMCldO2Nhc2UgMTA6cmV0dXJuIF9hLnNlbnQoKSxbNCx0aGlzLnN0b3JlLnNldChcInBhcmFtcy5kZWZhdWx0Tm90aWZpY2F0aW9uSW1hZ2VcIix2b2lkIDApXTtjYXNlIDExOnJldHVybiBfYS5zZW50KCksWzQsdGhpcy5zdG9yZS5zZXQoXCJwYXJhbXMuZGVmYXVsdE5vdGlmaWNhdGlvblRpdGxlXCIsdm9pZCAwKV07Y2FzZSAxMjpyZXR1cm4gX2Euc2VudCgpLFs0LHRoaXMuc3RvcmUuc2V0KFwicGFyYW1zLnVzZXJJZFwiLHZvaWQgMCldO2Nhc2UgMTM6cmV0dXJuIF9hLnNlbnQoKSxbNCx0aGlzLnN0b3JlLnNldChcInBhcmFtcy51c2VySWRXYXNDaGFuZ2VkXCIsdm9pZCAwKV07Y2FzZSAxNDpyZXR1cm4gX2Euc2VudCgpLFs0LHRoaXMuc3RvcmUuc2V0KFwicGFyYW1zLmlzTGFzdFBlcm1pc3Npb25TdGF0dXNcIix2b2lkIDApXTtjYXNlIDE1OnJldHVybiBfYS5zZW50KCksWzQsdGhpcy5zdG9yZS5zZXQoXCJwYXJhbXMuaXNNYW51YWxVbnN1YnNjcmliZWRcIix2b2lkIDApXTtjYXNlIDE2OnJldHVybiBfYS5zZW50KCksWzQsdGhpcy5zdG9yZS5zZXQoXCJwYXJhbXMuaXNDb21tdW5pY2F0aW9uRGlzYWJsZWRcIix2b2lkIDApXTtjYXNlIDE3OnJldHVybiBfYS5zZW50KCksWzQsdGhpcy5zdG9yZS5zZXQoXCJwYXJhbXMuaXNEcm9wQWxsRGF0YVwiLHZvaWQgMCldO2Nhc2UgMTg6cmV0dXJuIF9hLnNlbnQoKSxbNCx0aGlzLnN0b3JlLnNldChcInBhcmFtcy5zZGtWZXJzaW9uXCIsdm9pZCAwKV07Y2FzZSAxOTpyZXR1cm4gX2Euc2VudCgpLFs0LHRoaXMuc3RvcmUuc2V0KFwicGFyYW1zLnNlcnZpY2VXb3JrZXJWZXJzaW9uXCIsdm9pZCAwKV07Y2FzZSAyMDpyZXR1cm4gX2Euc2VudCgpLFs0LHRoaXMuc3RvcmUuc2V0KFwicGFyYW1zLnNlcnZpY2VXb3JrZXJVcmxcIix2b2lkIDApXTtjYXNlIDIxOnJldHVybiBfYS5zZW50KCksWzQsdGhpcy5zdG9yZS5zZXQoXCJwYXJhbXMuc2VydmljZVdvcmtlclNjb3BlXCIsdm9pZCAwKV07Y2FzZSAyMjpyZXR1cm4gX2Euc2VudCgpLFs0LHRoaXMuc3RvcmUuc2V0KFwicGFyYW1zLmxhc3RPcGVuTWVzc2FnZVwiLHZvaWQgMCldO2Nhc2UgMjM6cmV0dXJuIF9hLnNlbnQoKSxbNCx0aGlzLnN0b3JlLnNldChcInBhcmFtcy5sYXN0T3BlbkFwcGxpY2F0aW9uVGltZVwiLHZvaWQgMCldO2Nhc2UgMjQ6cmV0dXJuIF9hLnNlbnQoKSxbNCx0aGlzLnN0b3JlLnNldChcInBhcmFtcy5mZWF0dXJlc1wiLHZvaWQgMCldO2Nhc2UgMjU6cmV0dXJuIF9hLnNlbnQoKSxbNCx0aGlzLnN0b3JlLnNldChcInBhcmFtcy5pbml0XCIsdm9pZCAwKV07Y2FzZSAyNjpyZXR1cm4gX2Euc2VudCgpLFs0LHRoaXMuc3RvcmUuc2V0KFwiQVBJX1BBUkFNU1wiLHZvaWQgMCldO2Nhc2UgMjc6cmV0dXJuIF9hLnNlbnQoKSxbNCx0aGlzLnN0b3JlLnNldChcIlNFTkRFUl9JRFwiLHZvaWQgMCldO2Nhc2UgMjg6cmV0dXJuIF9hLnNlbnQoKSxbNCx0aGlzLnN0b3JlLnNldChcIkNPTU1VTklDQVRJT05fRU5BQkxFRFwiLHZvaWQgMCldO2Nhc2UgMjk6cmV0dXJuIF9hLnNlbnQoKSxbNCx0aGlzLnN0b3JlLnNldChcIkRFVklDRV9EQVRBX1JFTU9WRURcIix2b2lkIDApXTtjYXNlIDMwOnJldHVybiBfYS5zZW50KCksWzQsdGhpcy5zdG9yZS5zZXQoXCJMQVNUX09QRU5fTUVTU0FHRVwiLHZvaWQgMCldO2Nhc2UgMzE6cmV0dXJuIF9hLnNlbnQoKSxbNCx0aGlzLnN0b3JlLnNldChcIkRFTEFZRURfRVZFTlRcIix2b2lkIDApXTtjYXNlIDMyOnJldHVybiBfYS5zZW50KCksWzJdfX0pfSl9LERhdGEucHJvdG90eXBlLnNldEFwcGxpY2F0aW9uQ29kZT1mdW5jdGlvbihhcHBsaWNhdGlvbil7cmV0dXJuIF9fYXdhaXRlcih0aGlzLHZvaWQgMCx2b2lkIDAsZnVuY3Rpb24oKXtyZXR1cm4gX19nZW5lcmF0b3IodGhpcyxmdW5jdGlvbihfYSl7c3dpdGNoKF9hLmxhYmVsKXtjYXNlIDA6cmV0dXJuWzQsdGhpcy5zdG9yZS5zZXQoXCJwYXJhbXMuYXBwbGljYXRpb25Db2RlXCIsYXBwbGljYXRpb24pXTtjYXNlIDE6cmV0dXJuIF9hLnNlbnQoKSxbMl19fSl9KX0sRGF0YS5wcm90b3R5cGUuZ2V0QXBwbGljYXRpb25Db2RlPWZ1bmN0aW9uKCl7cmV0dXJuIF9fYXdhaXRlcih0aGlzLHZvaWQgMCx2b2lkIDAsZnVuY3Rpb24oKXtyZXR1cm4gX19nZW5lcmF0b3IodGhpcyxmdW5jdGlvbihfYSl7c3dpdGNoKF9hLmxhYmVsKXtjYXNlIDA6cmV0dXJuWzQsdGhpcy5zdG9yZS5nZXQoXCJwYXJhbXMuYXBwbGljYXRpb25Db2RlXCIpXTtjYXNlIDE6cmV0dXJuWzIsX2Euc2VudCgpXX19KX0pfSxEYXRhLnByb3RvdHlwZS5zZXRId2lkPWZ1bmN0aW9uKGh3aWQpe3JldHVybiBfX2F3YWl0ZXIodGhpcyx2b2lkIDAsdm9pZCAwLGZ1bmN0aW9uKCl7cmV0dXJuIF9fZ2VuZXJhdG9yKHRoaXMsZnVuY3Rpb24oX2Epe3N3aXRjaChfYS5sYWJlbCl7Y2FzZSAwOnJldHVybls0LHRoaXMuc3RvcmUuc2V0KFwicGFyYW1zLmh3aWRcIixod2lkKV07Y2FzZSAxOnJldHVybiBfYS5zZW50KCksWzJdfX0pfSl9LERhdGEucHJvdG90eXBlLmdldEh3aWQ9ZnVuY3Rpb24oKXtyZXR1cm4gX19hd2FpdGVyKHRoaXMsdm9pZCAwLHZvaWQgMCxmdW5jdGlvbigpe3JldHVybiBfX2dlbmVyYXRvcih0aGlzLGZ1bmN0aW9uKF9hKXtzd2l0Y2goX2EubGFiZWwpe2Nhc2UgMDpyZXR1cm5bNCx0aGlzLnN0b3JlLmdldChcInBhcmFtcy5od2lkXCIpXTtjYXNlIDE6cmV0dXJuWzIsX2Euc2VudCgpXX19KX0pfSxEYXRhLnByb3RvdHlwZS5zZXREZXZpY2VUeXBlPWZ1bmN0aW9uKHR5cGUpe3JldHVybiBfX2F3YWl0ZXIodGhpcyx2b2lkIDAsdm9pZCAwLGZ1bmN0aW9uKCl7cmV0dXJuIF9fZ2VuZXJhdG9yKHRoaXMsZnVuY3Rpb24oX2Epe3N3aXRjaChfYS5sYWJlbCl7Y2FzZSAwOnJldHVybls0LHRoaXMuc3RvcmUuc2V0KFwicGFyYW1zLmRldmljZVR5cGVcIix0eXBlKV07Y2FzZSAxOnJldHVybiBfYS5zZW50KCksWzJdfX0pfSl9LERhdGEucHJvdG90eXBlLmdldERldmljZVR5cGU9ZnVuY3Rpb24oKXtyZXR1cm4gX19hd2FpdGVyKHRoaXMsdm9pZCAwLHZvaWQgMCxmdW5jdGlvbigpe3JldHVybiBfX2dlbmVyYXRvcih0aGlzLGZ1bmN0aW9uKF9hKXtzd2l0Y2goX2EubGFiZWwpe2Nhc2UgMDpyZXR1cm5bNCx0aGlzLnN0b3JlLmdldChcInBhcmFtcy5kZXZpY2VUeXBlXCIpXTtjYXNlIDE6cmV0dXJuWzIsX2Euc2VudCgpXX19KX0pfSxEYXRhLnByb3RvdHlwZS5zZXREZXZpY2VNb2RlbD1mdW5jdGlvbihtb2RlbCl7cmV0dXJuIF9fYXdhaXRlcih0aGlzLHZvaWQgMCx2b2lkIDAsZnVuY3Rpb24oKXtyZXR1cm4gX19nZW5lcmF0b3IodGhpcyxmdW5jdGlvbihfYSl7c3dpdGNoKF9hLmxhYmVsKXtjYXNlIDA6cmV0dXJuWzQsdGhpcy5zdG9yZS5zZXQoXCJwYXJhbXMuZGV2aWNlTW9kZWxcIixtb2RlbCldO2Nhc2UgMTpyZXR1cm4gX2Euc2VudCgpLFsyXX19KX0pfSxEYXRhLnByb3RvdHlwZS5nZXREZXZpY2VNb2RlbD1mdW5jdGlvbigpe3JldHVybiBfX2F3YWl0ZXIodGhpcyx2b2lkIDAsdm9pZCAwLGZ1bmN0aW9uKCl7cmV0dXJuIF9fZ2VuZXJhdG9yKHRoaXMsZnVuY3Rpb24oX2Epe3N3aXRjaChfYS5sYWJlbCl7Y2FzZSAwOnJldHVybls0LHRoaXMuc3RvcmUuZ2V0KFwicGFyYW1zLmRldmljZU1vZGVsXCIpXTtjYXNlIDE6cmV0dXJuWzIsX2Euc2VudCgpXX19KX0pfSxEYXRhLnByb3RvdHlwZS5zZXRMYW5ndWFnZT1mdW5jdGlvbihsYW5ndWFnZSl7cmV0dXJuIF9fYXdhaXRlcih0aGlzLHZvaWQgMCx2b2lkIDAsZnVuY3Rpb24oKXtyZXR1cm4gX19nZW5lcmF0b3IodGhpcyxmdW5jdGlvbihfYSl7c3dpdGNoKF9hLmxhYmVsKXtjYXNlIDA6cmV0dXJuWzQsdGhpcy5zdG9yZS5zZXQoXCJwYXJhbXMubGFuZ3VhZ2VcIixsYW5ndWFnZSldO2Nhc2UgMTpyZXR1cm4gX2Euc2VudCgpLFsyXX19KX0pfSxEYXRhLnByb3RvdHlwZS5nZXRMYW5ndWFnZT1mdW5jdGlvbigpe3JldHVybiBfX2F3YWl0ZXIodGhpcyx2b2lkIDAsdm9pZCAwLGZ1bmN0aW9uKCl7cmV0dXJuIF9fZ2VuZXJhdG9yKHRoaXMsZnVuY3Rpb24oX2Epe3N3aXRjaChfYS5sYWJlbCl7Y2FzZSAwOnJldHVybls0LHRoaXMuc3RvcmUuZ2V0KFwicGFyYW1zLmxhbmd1YWdlXCIsXCJlblwiKV07Y2FzZSAxOnJldHVyblsyLF9hLnNlbnQoKV19fSl9KX0sRGF0YS5wcm90b3R5cGUuc2V0QXBpRW50cnlwb2ludD1mdW5jdGlvbih1cmwpe3JldHVybiBfX2F3YWl0ZXIodGhpcyx2b2lkIDAsdm9pZCAwLGZ1bmN0aW9uKCl7cmV0dXJuIF9fZ2VuZXJhdG9yKHRoaXMsZnVuY3Rpb24oX2Epe3N3aXRjaChfYS5sYWJlbCl7Y2FzZSAwOnJldHVybls0LHRoaXMuc3RvcmUuc2V0KFwicGFyYW1zLmFwaUVudHJ5cG9pbnRcIix1cmwpXTtjYXNlIDE6cmV0dXJuIF9hLnNlbnQoKSxbMl19fSl9KX0sRGF0YS5wcm90b3R5cGUuZ2V0QXBpRW50cnlwb2ludD1mdW5jdGlvbigpe3JldHVybiBfX2F3YWl0ZXIodGhpcyx2b2lkIDAsdm9pZCAwLGZ1bmN0aW9uKCl7cmV0dXJuIF9fZ2VuZXJhdG9yKHRoaXMsZnVuY3Rpb24oX2Epe3N3aXRjaChfYS5sYWJlbCl7Y2FzZSAwOnJldHVybls0LHRoaXMuc3RvcmUuZ2V0KFwicGFyYW1zLmFwaUVudHJ5cG9pbnRcIixDT05TVEFOVFMuREVGQVVMVF9BUElfVVJMKV07Y2FzZSAxOnJldHVyblsyLF9hLnNlbnQoKV19fSl9KX0sRGF0YS5wcm90b3R5cGUuc2V0VG9rZW5zPWZ1bmN0aW9uKHRva2Vucyl7cmV0dXJuIF9fYXdhaXRlcih0aGlzLHZvaWQgMCx2b2lkIDAsZnVuY3Rpb24oKXt2YXIgaHdpZDtyZXR1cm4gX19nZW5lcmF0b3IodGhpcyxmdW5jdGlvbihfYSl7c3dpdGNoKF9hLmxhYmVsKXtjYXNlIDA6cmV0dXJuWzQsdGhpcy5nZXRId2lkKCldO2Nhc2UgMTpyZXR1cm4gaHdpZD1fYS5zZW50KCksWzQsdGhpcy5zdG9yZS5zZXQoXCJBUElfUEFSQU1TXCIsX19hc3NpZ24oe2h3aWQ6aHdpZH0sdG9rZW5zKSldO2Nhc2UgMjpyZXR1cm4gX2Euc2VudCgpLFs0LHRoaXMuc3RvcmUuc2V0KFwicGFyYW1zLnRva2Vuc1wiLHRva2VucyldO2Nhc2UgMzpyZXR1cm4gX2Euc2VudCgpLFsyXX19KX0pfSxEYXRhLnByb3RvdHlwZS5nZXRUb2tlbnM9ZnVuY3Rpb24oKXtyZXR1cm4gX19hd2FpdGVyKHRoaXMsdm9pZCAwLHZvaWQgMCxmdW5jdGlvbigpe3ZhciBvbGRWYWx1ZSxuZXdWYWx1ZTtyZXR1cm4gX19nZW5lcmF0b3IodGhpcyxmdW5jdGlvbihfYSl7c3dpdGNoKF9hLmxhYmVsKXtjYXNlIDA6cmV0dXJuWzQsdGhpcy5zdG9yZS5nZXQoXCJBUElfUEFSQU1TXCIpXTtjYXNlIDE6cmV0dXJuIG9sZFZhbHVlPV9hLnNlbnQoKSxbNCx0aGlzLnN0b3JlLmdldChcInBhcmFtcy50b2tlbnNcIildO2Nhc2UgMjpyZXR1cm5bMix2b2lkIDAhPT0obmV3VmFsdWU9X2Euc2VudCgpKT9uZXdWYWx1ZTpvbGRWYWx1ZV19fSl9KX0sRGF0YS5wcm90b3R5cGUuc2V0QXBwbGljYXRpb25TZXJ2ZXJLZXk9ZnVuY3Rpb24oa2V5KXtyZXR1cm4gX19hd2FpdGVyKHRoaXMsdm9pZCAwLHZvaWQgMCxmdW5jdGlvbigpe3JldHVybiBfX2dlbmVyYXRvcih0aGlzLGZ1bmN0aW9uKF9hKXtzd2l0Y2goX2EubGFiZWwpe2Nhc2UgMDpyZXR1cm5bNCx0aGlzLnN0b3JlLnNldChcInBhcmFtcy5hcHBsaWNhdGlvblNlcnZlcktleVwiLGtleSldO2Nhc2UgMTpyZXR1cm4gX2Euc2VudCgpLFsyXX19KX0pfSxEYXRhLnByb3RvdHlwZS5nZXRBcHBsaWNhdGlvblNlcnZlcktleT1mdW5jdGlvbigpe3JldHVybiBfX2F3YWl0ZXIodGhpcyx2b2lkIDAsdm9pZCAwLGZ1bmN0aW9uKCl7cmV0dXJuIF9fZ2VuZXJhdG9yKHRoaXMsZnVuY3Rpb24oX2Epe3N3aXRjaChfYS5sYWJlbCl7Y2FzZSAwOnJldHVybls0LHRoaXMuc3RvcmUuZ2V0KFwicGFyYW1zLmFwcGxpY2F0aW9uU2VydmVyS2V5XCIpXTtjYXNlIDE6cmV0dXJuWzIsX2Euc2VudCgpXX19KX0pfSxEYXRhLnByb3RvdHlwZS5zZXRTZW5kZXJJZD1mdW5jdGlvbihzZW5kZXJJZCl7cmV0dXJuIF9fYXdhaXRlcih0aGlzLHZvaWQgMCx2b2lkIDAsZnVuY3Rpb24oKXtyZXR1cm4gX19nZW5lcmF0b3IodGhpcyxmdW5jdGlvbihfYSl7c3dpdGNoKF9hLmxhYmVsKXtjYXNlIDA6cmV0dXJuWzQsdGhpcy5zdG9yZS5zZXQoXCJHQ01fU0VOREVSX0lEXCIsc2VuZGVySWQpXTtjYXNlIDE6cmV0dXJuIF9hLnNlbnQoKSxbNCx0aGlzLnN0b3JlLnNldChcInBhcmFtcy5zZW5kZXJJZFwiLHNlbmRlcklkKV07Y2FzZSAyOnJldHVybiBfYS5zZW50KCksWzJdfX0pfSl9LERhdGEucHJvdG90eXBlLmdldFNlbmRlcklkPWZ1bmN0aW9uKCl7cmV0dXJuIF9fYXdhaXRlcih0aGlzLHZvaWQgMCx2b2lkIDAsZnVuY3Rpb24oKXt2YXIgb2xkVmFsdWUsbmV3VmFsdWU7cmV0dXJuIF9fZ2VuZXJhdG9yKHRoaXMsZnVuY3Rpb24oX2Epe3N3aXRjaChfYS5sYWJlbCl7Y2FzZSAwOnJldHVybls0LHRoaXMuc3RvcmUuZ2V0KFwiR0NNX1NFTkRFUl9JRFwiKV07Y2FzZSAxOnJldHVybiBvbGRWYWx1ZT1fYS5zZW50KCksWzQsdGhpcy5zdG9yZS5nZXQoXCJwYXJhbXMuc2VuZGVySWRcIildO2Nhc2UgMjpyZXR1cm5bMix2b2lkIDAhPT0obmV3VmFsdWU9X2Euc2VudCgpKT9uZXdWYWx1ZTpvbGRWYWx1ZV19fSl9KX0sRGF0YS5wcm90b3R5cGUuc2V0V2ViU2l0ZVB1c2hJZD1mdW5jdGlvbihzZW5kZXJJZCl7cmV0dXJuIF9fYXdhaXRlcih0aGlzLHZvaWQgMCx2b2lkIDAsZnVuY3Rpb24oKXtyZXR1cm4gX19nZW5lcmF0b3IodGhpcyxmdW5jdGlvbihfYSl7c3dpdGNoKF9hLmxhYmVsKXtjYXNlIDA6cmV0dXJuWzQsdGhpcy5zdG9yZS5zZXQoXCJwYXJhbXMud2ViU2l0ZVB1c2hJZFwiLHNlbmRlcklkKV07Y2FzZSAxOnJldHVybiBfYS5zZW50KCksWzJdfX0pfSl9LERhdGEucHJvdG90eXBlLmdldFdlYlNpdGVQdXNoSWQ9ZnVuY3Rpb24oKXtyZXR1cm4gX19hd2FpdGVyKHRoaXMsdm9pZCAwLHZvaWQgMCxmdW5jdGlvbigpe3JldHVybiBfX2dlbmVyYXRvcih0aGlzLGZ1bmN0aW9uKF9hKXtzd2l0Y2goX2EubGFiZWwpe2Nhc2UgMDpyZXR1cm5bNCx0aGlzLnN0b3JlLmdldChcInBhcmFtcy53ZWJTaXRlUHVzaElkXCIpXTtjYXNlIDE6cmV0dXJuWzIsX2Euc2VudCgpXX19KX0pfSxEYXRhLnByb3RvdHlwZS5zZXREZWZhdWx0Tm90aWZpY2F0aW9uSW1hZ2U9ZnVuY3Rpb24odXJsKXtyZXR1cm4gX19hd2FpdGVyKHRoaXMsdm9pZCAwLHZvaWQgMCxmdW5jdGlvbigpe3JldHVybiBfX2dlbmVyYXRvcih0aGlzLGZ1bmN0aW9uKF9hKXtzd2l0Y2goX2EubGFiZWwpe2Nhc2UgMDpyZXR1cm5bNCx0aGlzLnN0b3JlLnNldChcInBhcmFtcy5kZWZhdWx0Tm90aWZpY2F0aW9uSW1hZ2VcIix1cmwpXTtjYXNlIDE6cmV0dXJuIF9hLnNlbnQoKSxbMl19fSl9KX0sRGF0YS5wcm90b3R5cGUuZ2V0RGVmYXVsdE5vdGlmaWNhdGlvbkltYWdlPWZ1bmN0aW9uKCl7cmV0dXJuIF9fYXdhaXRlcih0aGlzLHZvaWQgMCx2b2lkIDAsZnVuY3Rpb24oKXtyZXR1cm4gX19nZW5lcmF0b3IodGhpcyxmdW5jdGlvbihfYSl7c3dpdGNoKF9hLmxhYmVsKXtjYXNlIDA6cmV0dXJuWzQsdGhpcy5zdG9yZS5nZXQoXCJwYXJhbXMuZGVmYXVsdE5vdGlmaWNhdGlvbkltYWdlXCIsQ09OU1RBTlRTLkRFRkFVTFRfTk9USUZJQ0FUSU9OX0lNQUdFKV07Y2FzZSAxOnJldHVyblsyLF9hLnNlbnQoKV19fSl9KX0sRGF0YS5wcm90b3R5cGUuc2V0RGVmYXVsdE5vdGlmaWNhdGlvblRpdGxlPWZ1bmN0aW9uKHRleHQpe3JldHVybiBfX2F3YWl0ZXIodGhpcyx2b2lkIDAsdm9pZCAwLGZ1bmN0aW9uKCl7cmV0dXJuIF9fZ2VuZXJhdG9yKHRoaXMsZnVuY3Rpb24oX2Epe3N3aXRjaChfYS5sYWJlbCl7Y2FzZSAwOnJldHVybls0LHRoaXMuc3RvcmUuc2V0KFwicGFyYW1zLmRlZmF1bHROb3RpZmljYXRpb25UaXRsZVwiLHRleHQpXTtjYXNlIDE6cmV0dXJuIF9hLnNlbnQoKSxbMl19fSl9KX0sRGF0YS5wcm90b3R5cGUuZ2V0RGVmYXVsdE5vdGlmaWNhdGlvblRpdGxlPWZ1bmN0aW9uKCl7cmV0dXJuIF9fYXdhaXRlcih0aGlzLHZvaWQgMCx2b2lkIDAsZnVuY3Rpb24oKXtyZXR1cm4gX19nZW5lcmF0b3IodGhpcyxmdW5jdGlvbihfYSl7c3dpdGNoKF9hLmxhYmVsKXtjYXNlIDA6cmV0dXJuWzQsdGhpcy5zdG9yZS5nZXQoXCJwYXJhbXMuZGVmYXVsdE5vdGlmaWNhdGlvblRpdGxlXCIsQ09OU1RBTlRTLkRFRkFVTFRfTk9USUZJQ0FUSU9OX1RJVExFKV07Y2FzZSAxOnJldHVyblsyLF9hLnNlbnQoKV19fSl9KX0sRGF0YS5wcm90b3R5cGUuc2V0VXNlcklkPWZ1bmN0aW9uKHVzZXJJZCl7cmV0dXJuIF9fYXdhaXRlcih0aGlzLHZvaWQgMCx2b2lkIDAsZnVuY3Rpb24oKXtyZXR1cm4gX19nZW5lcmF0b3IodGhpcyxmdW5jdGlvbihfYSl7c3dpdGNoKF9hLmxhYmVsKXtjYXNlIDA6cmV0dXJuIHVzZXJJZD9bMywyXTpbNCx0aGlzLnN0b3JlLnNldChcInBhcmFtcy51c2VySWRcIix2b2lkIDApXTtjYXNlIDE6cmV0dXJuIF9hLnNlbnQoKSxbMl07Y2FzZSAyOnJldHVybls0LHRoaXMuc3RvcmUuc2V0KFwicGFyYW1zLnVzZXJJZFwiLHVzZXJJZC50b1N0cmluZygpKV07Y2FzZSAzOnJldHVybiBfYS5zZW50KCksWzJdfX0pfSl9LERhdGEucHJvdG90eXBlLmdldFVzZXJJZD1mdW5jdGlvbigpe3JldHVybiBfX2F3YWl0ZXIodGhpcyx2b2lkIDAsdm9pZCAwLGZ1bmN0aW9uKCl7cmV0dXJuIF9fZ2VuZXJhdG9yKHRoaXMsZnVuY3Rpb24oX2Epe3N3aXRjaChfYS5sYWJlbCl7Y2FzZSAwOnJldHVybls0LHRoaXMuc3RvcmUuZ2V0KFwicGFyYW1zLnVzZXJJZFwiKV07Y2FzZSAxOnJldHVyblsyLF9hLnNlbnQoKV19fSl9KX0sRGF0YS5wcm90b3R5cGUuc2V0U3RhdHVzVXNlcklkV2FzQ2hhbmdlZD1mdW5jdGlvbihzdGF0dXMpe3JldHVybiBfX2F3YWl0ZXIodGhpcyx2b2lkIDAsdm9pZCAwLGZ1bmN0aW9uKCl7cmV0dXJuIF9fZ2VuZXJhdG9yKHRoaXMsZnVuY3Rpb24oX2Epe3N3aXRjaChfYS5sYWJlbCl7Y2FzZSAwOnJldHVybls0LHRoaXMuc3RvcmUuc2V0KFwicGFyYW1zLnVzZXJJZFdhc0NoYW5nZWRcIixzdGF0dXMpXTtjYXNlIDE6cmV0dXJuIF9hLnNlbnQoKSxbMl19fSl9KX0sRGF0YS5wcm90b3R5cGUuZ2V0U3RhdHVzVXNlcklkV2FzQ2hhbmdlZD1mdW5jdGlvbigpe3JldHVybiBfX2F3YWl0ZXIodGhpcyx2b2lkIDAsdm9pZCAwLGZ1bmN0aW9uKCl7cmV0dXJuIF9fZ2VuZXJhdG9yKHRoaXMsZnVuY3Rpb24oX2Epe3N3aXRjaChfYS5sYWJlbCl7Y2FzZSAwOnJldHVybls0LHRoaXMuc3RvcmUuZ2V0KFwicGFyYW1zLnVzZXJJZFdhc0NoYW5nZWRcIiwhMSldO2Nhc2UgMTpyZXR1cm5bMixfYS5zZW50KCldfX0pfSl9LERhdGEucHJvdG90eXBlLnNldExhc3RQZXJtaXNzaW9uU3RhdHVzPWZ1bmN0aW9uKHN0YXR1cyl7cmV0dXJuIF9fYXdhaXRlcih0aGlzLHZvaWQgMCx2b2lkIDAsZnVuY3Rpb24oKXtyZXR1cm4gX19nZW5lcmF0b3IodGhpcyxmdW5jdGlvbihfYSl7c3dpdGNoKF9hLmxhYmVsKXtjYXNlIDA6cmV0dXJuWzQsdGhpcy5zdG9yZS5zZXQoXCJwYXJhbXMuaXNMYXN0UGVybWlzc2lvblN0YXR1c1wiLHN0YXR1cyldO2Nhc2UgMTpyZXR1cm4gX2Euc2VudCgpLFsyXX19KX0pfSxEYXRhLnByb3RvdHlwZS5nZXRMYXN0UGVybWlzc2lvblN0YXR1cz1mdW5jdGlvbigpe3JldHVybiBfX2F3YWl0ZXIodGhpcyx2b2lkIDAsdm9pZCAwLGZ1bmN0aW9uKCl7cmV0dXJuIF9fZ2VuZXJhdG9yKHRoaXMsZnVuY3Rpb24oX2Epe3N3aXRjaChfYS5sYWJlbCl7Y2FzZSAwOnJldHVybls0LHRoaXMuc3RvcmUuZ2V0KFwicGFyYW1zLmlzTGFzdFBlcm1pc3Npb25TdGF0dXNcIildO2Nhc2UgMTpyZXR1cm5bMixfYS5zZW50KCldfX0pfSl9LERhdGEucHJvdG90eXBlLnNldFN0YXR1c01hbnVhbFVuc3Vic2NyaWJlZD1mdW5jdGlvbihzdGF0dXMpe3JldHVybiBfX2F3YWl0ZXIodGhpcyx2b2lkIDAsdm9pZCAwLGZ1bmN0aW9uKCl7cmV0dXJuIF9fZ2VuZXJhdG9yKHRoaXMsZnVuY3Rpb24oX2Epe3N3aXRjaChfYS5sYWJlbCl7Y2FzZSAwOnJldHVybls0LHRoaXMuc3RvcmUuc2V0KFwiTUFOVUFMX1VOU1VCU0NSSUJFXCIsc3RhdHVzKV07Y2FzZSAxOnJldHVybiBfYS5zZW50KCksWzQsdGhpcy5zdG9yZS5zZXQoXCJwYXJhbXMuaXNNYW51YWxVbnN1YnNjcmliZWRcIixzdGF0dXMpXTtjYXNlIDI6cmV0dXJuIF9hLnNlbnQoKSxbMl19fSl9KX0sRGF0YS5wcm90b3R5cGUuZ2V0U3RhdHVzTWFudWFsVW5zdWJzY3JpYmVkPWZ1bmN0aW9uKCl7cmV0dXJuIF9fYXdhaXRlcih0aGlzLHZvaWQgMCx2b2lkIDAsZnVuY3Rpb24oKXt2YXIgb2xkVmFsdWUsbmV3VmFsdWU7cmV0dXJuIF9fZ2VuZXJhdG9yKHRoaXMsZnVuY3Rpb24oX2Epe3N3aXRjaChfYS5sYWJlbCl7Y2FzZSAwOnJldHVybls0LHRoaXMuc3RvcmUuZ2V0KFwiTUFOVUFMX1VOU1VCU0NSSUJFXCIsITEpXTtjYXNlIDE6cmV0dXJuIG9sZFZhbHVlPV9hLnNlbnQoKSxbNCx0aGlzLnN0b3JlLmdldChcInBhcmFtcy5pc01hbnVhbFVuc3Vic2NyaWJlZFwiLCExKV07Y2FzZSAyOnJldHVyblsyLHZvaWQgMCE9PShuZXdWYWx1ZT1fYS5zZW50KCkpP25ld1ZhbHVlOm9sZFZhbHVlXX19KX0pfSxEYXRhLnByb3RvdHlwZS5zZXRTdGF0dXNDb21tdW5pY2F0aW9uRGlzYWJsZWQ9ZnVuY3Rpb24oc3RhdHVzKXtyZXR1cm4gX19hd2FpdGVyKHRoaXMsdm9pZCAwLHZvaWQgMCxmdW5jdGlvbigpe3JldHVybiBfX2dlbmVyYXRvcih0aGlzLGZ1bmN0aW9uKF9hKXtzd2l0Y2goX2EubGFiZWwpe2Nhc2UgMDpyZXR1cm5bNCx0aGlzLnN0b3JlLnNldChcIkNPTU1VTklDQVRJT05fRU5BQkxFRFwiLHN0YXR1cz8wOjEpXTtjYXNlIDE6cmV0dXJuIF9hLnNlbnQoKSxbNCx0aGlzLnN0b3JlLnNldChcInBhcmFtcy5pc0NvbW11bmljYXRpb25EaXNhYmxlZFwiLHN0YXR1cyldO2Nhc2UgMjpyZXR1cm4gX2Euc2VudCgpLFsyXX19KX0pfSxEYXRhLnByb3RvdHlwZS5nZXRTdGF0dXNDb21tdW5pY2F0aW9uRGlzYWJsZWQ9ZnVuY3Rpb24oKXtyZXR1cm4gX19hd2FpdGVyKHRoaXMsdm9pZCAwLHZvaWQgMCxmdW5jdGlvbigpe3ZhciBvbGRWYWx1ZSxuZXdWYWx1ZTtyZXR1cm4gX19nZW5lcmF0b3IodGhpcyxmdW5jdGlvbihfYSl7c3dpdGNoKF9hLmxhYmVsKXtjYXNlIDA6cmV0dXJuWzQsdGhpcy5zdG9yZS5nZXQoXCJDT01NVU5JQ0FUSU9OX0VOQUJMRURcIildO2Nhc2UgMTpyZXR1cm4gb2xkVmFsdWU9X2Euc2VudCgpLFs0LHRoaXMuc3RvcmUuZ2V0KFwicGFyYW1zLmlzQ29tbXVuaWNhdGlvbkRpc2FibGVkXCIsITEpXTtjYXNlIDI6cmV0dXJuWzIsdm9pZCAwIT09KG5ld1ZhbHVlPV9hLnNlbnQoKSk/bmV3VmFsdWU6MD09b2xkVmFsdWVdfX0pfSl9LERhdGEucHJvdG90eXBlLnNldFN0YXR1c0Ryb3BBbGxEYXRhPWZ1bmN0aW9uKHN0YXR1cyl7cmV0dXJuIF9fYXdhaXRlcih0aGlzLHZvaWQgMCx2b2lkIDAsZnVuY3Rpb24oKXtyZXR1cm4gX19nZW5lcmF0b3IodGhpcyxmdW5jdGlvbihfYSl7c3dpdGNoKF9hLmxhYmVsKXtjYXNlIDA6cmV0dXJuWzQsdGhpcy5zdG9yZS5zZXQoXCJERVZJQ0VfREFUQV9SRU1PVkVEXCIsc3RhdHVzKV07Y2FzZSAxOnJldHVybiBfYS5zZW50KCksWzQsdGhpcy5zdG9yZS5zZXQoXCJwYXJhbXMuaXNEcm9wQWxsRGF0YVwiLHN0YXR1cyldO2Nhc2UgMjpyZXR1cm4gX2Euc2VudCgpLFsyXX19KX0pfSxEYXRhLnByb3RvdHlwZS5nZXRTdGF0dXNEcm9wQWxsRGF0YT1mdW5jdGlvbigpe3JldHVybiBfX2F3YWl0ZXIodGhpcyx2b2lkIDAsdm9pZCAwLGZ1bmN0aW9uKCl7dmFyIG9sZFZhbHVlLG5ld1ZhbHVlO3JldHVybiBfX2dlbmVyYXRvcih0aGlzLGZ1bmN0aW9uKF9hKXtzd2l0Y2goX2EubGFiZWwpe2Nhc2UgMDpyZXR1cm5bNCx0aGlzLnN0b3JlLmdldChcIkRFVklDRV9EQVRBX1JFTU9WRURcIiwhMSldO2Nhc2UgMTpyZXR1cm4gb2xkVmFsdWU9X2Euc2VudCgpLFs0LHRoaXMuc3RvcmUuZ2V0KFwicGFyYW1zLmlzRHJvcEFsbERhdGFcIiwhMSldO2Nhc2UgMjpyZXR1cm5bMix2b2lkIDAhPT0obmV3VmFsdWU9X2Euc2VudCgpKT9uZXdWYWx1ZTpvbGRWYWx1ZV19fSl9KX0sRGF0YS5wcm90b3R5cGUuc2V0U2RrVmVyc2lvbj1mdW5jdGlvbih2ZXJzaW9uKXtyZXR1cm4gX19hd2FpdGVyKHRoaXMsdm9pZCAwLHZvaWQgMCxmdW5jdGlvbigpe3JldHVybiBfX2dlbmVyYXRvcih0aGlzLGZ1bmN0aW9uKF9hKXtzd2l0Y2goX2EubGFiZWwpe2Nhc2UgMDpyZXR1cm5bNCx0aGlzLnN0b3JlLnNldChcInBhcmFtcy5zZGtWZXJzaW9uXCIsdmVyc2lvbildO2Nhc2UgMTpyZXR1cm4gX2Euc2VudCgpLFsyXX19KX0pfSxEYXRhLnByb3RvdHlwZS5nZXRTZGtWZXJzaW9uPWZ1bmN0aW9uKCl7cmV0dXJuIF9fYXdhaXRlcih0aGlzLHZvaWQgMCx2b2lkIDAsZnVuY3Rpb24oKXtyZXR1cm4gX19nZW5lcmF0b3IodGhpcyxmdW5jdGlvbihfYSl7c3dpdGNoKF9hLmxhYmVsKXtjYXNlIDA6cmV0dXJuWzQsdGhpcy5zdG9yZS5nZXQoXCJwYXJhbXMuc2RrVmVyc2lvblwiKV07Y2FzZSAxOnJldHVyblsyLF9hLnNlbnQoKV19fSl9KX0sRGF0YS5wcm90b3R5cGUuc2V0U2VydmljZVdvcmtlclZlcnNpb249ZnVuY3Rpb24odmVyc2lvbil7cmV0dXJuIF9fYXdhaXRlcih0aGlzLHZvaWQgMCx2b2lkIDAsZnVuY3Rpb24oKXtyZXR1cm4gX19nZW5lcmF0b3IodGhpcyxmdW5jdGlvbihfYSl7c3dpdGNoKF9hLmxhYmVsKXtjYXNlIDA6cmV0dXJuWzQsdGhpcy5zdG9yZS5zZXQoXCJXT1JLRVJfVkVSU0lPTlwiLHZlcnNpb24pXTtjYXNlIDE6cmV0dXJuIF9hLnNlbnQoKSxbNCx0aGlzLnN0b3JlLnNldChcInBhcmFtcy5zZXJ2aWNlV29ya2VyVmVyc2lvblwiLHZlcnNpb24pXTtjYXNlIDI6cmV0dXJuIF9hLnNlbnQoKSxbMl19fSl9KX0sRGF0YS5wcm90b3R5cGUuZ2V0U2VydmljZVdvcmtlclZlcnNpb249ZnVuY3Rpb24oKXtyZXR1cm4gX19hd2FpdGVyKHRoaXMsdm9pZCAwLHZvaWQgMCxmdW5jdGlvbigpe3ZhciBvbGRWYWx1ZSxuZXdWYWx1ZTtyZXR1cm4gX19nZW5lcmF0b3IodGhpcyxmdW5jdGlvbihfYSl7c3dpdGNoKF9hLmxhYmVsKXtjYXNlIDA6cmV0dXJuWzQsdGhpcy5zdG9yZS5nZXQoXCJXT1JLRVJfVkVSU0lPTlwiKV07Y2FzZSAxOnJldHVybiBvbGRWYWx1ZT1fYS5zZW50KCksWzQsdGhpcy5zdG9yZS5nZXQoXCJwYXJhbXMuc2VydmljZVdvcmtlclZlcnNpb25cIildO2Nhc2UgMjpyZXR1cm5bMix2b2lkIDAhPT0obmV3VmFsdWU9X2Euc2VudCgpKT9uZXdWYWx1ZTpvbGRWYWx1ZV19fSl9KX0sRGF0YS5wcm90b3R5cGUuc2V0U2VydmljZVdvcmtlclVybD1mdW5jdGlvbih1cmwpe3JldHVybiBfX2F3YWl0ZXIodGhpcyx2b2lkIDAsdm9pZCAwLGZ1bmN0aW9uKCl7cmV0dXJuIF9fZ2VuZXJhdG9yKHRoaXMsZnVuY3Rpb24oX2Epe3N3aXRjaChfYS5sYWJlbCl7Y2FzZSAwOnJldHVybiB1cmw/WzQsdGhpcy5zdG9yZS5zZXQoXCJwYXJhbXMuc2VydmljZVdvcmtlclVybFwiLHVybCldOlsyXTtjYXNlIDE6cmV0dXJuIF9hLnNlbnQoKSxbMl19fSl9KX0sRGF0YS5wcm90b3R5cGUuZ2V0U2VydmljZVdvcmtlclVybD1mdW5jdGlvbigpe3JldHVybiBfX2F3YWl0ZXIodGhpcyx2b2lkIDAsdm9pZCAwLGZ1bmN0aW9uKCl7cmV0dXJuIF9fZ2VuZXJhdG9yKHRoaXMsZnVuY3Rpb24oX2Epe3N3aXRjaChfYS5sYWJlbCl7Y2FzZSAwOnJldHVybls0LHRoaXMuc3RvcmUuZ2V0KFwicGFyYW1zLnNlcnZpY2VXb3JrZXJVcmxcIixDT05TVEFOVFMuREVGQVVMVF9TRVJWSUNFX1dPUktFUl9VUkwpXTtjYXNlIDE6cmV0dXJuWzIsX2Euc2VudCgpXX19KX0pfSxEYXRhLnByb3RvdHlwZS5zZXRTZXJ2aWNlV29ya2VyU2NvcGU9ZnVuY3Rpb24oc2NvcGUpe3JldHVybiBfX2F3YWl0ZXIodGhpcyx2b2lkIDAsdm9pZCAwLGZ1bmN0aW9uKCl7cmV0dXJuIF9fZ2VuZXJhdG9yKHRoaXMsZnVuY3Rpb24oX2Epe3N3aXRjaChfYS5sYWJlbCl7Y2FzZSAwOnJldHVybiBzY29wZT9bNCx0aGlzLnN0b3JlLnNldChcInBhcmFtcy5zZXJ2aWNlV29ya2VyU2NvcGVcIixzY29wZSldOlsyXTtjYXNlIDE6cmV0dXJuIF9hLnNlbnQoKSxbMl19fSl9KX0sRGF0YS5wcm90b3R5cGUuZ2V0U2VydmljZVdvcmtlclNjb3BlPWZ1bmN0aW9uKCl7cmV0dXJuIF9fYXdhaXRlcih0aGlzLHZvaWQgMCx2b2lkIDAsZnVuY3Rpb24oKXtyZXR1cm4gX19nZW5lcmF0b3IodGhpcyxmdW5jdGlvbihfYSl7c3dpdGNoKF9hLmxhYmVsKXtjYXNlIDA6cmV0dXJuWzQsdGhpcy5zdG9yZS5nZXQoXCJwYXJhbXMuc2VydmljZVdvcmtlclNjb3BlXCIpXTtjYXNlIDE6cmV0dXJuWzIsX2Euc2VudCgpXX19KX0pfSxEYXRhLnByb3RvdHlwZS5zZXRMYXN0T3Blbk1lc3NhZ2U9ZnVuY3Rpb24obWVzc2FnZSl7cmV0dXJuIF9fYXdhaXRlcih0aGlzLHZvaWQgMCx2b2lkIDAsZnVuY3Rpb24oKXtyZXR1cm4gX19nZW5lcmF0b3IodGhpcyxmdW5jdGlvbihfYSl7c3dpdGNoKF9hLmxhYmVsKXtjYXNlIDA6cmV0dXJuWzQsdGhpcy5zdG9yZS5zZXQoXCJMQVNUX09QRU5fTUVTU0FHRVwiLG1lc3NhZ2UpXTtjYXNlIDE6cmV0dXJuIF9hLnNlbnQoKSxbNCx0aGlzLnN0b3JlLnNldChcInBhcmFtcy5sYXN0T3Blbk1lc3NhZ2VcIixtZXNzYWdlKV07Y2FzZSAyOnJldHVybiBfYS5zZW50KCksWzJdfX0pfSl9LERhdGEucHJvdG90eXBlLmdldExhc3RPcGVuTWVzc2FnZT1mdW5jdGlvbigpe3JldHVybiBfX2F3YWl0ZXIodGhpcyx2b2lkIDAsdm9pZCAwLGZ1bmN0aW9uKCl7dmFyIG9sZFZhbHVlLG5ld1ZhbHVlO3JldHVybiBfX2dlbmVyYXRvcih0aGlzLGZ1bmN0aW9uKF9hKXtzd2l0Y2goX2EubGFiZWwpe2Nhc2UgMDpyZXR1cm5bNCx0aGlzLnN0b3JlLmdldChcIkxBU1RfT1BFTl9NRVNTQUdFXCIpXTtjYXNlIDE6cmV0dXJuIG9sZFZhbHVlPV9hLnNlbnQoKSxbNCx0aGlzLnN0b3JlLmdldChcInBhcmFtcy5sYXN0T3Blbk1lc3NhZ2VcIildO2Nhc2UgMjpyZXR1cm5bMix2b2lkIDAhPT0obmV3VmFsdWU9X2Euc2VudCgpKT9uZXdWYWx1ZTpvbGRWYWx1ZV19fSl9KX0sRGF0YS5wcm90b3R5cGUuc2V0TGFzdE9wZW5BcHBsaWNhdGlvblRpbWU9ZnVuY3Rpb24odGltZSl7cmV0dXJuIF9fYXdhaXRlcih0aGlzLHZvaWQgMCx2b2lkIDAsZnVuY3Rpb24oKXtyZXR1cm4gX19nZW5lcmF0b3IodGhpcyxmdW5jdGlvbihfYSl7c3dpdGNoKF9hLmxhYmVsKXtjYXNlIDA6cmV0dXJuWzQsdGhpcy5zdG9yZS5zZXQoXCJwYXJhbXMubGFzdE9wZW5BcHBsaWNhdGlvblRpbWVcIix0aW1lKV07Y2FzZSAxOnJldHVybiBfYS5zZW50KCksWzJdfX0pfSl9LERhdGEucHJvdG90eXBlLmdldExhc3RPcGVuQXBwbGljYXRpb25UaW1lPWZ1bmN0aW9uKCl7cmV0dXJuIF9fYXdhaXRlcih0aGlzLHZvaWQgMCx2b2lkIDAsZnVuY3Rpb24oKXtyZXR1cm4gX19nZW5lcmF0b3IodGhpcyxmdW5jdGlvbihfYSl7c3dpdGNoKF9hLmxhYmVsKXtjYXNlIDA6cmV0dXJuWzQsdGhpcy5zdG9yZS5nZXQoXCJwYXJhbXMubGFzdE9wZW5BcHBsaWNhdGlvblRpbWVcIildO2Nhc2UgMTpyZXR1cm5bMixfYS5zZW50KCldfX0pfSl9LERhdGEucHJvdG90eXBlLnNldEZlYXR1cmVzPWZ1bmN0aW9uKGZlYXR1cmVzKXtyZXR1cm4gX19hd2FpdGVyKHRoaXMsdm9pZCAwLHZvaWQgMCxmdW5jdGlvbigpe3JldHVybiBfX2dlbmVyYXRvcih0aGlzLGZ1bmN0aW9uKF9hKXtzd2l0Y2goX2EubGFiZWwpe2Nhc2UgMDpyZXR1cm5bNCx0aGlzLnN0b3JlLnNldChcInBhcmFtcy5mZWF0dXJlc1wiLGZlYXR1cmVzKV07Y2FzZSAxOnJldHVybiBfYS5zZW50KCksWzJdfX0pfSl9LERhdGEucHJvdG90eXBlLmdldEZlYXR1cmVzPWZ1bmN0aW9uKCl7cmV0dXJuIF9fYXdhaXRlcih0aGlzLHZvaWQgMCx2b2lkIDAsZnVuY3Rpb24oKXtyZXR1cm4gX19nZW5lcmF0b3IodGhpcyxmdW5jdGlvbihfYSl7c3dpdGNoKF9hLmxhYmVsKXtjYXNlIDA6cmV0dXJuWzQsdGhpcy5zdG9yZS5nZXQoXCJwYXJhbXMuZmVhdHVyZXNcIildO2Nhc2UgMTpyZXR1cm5bMixfYS5zZW50KCldfX0pfSl9LERhdGEucHJvdG90eXBlLnNldEluaXRQYXJhbXM9ZnVuY3Rpb24ocGFyYW1zKXtyZXR1cm4gX19hd2FpdGVyKHRoaXMsdm9pZCAwLHZvaWQgMCxmdW5jdGlvbigpe3JldHVybiBfX2dlbmVyYXRvcih0aGlzLGZ1bmN0aW9uKF9hKXtzd2l0Y2goX2EubGFiZWwpe2Nhc2UgMDpyZXR1cm5bNCx0aGlzLnN0b3JlLnNldChcInBhcmFtcy5pbml0XCIscGFyYW1zKV07Y2FzZSAxOnJldHVybiBfYS5zZW50KCksWzJdfX0pfSl9LERhdGEucHJvdG90eXBlLmdldEluaXRQYXJhbXM9ZnVuY3Rpb24oKXtyZXR1cm4gX19hd2FpdGVyKHRoaXMsdm9pZCAwLHZvaWQgMCxmdW5jdGlvbigpe3JldHVybiBfX2dlbmVyYXRvcih0aGlzLGZ1bmN0aW9uKF9hKXtzd2l0Y2goX2EubGFiZWwpe2Nhc2UgMDpyZXR1cm5bNCx0aGlzLnN0b3JlLmdldChcInBhcmFtcy5pbml0XCIpXTtjYXNlIDE6cmV0dXJuWzIsX2Euc2VudCgpXX19KX0pfSxEYXRhLnByb3RvdHlwZS5zZXRJbmJveExhc3RSZXF1ZXN0Q29kZT1mdW5jdGlvbihsYXN0Q29kZSl7cmV0dXJuIF9fYXdhaXRlcih0aGlzLHZvaWQgMCx2b2lkIDAsZnVuY3Rpb24oKXtyZXR1cm4gX19nZW5lcmF0b3IodGhpcyxmdW5jdGlvbihfYSl7c3dpdGNoKF9hLmxhYmVsKXtjYXNlIDA6cmV0dXJuWzQsdGhpcy5zdG9yZS5zZXQoXCJwYXJhbXMuaW5ib3gubGFzdFJlcXVlc3RDb2RlXCIsbGFzdENvZGUpXTtjYXNlIDE6cmV0dXJuIF9hLnNlbnQoKSxbMl19fSl9KX0sRGF0YS5wcm90b3R5cGUuZ2V0SW5ib3hMYXN0UmVxdWVzdENvZGU9ZnVuY3Rpb24oKXtyZXR1cm4gX19hd2FpdGVyKHRoaXMsdm9pZCAwLHZvaWQgMCxmdW5jdGlvbigpe3JldHVybiBfX2dlbmVyYXRvcih0aGlzLGZ1bmN0aW9uKF9hKXtzd2l0Y2goX2EubGFiZWwpe2Nhc2UgMDpyZXR1cm5bNCx0aGlzLnN0b3JlLmdldChcInBhcmFtcy5pbmJveC5sYXN0UmVxdWVzdENvZGVcIixcIlwiKV07Y2FzZSAxOnJldHVyblsyLF9hLnNlbnQoKV19fSl9KX0sRGF0YS5wcm90b3R5cGUuc2V0SW5ib3hMYXN0UmVxdWVzdFRpbWU9ZnVuY3Rpb24obGFzdFJlcXVlc3RUaW1lKXtyZXR1cm4gX19hd2FpdGVyKHRoaXMsdm9pZCAwLHZvaWQgMCxmdW5jdGlvbigpe3JldHVybiBfX2dlbmVyYXRvcih0aGlzLGZ1bmN0aW9uKF9hKXtzd2l0Y2goX2EubGFiZWwpe2Nhc2UgMDpyZXR1cm5bNCx0aGlzLnN0b3JlLnNldChcInBhcmFtcy5pbmJveC5sYXN0UmVxdWVzdFRpbWVcIixsYXN0UmVxdWVzdFRpbWUpXTtjYXNlIDE6cmV0dXJuIF9hLnNlbnQoKSxbMl19fSl9KX0sRGF0YS5wcm90b3R5cGUuZ2V0SW5ib3hMYXN0UmVxdWVzdFRpbWU9ZnVuY3Rpb24oKXtyZXR1cm4gX19hd2FpdGVyKHRoaXMsdm9pZCAwLHZvaWQgMCxmdW5jdGlvbigpe3JldHVybiBfX2dlbmVyYXRvcih0aGlzLGZ1bmN0aW9uKF9hKXtyZXR1cm5bMix0aGlzLnN0b3JlLmdldChcInBhcmFtcy5pbmJveC5sYXN0UmVxdWVzdFRpbWVcIiwwKV19KX0pfSxEYXRhLnByb3RvdHlwZS5zZXRJbmJveE5ld01lc3NhZ2VzQ291bnQ9ZnVuY3Rpb24oY291bnQpe3JldHVybiBfX2F3YWl0ZXIodGhpcyx2b2lkIDAsdm9pZCAwLGZ1bmN0aW9uKCl7cmV0dXJuIF9fZ2VuZXJhdG9yKHRoaXMsZnVuY3Rpb24oX2Epe3N3aXRjaChfYS5sYWJlbCl7Y2FzZSAwOnJldHVybls0LHRoaXMuc3RvcmUuc2V0KFwicGFyYW1zLmluYm94Lm5ld01lc3NhZ2VzQ291bnRcIixjb3VudCldO2Nhc2UgMTpyZXR1cm4gX2Euc2VudCgpLFsyXX19KX0pfSxEYXRhLnByb3RvdHlwZS5nZXRJbmJveE5ld01lc3NhZ2VzQ291bnQ9ZnVuY3Rpb24oKXtyZXR1cm4gX19hd2FpdGVyKHRoaXMsdm9pZCAwLHZvaWQgMCxmdW5jdGlvbigpe3JldHVybiBfX2dlbmVyYXRvcih0aGlzLGZ1bmN0aW9uKF9hKXtyZXR1cm5bMix0aGlzLnN0b3JlLmdldChcInBhcmFtcy5pbmJveC5uZXdNZXNzYWdlc0NvdW50XCIsMCldfSl9KX0sRGF0YS5wcm90b3R5cGUuc2V0RGVsYXllZEV2ZW50PWZ1bmN0aW9uKGV2ZW50KXtyZXR1cm4gX19hd2FpdGVyKHRoaXMsdm9pZCAwLHZvaWQgMCxmdW5jdGlvbigpe3JldHVybiBfX2dlbmVyYXRvcih0aGlzLGZ1bmN0aW9uKF9hKXtzd2l0Y2goX2EubGFiZWwpe2Nhc2UgMDpyZXR1cm5bNCx0aGlzLnN0b3JlLnNldChcIkRFTEFZRURfRVZFTlRcIixldmVudCldO2Nhc2UgMTpyZXR1cm4gX2Euc2VudCgpLFs0LHRoaXMuc3RvcmUuc2V0KFwicGFyYW1zLmRlbGF5ZWRFdmVudFwiLGV2ZW50KV07Y2FzZSAyOnJldHVybiBfYS5zZW50KCksWzJdfX0pfSl9LERhdGEucHJvdG90eXBlLmdldERlbGF5ZWRFdmVudD1mdW5jdGlvbigpe3JldHVybiBfX2F3YWl0ZXIodGhpcyx2b2lkIDAsdm9pZCAwLGZ1bmN0aW9uKCl7dmFyIG9sZFZhbHVlLG5ld1ZhbHVlO3JldHVybiBfX2dlbmVyYXRvcih0aGlzLGZ1bmN0aW9uKF9hKXtzd2l0Y2goX2EubGFiZWwpe2Nhc2UgMDpyZXR1cm5bNCx0aGlzLnN0b3JlLmdldChcIkRFTEFZRURfRVZFTlRcIildO2Nhc2UgMTpyZXR1cm4gb2xkVmFsdWU9X2Euc2VudCgpLFs0LHRoaXMuc3RvcmUuZ2V0KFwicGFyYW1zLmRlbGF5ZWRFdmVudFwiKV07Y2FzZSAyOnJldHVyblsyLHZvaWQgMCE9PShuZXdWYWx1ZT1fYS5zZW50KCkpP25ld1ZhbHVlOm9sZFZhbHVlXX19KX0pfSxEYXRhLnByb3RvdHlwZS5zZXRJbkFwcHM9ZnVuY3Rpb24oaW5BcHBzKXtyZXR1cm4gX19hd2FpdGVyKHRoaXMsdm9pZCAwLHZvaWQgMCxmdW5jdGlvbigpe3JldHVybiBfX2dlbmVyYXRvcih0aGlzLGZ1bmN0aW9uKF9hKXtzd2l0Y2goX2EubGFiZWwpe2Nhc2UgMDpyZXR1cm5bNCx0aGlzLnN0b3JlLnNldChcInBhcmFtcy5pbkFwcHNcIixpbkFwcHMpXTtjYXNlIDE6cmV0dXJuIF9hLnNlbnQoKSxbMl19fSl9KX0sRGF0YS5wcm90b3R5cGUuZ2V0SW5BcHBzPWZ1bmN0aW9uKCl7cmV0dXJuIF9fYXdhaXRlcih0aGlzLHZvaWQgMCx2b2lkIDAsZnVuY3Rpb24oKXtyZXR1cm4gX19nZW5lcmF0b3IodGhpcyxmdW5jdGlvbihfYSl7cmV0dXJuWzIsdGhpcy5zdG9yZS5nZXQoXCJwYXJhbXMuaW5BcHBzXCIpXX0pfSl9LERhdGEucHJvdG90eXBlLnNldFByb21wdERpc3BsYXlDb3VudD1mdW5jdGlvbihjb3VudCl7cmV0dXJuIF9fYXdhaXRlcih0aGlzLHZvaWQgMCx2b2lkIDAsZnVuY3Rpb24oKXtyZXR1cm4gX19nZW5lcmF0b3IodGhpcyxmdW5jdGlvbihfYSl7c3dpdGNoKF9hLmxhYmVsKXtjYXNlIDA6cmV0dXJuWzQsdGhpcy5zdG9yZS5zZXQoXCJwYXJhbXMucHJvbXB0RGlzcGxheUNvdW50XCIsY291bnQpXTtjYXNlIDE6cmV0dXJuIF9hLnNlbnQoKSxbMl19fSl9KX0sRGF0YS5wcm90b3R5cGUuZ2V0UHJvbXB0RGlzcGxheUNvdW50PWZ1bmN0aW9uKCl7cmV0dXJuIF9fYXdhaXRlcih0aGlzLHZvaWQgMCx2b2lkIDAsZnVuY3Rpb24oKXtyZXR1cm4gX19nZW5lcmF0b3IodGhpcyxmdW5jdGlvbihfYSl7cmV0dXJuWzIsdGhpcy5zdG9yZS5nZXQoXCJwYXJhbXMucHJvbXB0RGlzcGxheUNvdW50XCIsMCldfSl9KX0sRGF0YS5wcm90b3R5cGUuc2V0UHJvbXB0TGFzdFNlZW5UaW1lPWZ1bmN0aW9uKHRpbWUpe3JldHVybiBfX2F3YWl0ZXIodGhpcyx2b2lkIDAsdm9pZCAwLGZ1bmN0aW9uKCl7cmV0dXJuIF9fZ2VuZXJhdG9yKHRoaXMsZnVuY3Rpb24oX2Epe3N3aXRjaChfYS5sYWJlbCl7Y2FzZSAwOnJldHVybls0LHRoaXMuc3RvcmUuc2V0KFwicGFyYW1zLnByb21wdExhc3RTZWVuVGltZVwiLHRpbWUpXTtjYXNlIDE6cmV0dXJuIF9hLnNlbnQoKSxbMl19fSl9KX0sRGF0YS5wcm90b3R5cGUuZ2V0UHJvbXB0TGFzdFNlZW5UaW1lPWZ1bmN0aW9uKCl7cmV0dXJuIF9fYXdhaXRlcih0aGlzLHZvaWQgMCx2b2lkIDAsZnVuY3Rpb24oKXtyZXR1cm4gX19nZW5lcmF0b3IodGhpcyxmdW5jdGlvbihfYSl7cmV0dXJuWzIsdGhpcy5zdG9yZS5nZXQoXCJwYXJhbXMucHJvbXB0TGFzdFNlZW5UaW1lXCIsMCldfSl9KX0sRGF0YX0oKTtleHBvcnRzLkRhdGE9RGF0YX0sZnVuY3Rpb24obW9kdWxlLGV4cG9ydHMsX193ZWJwYWNrX3JlcXVpcmVfXyl7XCJ1c2Ugc3RyaWN0XCI7dmFyIF9fc3ByZWFkQXJyYXlzPXRoaXMmJnRoaXMuX19zcHJlYWRBcnJheXN8fGZ1bmN0aW9uKCl7Zm9yKHZhciBzPTAsaT0wLGlsPWFyZ3VtZW50cy5sZW5ndGg7aTxpbDtpKyspcys9YXJndW1lbnRzW2ldLmxlbmd0aDt2YXIgcj1BcnJheShzKSxrPTA7Zm9yKGk9MDtpPGlsO2krKylmb3IodmFyIGE9YXJndW1lbnRzW2ldLGo9MCxqbD1hLmxlbmd0aDtqPGpsO2orKyxrKyspcltrXT1hW2pdO3JldHVybiByfTtPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cyxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KTt2YXIgc3RvcmFnZV8xPV9fd2VicGFja19yZXF1aXJlX18oMyksbGV2ZWxzPXtlcnJvcjoxLGluZm86MixkZWJ1ZzozfSxsaW1pdExldmVsPTM7X193ZWJwYWNrX3JlcXVpcmVfXygxMCkucGF0Y2hDb25zb2xlKCk7dmFyIExvZ2dlcj17c2V0TGV2ZWw6ZnVuY3Rpb24obGV2ZWwpe2xldmVsc1tsZXZlbF18fChsZXZlbD1cImVycm9yXCIpLGxpbWl0TGV2ZWw9bGV2ZWxzW2xldmVsXX0sd3JpdGU6ZnVuY3Rpb24odHlwZSxtZXNzYWdlLGFkZGl0aW9uYWwpe3JldHVyblwiZXJyb3JcIj09PXR5cGU/dGhpcy5lcnJvcihtZXNzYWdlKTp0aGlzLmluZm8obWVzc2FnZSksc3RvcmFnZV8xLmxvZy5hZGQodHlwZSxtZXNzYWdlLGFkZGl0aW9uYWwpfX07ZXhwb3J0cy5Mb2dnZXI9TG9nZ2VyLE9iamVjdC5rZXlzKGxldmVscykuZm9yRWFjaChmdW5jdGlvbihsZXZlbE5hbWUpe3ZhciBsZXZlbE51bWJlcj1sZXZlbHNbbGV2ZWxOYW1lXTtMb2dnZXJbbGV2ZWxOYW1lXT1mdW5jdGlvbigpe2Zvcih2YXIgYXJncz1bXSxfaT0wO19pPGFyZ3VtZW50cy5sZW5ndGg7X2krKylhcmdzW19pXT1hcmd1bWVudHNbX2ldO2xldmVsTnVtYmVyPD1saW1pdExldmVsJiYoY29uc29sZS5ncm91cENvbGxhcHNlZChsZXZlbE5hbWUpLGNvbnNvbGUuaW5mby5hcHBseShjb25zb2xlLF9fc3ByZWFkQXJyYXlzKFtcIlwiXSxhcmdzKSksY29uc29sZS50cmFjZShcInRyYWNlXCIpLGNvbnNvbGUuZ3JvdXBFbmQoKSl9fSksZXhwb3J0cy5sb2dBbmRUaHJvd0Vycm9yPWZ1bmN0aW9uKGVycm9yKXt2YXIgbG9nVGV4dD1uZXcgRXJyb3IoZXJyb3IpO3Rocm93IExvZ2dlci53cml0ZShcImVycm9yXCIsbG9nVGV4dCxcImxvZ0FuZFRocm93RXJyb3JcIiksbG9nVGV4dH0sZXhwb3J0cy5sb2dBbmRSZWplY3RFcnJvcj1mdW5jdGlvbihlcnJvcixyZWplY3Qpe3ZhciBsb2dUZXh0PW5ldyBFcnJvcihlcnJvcik7TG9nZ2VyLndyaXRlKFwiZXJyb3JcIixsb2dUZXh0LFwibG9nQW5kUmVqZWN0RXJyb3JcIikscmVqZWN0KGxvZ1RleHQpfSxleHBvcnRzLmRlZmF1bHQ9TG9nZ2VyfSxmdW5jdGlvbihtb2R1bGUsZXhwb3J0cyxfX3dlYnBhY2tfcmVxdWlyZV9fKXtcInVzZSBzdHJpY3RcIjtPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cyxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KTt2YXIgRGF0ZU1vZHVsZT1mdW5jdGlvbigpe2Z1bmN0aW9uIERhdGVNb2R1bGUoZGF0ZSl7dm9pZCAwPT09ZGF0ZSYmKGRhdGU9bmV3IERhdGUpLHRoaXMuX2RhdGU9ZGF0ZX1yZXR1cm4gT2JqZWN0LmRlZmluZVByb3BlcnR5KERhdGVNb2R1bGUucHJvdG90eXBlLFwiZGF0ZVwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fZGF0ZX0sc2V0OmZ1bmN0aW9uKGRhdGUpe3RoaXMuX2RhdGU9ZGF0ZX0sZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITB9KSxEYXRlTW9kdWxlLnByb3RvdHlwZS5nZXRVdGNUaW1lc3RhbXA9ZnVuY3Rpb24oKXtyZXR1cm4gTWF0aC5mbG9vcigodGhpcy5kYXRlLmdldFRpbWUoKSs2MCp0aGlzLmRhdGUuZ2V0VGltZXpvbmVPZmZzZXQoKSoxZTMpLzFlMyl9LERhdGVNb2R1bGUucHJvdG90eXBlLmdldFRpbWVzdGFtcD1mdW5jdGlvbigpe3JldHVybiBNYXRoLnJvdW5kKHRoaXMuZGF0ZS5nZXRUaW1lKCkvMWUzKX0sRGF0ZU1vZHVsZS5wcm90b3R5cGUuc2V0TG9jYWw9ZnVuY3Rpb24oKXt2YXIgbmV3RGF0ZVRpbWVzdGFtcD10aGlzLl9kYXRlLmdldFRpbWUoKS02MCp0aGlzLmRhdGUuZ2V0VGltZXpvbmVPZmZzZXQoKSoxZTM7dGhpcy5fZGF0ZT1uZXcgRGF0ZShuZXdEYXRlVGltZXN0YW1wKX0sRGF0ZU1vZHVsZS5wcm90b3R5cGUuYWRkRGF5cz1mdW5jdGlvbihkYXlzKXt2YXIgbmV3RGF0ZVRpbWVzdGFtcD10aGlzLl9kYXRlLmdldFRpbWUoKSsyNCpkYXlzKjYwKjYwKjFlMzt0aGlzLl9kYXRlPW5ldyBEYXRlKG5ld0RhdGVUaW1lc3RhbXApfSxEYXRlTW9kdWxlLnByb3RvdHlwZS5nZXRJbmJveEZha2VPcmRlcj1mdW5jdGlvbigpe3JldHVybigxMDAqdGhpcy5fZGF0ZS5nZXRUaW1lKCkrOWU5KS50b1N0cmluZygpfSxEYXRlTW9kdWxlfSgpO2V4cG9ydHMuZGVmYXVsdD1EYXRlTW9kdWxlfSxmdW5jdGlvbihtb2R1bGUsZXhwb3J0cyxfX3dlYnBhY2tfcmVxdWlyZV9fKXtcInVzZSBzdHJpY3RcIjsoZnVuY3Rpb24oQnVmZmVyKXtpZihleHBvcnRzLmJhc2U2ND0hMCxleHBvcnRzLmFycmF5PSEwLGV4cG9ydHMuc3RyaW5nPSEwLGV4cG9ydHMuYXJyYXlidWZmZXI9XCJ1bmRlZmluZWRcIiE9dHlwZW9mIEFycmF5QnVmZmVyJiZcInVuZGVmaW5lZFwiIT10eXBlb2YgVWludDhBcnJheSxleHBvcnRzLm5vZGVidWZmZXI9dm9pZCAwIT09QnVmZmVyLGV4cG9ydHMudWludDhhcnJheT1cInVuZGVmaW5lZFwiIT10eXBlb2YgVWludDhBcnJheSxcInVuZGVmaW5lZFwiPT10eXBlb2YgQXJyYXlCdWZmZXIpZXhwb3J0cy5ibG9iPSExO2Vsc2V7dmFyIGJ1ZmZlcj1uZXcgQXJyYXlCdWZmZXIoMCk7dHJ5e2V4cG9ydHMuYmxvYj0wPT09bmV3IEJsb2IoW2J1ZmZlcl0se3R5cGU6XCJhcHBsaWNhdGlvbi96aXBcIn0pLnNpemV9Y2F0Y2goZSl7dHJ5e3ZhciBidWlsZGVyPW5ldyhzZWxmLkJsb2JCdWlsZGVyfHxzZWxmLldlYktpdEJsb2JCdWlsZGVyfHxzZWxmLk1vekJsb2JCdWlsZGVyfHxzZWxmLk1TQmxvYkJ1aWxkZXIpO2J1aWxkZXIuYXBwZW5kKGJ1ZmZlciksZXhwb3J0cy5ibG9iPTA9PT1idWlsZGVyLmdldEJsb2IoXCJhcHBsaWNhdGlvbi96aXBcIikuc2l6ZX1jYXRjaChlKXtleHBvcnRzLmJsb2I9ITF9fX10cnl7ZXhwb3J0cy5ub2Rlc3RyZWFtPSEhX193ZWJwYWNrX3JlcXVpcmVfXyg1MSkuUmVhZGFibGV9Y2F0Y2goZSl7ZXhwb3J0cy5ub2Rlc3RyZWFtPSExfX0pLmNhbGwodGhpcyxfX3dlYnBhY2tfcmVxdWlyZV9fKDIzKS5CdWZmZXIpfSxmdW5jdGlvbihtb2R1bGUsZXhwb3J0cyxfX3dlYnBhY2tfcmVxdWlyZV9fKXtcInVzZSBzdHJpY3RcIjt2YXIgVFlQRURfT0s9XCJ1bmRlZmluZWRcIiE9dHlwZW9mIFVpbnQ4QXJyYXkmJlwidW5kZWZpbmVkXCIhPXR5cGVvZiBVaW50MTZBcnJheSYmXCJ1bmRlZmluZWRcIiE9dHlwZW9mIEludDMyQXJyYXk7ZnVuY3Rpb24gX2hhcyhvYmosa2V5KXtyZXR1cm4gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iaixrZXkpfWV4cG9ydHMuYXNzaWduPWZ1bmN0aW9uKG9iail7Zm9yKHZhciBzb3VyY2VzPUFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cywxKTtzb3VyY2VzLmxlbmd0aDspe3ZhciBzb3VyY2U9c291cmNlcy5zaGlmdCgpO2lmKHNvdXJjZSl7aWYoXCJvYmplY3RcIiE9dHlwZW9mIHNvdXJjZSl0aHJvdyBuZXcgVHlwZUVycm9yKHNvdXJjZStcIm11c3QgYmUgbm9uLW9iamVjdFwiKTtmb3IodmFyIHAgaW4gc291cmNlKV9oYXMoc291cmNlLHApJiYob2JqW3BdPXNvdXJjZVtwXSl9fXJldHVybiBvYmp9LGV4cG9ydHMuc2hyaW5rQnVmPWZ1bmN0aW9uKGJ1ZixzaXplKXtyZXR1cm4gYnVmLmxlbmd0aD09PXNpemU/YnVmOmJ1Zi5zdWJhcnJheT9idWYuc3ViYXJyYXkoMCxzaXplKTooYnVmLmxlbmd0aD1zaXplLGJ1Zil9O3ZhciBmblR5cGVkPXthcnJheVNldDpmdW5jdGlvbihkZXN0LHNyYyxzcmNfb2ZmcyxsZW4sZGVzdF9vZmZzKXtpZihzcmMuc3ViYXJyYXkmJmRlc3Quc3ViYXJyYXkpZGVzdC5zZXQoc3JjLnN1YmFycmF5KHNyY19vZmZzLHNyY19vZmZzK2xlbiksZGVzdF9vZmZzKTtlbHNlIGZvcih2YXIgaT0wO2k8bGVuO2krKylkZXN0W2Rlc3Rfb2ZmcytpXT1zcmNbc3JjX29mZnMraV19LGZsYXR0ZW5DaHVua3M6ZnVuY3Rpb24oY2h1bmtzKXt2YXIgaSxsLGxlbixwb3MsY2h1bmsscmVzdWx0O2ZvcihsZW49MCxpPTAsbD1jaHVua3MubGVuZ3RoO2k8bDtpKyspbGVuKz1jaHVua3NbaV0ubGVuZ3RoO2ZvcihyZXN1bHQ9bmV3IFVpbnQ4QXJyYXkobGVuKSxwb3M9MCxpPTAsbD1jaHVua3MubGVuZ3RoO2k8bDtpKyspY2h1bms9Y2h1bmtzW2ldLHJlc3VsdC5zZXQoY2h1bmsscG9zKSxwb3MrPWNodW5rLmxlbmd0aDtyZXR1cm4gcmVzdWx0fX0sZm5VbnR5cGVkPXthcnJheVNldDpmdW5jdGlvbihkZXN0LHNyYyxzcmNfb2ZmcyxsZW4sZGVzdF9vZmZzKXtmb3IodmFyIGk9MDtpPGxlbjtpKyspZGVzdFtkZXN0X29mZnMraV09c3JjW3NyY19vZmZzK2ldfSxmbGF0dGVuQ2h1bmtzOmZ1bmN0aW9uKGNodW5rcyl7cmV0dXJuW10uY29uY2F0LmFwcGx5KFtdLGNodW5rcyl9fTtleHBvcnRzLnNldFR5cGVkPWZ1bmN0aW9uKG9uKXtvbj8oZXhwb3J0cy5CdWY4PVVpbnQ4QXJyYXksZXhwb3J0cy5CdWYxNj1VaW50MTZBcnJheSxleHBvcnRzLkJ1ZjMyPUludDMyQXJyYXksZXhwb3J0cy5hc3NpZ24oZXhwb3J0cyxmblR5cGVkKSk6KGV4cG9ydHMuQnVmOD1BcnJheSxleHBvcnRzLkJ1ZjE2PUFycmF5LGV4cG9ydHMuQnVmMzI9QXJyYXksZXhwb3J0cy5hc3NpZ24oZXhwb3J0cyxmblVudHlwZWQpKX0sZXhwb3J0cy5zZXRUeXBlZChUWVBFRF9PSyl9LGZ1bmN0aW9uKG1vZHVsZSxleHBvcnRzLF9fd2VicGFja19yZXF1aXJlX18pe1widXNlIHN0cmljdFwiO09iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pLGV4cG9ydHMuU1RPUkVfTkFNRV9LRVlfVkFMVUU9XCJrZXlWYWx1ZVwiLGV4cG9ydHMuU1RPUkVfTkFNRV9NRVNTQUdFX0xPRz1cIm1lc3NhZ2VzXCIsZXhwb3J0cy5TVE9SRV9OQU1FX01BSU5fTE9HPVwibG9nXCIsZXhwb3J0cy5TVE9SRV9OQU1FX0lOQk9YX01FU1NBR0VTPVwiaW5ib3hNZXNzYWdlc1wiLGV4cG9ydHMuS0VZX1BBVEhfQkFTRV9JTkNSRU1FTlQ9XCJpZFwifSxmdW5jdGlvbihtb2R1bGUsZXhwb3J0cyxfX3dlYnBhY2tfcmVxdWlyZV9fKXtcInVzZSBzdHJpY3RcIjt2YXIgX19hc3NpZ249dGhpcyYmdGhpcy5fX2Fzc2lnbnx8ZnVuY3Rpb24oKXtyZXR1cm4oX19hc3NpZ249T2JqZWN0LmFzc2lnbnx8ZnVuY3Rpb24odCl7Zm9yKHZhciBzLGk9MSxuPWFyZ3VtZW50cy5sZW5ndGg7aTxuO2krKylmb3IodmFyIHAgaW4gcz1hcmd1bWVudHNbaV0pT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHMscCkmJih0W3BdPXNbcF0pO3JldHVybiB0fSkuYXBwbHkodGhpcyxhcmd1bWVudHMpfSxfX3Jlc3Q9dGhpcyYmdGhpcy5fX3Jlc3R8fGZ1bmN0aW9uKHMsZSl7dmFyIHQ9e307Zm9yKHZhciBwIGluIHMpT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHMscCkmJmUuaW5kZXhPZihwKTwwJiYodFtwXT1zW3BdKTtpZihudWxsIT1zJiZcImZ1bmN0aW9uXCI9PXR5cGVvZiBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKXt2YXIgaT0wO2ZvcihwPU9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMocyk7aTxwLmxlbmd0aDtpKyspZS5pbmRleE9mKHBbaV0pPDAmJk9iamVjdC5wcm90b3R5cGUucHJvcGVydHlJc0VudW1lcmFibGUuY2FsbChzLHBbaV0pJiYodFtwW2ldXT1zW3BbaV1dKX1yZXR1cm4gdH07T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSk7dmFyIHN0b3JhZ2VfMT1fX3dlYnBhY2tfcmVxdWlyZV9fKDMpLGNvbnN0YW50c18xPV9fd2VicGFja19yZXF1aXJlX18oMSksUGxhdGZvcm1DaGVja2VyXzE9X193ZWJwYWNrX3JlcXVpcmVfXygyMSk7ZnVuY3Rpb24gZ2V0R2xvYmFsKCl7cmV0dXJuIEZ1bmN0aW9uKFwicmV0dXJuIHRoaXNcIikoKX1mdW5jdGlvbiBjcmVhdGVVVUlEKHB1c2hUb2tlbil7Zm9yKHZhciBzPVwiXCIsaT0wO2k8MzI7aSsrKXt2YXIgbD1wdXNoVG9rZW4ubGVuZ3RoLWktMSxjaGFyQ29kZT0wO2w+PTAmJihjaGFyQ29kZT1wdXNoVG9rZW4uY2hhckNvZGVBdChsKSkscys9XCIwMTIzNDU2Nzg5YWJjZGVmXCIuc3Vic3RyKGNoYXJDb2RlJVwiMDEyMzQ1Njc4OWFiY2RlZlwiLmxlbmd0aCwxKX1yZXR1cm4gc31mdW5jdGlvbiBnZXRGYWtlUHVzaFRva2VuKCl7cmV0dXJuIGxvY2FsU3RvcmFnZS5nZXRJdGVtKGNvbnN0YW50c18xLktFWV9GQUtFX1BVU0hfVE9LRU4pfWZ1bmN0aW9uIGdlbmVyYXRlRmFrZVB1c2hUb2tlbigpe3ZhciB0b2tlbj1mdW5jdGlvbihsZW4pe2xlbj1sZW58fDMyO2Zvcih2YXIgdGV4dD1cIlwiLHBvc3NpYmxlPVwiQUJDREVGR0hJSktMTU5PUFFSU1RVVldYWVphYmNkZWZnaGlqa2xtbm9wcXJzdHV2d3h5ejAxMjM0NTY3ODlcIixpPTA7aTxsZW47aSsrKXRleHQrPXBvc3NpYmxlLmNoYXJBdChNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkqcG9zc2libGUubGVuZ3RoKSk7cmV0dXJuIHRleHR9KCk7cmV0dXJuIGxvY2FsU3RvcmFnZS5zZXRJdGVtKGNvbnN0YW50c18xLktFWV9GQUtFX1BVU0hfVE9LRU4sdG9rZW4pLHRva2VufWZ1bmN0aW9uIGdldFN1YnNLZXkocHVzaFN1YnNjcmlwdGlvbixrZXkpe3ZhciByYXdLZXk9cHVzaFN1YnNjcmlwdGlvbiYmcHVzaFN1YnNjcmlwdGlvbi5nZXRLZXkmJnB1c2hTdWJzY3JpcHRpb24uZ2V0S2V5KGtleSk7cmV0dXJuIHJhd0tleT9idG9hKFN0cmluZy5mcm9tQ2hhckNvZGUuYXBwbHkoU3RyaW5nLG5ldyBVaW50OEFycmF5KHJhd0tleSkpKTpcIlwifWV4cG9ydHMuZ2V0R2xvYmFsPWdldEdsb2JhbCxleHBvcnRzLmdldFZlcnNpb249ZnVuY3Rpb24oKXtyZXR1cm5cIjMuMTkuM1wifSxleHBvcnRzLnBhcnNlU2VyaWFsaXplZE5vdGlmaWNhdGlvblBhcmFtcz1mdW5jdGlvbihwYXJhbSxkZWZhdWx0VmFsdWUpe2lmKFwic3RyaW5nXCI9PXR5cGVvZiBwYXJhbSl0cnl7cmV0dXJuIEpTT04ucGFyc2UocGFyYW0pfWNhdGNoKGUpe2NvbnNvbGUubG9nKGUpfXJldHVybiB2b2lkIDA9PT1wYXJhbSYmdm9pZCAwIT09ZGVmYXVsdFZhbHVlP2RlZmF1bHRWYWx1ZTpwYXJhbX0sZXhwb3J0cy51cmxCNjRUb1VpbnQ4QXJyYXk9ZnVuY3Rpb24oYmFzZTY0U3RyaW5nKXtmb3IodmFyIGJhc2U2ND0oYmFzZTY0U3RyaW5nK1wiPVwiLnJlcGVhdCgoNC1iYXNlNjRTdHJpbmcubGVuZ3RoJTQpJTQpKS5yZXBsYWNlKC8tL2csXCIrXCIpLnJlcGxhY2UoL18vZyxcIi9cIikscmF3RGF0YT13aW5kb3cuYXRvYihiYXNlNjQpLG91dHB1dEFycmF5PW5ldyBVaW50OEFycmF5KHJhd0RhdGEubGVuZ3RoKSxpPTA7aTxyYXdEYXRhLmxlbmd0aDsrK2kpb3V0cHV0QXJyYXlbaV09cmF3RGF0YS5jaGFyQ29kZUF0KGkpO3JldHVybiBvdXRwdXRBcnJheX0sZXhwb3J0cy5jcmVhdGVVVUlEPWNyZWF0ZVVVSUQsZXhwb3J0cy5nZW5lcmF0ZUh3aWQ9ZnVuY3Rpb24oYXBwbGljYXRpb25Db2RlLHB1c2hUb2tlbil7cmV0dXJuIGFwcGxpY2F0aW9uQ29kZStcIl9cIitjcmVhdGVVVUlEKHB1c2hUb2tlbj1nZXRGYWtlUHVzaFRva2VuKCl8fHB1c2hUb2tlbnx8Z2VuZXJhdGVGYWtlUHVzaFRva2VuKCkpfSxleHBvcnRzLmdldEZha2VQdXNoVG9rZW49Z2V0RmFrZVB1c2hUb2tlbixleHBvcnRzLmdlbmVyYXRlRmFrZVB1c2hUb2tlbj1nZW5lcmF0ZUZha2VQdXNoVG9rZW4sZXhwb3J0cy5nZXRQdXNoVG9rZW49ZnVuY3Rpb24ocHVzaFN1YnNjcmlwdGlvbil7cmV0dXJuIHB1c2hTdWJzY3JpcHRpb24/cHVzaFN1YnNjcmlwdGlvbi5zdWJzY3JpcHRpb25JZD9wdXNoU3Vic2NyaXB0aW9uLnN1YnNjcmlwdGlvbklkOjEyPT09UGxhdGZvcm1DaGVja2VyXzEuZGVmYXVsdC5wbGF0Zm9ybT9wdXNoU3Vic2NyaXB0aW9uLmVuZHBvaW50OnB1c2hTdWJzY3JpcHRpb24uZW5kcG9pbnQuc3BsaXQoXCIvXCIpLnBvcCgpfHxcIlwiOlwiXCJ9LGV4cG9ydHMuZ2V0RmNtS2V5PWZ1bmN0aW9uKHB1c2hTdWJzY3JpcHRpb24sa2V5KXtyZXR1cm4gcHVzaFN1YnNjcmlwdGlvbj9uZXcgUHJvbWlzZShmdW5jdGlvbihyZXNvbHZlKXtzdG9yYWdlXzEua2V5VmFsdWUuZ2V0KGNvbnN0YW50c18xLktFWV9GQ01fU1VCU0NSSVBUSU9OKS50aGVuKGZ1bmN0aW9uKGZjbVN1YnNjcmlwdGlvbil7cmVzb2x2ZShmY21TdWJzY3JpcHRpb24mJmZjbVN1YnNjcmlwdGlvbltrZXldfHxcIlwiKX0pLmNhdGNoKGZ1bmN0aW9uKCl7cmVzb2x2ZShcIlwiKX0pfSk6UHJvbWlzZS5yZXNvbHZlKFwiXCIpfSxleHBvcnRzLmdldEF1dGhUb2tlbj1mdW5jdGlvbihwdXNoU3Vic2NyaXB0aW9uKXtyZXR1cm4gZ2V0U3Vic0tleShwdXNoU3Vic2NyaXB0aW9uLFwiYXV0aFwiKX0sZXhwb3J0cy5nZXRQdWJsaWNLZXk9ZnVuY3Rpb24ocHVzaFN1YnNjcmlwdGlvbil7cmV0dXJuIGdldFN1YnNLZXkocHVzaFN1YnNjcmlwdGlvbixcInAyNTZkaFwiKX0sZXhwb3J0cy5nZXRQdXNod29vc2hVcmw9ZnVuY3Rpb24oYXBwbGljYXRpb25Db2RlKXt2YXIgdXJsPWFwcGxpY2F0aW9uQ29kZSYmIX5hcHBsaWNhdGlvbkNvZGUuaW5kZXhPZihcIi5cIik/XCJodHRwczovL1wiK2FwcGxpY2F0aW9uQ29kZStcIi5hcGkucHVzaHdvb3NoLmNvbS9qc29uLzEuMy9cIjpcImh0dHBzOi8vY3AucHVzaHdvb3NoLmNvbS9qc29uLzEuMy9cIjtyZXR1cm4gc3RvcmFnZV8xLmtleVZhbHVlLmdldChjb25zdGFudHNfMS5LRVlfQVBJX0JBU0VfVVJMKS50aGVuKGZ1bmN0aW9uKGJhc2VfdXJsKXtyZXR1cm4gdm9pZCAwPT09YmFzZV91cmwmJihiYXNlX3VybD1udWxsKSxiYXNlX3VybHx8dXJsfSkuY2F0Y2goZnVuY3Rpb24oKXtyZXR1cm4gdXJsfSl9LGV4cG9ydHMucGF0Y2hDb25zb2xlPWZ1bmN0aW9uKCl7Zm9yKHZhciBtZXRob2Qsbm9vcD1mdW5jdGlvbigpe30sbWV0aG9kcz1bXCJhc3NlcnRcIixcImNsZWFyXCIsXCJjb3VudFwiLFwiZGVidWdcIixcImRpclwiLFwiZGlyeG1sXCIsXCJlcnJvclwiLFwiZXhjZXB0aW9uXCIsXCJncm91cFwiLFwiZ3JvdXBDb2xsYXBzZWRcIixcImdyb3VwRW5kXCIsXCJpbmZvXCIsXCJsb2dcIixcIm1hcmtUaW1lbGluZVwiLFwicHJvZmlsZVwiLFwicHJvZmlsZUVuZFwiLFwidGFibGVcIixcInRpbWVcIixcInRpbWVFbmRcIixcInRpbWVTdGFtcFwiLFwidHJhY2VcIixcIndhcm5cIl0sbGVuPW1ldGhvZHMubGVuZ3RoLGdsb2JhbD1nZXRHbG9iYWwoKSxjb25zb2xlPWdsb2JhbC5jb25zb2xlPWdsb2JhbC5jb25zb2xlfHx7fTtsZW4tLTspY29uc29sZVttZXRob2Q9bWV0aG9kc1tsZW5dXXx8KGNvbnNvbGVbbWV0aG9kXT1ub29wKX0sZXhwb3J0cy5nZXRCcm93c2VyVHlwZT1mdW5jdGlvbigpe3JldHVyblwiY2hyb21lXCJ9LGV4cG9ydHMuaXNPcGVyYUJyb3dzZXI9ZnVuY3Rpb24oKXtyZXR1cm4hMX0sZXhwb3J0cy5jbGVhckxvY2F0aW9uSGFzaD1mdW5jdGlvbigpe1wiaGlzdG9yeVwiaW4gZ2V0R2xvYmFsKCkmJmhpc3RvcnkucHVzaFN0YXRlP2hpc3RvcnkucHVzaFN0YXRlKG51bGwsXCJcIixcIiNcIik6bG9jYXRpb24uaGFzaD1cIiNcIn0sZXhwb3J0cy52YWxpZGF0ZVBhcmFtcz1mdW5jdGlvbihwYXJhbXMpe3ZhciByZXN1bHQ9X19yZXN0KHBhcmFtcyxbXSk7cmV0dXJuIHJlc3VsdC51c2VySWQmJlwidXNlcl9pZFwiPT09cmVzdWx0LnVzZXJJZCYmZGVsZXRlIHJlc3VsdC51c2VySWQscmVzdWx0fSxleHBvcnRzLnNlbmRJbnRlcm5hbFBvc3RFdmVudD1mdW5jdGlvbihwYXJhbXMpe3N0b3JhZ2VfMS5rZXlWYWx1ZS5nZXQoY29uc3RhbnRzXzEuS0VZX0lOVEVSTkFMX0VWRU5UUykudGhlbihmdW5jdGlvbihldmVudHMpe3ZhciBfYTt2b2lkIDA9PT1ldmVudHMmJihldmVudHM9e30pLDA9PT1PYmplY3Qua2V5cyhldmVudHMpLmxlbmd0aCYmc3RvcmFnZV8xLmtleVZhbHVlLnNldChjb25zdGFudHNfMS5LRVlfSU5URVJOQUxfRVZFTlRTLHt9KTt2YXIgY3VycmVudERhdGU9KG5ldyBEYXRlKS5zZXRIb3VycygwLDAsMCwwKSxkYXRlRnJvbVN0b3JlPWV2ZW50c1twYXJhbXMuZXZlbnRdO2lmKCFkYXRlRnJvbVN0b3JlfHxjdXJyZW50RGF0ZT5kYXRlRnJvbVN0b3JlKXtzdG9yYWdlXzEua2V5VmFsdWUuZXh0ZW5kKGNvbnN0YW50c18xLktFWV9JTlRFUk5BTF9FVkVOVFMsKChfYT17fSlbcGFyYW1zLmV2ZW50XT1jdXJyZW50RGF0ZSxfYSkpO3ZhciB4aHI9bmV3IFhNTEh0dHBSZXF1ZXN0LHJlcXVlc3Q9X19hc3NpZ24oe2FwcGxpY2F0aW9uOlwiREQyNzUtMDY5NDdcIn0scGFyYW1zKTt4aHIub3BlbihcIlBPU1RcIixcImh0dHBzOi8vY3AucHVzaHdvb3NoLmNvbS9qc29uLzEuMy9wb3N0RXZlbnRcIiwhMCkseGhyLnNldFJlcXVlc3RIZWFkZXIoXCJDb250ZW50LVR5cGVcIixcInRleHQvcGxhaW47Y2hhcnNldD1VVEYtOFwiKSx4aHIuc2VuZChKU09OLnN0cmluZ2lmeSh7cmVxdWVzdDpyZXF1ZXN0fSkpfX0pfSxleHBvcnRzLmdlbmVyYXRlVVVJRD1mdW5jdGlvbigpe3ZhciBkPShuZXcgRGF0ZSkuZ2V0VGltZSgpO3JldHVyblwidW5kZWZpbmVkXCIhPXR5cGVvZiBwZXJmb3JtYW5jZSYmXCJmdW5jdGlvblwiPT10eXBlb2YgcGVyZm9ybWFuY2Uubm93JiYoZCs9cGVyZm9ybWFuY2Uubm93KCkpLFwieHh4eHh4eHgteHh4eC00eHh4LXl4eHgteHh4eHh4eHh4eHh4XCIucmVwbGFjZSgvW3h5XS9nLGZ1bmN0aW9uKGMpe3ZhciByPShkKzE2Kk1hdGgucmFuZG9tKCkpJTE2fDA7cmV0dXJuIGQ9TWF0aC5mbG9vcihkLzE2KSwoXCJ4XCI9PT1jP3I6MyZyfDgpLnRvU3RyaW5nKDE2KX0pfX0sZnVuY3Rpb24obW9kdWxlLGV4cG9ydHMpe3ZhciBnO2c9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpc30oKTt0cnl7Zz1nfHxGdW5jdGlvbihcInJldHVybiB0aGlzXCIpKCl8fCgwLGV2YWwpKFwidGhpc1wiKX1jYXRjaChlKXtcIm9iamVjdFwiPT10eXBlb2Ygd2luZG93JiYoZz13aW5kb3cpfW1vZHVsZS5leHBvcnRzPWd9LGZ1bmN0aW9uKG1vZHVsZSxleHBvcnRzLF9fd2VicGFja19yZXF1aXJlX18pe1widXNlIHN0cmljdFwiO3ZhciBwbmE9X193ZWJwYWNrX3JlcXVpcmVfXygyOSksb2JqZWN0S2V5cz1PYmplY3Qua2V5c3x8ZnVuY3Rpb24ob2JqKXt2YXIga2V5cz1bXTtmb3IodmFyIGtleSBpbiBvYmopa2V5cy5wdXNoKGtleSk7cmV0dXJuIGtleXN9O21vZHVsZS5leHBvcnRzPUR1cGxleDt2YXIgdXRpbD1PYmplY3QuY3JlYXRlKF9fd2VicGFja19yZXF1aXJlX18oMjUpKTt1dGlsLmluaGVyaXRzPV9fd2VicGFja19yZXF1aXJlX18oMTQpO3ZhciBSZWFkYWJsZT1fX3dlYnBhY2tfcmVxdWlyZV9fKDUyKSxXcml0YWJsZT1fX3dlYnBhY2tfcmVxdWlyZV9fKDQyKTt1dGlsLmluaGVyaXRzKER1cGxleCxSZWFkYWJsZSk7Zm9yKHZhciBrZXlzPW9iamVjdEtleXMoV3JpdGFibGUucHJvdG90eXBlKSx2PTA7djxrZXlzLmxlbmd0aDt2Kyspe3ZhciBtZXRob2Q9a2V5c1t2XTtEdXBsZXgucHJvdG90eXBlW21ldGhvZF18fChEdXBsZXgucHJvdG90eXBlW21ldGhvZF09V3JpdGFibGUucHJvdG90eXBlW21ldGhvZF0pfWZ1bmN0aW9uIER1cGxleChvcHRpb25zKXtpZighKHRoaXMgaW5zdGFuY2VvZiBEdXBsZXgpKXJldHVybiBuZXcgRHVwbGV4KG9wdGlvbnMpO1JlYWRhYmxlLmNhbGwodGhpcyxvcHRpb25zKSxXcml0YWJsZS5jYWxsKHRoaXMsb3B0aW9ucyksb3B0aW9ucyYmITE9PT1vcHRpb25zLnJlYWRhYmxlJiYodGhpcy5yZWFkYWJsZT0hMSksb3B0aW9ucyYmITE9PT1vcHRpb25zLndyaXRhYmxlJiYodGhpcy53cml0YWJsZT0hMSksdGhpcy5hbGxvd0hhbGZPcGVuPSEwLG9wdGlvbnMmJiExPT09b3B0aW9ucy5hbGxvd0hhbGZPcGVuJiYodGhpcy5hbGxvd0hhbGZPcGVuPSExKSx0aGlzLm9uY2UoXCJlbmRcIixvbmVuZCl9ZnVuY3Rpb24gb25lbmQoKXt0aGlzLmFsbG93SGFsZk9wZW58fHRoaXMuX3dyaXRhYmxlU3RhdGUuZW5kZWR8fHBuYS5uZXh0VGljayhvbkVuZE5ULHRoaXMpfWZ1bmN0aW9uIG9uRW5kTlQoc2VsZil7c2VsZi5lbmQoKX1PYmplY3QuZGVmaW5lUHJvcGVydHkoRHVwbGV4LnByb3RvdHlwZSxcIndyaXRhYmxlSGlnaFdhdGVyTWFya1wiLHtlbnVtZXJhYmxlOiExLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl93cml0YWJsZVN0YXRlLmhpZ2hXYXRlck1hcmt9fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KER1cGxleC5wcm90b3R5cGUsXCJkZXN0cm95ZWRcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHZvaWQgMCE9PXRoaXMuX3JlYWRhYmxlU3RhdGUmJnZvaWQgMCE9PXRoaXMuX3dyaXRhYmxlU3RhdGUmJih0aGlzLl9yZWFkYWJsZVN0YXRlLmRlc3Ryb3llZCYmdGhpcy5fd3JpdGFibGVTdGF0ZS5kZXN0cm95ZWQpfSxzZXQ6ZnVuY3Rpb24odmFsdWUpe3ZvaWQgMCE9PXRoaXMuX3JlYWRhYmxlU3RhdGUmJnZvaWQgMCE9PXRoaXMuX3dyaXRhYmxlU3RhdGUmJih0aGlzLl9yZWFkYWJsZVN0YXRlLmRlc3Ryb3llZD12YWx1ZSx0aGlzLl93cml0YWJsZVN0YXRlLmRlc3Ryb3llZD12YWx1ZSl9fSksRHVwbGV4LnByb3RvdHlwZS5fZGVzdHJveT1mdW5jdGlvbihlcnIsY2Ipe3RoaXMucHVzaChudWxsKSx0aGlzLmVuZCgpLHBuYS5uZXh0VGljayhjYixlcnIpfX0sZnVuY3Rpb24obW9kdWxlLGV4cG9ydHMsX193ZWJwYWNrX3JlcXVpcmVfXyl7XCJ1c2Ugc3RyaWN0XCI7Zm9yKHZhciB1dGlscz1fX3dlYnBhY2tfcmVxdWlyZV9fKDApLHN1cHBvcnQ9X193ZWJwYWNrX3JlcXVpcmVfXyg3KSxub2RlanNVdGlscz1fX3dlYnBhY2tfcmVxdWlyZV9fKDMxKSxHZW5lcmljV29ya2VyPV9fd2VicGFja19yZXF1aXJlX18oMiksX3V0ZjhsZW49bmV3IEFycmF5KDI1NiksaT0wO2k8MjU2O2krKylfdXRmOGxlbltpXT1pPj0yNTI/NjppPj0yNDg/NTppPj0yNDA/NDppPj0yMjQ/MzppPj0xOTI/MjoxO191dGY4bGVuWzI1NF09X3V0ZjhsZW5bMjU0XT0xO2Z1bmN0aW9uIFV0ZjhEZWNvZGVXb3JrZXIoKXtHZW5lcmljV29ya2VyLmNhbGwodGhpcyxcInV0Zi04IGRlY29kZVwiKSx0aGlzLmxlZnRPdmVyPW51bGx9ZnVuY3Rpb24gVXRmOEVuY29kZVdvcmtlcigpe0dlbmVyaWNXb3JrZXIuY2FsbCh0aGlzLFwidXRmLTggZW5jb2RlXCIpfWV4cG9ydHMudXRmOGVuY29kZT1mdW5jdGlvbihzdHIpe3JldHVybiBzdXBwb3J0Lm5vZGVidWZmZXI/bm9kZWpzVXRpbHMubmV3QnVmZmVyRnJvbShzdHIsXCJ1dGYtOFwiKTpmdW5jdGlvbihzdHIpe3ZhciBidWYsYyxjMixtX3BvcyxpLHN0cl9sZW49c3RyLmxlbmd0aCxidWZfbGVuPTA7Zm9yKG1fcG9zPTA7bV9wb3M8c3RyX2xlbjttX3BvcysrKTU1Mjk2PT0oNjQ1MTImKGM9c3RyLmNoYXJDb2RlQXQobV9wb3MpKSkmJm1fcG9zKzE8c3RyX2xlbiYmNTYzMjA9PSg2NDUxMiYoYzI9c3RyLmNoYXJDb2RlQXQobV9wb3MrMSkpKSYmKGM9NjU1MzYrKGMtNTUyOTY8PDEwKSsoYzItNTYzMjApLG1fcG9zKyspLGJ1Zl9sZW4rPWM8MTI4PzE6YzwyMDQ4PzI6Yzw2NTUzNj8zOjQ7Zm9yKGJ1Zj1zdXBwb3J0LnVpbnQ4YXJyYXk/bmV3IFVpbnQ4QXJyYXkoYnVmX2xlbik6bmV3IEFycmF5KGJ1Zl9sZW4pLGk9MCxtX3Bvcz0wO2k8YnVmX2xlbjttX3BvcysrKTU1Mjk2PT0oNjQ1MTImKGM9c3RyLmNoYXJDb2RlQXQobV9wb3MpKSkmJm1fcG9zKzE8c3RyX2xlbiYmNTYzMjA9PSg2NDUxMiYoYzI9c3RyLmNoYXJDb2RlQXQobV9wb3MrMSkpKSYmKGM9NjU1MzYrKGMtNTUyOTY8PDEwKSsoYzItNTYzMjApLG1fcG9zKyspLGM8MTI4P2J1ZltpKytdPWM6YzwyMDQ4PyhidWZbaSsrXT0xOTJ8Yz4+PjYsYnVmW2krK109MTI4fDYzJmMpOmM8NjU1MzY/KGJ1ZltpKytdPTIyNHxjPj4+MTIsYnVmW2krK109MTI4fGM+Pj42JjYzLGJ1ZltpKytdPTEyOHw2MyZjKTooYnVmW2krK109MjQwfGM+Pj4xOCxidWZbaSsrXT0xMjh8Yz4+PjEyJjYzLGJ1ZltpKytdPTEyOHxjPj4+NiY2MyxidWZbaSsrXT0xMjh8NjMmYyk7cmV0dXJuIGJ1Zn0oc3RyKX0sZXhwb3J0cy51dGY4ZGVjb2RlPWZ1bmN0aW9uKGJ1Zil7cmV0dXJuIHN1cHBvcnQubm9kZWJ1ZmZlcj91dGlscy50cmFuc2Zvcm1UbyhcIm5vZGVidWZmZXJcIixidWYpLnRvU3RyaW5nKFwidXRmLThcIik6ZnVuY3Rpb24oYnVmKXt2YXIgaSxvdXQsYyxjX2xlbixsZW49YnVmLmxlbmd0aCx1dGYxNmJ1Zj1uZXcgQXJyYXkoMipsZW4pO2ZvcihvdXQ9MCxpPTA7aTxsZW47KWlmKChjPWJ1ZltpKytdKTwxMjgpdXRmMTZidWZbb3V0KytdPWM7ZWxzZSBpZigoY19sZW49X3V0ZjhsZW5bY10pPjQpdXRmMTZidWZbb3V0KytdPTY1NTMzLGkrPWNfbGVuLTE7ZWxzZXtmb3IoYyY9Mj09PWNfbGVuPzMxOjM9PT1jX2xlbj8xNTo3O2NfbGVuPjEmJmk8bGVuOyljPWM8PDZ8NjMmYnVmW2krK10sY19sZW4tLTtjX2xlbj4xP3V0ZjE2YnVmW291dCsrXT02NTUzMzpjPDY1NTM2P3V0ZjE2YnVmW291dCsrXT1jOihjLT02NTUzNix1dGYxNmJ1ZltvdXQrK109NTUyOTZ8Yz4+MTAmMTAyMyx1dGYxNmJ1ZltvdXQrK109NTYzMjB8MTAyMyZjKX1yZXR1cm4gdXRmMTZidWYubGVuZ3RoIT09b3V0JiYodXRmMTZidWYuc3ViYXJyYXk/dXRmMTZidWY9dXRmMTZidWYuc3ViYXJyYXkoMCxvdXQpOnV0ZjE2YnVmLmxlbmd0aD1vdXQpLHV0aWxzLmFwcGx5RnJvbUNoYXJDb2RlKHV0ZjE2YnVmKX0oYnVmPXV0aWxzLnRyYW5zZm9ybVRvKHN1cHBvcnQudWludDhhcnJheT9cInVpbnQ4YXJyYXlcIjpcImFycmF5XCIsYnVmKSl9LHV0aWxzLmluaGVyaXRzKFV0ZjhEZWNvZGVXb3JrZXIsR2VuZXJpY1dvcmtlciksVXRmOERlY29kZVdvcmtlci5wcm90b3R5cGUucHJvY2Vzc0NodW5rPWZ1bmN0aW9uKGNodW5rKXt2YXIgZGF0YT11dGlscy50cmFuc2Zvcm1UbyhzdXBwb3J0LnVpbnQ4YXJyYXk/XCJ1aW50OGFycmF5XCI6XCJhcnJheVwiLGNodW5rLmRhdGEpO2lmKHRoaXMubGVmdE92ZXImJnRoaXMubGVmdE92ZXIubGVuZ3RoKXtpZihzdXBwb3J0LnVpbnQ4YXJyYXkpe3ZhciBwcmV2aW91c0RhdGE9ZGF0YTsoZGF0YT1uZXcgVWludDhBcnJheShwcmV2aW91c0RhdGEubGVuZ3RoK3RoaXMubGVmdE92ZXIubGVuZ3RoKSkuc2V0KHRoaXMubGVmdE92ZXIsMCksZGF0YS5zZXQocHJldmlvdXNEYXRhLHRoaXMubGVmdE92ZXIubGVuZ3RoKX1lbHNlIGRhdGE9dGhpcy5sZWZ0T3Zlci5jb25jYXQoZGF0YSk7dGhpcy5sZWZ0T3Zlcj1udWxsfXZhciBuZXh0Qm91bmRhcnk9ZnVuY3Rpb24oYnVmLG1heCl7dmFyIHBvcztmb3IoKG1heD1tYXh8fGJ1Zi5sZW5ndGgpPmJ1Zi5sZW5ndGgmJihtYXg9YnVmLmxlbmd0aCkscG9zPW1heC0xO3Bvcz49MCYmMTI4PT0oMTkyJmJ1Zltwb3NdKTspcG9zLS07cmV0dXJuIHBvczwwP21heDowPT09cG9zP21heDpwb3MrX3V0ZjhsZW5bYnVmW3Bvc11dPm1heD9wb3M6bWF4fShkYXRhKSx1c2FibGVEYXRhPWRhdGE7bmV4dEJvdW5kYXJ5IT09ZGF0YS5sZW5ndGgmJihzdXBwb3J0LnVpbnQ4YXJyYXk/KHVzYWJsZURhdGE9ZGF0YS5zdWJhcnJheSgwLG5leHRCb3VuZGFyeSksdGhpcy5sZWZ0T3Zlcj1kYXRhLnN1YmFycmF5KG5leHRCb3VuZGFyeSxkYXRhLmxlbmd0aCkpOih1c2FibGVEYXRhPWRhdGEuc2xpY2UoMCxuZXh0Qm91bmRhcnkpLHRoaXMubGVmdE92ZXI9ZGF0YS5zbGljZShuZXh0Qm91bmRhcnksZGF0YS5sZW5ndGgpKSksdGhpcy5wdXNoKHtkYXRhOmV4cG9ydHMudXRmOGRlY29kZSh1c2FibGVEYXRhKSxtZXRhOmNodW5rLm1ldGF9KX0sVXRmOERlY29kZVdvcmtlci5wcm90b3R5cGUuZmx1c2g9ZnVuY3Rpb24oKXt0aGlzLmxlZnRPdmVyJiZ0aGlzLmxlZnRPdmVyLmxlbmd0aCYmKHRoaXMucHVzaCh7ZGF0YTpleHBvcnRzLnV0ZjhkZWNvZGUodGhpcy5sZWZ0T3ZlciksbWV0YTp7fX0pLHRoaXMubGVmdE92ZXI9bnVsbCl9LGV4cG9ydHMuVXRmOERlY29kZVdvcmtlcj1VdGY4RGVjb2RlV29ya2VyLHV0aWxzLmluaGVyaXRzKFV0ZjhFbmNvZGVXb3JrZXIsR2VuZXJpY1dvcmtlciksVXRmOEVuY29kZVdvcmtlci5wcm90b3R5cGUucHJvY2Vzc0NodW5rPWZ1bmN0aW9uKGNodW5rKXt0aGlzLnB1c2goe2RhdGE6ZXhwb3J0cy51dGY4ZW5jb2RlKGNodW5rLmRhdGEpLG1ldGE6Y2h1bmsubWV0YX0pfSxleHBvcnRzLlV0ZjhFbmNvZGVXb3JrZXI9VXRmOEVuY29kZVdvcmtlcn0sZnVuY3Rpb24obW9kdWxlLGV4cG9ydHMpe1wiZnVuY3Rpb25cIj09dHlwZW9mIE9iamVjdC5jcmVhdGU/bW9kdWxlLmV4cG9ydHM9ZnVuY3Rpb24oY3RvcixzdXBlckN0b3Ipe3N1cGVyQ3RvciYmKGN0b3Iuc3VwZXJfPXN1cGVyQ3RvcixjdG9yLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKHN1cGVyQ3Rvci5wcm90b3R5cGUse2NvbnN0cnVjdG9yOnt2YWx1ZTpjdG9yLGVudW1lcmFibGU6ITEsd3JpdGFibGU6ITAsY29uZmlndXJhYmxlOiEwfX0pKX06bW9kdWxlLmV4cG9ydHM9ZnVuY3Rpb24oY3RvcixzdXBlckN0b3Ipe2lmKHN1cGVyQ3Rvcil7Y3Rvci5zdXBlcl89c3VwZXJDdG9yO3ZhciBUZW1wQ3Rvcj1mdW5jdGlvbigpe307VGVtcEN0b3IucHJvdG90eXBlPXN1cGVyQ3Rvci5wcm90b3R5cGUsY3Rvci5wcm90b3R5cGU9bmV3IFRlbXBDdG9yLGN0b3IucHJvdG90eXBlLmNvbnN0cnVjdG9yPWN0b3J9fX0sZnVuY3Rpb24obW9kdWxlLGV4cG9ydHMsX193ZWJwYWNrX3JlcXVpcmVfXyl7dmFyIHYxPV9fd2VicGFja19yZXF1aXJlX18oMzIpLHY0PV9fd2VicGFja19yZXF1aXJlX18oMzMpLHV1aWQ9djQ7dXVpZC52MT12MSx1dWlkLnY0PXY0LG1vZHVsZS5leHBvcnRzPXV1aWR9LGZ1bmN0aW9uKG1vZHVsZSxleHBvcnRzKXt2YXIgZ2V0UmFuZG9tVmFsdWVzPVwidW5kZWZpbmVkXCIhPXR5cGVvZiBjcnlwdG8mJmNyeXB0by5nZXRSYW5kb21WYWx1ZXMmJmNyeXB0by5nZXRSYW5kb21WYWx1ZXMuYmluZChjcnlwdG8pfHxcInVuZGVmaW5lZFwiIT10eXBlb2YgbXNDcnlwdG8mJlwiZnVuY3Rpb25cIj09dHlwZW9mIHdpbmRvdy5tc0NyeXB0by5nZXRSYW5kb21WYWx1ZXMmJm1zQ3J5cHRvLmdldFJhbmRvbVZhbHVlcy5iaW5kKG1zQ3J5cHRvKTtpZihnZXRSYW5kb21WYWx1ZXMpe3ZhciBybmRzOD1uZXcgVWludDhBcnJheSgxNik7bW9kdWxlLmV4cG9ydHM9ZnVuY3Rpb24oKXtyZXR1cm4gZ2V0UmFuZG9tVmFsdWVzKHJuZHM4KSxybmRzOH19ZWxzZXt2YXIgcm5kcz1uZXcgQXJyYXkoMTYpO21vZHVsZS5leHBvcnRzPWZ1bmN0aW9uKCl7Zm9yKHZhciByLGk9MDtpPDE2O2krKykwPT0oMyZpKSYmKHI9NDI5NDk2NzI5NipNYXRoLnJhbmRvbSgpKSxybmRzW2ldPXI+Pj4oKDMmaSk8PDMpJjI1NTtyZXR1cm4gcm5kc319fSxmdW5jdGlvbihtb2R1bGUsZXhwb3J0cyl7Zm9yKHZhciBieXRlVG9IZXg9W10saT0wO2k8MjU2OysraSlieXRlVG9IZXhbaV09KGkrMjU2KS50b1N0cmluZygxNikuc3Vic3RyKDEpO21vZHVsZS5leHBvcnRzPWZ1bmN0aW9uKGJ1ZixvZmZzZXQpe3ZhciBpPW9mZnNldHx8MCxidGg9Ynl0ZVRvSGV4O3JldHVybltidGhbYnVmW2krK11dLGJ0aFtidWZbaSsrXV0sYnRoW2J1ZltpKytdXSxidGhbYnVmW2krK11dLFwiLVwiLGJ0aFtidWZbaSsrXV0sYnRoW2J1ZltpKytdXSxcIi1cIixidGhbYnVmW2krK11dLGJ0aFtidWZbaSsrXV0sXCItXCIsYnRoW2J1ZltpKytdXSxidGhbYnVmW2krK11dLFwiLVwiLGJ0aFtidWZbaSsrXV0sYnRoW2J1ZltpKytdXSxidGhbYnVmW2krK11dLGJ0aFtidWZbaSsrXV0sYnRoW2J1ZltpKytdXSxidGhbYnVmW2krK11dXS5qb2luKFwiXCIpfX0sZnVuY3Rpb24obW9kdWxlLGV4cG9ydHMsX193ZWJwYWNrX3JlcXVpcmVfXyl7XCJ1c2Ugc3RyaWN0XCI7T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSksZXhwb3J0cy5kZWZhdWx0PTd9LGZ1bmN0aW9uKG1vZHVsZSxleHBvcnRzLF9fd2VicGFja19yZXF1aXJlX18pe1widXNlIHN0cmljdFwiO09iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pO3ZhciBNaWdyYXRpb25zXzE9X193ZWJwYWNrX3JlcXVpcmVfXygzNyksTWlncmF0aW9uRXhlY3V0b3I9ZnVuY3Rpb24oKXtmdW5jdGlvbiBNaWdyYXRpb25FeGVjdXRvcihkYixtaWdyYXRpb25zQnVpbGRlcil7dm9pZCAwPT09bWlncmF0aW9uc0J1aWxkZXImJihtaWdyYXRpb25zQnVpbGRlcj1uZXcgTWlncmF0aW9uc18xLmRlZmF1bHQpLHRoaXMuZGI9ZGIsdGhpcy5taWdyYXRpb25zQnVpbGRlcj1taWdyYXRpb25zQnVpbGRlcn1yZXR1cm4gTWlncmF0aW9uRXhlY3V0b3IucHJvdG90eXBlLmFwcGx5TWlncmF0aW9ucz1mdW5jdGlvbigpe3ZhciBfdGhpcz10aGlzO3RoaXMuYXBwbHlNaWdyYXRpb25zUGFjayh0aGlzLm1pZ3JhdGlvbnNCdWlsZGVyLmluaXRpYWwpLHRoaXMubWlncmF0aW9uc0J1aWxkZXIuZGF0ZVNvcnRlZC5mb3JFYWNoKGZ1bmN0aW9uKG1pZ3JhdGlvbnNQYWNrKXtfdGhpcy5hcHBseU1pZ3JhdGlvbnNQYWNrKG1pZ3JhdGlvbnNQYWNrKX0pfSxNaWdyYXRpb25FeGVjdXRvci5wcm90b3R5cGUuYXBwbHlNaWdyYXRpb25zUGFjaz1mdW5jdGlvbihtaWdyYXRpb25zUGFjayl7dmFyIF90aGlzPXRoaXM7bWlncmF0aW9uc1BhY2suZm9yRWFjaChmdW5jdGlvbihtaWdyYXRpb24pe21pZ3JhdGlvbihfdGhpcy5kYil9KX0sTWlncmF0aW9uRXhlY3V0b3J9KCk7ZXhwb3J0cy5kZWZhdWx0PU1pZ3JhdGlvbkV4ZWN1dG9yfSxmdW5jdGlvbihtb2R1bGUsZXhwb3J0cyxfX3dlYnBhY2tfcmVxdWlyZV9fKXtcInVzZSBzdHJpY3RcIjtPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cyxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KSxleHBvcnRzLnN0b3JlQ3JlYXRvckRlY29yYXRvcj1mdW5jdGlvbihuYW1lLHN0b3JlQ3JlYXRvcil7cmV0dXJuIGZ1bmN0aW9uKGRhdGFiYXNlKXtkYXRhYmFzZS5vYmplY3RTdG9yZU5hbWVzLmNvbnRhaW5zKG5hbWUpfHxzdG9yZUNyZWF0b3IoZGF0YWJhc2UpfX19LGZ1bmN0aW9uKG1vZHVsZSxleHBvcnRzLF9fd2VicGFja19yZXF1aXJlX18pe1widXNlIHN0cmljdFwiO09iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pO3ZhciBQbGF0Zm9ybUNoZWNrZXJfMT1fX3dlYnBhY2tfcmVxdWlyZV9fKDIyKSxQbGF0Zm9ybUNoZWNrZXJfMj1fX3dlYnBhY2tfcmVxdWlyZV9fKDIyKTtleHBvcnRzLlBsYXRmb3JtQ2hlY2tlcj1QbGF0Zm9ybUNoZWNrZXJfMi5QbGF0Zm9ybUNoZWNrZXIsZXhwb3J0cy5kZWZhdWx0PVBsYXRmb3JtQ2hlY2tlcl8xLnBsYXRmb3JtQ2hlY2tlcn0sZnVuY3Rpb24obW9kdWxlLGV4cG9ydHMsX193ZWJwYWNrX3JlcXVpcmVfXyl7XCJ1c2Ugc3RyaWN0XCI7T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSk7dmFyIFBsYXRmb3JtQ2hlY2tlcj1mdW5jdGlvbigpe2Z1bmN0aW9uIFBsYXRmb3JtQ2hlY2tlcihnbG9iYWwpe3ZvaWQgMD09PWdsb2JhbCYmKGdsb2JhbD13aW5kb3cpLHRoaXMuZ2xvYmFsPWdsb2JhbCx0aGlzLl9pc1NhZmFyaT10aGlzLmlzU2FmYXJpQnJvd3NlcigpLHRoaXMuX2lzT3BlcmE9dGhpcy5pc09wZXJhQnJvd3NlcigpLHRoaXMuX2lzRWRnZT10aGlzLmlzRWRnZUJyb3dzZXIoKSx0aGlzLl9pc0ZpcmVmb3g9dGhpcy5pc0ZpcmVmb3hCcm93c2VyKCksdGhpcy5faXNDaHJvbWU9dGhpcy5pc0Nocm9tZUJyb3dzZXIoKSx0aGlzLl9pc01hY09TPXRoaXMuaXNNYWNPUygpLHRoaXMuX2lzQXZhaWxhYmxlUHJvbWlzZT10aGlzLmNhblVzZVByb21pc2UoKSx0aGlzLl9pc0F2YWlsYWJsZVNlcnZpY2VXb3JrZXI9dGhpcy5jYW5Vc2VTZXJ2aWNlV29ya2VycygpLHRoaXMuX2lzQXZhaWxhYmxlTm90aWZpY2F0aW9ucz10aGlzLmNhblJlY2VpdmVOb3RpZmljYXRpb25zKCksdGhpcy5fcGxhdGZvcm09dGhpcy5nZXRQbGF0Zm9ybVR5cGUoKSx0aGlzLl9icm93c2VyVmVyc2lvbj10aGlzLmdldEJyb3dzZXJWZXJzaW9uKCl9cmV0dXJuIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShQbGF0Zm9ybUNoZWNrZXIucHJvdG90eXBlLFwiaXNFZGdlXCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9pc0VkZ2V9LGVudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KFBsYXRmb3JtQ2hlY2tlci5wcm90b3R5cGUsXCJpc1NhZmFyaVwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5faXNTYWZhcml9LGVudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KFBsYXRmb3JtQ2hlY2tlci5wcm90b3R5cGUsXCJpc09wZXJhXCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9pc09wZXJhfSxlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShQbGF0Zm9ybUNoZWNrZXIucHJvdG90eXBlLFwiaXNBdmFpbGFibGVQcm9taXNlXCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9pc0F2YWlsYWJsZVByb21pc2V9LGVudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KFBsYXRmb3JtQ2hlY2tlci5wcm90b3R5cGUsXCJpc0F2YWlsYWJsZVNlcnZpY2VXb3JrZXJcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2lzQXZhaWxhYmxlU2VydmljZVdvcmtlcn0sZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoUGxhdGZvcm1DaGVja2VyLnByb3RvdHlwZSxcImlzQXZhaWxhYmxlTm90aWZpY2F0aW9uc1wiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5faXNBdmFpbGFibGVOb3RpZmljYXRpb25zfSxlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShQbGF0Zm9ybUNoZWNrZXIucHJvdG90eXBlLFwicGxhdGZvcm1cIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3BsYXRmb3JtfSxlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShQbGF0Zm9ybUNoZWNrZXIucHJvdG90eXBlLFwiYnJvd3NlclZlcnNpb25cIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2Jyb3dzZXJWZXJzaW9ufSxlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMH0pLFBsYXRmb3JtQ2hlY2tlci5wcm90b3R5cGUuaXNTYWZhcmlCcm93c2VyPWZ1bmN0aW9uKCl7cmV0dXJuXCJzYWZhcmlcImluIHRoaXMuZ2xvYmFsJiZuYXZpZ2F0b3IudXNlckFnZW50LmluZGV4T2YoXCJTYWZhcmlcIik+LTF9LFBsYXRmb3JtQ2hlY2tlci5wcm90b3R5cGUuaXNPcGVyYUJyb3dzZXI9ZnVuY3Rpb24oKXtyZXR1cm4tMSE9PW5hdmlnYXRvci51c2VyQWdlbnQuaW5kZXhPZihcIk9wZXJhXCIpfHwtMSE9PW5hdmlnYXRvci51c2VyQWdlbnQuaW5kZXhPZihcIk9QUlwiKX0sUGxhdGZvcm1DaGVja2VyLnByb3RvdHlwZS5pc0VkZ2VCcm93c2VyPWZ1bmN0aW9uKCl7cmV0dXJuIG5hdmlnYXRvci51c2VyQWdlbnQuaW5kZXhPZihcIkVkZ2VcIik+LTF9LFBsYXRmb3JtQ2hlY2tlci5wcm90b3R5cGUuaXNGaXJlZm94QnJvd3Nlcj1mdW5jdGlvbigpe3JldHVybi0xIT09bmF2aWdhdG9yLnVzZXJBZ2VudC50b0xvd2VyQ2FzZSgpLmluZGV4T2YoXCJmaXJlZm94XCIpfSxQbGF0Zm9ybUNoZWNrZXIucHJvdG90eXBlLmlzQ2hyb21lQnJvd3Nlcj1mdW5jdGlvbigpe3JldHVybi9DaHJvbWUvLnRlc3QobmF2aWdhdG9yLnVzZXJBZ2VudCkmJi9Hb29nbGUgSW5jLy50ZXN0KG5hdmlnYXRvci52ZW5kb3IpJiYhdGhpcy5faXNPcGVyYSYmIXRoaXMuX2lzRWRnZX0sUGxhdGZvcm1DaGVja2VyLnByb3RvdHlwZS5pc01hY09TPWZ1bmN0aW9uKCl7cmV0dXJuXCJwbGF0Zm9ybVwiaW4gbmF2aWdhdG9yJiYtMSE9PW5hdmlnYXRvci5wbGF0Zm9ybS50b0xvd2VyQ2FzZSgpLmluZGV4T2YoXCJtYWNcIil9LFBsYXRmb3JtQ2hlY2tlci5wcm90b3R5cGUuY2FuVXNlU2VydmljZVdvcmtlcnM9ZnVuY3Rpb24oKXtyZXR1cm4hIW5hdmlnYXRvci5zZXJ2aWNlV29ya2VyJiZcIlB1c2hNYW5hZ2VyXCJpbiB0aGlzLmdsb2JhbCYmXCJOb3RpZmljYXRpb25cImluIHRoaXMuZ2xvYmFsfSxQbGF0Zm9ybUNoZWNrZXIucHJvdG90eXBlLmNhblVzZVByb21pc2U9ZnVuY3Rpb24oKXtyZXR1cm5cIlByb21pc2VcImluIHRoaXMuZ2xvYmFsfSxQbGF0Zm9ybUNoZWNrZXIucHJvdG90eXBlLmNhblJlY2VpdmVOb3RpZmljYXRpb25zPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2lzU2FmYXJpJiZ0aGlzLl9pc01hY09TfHx0aGlzLl9pc0F2YWlsYWJsZVNlcnZpY2VXb3JrZXImJiF0aGlzLl9pc0VkZ2V9LFBsYXRmb3JtQ2hlY2tlci5wcm90b3R5cGUuZ2V0UGxhdGZvcm1UeXBlPWZ1bmN0aW9uKCl7dmFyIHBsYXRmb3JtPTExO3N3aXRjaCghMCl7Y2FzZSB0aGlzLl9pc1NhZmFyaTpwbGF0Zm9ybT0xMDticmVhaztjYXNlIHRoaXMuX2lzT3BlcmF8fHRoaXMuX2lzQ2hyb21lOnBsYXRmb3JtPTExO2JyZWFrO2Nhc2UgdGhpcy5faXNGaXJlZm94OnBsYXRmb3JtPTEyO2JyZWFrO2Nhc2UgdGhpcy5faXNFZGdlOnBsYXRmb3JtPTE1MH1yZXR1cm4gcGxhdGZvcm19LFBsYXRmb3JtQ2hlY2tlci5wcm90b3R5cGUuZ2V0QnJvd3NlclZlcnNpb249ZnVuY3Rpb24oKXt2YXIgdXNlckFnZW50PW5hdmlnYXRvci51c2VyQWdlbnQsbWF0Y2hPcGVyYVZlcnNpb249dXNlckFnZW50Lm1hdGNoKC9cXGJPUFJcXC8oXFxkKykvKTtpZihudWxsIT09bWF0Y2hPcGVyYVZlcnNpb24pcmV0dXJuXCJPcGVyYSBcIittYXRjaE9wZXJhVmVyc2lvblsxXTt2YXIgbWF0Y2hFZGdlVmVyc2lvbj11c2VyQWdlbnQubWF0Y2goL1xcYkVkZ2VcXC8oXFxkKykvKTtpZihudWxsIT09bWF0Y2hFZGdlVmVyc2lvbilyZXR1cm5cIkVkZ2UgXCIrbWF0Y2hFZGdlVmVyc2lvblsxXTt2YXIgbWF0Y2g9dXNlckFnZW50Lm1hdGNoKC8ob3BlcmF8Y2hyb21lfHNhZmFyaXxmaXJlZm94fG1zaWV8dHJpZGVudCg/PVxcLykpXFwvP1xccyooXFxkKykvaSl8fFtdLF9hPShtYXRjaFswXSxtYXRjaFsxXSksYnJvd3Nlcj12b2lkIDA9PT1fYT9cIlwiOl9hO2lmKC90cmlkZW50L2kudGVzdCh1c2VyQWdlbnQpKXt2YXIgbWF0Y2hJZVZlcnNpb249L3RyaWRlbnRcXC8oWy5cXGRdKykvZ2kuZXhlYyh1c2VyQWdlbnQpfHxbXTtyZXR1cm5cIklFIFwiKygoXCI3LjBcIj09PW1hdGNoSWVWZXJzaW9uWzFdP1wiMTFcIjptYXRjaEllVmVyc2lvblsxXSl8fFwiXCIpfW1hdGNoPW1hdGNoWzJdP1ticm93c2VyLG1hdGNoWzJdXTpbbmF2aWdhdG9yLmFwcE5hbWUsbmF2aWdhdG9yLmFwcFZlcnNpb24sXCItP1wiXTt2YXIgdmVyc2lvbj11c2VyQWdlbnQubWF0Y2goL3ZlcnNpb25cXC8oWy5cXGRdKykvaSk7cmV0dXJuIG51bGwhPT12ZXJzaW9uJiZtYXRjaC5zcGxpY2UoMSwxLHZlcnNpb25bMV0pLG1hdGNoLmpvaW4oXCIgXCIpfSxQbGF0Zm9ybUNoZWNrZXJ9KCk7ZXhwb3J0cy5QbGF0Zm9ybUNoZWNrZXI9UGxhdGZvcm1DaGVja2VyLGV4cG9ydHMucGxhdGZvcm1DaGVja2VyPW5ldyBQbGF0Zm9ybUNoZWNrZXIoRnVuY3Rpb24oXCJyZXR1cm4gdGhpc1wiKSgpKX0sZnVuY3Rpb24obW9kdWxlLGV4cG9ydHMsX193ZWJwYWNrX3JlcXVpcmVfXyl7XCJ1c2Ugc3RyaWN0XCI7KGZ1bmN0aW9uKGdsb2JhbCl7XG4vKiFcbiAqIFRoZSBidWZmZXIgbW9kdWxlIGZyb20gbm9kZS5qcywgZm9yIHRoZSBicm93c2VyLlxuICpcbiAqIEBhdXRob3IgICBGZXJvc3MgQWJvdWtoYWRpamVoIDxodHRwOi8vZmVyb3NzLm9yZz5cbiAqIEBsaWNlbnNlICBNSVRcbiAqL1xudmFyIGJhc2U2ND1fX3dlYnBhY2tfcmVxdWlyZV9fKDg3KSxpZWVlNzU0PV9fd2VicGFja19yZXF1aXJlX18oODgpLGlzQXJyYXk9X193ZWJwYWNrX3JlcXVpcmVfXyg1MCk7ZnVuY3Rpb24ga01heExlbmd0aCgpe3JldHVybiBCdWZmZXIuVFlQRURfQVJSQVlfU1VQUE9SVD8yMTQ3NDgzNjQ3OjEwNzM3NDE4MjN9ZnVuY3Rpb24gY3JlYXRlQnVmZmVyKHRoYXQsbGVuZ3RoKXtpZihrTWF4TGVuZ3RoKCk8bGVuZ3RoKXRocm93IG5ldyBSYW5nZUVycm9yKFwiSW52YWxpZCB0eXBlZCBhcnJheSBsZW5ndGhcIik7cmV0dXJuIEJ1ZmZlci5UWVBFRF9BUlJBWV9TVVBQT1JUPyh0aGF0PW5ldyBVaW50OEFycmF5KGxlbmd0aCkpLl9fcHJvdG9fXz1CdWZmZXIucHJvdG90eXBlOihudWxsPT09dGhhdCYmKHRoYXQ9bmV3IEJ1ZmZlcihsZW5ndGgpKSx0aGF0Lmxlbmd0aD1sZW5ndGgpLHRoYXR9ZnVuY3Rpb24gQnVmZmVyKGFyZyxlbmNvZGluZ09yT2Zmc2V0LGxlbmd0aCl7aWYoIShCdWZmZXIuVFlQRURfQVJSQVlfU1VQUE9SVHx8dGhpcyBpbnN0YW5jZW9mIEJ1ZmZlcikpcmV0dXJuIG5ldyBCdWZmZXIoYXJnLGVuY29kaW5nT3JPZmZzZXQsbGVuZ3RoKTtpZihcIm51bWJlclwiPT10eXBlb2YgYXJnKXtpZihcInN0cmluZ1wiPT10eXBlb2YgZW5jb2RpbmdPck9mZnNldCl0aHJvdyBuZXcgRXJyb3IoXCJJZiBlbmNvZGluZyBpcyBzcGVjaWZpZWQgdGhlbiB0aGUgZmlyc3QgYXJndW1lbnQgbXVzdCBiZSBhIHN0cmluZ1wiKTtyZXR1cm4gYWxsb2NVbnNhZmUodGhpcyxhcmcpfXJldHVybiBmcm9tKHRoaXMsYXJnLGVuY29kaW5nT3JPZmZzZXQsbGVuZ3RoKX1mdW5jdGlvbiBmcm9tKHRoYXQsdmFsdWUsZW5jb2RpbmdPck9mZnNldCxsZW5ndGgpe2lmKFwibnVtYmVyXCI9PXR5cGVvZiB2YWx1ZSl0aHJvdyBuZXcgVHlwZUVycm9yKCdcInZhbHVlXCIgYXJndW1lbnQgbXVzdCBub3QgYmUgYSBudW1iZXInKTtyZXR1cm5cInVuZGVmaW5lZFwiIT10eXBlb2YgQXJyYXlCdWZmZXImJnZhbHVlIGluc3RhbmNlb2YgQXJyYXlCdWZmZXI/ZnVuY3Rpb24odGhhdCxhcnJheSxieXRlT2Zmc2V0LGxlbmd0aCl7aWYoYXJyYXkuYnl0ZUxlbmd0aCxieXRlT2Zmc2V0PDB8fGFycmF5LmJ5dGVMZW5ndGg8Ynl0ZU9mZnNldCl0aHJvdyBuZXcgUmFuZ2VFcnJvcihcIidvZmZzZXQnIGlzIG91dCBvZiBib3VuZHNcIik7aWYoYXJyYXkuYnl0ZUxlbmd0aDxieXRlT2Zmc2V0KyhsZW5ndGh8fDApKXRocm93IG5ldyBSYW5nZUVycm9yKFwiJ2xlbmd0aCcgaXMgb3V0IG9mIGJvdW5kc1wiKTthcnJheT12b2lkIDA9PT1ieXRlT2Zmc2V0JiZ2b2lkIDA9PT1sZW5ndGg/bmV3IFVpbnQ4QXJyYXkoYXJyYXkpOnZvaWQgMD09PWxlbmd0aD9uZXcgVWludDhBcnJheShhcnJheSxieXRlT2Zmc2V0KTpuZXcgVWludDhBcnJheShhcnJheSxieXRlT2Zmc2V0LGxlbmd0aCk7QnVmZmVyLlRZUEVEX0FSUkFZX1NVUFBPUlQ/KHRoYXQ9YXJyYXkpLl9fcHJvdG9fXz1CdWZmZXIucHJvdG90eXBlOnRoYXQ9ZnJvbUFycmF5TGlrZSh0aGF0LGFycmF5KTtyZXR1cm4gdGhhdH0odGhhdCx2YWx1ZSxlbmNvZGluZ09yT2Zmc2V0LGxlbmd0aCk6XCJzdHJpbmdcIj09dHlwZW9mIHZhbHVlP2Z1bmN0aW9uKHRoYXQsc3RyaW5nLGVuY29kaW5nKXtcInN0cmluZ1wiPT10eXBlb2YgZW5jb2RpbmcmJlwiXCIhPT1lbmNvZGluZ3x8KGVuY29kaW5nPVwidXRmOFwiKTtpZighQnVmZmVyLmlzRW5jb2RpbmcoZW5jb2RpbmcpKXRocm93IG5ldyBUeXBlRXJyb3IoJ1wiZW5jb2RpbmdcIiBtdXN0IGJlIGEgdmFsaWQgc3RyaW5nIGVuY29kaW5nJyk7dmFyIGxlbmd0aD0wfGJ5dGVMZW5ndGgoc3RyaW5nLGVuY29kaW5nKSxhY3R1YWw9KHRoYXQ9Y3JlYXRlQnVmZmVyKHRoYXQsbGVuZ3RoKSkud3JpdGUoc3RyaW5nLGVuY29kaW5nKTthY3R1YWwhPT1sZW5ndGgmJih0aGF0PXRoYXQuc2xpY2UoMCxhY3R1YWwpKTtyZXR1cm4gdGhhdH0odGhhdCx2YWx1ZSxlbmNvZGluZ09yT2Zmc2V0KTpmdW5jdGlvbih0aGF0LG9iail7aWYoQnVmZmVyLmlzQnVmZmVyKG9iaikpe3ZhciBsZW49MHxjaGVja2VkKG9iai5sZW5ndGgpO3JldHVybiAwPT09KHRoYXQ9Y3JlYXRlQnVmZmVyKHRoYXQsbGVuKSkubGVuZ3RoP3RoYXQ6KG9iai5jb3B5KHRoYXQsMCwwLGxlbiksdGhhdCl9aWYob2JqKXtpZihcInVuZGVmaW5lZFwiIT10eXBlb2YgQXJyYXlCdWZmZXImJm9iai5idWZmZXIgaW5zdGFuY2VvZiBBcnJheUJ1ZmZlcnx8XCJsZW5ndGhcImluIG9iailyZXR1cm5cIm51bWJlclwiIT10eXBlb2Ygb2JqLmxlbmd0aHx8ZnVuY3Rpb24odmFsKXtyZXR1cm4gdmFsIT12YWx9KG9iai5sZW5ndGgpP2NyZWF0ZUJ1ZmZlcih0aGF0LDApOmZyb21BcnJheUxpa2UodGhhdCxvYmopO2lmKFwiQnVmZmVyXCI9PT1vYmoudHlwZSYmaXNBcnJheShvYmouZGF0YSkpcmV0dXJuIGZyb21BcnJheUxpa2UodGhhdCxvYmouZGF0YSl9dGhyb3cgbmV3IFR5cGVFcnJvcihcIkZpcnN0IGFyZ3VtZW50IG11c3QgYmUgYSBzdHJpbmcsIEJ1ZmZlciwgQXJyYXlCdWZmZXIsIEFycmF5LCBvciBhcnJheS1saWtlIG9iamVjdC5cIil9KHRoYXQsdmFsdWUpfWZ1bmN0aW9uIGFzc2VydFNpemUoc2l6ZSl7aWYoXCJudW1iZXJcIiE9dHlwZW9mIHNpemUpdGhyb3cgbmV3IFR5cGVFcnJvcignXCJzaXplXCIgYXJndW1lbnQgbXVzdCBiZSBhIG51bWJlcicpO2lmKHNpemU8MCl0aHJvdyBuZXcgUmFuZ2VFcnJvcignXCJzaXplXCIgYXJndW1lbnQgbXVzdCBub3QgYmUgbmVnYXRpdmUnKX1mdW5jdGlvbiBhbGxvY1Vuc2FmZSh0aGF0LHNpemUpe2lmKGFzc2VydFNpemUoc2l6ZSksdGhhdD1jcmVhdGVCdWZmZXIodGhhdCxzaXplPDA/MDowfGNoZWNrZWQoc2l6ZSkpLCFCdWZmZXIuVFlQRURfQVJSQVlfU1VQUE9SVClmb3IodmFyIGk9MDtpPHNpemU7KytpKXRoYXRbaV09MDtyZXR1cm4gdGhhdH1mdW5jdGlvbiBmcm9tQXJyYXlMaWtlKHRoYXQsYXJyYXkpe3ZhciBsZW5ndGg9YXJyYXkubGVuZ3RoPDA/MDowfGNoZWNrZWQoYXJyYXkubGVuZ3RoKTt0aGF0PWNyZWF0ZUJ1ZmZlcih0aGF0LGxlbmd0aCk7Zm9yKHZhciBpPTA7aTxsZW5ndGg7aSs9MSl0aGF0W2ldPTI1NSZhcnJheVtpXTtyZXR1cm4gdGhhdH1mdW5jdGlvbiBjaGVja2VkKGxlbmd0aCl7aWYobGVuZ3RoPj1rTWF4TGVuZ3RoKCkpdGhyb3cgbmV3IFJhbmdlRXJyb3IoXCJBdHRlbXB0IHRvIGFsbG9jYXRlIEJ1ZmZlciBsYXJnZXIgdGhhbiBtYXhpbXVtIHNpemU6IDB4XCIra01heExlbmd0aCgpLnRvU3RyaW5nKDE2KStcIiBieXRlc1wiKTtyZXR1cm4gMHxsZW5ndGh9ZnVuY3Rpb24gYnl0ZUxlbmd0aChzdHJpbmcsZW5jb2Rpbmcpe2lmKEJ1ZmZlci5pc0J1ZmZlcihzdHJpbmcpKXJldHVybiBzdHJpbmcubGVuZ3RoO2lmKFwidW5kZWZpbmVkXCIhPXR5cGVvZiBBcnJheUJ1ZmZlciYmXCJmdW5jdGlvblwiPT10eXBlb2YgQXJyYXlCdWZmZXIuaXNWaWV3JiYoQXJyYXlCdWZmZXIuaXNWaWV3KHN0cmluZyl8fHN0cmluZyBpbnN0YW5jZW9mIEFycmF5QnVmZmVyKSlyZXR1cm4gc3RyaW5nLmJ5dGVMZW5ndGg7XCJzdHJpbmdcIiE9dHlwZW9mIHN0cmluZyYmKHN0cmluZz1cIlwiK3N0cmluZyk7dmFyIGxlbj1zdHJpbmcubGVuZ3RoO2lmKDA9PT1sZW4pcmV0dXJuIDA7Zm9yKHZhciBsb3dlcmVkQ2FzZT0hMTs7KXN3aXRjaChlbmNvZGluZyl7Y2FzZVwiYXNjaWlcIjpjYXNlXCJsYXRpbjFcIjpjYXNlXCJiaW5hcnlcIjpyZXR1cm4gbGVuO2Nhc2VcInV0ZjhcIjpjYXNlXCJ1dGYtOFwiOmNhc2Ugdm9pZCAwOnJldHVybiB1dGY4VG9CeXRlcyhzdHJpbmcpLmxlbmd0aDtjYXNlXCJ1Y3MyXCI6Y2FzZVwidWNzLTJcIjpjYXNlXCJ1dGYxNmxlXCI6Y2FzZVwidXRmLTE2bGVcIjpyZXR1cm4gMipsZW47Y2FzZVwiaGV4XCI6cmV0dXJuIGxlbj4+PjE7Y2FzZVwiYmFzZTY0XCI6cmV0dXJuIGJhc2U2NFRvQnl0ZXMoc3RyaW5nKS5sZW5ndGg7ZGVmYXVsdDppZihsb3dlcmVkQ2FzZSlyZXR1cm4gdXRmOFRvQnl0ZXMoc3RyaW5nKS5sZW5ndGg7ZW5jb2Rpbmc9KFwiXCIrZW5jb2RpbmcpLnRvTG93ZXJDYXNlKCksbG93ZXJlZENhc2U9ITB9fWZ1bmN0aW9uIHN3YXAoYixuLG0pe3ZhciBpPWJbbl07YltuXT1iW21dLGJbbV09aX1mdW5jdGlvbiBiaWRpcmVjdGlvbmFsSW5kZXhPZihidWZmZXIsdmFsLGJ5dGVPZmZzZXQsZW5jb2RpbmcsZGlyKXtpZigwPT09YnVmZmVyLmxlbmd0aClyZXR1cm4tMTtpZihcInN0cmluZ1wiPT10eXBlb2YgYnl0ZU9mZnNldD8oZW5jb2Rpbmc9Ynl0ZU9mZnNldCxieXRlT2Zmc2V0PTApOmJ5dGVPZmZzZXQ+MjE0NzQ4MzY0Nz9ieXRlT2Zmc2V0PTIxNDc0ODM2NDc6Ynl0ZU9mZnNldDwtMjE0NzQ4MzY0OCYmKGJ5dGVPZmZzZXQ9LTIxNDc0ODM2NDgpLGJ5dGVPZmZzZXQ9K2J5dGVPZmZzZXQsaXNOYU4oYnl0ZU9mZnNldCkmJihieXRlT2Zmc2V0PWRpcj8wOmJ1ZmZlci5sZW5ndGgtMSksYnl0ZU9mZnNldDwwJiYoYnl0ZU9mZnNldD1idWZmZXIubGVuZ3RoK2J5dGVPZmZzZXQpLGJ5dGVPZmZzZXQ+PWJ1ZmZlci5sZW5ndGgpe2lmKGRpcilyZXR1cm4tMTtieXRlT2Zmc2V0PWJ1ZmZlci5sZW5ndGgtMX1lbHNlIGlmKGJ5dGVPZmZzZXQ8MCl7aWYoIWRpcilyZXR1cm4tMTtieXRlT2Zmc2V0PTB9aWYoXCJzdHJpbmdcIj09dHlwZW9mIHZhbCYmKHZhbD1CdWZmZXIuZnJvbSh2YWwsZW5jb2RpbmcpKSxCdWZmZXIuaXNCdWZmZXIodmFsKSlyZXR1cm4gMD09PXZhbC5sZW5ndGg/LTE6YXJyYXlJbmRleE9mKGJ1ZmZlcix2YWwsYnl0ZU9mZnNldCxlbmNvZGluZyxkaXIpO2lmKFwibnVtYmVyXCI9PXR5cGVvZiB2YWwpcmV0dXJuIHZhbCY9MjU1LEJ1ZmZlci5UWVBFRF9BUlJBWV9TVVBQT1JUJiZcImZ1bmN0aW9uXCI9PXR5cGVvZiBVaW50OEFycmF5LnByb3RvdHlwZS5pbmRleE9mP2Rpcj9VaW50OEFycmF5LnByb3RvdHlwZS5pbmRleE9mLmNhbGwoYnVmZmVyLHZhbCxieXRlT2Zmc2V0KTpVaW50OEFycmF5LnByb3RvdHlwZS5sYXN0SW5kZXhPZi5jYWxsKGJ1ZmZlcix2YWwsYnl0ZU9mZnNldCk6YXJyYXlJbmRleE9mKGJ1ZmZlcixbdmFsXSxieXRlT2Zmc2V0LGVuY29kaW5nLGRpcik7dGhyb3cgbmV3IFR5cGVFcnJvcihcInZhbCBtdXN0IGJlIHN0cmluZywgbnVtYmVyIG9yIEJ1ZmZlclwiKX1mdW5jdGlvbiBhcnJheUluZGV4T2YoYXJyLHZhbCxieXRlT2Zmc2V0LGVuY29kaW5nLGRpcil7dmFyIGksaW5kZXhTaXplPTEsYXJyTGVuZ3RoPWFyci5sZW5ndGgsdmFsTGVuZ3RoPXZhbC5sZW5ndGg7aWYodm9pZCAwIT09ZW5jb2RpbmcmJihcInVjczJcIj09PShlbmNvZGluZz1TdHJpbmcoZW5jb2RpbmcpLnRvTG93ZXJDYXNlKCkpfHxcInVjcy0yXCI9PT1lbmNvZGluZ3x8XCJ1dGYxNmxlXCI9PT1lbmNvZGluZ3x8XCJ1dGYtMTZsZVwiPT09ZW5jb2RpbmcpKXtpZihhcnIubGVuZ3RoPDJ8fHZhbC5sZW5ndGg8MilyZXR1cm4tMTtpbmRleFNpemU9MixhcnJMZW5ndGgvPTIsdmFsTGVuZ3RoLz0yLGJ5dGVPZmZzZXQvPTJ9ZnVuY3Rpb24gcmVhZChidWYsaSl7cmV0dXJuIDE9PT1pbmRleFNpemU/YnVmW2ldOmJ1Zi5yZWFkVUludDE2QkUoaSppbmRleFNpemUpfWlmKGRpcil7dmFyIGZvdW5kSW5kZXg9LTE7Zm9yKGk9Ynl0ZU9mZnNldDtpPGFyckxlbmd0aDtpKyspaWYocmVhZChhcnIsaSk9PT1yZWFkKHZhbCwtMT09PWZvdW5kSW5kZXg/MDppLWZvdW5kSW5kZXgpKXtpZigtMT09PWZvdW5kSW5kZXgmJihmb3VuZEluZGV4PWkpLGktZm91bmRJbmRleCsxPT09dmFsTGVuZ3RoKXJldHVybiBmb3VuZEluZGV4KmluZGV4U2l6ZX1lbHNlLTEhPT1mb3VuZEluZGV4JiYoaS09aS1mb3VuZEluZGV4KSxmb3VuZEluZGV4PS0xfWVsc2UgZm9yKGJ5dGVPZmZzZXQrdmFsTGVuZ3RoPmFyckxlbmd0aCYmKGJ5dGVPZmZzZXQ9YXJyTGVuZ3RoLXZhbExlbmd0aCksaT1ieXRlT2Zmc2V0O2k+PTA7aS0tKXtmb3IodmFyIGZvdW5kPSEwLGo9MDtqPHZhbExlbmd0aDtqKyspaWYocmVhZChhcnIsaStqKSE9PXJlYWQodmFsLGopKXtmb3VuZD0hMTticmVha31pZihmb3VuZClyZXR1cm4gaX1yZXR1cm4tMX1mdW5jdGlvbiBoZXhXcml0ZShidWYsc3RyaW5nLG9mZnNldCxsZW5ndGgpe29mZnNldD1OdW1iZXIob2Zmc2V0KXx8MDt2YXIgcmVtYWluaW5nPWJ1Zi5sZW5ndGgtb2Zmc2V0O2xlbmd0aD8obGVuZ3RoPU51bWJlcihsZW5ndGgpKT5yZW1haW5pbmcmJihsZW5ndGg9cmVtYWluaW5nKTpsZW5ndGg9cmVtYWluaW5nO3ZhciBzdHJMZW49c3RyaW5nLmxlbmd0aDtpZihzdHJMZW4lMiE9MCl0aHJvdyBuZXcgVHlwZUVycm9yKFwiSW52YWxpZCBoZXggc3RyaW5nXCIpO2xlbmd0aD5zdHJMZW4vMiYmKGxlbmd0aD1zdHJMZW4vMik7Zm9yKHZhciBpPTA7aTxsZW5ndGg7KytpKXt2YXIgcGFyc2VkPXBhcnNlSW50KHN0cmluZy5zdWJzdHIoMippLDIpLDE2KTtpZihpc05hTihwYXJzZWQpKXJldHVybiBpO2J1ZltvZmZzZXQraV09cGFyc2VkfXJldHVybiBpfWZ1bmN0aW9uIHV0ZjhXcml0ZShidWYsc3RyaW5nLG9mZnNldCxsZW5ndGgpe3JldHVybiBibGl0QnVmZmVyKHV0ZjhUb0J5dGVzKHN0cmluZyxidWYubGVuZ3RoLW9mZnNldCksYnVmLG9mZnNldCxsZW5ndGgpfWZ1bmN0aW9uIGFzY2lpV3JpdGUoYnVmLHN0cmluZyxvZmZzZXQsbGVuZ3RoKXtyZXR1cm4gYmxpdEJ1ZmZlcihmdW5jdGlvbihzdHIpe2Zvcih2YXIgYnl0ZUFycmF5PVtdLGk9MDtpPHN0ci5sZW5ndGg7KytpKWJ5dGVBcnJheS5wdXNoKDI1NSZzdHIuY2hhckNvZGVBdChpKSk7cmV0dXJuIGJ5dGVBcnJheX0oc3RyaW5nKSxidWYsb2Zmc2V0LGxlbmd0aCl9ZnVuY3Rpb24gbGF0aW4xV3JpdGUoYnVmLHN0cmluZyxvZmZzZXQsbGVuZ3RoKXtyZXR1cm4gYXNjaWlXcml0ZShidWYsc3RyaW5nLG9mZnNldCxsZW5ndGgpfWZ1bmN0aW9uIGJhc2U2NFdyaXRlKGJ1ZixzdHJpbmcsb2Zmc2V0LGxlbmd0aCl7cmV0dXJuIGJsaXRCdWZmZXIoYmFzZTY0VG9CeXRlcyhzdHJpbmcpLGJ1ZixvZmZzZXQsbGVuZ3RoKX1mdW5jdGlvbiB1Y3MyV3JpdGUoYnVmLHN0cmluZyxvZmZzZXQsbGVuZ3RoKXtyZXR1cm4gYmxpdEJ1ZmZlcihmdW5jdGlvbihzdHIsdW5pdHMpe2Zvcih2YXIgYyxoaSxsbyxieXRlQXJyYXk9W10saT0wO2k8c3RyLmxlbmd0aCYmISgodW5pdHMtPTIpPDApOysraSljPXN0ci5jaGFyQ29kZUF0KGkpLGhpPWM+PjgsbG89YyUyNTYsYnl0ZUFycmF5LnB1c2gobG8pLGJ5dGVBcnJheS5wdXNoKGhpKTtyZXR1cm4gYnl0ZUFycmF5fShzdHJpbmcsYnVmLmxlbmd0aC1vZmZzZXQpLGJ1ZixvZmZzZXQsbGVuZ3RoKX1mdW5jdGlvbiBiYXNlNjRTbGljZShidWYsc3RhcnQsZW5kKXtyZXR1cm4gMD09PXN0YXJ0JiZlbmQ9PT1idWYubGVuZ3RoP2Jhc2U2NC5mcm9tQnl0ZUFycmF5KGJ1Zik6YmFzZTY0LmZyb21CeXRlQXJyYXkoYnVmLnNsaWNlKHN0YXJ0LGVuZCkpfWZ1bmN0aW9uIHV0ZjhTbGljZShidWYsc3RhcnQsZW5kKXtlbmQ9TWF0aC5taW4oYnVmLmxlbmd0aCxlbmQpO2Zvcih2YXIgcmVzPVtdLGk9c3RhcnQ7aTxlbmQ7KXt2YXIgc2Vjb25kQnl0ZSx0aGlyZEJ5dGUsZm91cnRoQnl0ZSx0ZW1wQ29kZVBvaW50LGZpcnN0Qnl0ZT1idWZbaV0sY29kZVBvaW50PW51bGwsYnl0ZXNQZXJTZXF1ZW5jZT1maXJzdEJ5dGU+MjM5PzQ6Zmlyc3RCeXRlPjIyMz8zOmZpcnN0Qnl0ZT4xOTE/MjoxO2lmKGkrYnl0ZXNQZXJTZXF1ZW5jZTw9ZW5kKXN3aXRjaChieXRlc1BlclNlcXVlbmNlKXtjYXNlIDE6Zmlyc3RCeXRlPDEyOCYmKGNvZGVQb2ludD1maXJzdEJ5dGUpO2JyZWFrO2Nhc2UgMjoxMjg9PSgxOTImKHNlY29uZEJ5dGU9YnVmW2krMV0pKSYmKHRlbXBDb2RlUG9pbnQ9KDMxJmZpcnN0Qnl0ZSk8PDZ8NjMmc2Vjb25kQnl0ZSk+MTI3JiYoY29kZVBvaW50PXRlbXBDb2RlUG9pbnQpO2JyZWFrO2Nhc2UgMzpzZWNvbmRCeXRlPWJ1ZltpKzFdLHRoaXJkQnl0ZT1idWZbaSsyXSwxMjg9PSgxOTImc2Vjb25kQnl0ZSkmJjEyOD09KDE5MiZ0aGlyZEJ5dGUpJiYodGVtcENvZGVQb2ludD0oMTUmZmlyc3RCeXRlKTw8MTJ8KDYzJnNlY29uZEJ5dGUpPDw2fDYzJnRoaXJkQnl0ZSk+MjA0NyYmKHRlbXBDb2RlUG9pbnQ8NTUyOTZ8fHRlbXBDb2RlUG9pbnQ+NTczNDMpJiYoY29kZVBvaW50PXRlbXBDb2RlUG9pbnQpO2JyZWFrO2Nhc2UgNDpzZWNvbmRCeXRlPWJ1ZltpKzFdLHRoaXJkQnl0ZT1idWZbaSsyXSxmb3VydGhCeXRlPWJ1ZltpKzNdLDEyOD09KDE5MiZzZWNvbmRCeXRlKSYmMTI4PT0oMTkyJnRoaXJkQnl0ZSkmJjEyOD09KDE5MiZmb3VydGhCeXRlKSYmKHRlbXBDb2RlUG9pbnQ9KDE1JmZpcnN0Qnl0ZSk8PDE4fCg2MyZzZWNvbmRCeXRlKTw8MTJ8KDYzJnRoaXJkQnl0ZSk8PDZ8NjMmZm91cnRoQnl0ZSk+NjU1MzUmJnRlbXBDb2RlUG9pbnQ8MTExNDExMiYmKGNvZGVQb2ludD10ZW1wQ29kZVBvaW50KX1udWxsPT09Y29kZVBvaW50Pyhjb2RlUG9pbnQ9NjU1MzMsYnl0ZXNQZXJTZXF1ZW5jZT0xKTpjb2RlUG9pbnQ+NjU1MzUmJihjb2RlUG9pbnQtPTY1NTM2LHJlcy5wdXNoKGNvZGVQb2ludD4+PjEwJjEwMjN8NTUyOTYpLGNvZGVQb2ludD01NjMyMHwxMDIzJmNvZGVQb2ludCkscmVzLnB1c2goY29kZVBvaW50KSxpKz1ieXRlc1BlclNlcXVlbmNlfXJldHVybiBmdW5jdGlvbihjb2RlUG9pbnRzKXt2YXIgbGVuPWNvZGVQb2ludHMubGVuZ3RoO2lmKGxlbjw9TUFYX0FSR1VNRU5UU19MRU5HVEgpcmV0dXJuIFN0cmluZy5mcm9tQ2hhckNvZGUuYXBwbHkoU3RyaW5nLGNvZGVQb2ludHMpO3ZhciByZXM9XCJcIixpPTA7Zm9yKDtpPGxlbjspcmVzKz1TdHJpbmcuZnJvbUNoYXJDb2RlLmFwcGx5KFN0cmluZyxjb2RlUG9pbnRzLnNsaWNlKGksaSs9TUFYX0FSR1VNRU5UU19MRU5HVEgpKTtyZXR1cm4gcmVzfShyZXMpfWV4cG9ydHMuQnVmZmVyPUJ1ZmZlcixleHBvcnRzLlNsb3dCdWZmZXI9ZnVuY3Rpb24obGVuZ3RoKXsrbGVuZ3RoIT1sZW5ndGgmJihsZW5ndGg9MCk7cmV0dXJuIEJ1ZmZlci5hbGxvYygrbGVuZ3RoKX0sZXhwb3J0cy5JTlNQRUNUX01BWF9CWVRFUz01MCxCdWZmZXIuVFlQRURfQVJSQVlfU1VQUE9SVD12b2lkIDAhPT1nbG9iYWwuVFlQRURfQVJSQVlfU1VQUE9SVD9nbG9iYWwuVFlQRURfQVJSQVlfU1VQUE9SVDpmdW5jdGlvbigpe3RyeXt2YXIgYXJyPW5ldyBVaW50OEFycmF5KDEpO3JldHVybiBhcnIuX19wcm90b19fPXtfX3Byb3RvX186VWludDhBcnJheS5wcm90b3R5cGUsZm9vOmZ1bmN0aW9uKCl7cmV0dXJuIDQyfX0sNDI9PT1hcnIuZm9vKCkmJlwiZnVuY3Rpb25cIj09dHlwZW9mIGFyci5zdWJhcnJheSYmMD09PWFyci5zdWJhcnJheSgxLDEpLmJ5dGVMZW5ndGh9Y2F0Y2goZSl7cmV0dXJuITF9fSgpLGV4cG9ydHMua01heExlbmd0aD1rTWF4TGVuZ3RoKCksQnVmZmVyLnBvb2xTaXplPTgxOTIsQnVmZmVyLl9hdWdtZW50PWZ1bmN0aW9uKGFycil7cmV0dXJuIGFyci5fX3Byb3RvX189QnVmZmVyLnByb3RvdHlwZSxhcnJ9LEJ1ZmZlci5mcm9tPWZ1bmN0aW9uKHZhbHVlLGVuY29kaW5nT3JPZmZzZXQsbGVuZ3RoKXtyZXR1cm4gZnJvbShudWxsLHZhbHVlLGVuY29kaW5nT3JPZmZzZXQsbGVuZ3RoKX0sQnVmZmVyLlRZUEVEX0FSUkFZX1NVUFBPUlQmJihCdWZmZXIucHJvdG90eXBlLl9fcHJvdG9fXz1VaW50OEFycmF5LnByb3RvdHlwZSxCdWZmZXIuX19wcm90b19fPVVpbnQ4QXJyYXksXCJ1bmRlZmluZWRcIiE9dHlwZW9mIFN5bWJvbCYmU3ltYm9sLnNwZWNpZXMmJkJ1ZmZlcltTeW1ib2wuc3BlY2llc109PT1CdWZmZXImJk9iamVjdC5kZWZpbmVQcm9wZXJ0eShCdWZmZXIsU3ltYm9sLnNwZWNpZXMse3ZhbHVlOm51bGwsY29uZmlndXJhYmxlOiEwfSkpLEJ1ZmZlci5hbGxvYz1mdW5jdGlvbihzaXplLGZpbGwsZW5jb2Rpbmcpe3JldHVybiBmdW5jdGlvbih0aGF0LHNpemUsZmlsbCxlbmNvZGluZyl7cmV0dXJuIGFzc2VydFNpemUoc2l6ZSksc2l6ZTw9MD9jcmVhdGVCdWZmZXIodGhhdCxzaXplKTp2b2lkIDAhPT1maWxsP1wic3RyaW5nXCI9PXR5cGVvZiBlbmNvZGluZz9jcmVhdGVCdWZmZXIodGhhdCxzaXplKS5maWxsKGZpbGwsZW5jb2RpbmcpOmNyZWF0ZUJ1ZmZlcih0aGF0LHNpemUpLmZpbGwoZmlsbCk6Y3JlYXRlQnVmZmVyKHRoYXQsc2l6ZSl9KG51bGwsc2l6ZSxmaWxsLGVuY29kaW5nKX0sQnVmZmVyLmFsbG9jVW5zYWZlPWZ1bmN0aW9uKHNpemUpe3JldHVybiBhbGxvY1Vuc2FmZShudWxsLHNpemUpfSxCdWZmZXIuYWxsb2NVbnNhZmVTbG93PWZ1bmN0aW9uKHNpemUpe3JldHVybiBhbGxvY1Vuc2FmZShudWxsLHNpemUpfSxCdWZmZXIuaXNCdWZmZXI9ZnVuY3Rpb24oYil7cmV0dXJuIShudWxsPT1ifHwhYi5faXNCdWZmZXIpfSxCdWZmZXIuY29tcGFyZT1mdW5jdGlvbihhLGIpe2lmKCFCdWZmZXIuaXNCdWZmZXIoYSl8fCFCdWZmZXIuaXNCdWZmZXIoYikpdGhyb3cgbmV3IFR5cGVFcnJvcihcIkFyZ3VtZW50cyBtdXN0IGJlIEJ1ZmZlcnNcIik7aWYoYT09PWIpcmV0dXJuIDA7Zm9yKHZhciB4PWEubGVuZ3RoLHk9Yi5sZW5ndGgsaT0wLGxlbj1NYXRoLm1pbih4LHkpO2k8bGVuOysraSlpZihhW2ldIT09YltpXSl7eD1hW2ldLHk9YltpXTticmVha31yZXR1cm4geDx5Py0xOnk8eD8xOjB9LEJ1ZmZlci5pc0VuY29kaW5nPWZ1bmN0aW9uKGVuY29kaW5nKXtzd2l0Y2goU3RyaW5nKGVuY29kaW5nKS50b0xvd2VyQ2FzZSgpKXtjYXNlXCJoZXhcIjpjYXNlXCJ1dGY4XCI6Y2FzZVwidXRmLThcIjpjYXNlXCJhc2NpaVwiOmNhc2VcImxhdGluMVwiOmNhc2VcImJpbmFyeVwiOmNhc2VcImJhc2U2NFwiOmNhc2VcInVjczJcIjpjYXNlXCJ1Y3MtMlwiOmNhc2VcInV0ZjE2bGVcIjpjYXNlXCJ1dGYtMTZsZVwiOnJldHVybiEwO2RlZmF1bHQ6cmV0dXJuITF9fSxCdWZmZXIuY29uY2F0PWZ1bmN0aW9uKGxpc3QsbGVuZ3RoKXtpZighaXNBcnJheShsaXN0KSl0aHJvdyBuZXcgVHlwZUVycm9yKCdcImxpc3RcIiBhcmd1bWVudCBtdXN0IGJlIGFuIEFycmF5IG9mIEJ1ZmZlcnMnKTtpZigwPT09bGlzdC5sZW5ndGgpcmV0dXJuIEJ1ZmZlci5hbGxvYygwKTt2YXIgaTtpZih2b2lkIDA9PT1sZW5ndGgpZm9yKGxlbmd0aD0wLGk9MDtpPGxpc3QubGVuZ3RoOysraSlsZW5ndGgrPWxpc3RbaV0ubGVuZ3RoO3ZhciBidWZmZXI9QnVmZmVyLmFsbG9jVW5zYWZlKGxlbmd0aCkscG9zPTA7Zm9yKGk9MDtpPGxpc3QubGVuZ3RoOysraSl7dmFyIGJ1Zj1saXN0W2ldO2lmKCFCdWZmZXIuaXNCdWZmZXIoYnVmKSl0aHJvdyBuZXcgVHlwZUVycm9yKCdcImxpc3RcIiBhcmd1bWVudCBtdXN0IGJlIGFuIEFycmF5IG9mIEJ1ZmZlcnMnKTtidWYuY29weShidWZmZXIscG9zKSxwb3MrPWJ1Zi5sZW5ndGh9cmV0dXJuIGJ1ZmZlcn0sQnVmZmVyLmJ5dGVMZW5ndGg9Ynl0ZUxlbmd0aCxCdWZmZXIucHJvdG90eXBlLl9pc0J1ZmZlcj0hMCxCdWZmZXIucHJvdG90eXBlLnN3YXAxNj1mdW5jdGlvbigpe3ZhciBsZW49dGhpcy5sZW5ndGg7aWYobGVuJTIhPTApdGhyb3cgbmV3IFJhbmdlRXJyb3IoXCJCdWZmZXIgc2l6ZSBtdXN0IGJlIGEgbXVsdGlwbGUgb2YgMTYtYml0c1wiKTtmb3IodmFyIGk9MDtpPGxlbjtpKz0yKXN3YXAodGhpcyxpLGkrMSk7cmV0dXJuIHRoaXN9LEJ1ZmZlci5wcm90b3R5cGUuc3dhcDMyPWZ1bmN0aW9uKCl7dmFyIGxlbj10aGlzLmxlbmd0aDtpZihsZW4lNCE9MCl0aHJvdyBuZXcgUmFuZ2VFcnJvcihcIkJ1ZmZlciBzaXplIG11c3QgYmUgYSBtdWx0aXBsZSBvZiAzMi1iaXRzXCIpO2Zvcih2YXIgaT0wO2k8bGVuO2krPTQpc3dhcCh0aGlzLGksaSszKSxzd2FwKHRoaXMsaSsxLGkrMik7cmV0dXJuIHRoaXN9LEJ1ZmZlci5wcm90b3R5cGUuc3dhcDY0PWZ1bmN0aW9uKCl7dmFyIGxlbj10aGlzLmxlbmd0aDtpZihsZW4lOCE9MCl0aHJvdyBuZXcgUmFuZ2VFcnJvcihcIkJ1ZmZlciBzaXplIG11c3QgYmUgYSBtdWx0aXBsZSBvZiA2NC1iaXRzXCIpO2Zvcih2YXIgaT0wO2k8bGVuO2krPTgpc3dhcCh0aGlzLGksaSs3KSxzd2FwKHRoaXMsaSsxLGkrNiksc3dhcCh0aGlzLGkrMixpKzUpLHN3YXAodGhpcyxpKzMsaSs0KTtyZXR1cm4gdGhpc30sQnVmZmVyLnByb3RvdHlwZS50b1N0cmluZz1mdW5jdGlvbigpe3ZhciBsZW5ndGg9MHx0aGlzLmxlbmd0aDtyZXR1cm4gMD09PWxlbmd0aD9cIlwiOjA9PT1hcmd1bWVudHMubGVuZ3RoP3V0ZjhTbGljZSh0aGlzLDAsbGVuZ3RoKTpmdW5jdGlvbihlbmNvZGluZyxzdGFydCxlbmQpe3ZhciBsb3dlcmVkQ2FzZT0hMTtpZigodm9pZCAwPT09c3RhcnR8fHN0YXJ0PDApJiYoc3RhcnQ9MCksc3RhcnQ+dGhpcy5sZW5ndGgpcmV0dXJuXCJcIjtpZigodm9pZCAwPT09ZW5kfHxlbmQ+dGhpcy5sZW5ndGgpJiYoZW5kPXRoaXMubGVuZ3RoKSxlbmQ8PTApcmV0dXJuXCJcIjtpZigoZW5kPj4+PTApPD0oc3RhcnQ+Pj49MCkpcmV0dXJuXCJcIjtmb3IoZW5jb2Rpbmd8fChlbmNvZGluZz1cInV0ZjhcIik7Oylzd2l0Y2goZW5jb2Rpbmcpe2Nhc2VcImhleFwiOnJldHVybiBoZXhTbGljZSh0aGlzLHN0YXJ0LGVuZCk7Y2FzZVwidXRmOFwiOmNhc2VcInV0Zi04XCI6cmV0dXJuIHV0ZjhTbGljZSh0aGlzLHN0YXJ0LGVuZCk7Y2FzZVwiYXNjaWlcIjpyZXR1cm4gYXNjaWlTbGljZSh0aGlzLHN0YXJ0LGVuZCk7Y2FzZVwibGF0aW4xXCI6Y2FzZVwiYmluYXJ5XCI6cmV0dXJuIGxhdGluMVNsaWNlKHRoaXMsc3RhcnQsZW5kKTtjYXNlXCJiYXNlNjRcIjpyZXR1cm4gYmFzZTY0U2xpY2UodGhpcyxzdGFydCxlbmQpO2Nhc2VcInVjczJcIjpjYXNlXCJ1Y3MtMlwiOmNhc2VcInV0ZjE2bGVcIjpjYXNlXCJ1dGYtMTZsZVwiOnJldHVybiB1dGYxNmxlU2xpY2UodGhpcyxzdGFydCxlbmQpO2RlZmF1bHQ6aWYobG93ZXJlZENhc2UpdGhyb3cgbmV3IFR5cGVFcnJvcihcIlVua25vd24gZW5jb2Rpbmc6IFwiK2VuY29kaW5nKTtlbmNvZGluZz0oZW5jb2RpbmcrXCJcIikudG9Mb3dlckNhc2UoKSxsb3dlcmVkQ2FzZT0hMH19LmFwcGx5KHRoaXMsYXJndW1lbnRzKX0sQnVmZmVyLnByb3RvdHlwZS5lcXVhbHM9ZnVuY3Rpb24oYil7aWYoIUJ1ZmZlci5pc0J1ZmZlcihiKSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiQXJndW1lbnQgbXVzdCBiZSBhIEJ1ZmZlclwiKTtyZXR1cm4gdGhpcz09PWJ8fDA9PT1CdWZmZXIuY29tcGFyZSh0aGlzLGIpfSxCdWZmZXIucHJvdG90eXBlLmluc3BlY3Q9ZnVuY3Rpb24oKXt2YXIgc3RyPVwiXCIsbWF4PWV4cG9ydHMuSU5TUEVDVF9NQVhfQllURVM7cmV0dXJuIHRoaXMubGVuZ3RoPjAmJihzdHI9dGhpcy50b1N0cmluZyhcImhleFwiLDAsbWF4KS5tYXRjaCgvLnsyfS9nKS5qb2luKFwiIFwiKSx0aGlzLmxlbmd0aD5tYXgmJihzdHIrPVwiIC4uLiBcIikpLFwiPEJ1ZmZlciBcIitzdHIrXCI+XCJ9LEJ1ZmZlci5wcm90b3R5cGUuY29tcGFyZT1mdW5jdGlvbih0YXJnZXQsc3RhcnQsZW5kLHRoaXNTdGFydCx0aGlzRW5kKXtpZighQnVmZmVyLmlzQnVmZmVyKHRhcmdldCkpdGhyb3cgbmV3IFR5cGVFcnJvcihcIkFyZ3VtZW50IG11c3QgYmUgYSBCdWZmZXJcIik7aWYodm9pZCAwPT09c3RhcnQmJihzdGFydD0wKSx2b2lkIDA9PT1lbmQmJihlbmQ9dGFyZ2V0P3RhcmdldC5sZW5ndGg6MCksdm9pZCAwPT09dGhpc1N0YXJ0JiYodGhpc1N0YXJ0PTApLHZvaWQgMD09PXRoaXNFbmQmJih0aGlzRW5kPXRoaXMubGVuZ3RoKSxzdGFydDwwfHxlbmQ+dGFyZ2V0Lmxlbmd0aHx8dGhpc1N0YXJ0PDB8fHRoaXNFbmQ+dGhpcy5sZW5ndGgpdGhyb3cgbmV3IFJhbmdlRXJyb3IoXCJvdXQgb2YgcmFuZ2UgaW5kZXhcIik7aWYodGhpc1N0YXJ0Pj10aGlzRW5kJiZzdGFydD49ZW5kKXJldHVybiAwO2lmKHRoaXNTdGFydD49dGhpc0VuZClyZXR1cm4tMTtpZihzdGFydD49ZW5kKXJldHVybiAxO2lmKHN0YXJ0Pj4+PTAsZW5kPj4+PTAsdGhpc1N0YXJ0Pj4+PTAsdGhpc0VuZD4+Pj0wLHRoaXM9PT10YXJnZXQpcmV0dXJuIDA7Zm9yKHZhciB4PXRoaXNFbmQtdGhpc1N0YXJ0LHk9ZW5kLXN0YXJ0LGxlbj1NYXRoLm1pbih4LHkpLHRoaXNDb3B5PXRoaXMuc2xpY2UodGhpc1N0YXJ0LHRoaXNFbmQpLHRhcmdldENvcHk9dGFyZ2V0LnNsaWNlKHN0YXJ0LGVuZCksaT0wO2k8bGVuOysraSlpZih0aGlzQ29weVtpXSE9PXRhcmdldENvcHlbaV0pe3g9dGhpc0NvcHlbaV0seT10YXJnZXRDb3B5W2ldO2JyZWFrfXJldHVybiB4PHk/LTE6eTx4PzE6MH0sQnVmZmVyLnByb3RvdHlwZS5pbmNsdWRlcz1mdW5jdGlvbih2YWwsYnl0ZU9mZnNldCxlbmNvZGluZyl7cmV0dXJuLTEhPT10aGlzLmluZGV4T2YodmFsLGJ5dGVPZmZzZXQsZW5jb2RpbmcpfSxCdWZmZXIucHJvdG90eXBlLmluZGV4T2Y9ZnVuY3Rpb24odmFsLGJ5dGVPZmZzZXQsZW5jb2Rpbmcpe3JldHVybiBiaWRpcmVjdGlvbmFsSW5kZXhPZih0aGlzLHZhbCxieXRlT2Zmc2V0LGVuY29kaW5nLCEwKX0sQnVmZmVyLnByb3RvdHlwZS5sYXN0SW5kZXhPZj1mdW5jdGlvbih2YWwsYnl0ZU9mZnNldCxlbmNvZGluZyl7cmV0dXJuIGJpZGlyZWN0aW9uYWxJbmRleE9mKHRoaXMsdmFsLGJ5dGVPZmZzZXQsZW5jb2RpbmcsITEpfSxCdWZmZXIucHJvdG90eXBlLndyaXRlPWZ1bmN0aW9uKHN0cmluZyxvZmZzZXQsbGVuZ3RoLGVuY29kaW5nKXtpZih2b2lkIDA9PT1vZmZzZXQpZW5jb2Rpbmc9XCJ1dGY4XCIsbGVuZ3RoPXRoaXMubGVuZ3RoLG9mZnNldD0wO2Vsc2UgaWYodm9pZCAwPT09bGVuZ3RoJiZcInN0cmluZ1wiPT10eXBlb2Ygb2Zmc2V0KWVuY29kaW5nPW9mZnNldCxsZW5ndGg9dGhpcy5sZW5ndGgsb2Zmc2V0PTA7ZWxzZXtpZighaXNGaW5pdGUob2Zmc2V0KSl0aHJvdyBuZXcgRXJyb3IoXCJCdWZmZXIud3JpdGUoc3RyaW5nLCBlbmNvZGluZywgb2Zmc2V0WywgbGVuZ3RoXSkgaXMgbm8gbG9uZ2VyIHN1cHBvcnRlZFwiKTtvZmZzZXR8PTAsaXNGaW5pdGUobGVuZ3RoKT8obGVuZ3RofD0wLHZvaWQgMD09PWVuY29kaW5nJiYoZW5jb2Rpbmc9XCJ1dGY4XCIpKTooZW5jb2Rpbmc9bGVuZ3RoLGxlbmd0aD12b2lkIDApfXZhciByZW1haW5pbmc9dGhpcy5sZW5ndGgtb2Zmc2V0O2lmKCh2b2lkIDA9PT1sZW5ndGh8fGxlbmd0aD5yZW1haW5pbmcpJiYobGVuZ3RoPXJlbWFpbmluZyksc3RyaW5nLmxlbmd0aD4wJiYobGVuZ3RoPDB8fG9mZnNldDwwKXx8b2Zmc2V0PnRoaXMubGVuZ3RoKXRocm93IG5ldyBSYW5nZUVycm9yKFwiQXR0ZW1wdCB0byB3cml0ZSBvdXRzaWRlIGJ1ZmZlciBib3VuZHNcIik7ZW5jb2Rpbmd8fChlbmNvZGluZz1cInV0ZjhcIik7Zm9yKHZhciBsb3dlcmVkQ2FzZT0hMTs7KXN3aXRjaChlbmNvZGluZyl7Y2FzZVwiaGV4XCI6cmV0dXJuIGhleFdyaXRlKHRoaXMsc3RyaW5nLG9mZnNldCxsZW5ndGgpO2Nhc2VcInV0ZjhcIjpjYXNlXCJ1dGYtOFwiOnJldHVybiB1dGY4V3JpdGUodGhpcyxzdHJpbmcsb2Zmc2V0LGxlbmd0aCk7Y2FzZVwiYXNjaWlcIjpyZXR1cm4gYXNjaWlXcml0ZSh0aGlzLHN0cmluZyxvZmZzZXQsbGVuZ3RoKTtjYXNlXCJsYXRpbjFcIjpjYXNlXCJiaW5hcnlcIjpyZXR1cm4gbGF0aW4xV3JpdGUodGhpcyxzdHJpbmcsb2Zmc2V0LGxlbmd0aCk7Y2FzZVwiYmFzZTY0XCI6cmV0dXJuIGJhc2U2NFdyaXRlKHRoaXMsc3RyaW5nLG9mZnNldCxsZW5ndGgpO2Nhc2VcInVjczJcIjpjYXNlXCJ1Y3MtMlwiOmNhc2VcInV0ZjE2bGVcIjpjYXNlXCJ1dGYtMTZsZVwiOnJldHVybiB1Y3MyV3JpdGUodGhpcyxzdHJpbmcsb2Zmc2V0LGxlbmd0aCk7ZGVmYXVsdDppZihsb3dlcmVkQ2FzZSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiVW5rbm93biBlbmNvZGluZzogXCIrZW5jb2RpbmcpO2VuY29kaW5nPShcIlwiK2VuY29kaW5nKS50b0xvd2VyQ2FzZSgpLGxvd2VyZWRDYXNlPSEwfX0sQnVmZmVyLnByb3RvdHlwZS50b0pTT049ZnVuY3Rpb24oKXtyZXR1cm57dHlwZTpcIkJ1ZmZlclwiLGRhdGE6QXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwodGhpcy5fYXJyfHx0aGlzLDApfX07dmFyIE1BWF9BUkdVTUVOVFNfTEVOR1RIPTQwOTY7ZnVuY3Rpb24gYXNjaWlTbGljZShidWYsc3RhcnQsZW5kKXt2YXIgcmV0PVwiXCI7ZW5kPU1hdGgubWluKGJ1Zi5sZW5ndGgsZW5kKTtmb3IodmFyIGk9c3RhcnQ7aTxlbmQ7KytpKXJldCs9U3RyaW5nLmZyb21DaGFyQ29kZSgxMjcmYnVmW2ldKTtyZXR1cm4gcmV0fWZ1bmN0aW9uIGxhdGluMVNsaWNlKGJ1ZixzdGFydCxlbmQpe3ZhciByZXQ9XCJcIjtlbmQ9TWF0aC5taW4oYnVmLmxlbmd0aCxlbmQpO2Zvcih2YXIgaT1zdGFydDtpPGVuZDsrK2kpcmV0Kz1TdHJpbmcuZnJvbUNoYXJDb2RlKGJ1ZltpXSk7cmV0dXJuIHJldH1mdW5jdGlvbiBoZXhTbGljZShidWYsc3RhcnQsZW5kKXt2YXIgbGVuPWJ1Zi5sZW5ndGg7KCFzdGFydHx8c3RhcnQ8MCkmJihzdGFydD0wKSwoIWVuZHx8ZW5kPDB8fGVuZD5sZW4pJiYoZW5kPWxlbik7Zm9yKHZhciBvdXQ9XCJcIixpPXN0YXJ0O2k8ZW5kOysraSlvdXQrPXRvSGV4KGJ1ZltpXSk7cmV0dXJuIG91dH1mdW5jdGlvbiB1dGYxNmxlU2xpY2UoYnVmLHN0YXJ0LGVuZCl7Zm9yKHZhciBieXRlcz1idWYuc2xpY2Uoc3RhcnQsZW5kKSxyZXM9XCJcIixpPTA7aTxieXRlcy5sZW5ndGg7aSs9MilyZXMrPVN0cmluZy5mcm9tQ2hhckNvZGUoYnl0ZXNbaV0rMjU2KmJ5dGVzW2krMV0pO3JldHVybiByZXN9ZnVuY3Rpb24gY2hlY2tPZmZzZXQob2Zmc2V0LGV4dCxsZW5ndGgpe2lmKG9mZnNldCUxIT0wfHxvZmZzZXQ8MCl0aHJvdyBuZXcgUmFuZ2VFcnJvcihcIm9mZnNldCBpcyBub3QgdWludFwiKTtpZihvZmZzZXQrZXh0Pmxlbmd0aCl0aHJvdyBuZXcgUmFuZ2VFcnJvcihcIlRyeWluZyB0byBhY2Nlc3MgYmV5b25kIGJ1ZmZlciBsZW5ndGhcIil9ZnVuY3Rpb24gY2hlY2tJbnQoYnVmLHZhbHVlLG9mZnNldCxleHQsbWF4LG1pbil7aWYoIUJ1ZmZlci5pc0J1ZmZlcihidWYpKXRocm93IG5ldyBUeXBlRXJyb3IoJ1wiYnVmZmVyXCIgYXJndW1lbnQgbXVzdCBiZSBhIEJ1ZmZlciBpbnN0YW5jZScpO2lmKHZhbHVlPm1heHx8dmFsdWU8bWluKXRocm93IG5ldyBSYW5nZUVycm9yKCdcInZhbHVlXCIgYXJndW1lbnQgaXMgb3V0IG9mIGJvdW5kcycpO2lmKG9mZnNldCtleHQ+YnVmLmxlbmd0aCl0aHJvdyBuZXcgUmFuZ2VFcnJvcihcIkluZGV4IG91dCBvZiByYW5nZVwiKX1mdW5jdGlvbiBvYmplY3RXcml0ZVVJbnQxNihidWYsdmFsdWUsb2Zmc2V0LGxpdHRsZUVuZGlhbil7dmFsdWU8MCYmKHZhbHVlPTY1NTM1K3ZhbHVlKzEpO2Zvcih2YXIgaT0wLGo9TWF0aC5taW4oYnVmLmxlbmd0aC1vZmZzZXQsMik7aTxqOysraSlidWZbb2Zmc2V0K2ldPSh2YWx1ZSYyNTU8PDgqKGxpdHRsZUVuZGlhbj9pOjEtaSkpPj4+OCoobGl0dGxlRW5kaWFuP2k6MS1pKX1mdW5jdGlvbiBvYmplY3RXcml0ZVVJbnQzMihidWYsdmFsdWUsb2Zmc2V0LGxpdHRsZUVuZGlhbil7dmFsdWU8MCYmKHZhbHVlPTQyOTQ5NjcyOTUrdmFsdWUrMSk7Zm9yKHZhciBpPTAsaj1NYXRoLm1pbihidWYubGVuZ3RoLW9mZnNldCw0KTtpPGo7KytpKWJ1ZltvZmZzZXQraV09dmFsdWU+Pj44KihsaXR0bGVFbmRpYW4/aTozLWkpJjI1NX1mdW5jdGlvbiBjaGVja0lFRUU3NTQoYnVmLHZhbHVlLG9mZnNldCxleHQsbWF4LG1pbil7aWYob2Zmc2V0K2V4dD5idWYubGVuZ3RoKXRocm93IG5ldyBSYW5nZUVycm9yKFwiSW5kZXggb3V0IG9mIHJhbmdlXCIpO2lmKG9mZnNldDwwKXRocm93IG5ldyBSYW5nZUVycm9yKFwiSW5kZXggb3V0IG9mIHJhbmdlXCIpfWZ1bmN0aW9uIHdyaXRlRmxvYXQoYnVmLHZhbHVlLG9mZnNldCxsaXR0bGVFbmRpYW4sbm9Bc3NlcnQpe3JldHVybiBub0Fzc2VydHx8Y2hlY2tJRUVFNzU0KGJ1ZiwwLG9mZnNldCw0KSxpZWVlNzU0LndyaXRlKGJ1Zix2YWx1ZSxvZmZzZXQsbGl0dGxlRW5kaWFuLDIzLDQpLG9mZnNldCs0fWZ1bmN0aW9uIHdyaXRlRG91YmxlKGJ1Zix2YWx1ZSxvZmZzZXQsbGl0dGxlRW5kaWFuLG5vQXNzZXJ0KXtyZXR1cm4gbm9Bc3NlcnR8fGNoZWNrSUVFRTc1NChidWYsMCxvZmZzZXQsOCksaWVlZTc1NC53cml0ZShidWYsdmFsdWUsb2Zmc2V0LGxpdHRsZUVuZGlhbiw1Miw4KSxvZmZzZXQrOH1CdWZmZXIucHJvdG90eXBlLnNsaWNlPWZ1bmN0aW9uKHN0YXJ0LGVuZCl7dmFyIG5ld0J1ZixsZW49dGhpcy5sZW5ndGg7aWYoc3RhcnQ9fn5zdGFydCxlbmQ9dm9pZCAwPT09ZW5kP2xlbjp+fmVuZCxzdGFydDwwPyhzdGFydCs9bGVuKTwwJiYoc3RhcnQ9MCk6c3RhcnQ+bGVuJiYoc3RhcnQ9bGVuKSxlbmQ8MD8oZW5kKz1sZW4pPDAmJihlbmQ9MCk6ZW5kPmxlbiYmKGVuZD1sZW4pLGVuZDxzdGFydCYmKGVuZD1zdGFydCksQnVmZmVyLlRZUEVEX0FSUkFZX1NVUFBPUlQpKG5ld0J1Zj10aGlzLnN1YmFycmF5KHN0YXJ0LGVuZCkpLl9fcHJvdG9fXz1CdWZmZXIucHJvdG90eXBlO2Vsc2V7dmFyIHNsaWNlTGVuPWVuZC1zdGFydDtuZXdCdWY9bmV3IEJ1ZmZlcihzbGljZUxlbix2b2lkIDApO2Zvcih2YXIgaT0wO2k8c2xpY2VMZW47KytpKW5ld0J1ZltpXT10aGlzW2krc3RhcnRdfXJldHVybiBuZXdCdWZ9LEJ1ZmZlci5wcm90b3R5cGUucmVhZFVJbnRMRT1mdW5jdGlvbihvZmZzZXQsYnl0ZUxlbmd0aCxub0Fzc2VydCl7b2Zmc2V0fD0wLGJ5dGVMZW5ndGh8PTAsbm9Bc3NlcnR8fGNoZWNrT2Zmc2V0KG9mZnNldCxieXRlTGVuZ3RoLHRoaXMubGVuZ3RoKTtmb3IodmFyIHZhbD10aGlzW29mZnNldF0sbXVsPTEsaT0wOysraTxieXRlTGVuZ3RoJiYobXVsKj0yNTYpOyl2YWwrPXRoaXNbb2Zmc2V0K2ldKm11bDtyZXR1cm4gdmFsfSxCdWZmZXIucHJvdG90eXBlLnJlYWRVSW50QkU9ZnVuY3Rpb24ob2Zmc2V0LGJ5dGVMZW5ndGgsbm9Bc3NlcnQpe29mZnNldHw9MCxieXRlTGVuZ3RofD0wLG5vQXNzZXJ0fHxjaGVja09mZnNldChvZmZzZXQsYnl0ZUxlbmd0aCx0aGlzLmxlbmd0aCk7Zm9yKHZhciB2YWw9dGhpc1tvZmZzZXQrLS1ieXRlTGVuZ3RoXSxtdWw9MTtieXRlTGVuZ3RoPjAmJihtdWwqPTI1Nik7KXZhbCs9dGhpc1tvZmZzZXQrLS1ieXRlTGVuZ3RoXSptdWw7cmV0dXJuIHZhbH0sQnVmZmVyLnByb3RvdHlwZS5yZWFkVUludDg9ZnVuY3Rpb24ob2Zmc2V0LG5vQXNzZXJ0KXtyZXR1cm4gbm9Bc3NlcnR8fGNoZWNrT2Zmc2V0KG9mZnNldCwxLHRoaXMubGVuZ3RoKSx0aGlzW29mZnNldF19LEJ1ZmZlci5wcm90b3R5cGUucmVhZFVJbnQxNkxFPWZ1bmN0aW9uKG9mZnNldCxub0Fzc2VydCl7cmV0dXJuIG5vQXNzZXJ0fHxjaGVja09mZnNldChvZmZzZXQsMix0aGlzLmxlbmd0aCksdGhpc1tvZmZzZXRdfHRoaXNbb2Zmc2V0KzFdPDw4fSxCdWZmZXIucHJvdG90eXBlLnJlYWRVSW50MTZCRT1mdW5jdGlvbihvZmZzZXQsbm9Bc3NlcnQpe3JldHVybiBub0Fzc2VydHx8Y2hlY2tPZmZzZXQob2Zmc2V0LDIsdGhpcy5sZW5ndGgpLHRoaXNbb2Zmc2V0XTw8OHx0aGlzW29mZnNldCsxXX0sQnVmZmVyLnByb3RvdHlwZS5yZWFkVUludDMyTEU9ZnVuY3Rpb24ob2Zmc2V0LG5vQXNzZXJ0KXtyZXR1cm4gbm9Bc3NlcnR8fGNoZWNrT2Zmc2V0KG9mZnNldCw0LHRoaXMubGVuZ3RoKSwodGhpc1tvZmZzZXRdfHRoaXNbb2Zmc2V0KzFdPDw4fHRoaXNbb2Zmc2V0KzJdPDwxNikrMTY3NzcyMTYqdGhpc1tvZmZzZXQrM119LEJ1ZmZlci5wcm90b3R5cGUucmVhZFVJbnQzMkJFPWZ1bmN0aW9uKG9mZnNldCxub0Fzc2VydCl7cmV0dXJuIG5vQXNzZXJ0fHxjaGVja09mZnNldChvZmZzZXQsNCx0aGlzLmxlbmd0aCksMTY3NzcyMTYqdGhpc1tvZmZzZXRdKyh0aGlzW29mZnNldCsxXTw8MTZ8dGhpc1tvZmZzZXQrMl08PDh8dGhpc1tvZmZzZXQrM10pfSxCdWZmZXIucHJvdG90eXBlLnJlYWRJbnRMRT1mdW5jdGlvbihvZmZzZXQsYnl0ZUxlbmd0aCxub0Fzc2VydCl7b2Zmc2V0fD0wLGJ5dGVMZW5ndGh8PTAsbm9Bc3NlcnR8fGNoZWNrT2Zmc2V0KG9mZnNldCxieXRlTGVuZ3RoLHRoaXMubGVuZ3RoKTtmb3IodmFyIHZhbD10aGlzW29mZnNldF0sbXVsPTEsaT0wOysraTxieXRlTGVuZ3RoJiYobXVsKj0yNTYpOyl2YWwrPXRoaXNbb2Zmc2V0K2ldKm11bDtyZXR1cm4gdmFsPj0obXVsKj0xMjgpJiYodmFsLT1NYXRoLnBvdygyLDgqYnl0ZUxlbmd0aCkpLHZhbH0sQnVmZmVyLnByb3RvdHlwZS5yZWFkSW50QkU9ZnVuY3Rpb24ob2Zmc2V0LGJ5dGVMZW5ndGgsbm9Bc3NlcnQpe29mZnNldHw9MCxieXRlTGVuZ3RofD0wLG5vQXNzZXJ0fHxjaGVja09mZnNldChvZmZzZXQsYnl0ZUxlbmd0aCx0aGlzLmxlbmd0aCk7Zm9yKHZhciBpPWJ5dGVMZW5ndGgsbXVsPTEsdmFsPXRoaXNbb2Zmc2V0Ky0taV07aT4wJiYobXVsKj0yNTYpOyl2YWwrPXRoaXNbb2Zmc2V0Ky0taV0qbXVsO3JldHVybiB2YWw+PShtdWwqPTEyOCkmJih2YWwtPU1hdGgucG93KDIsOCpieXRlTGVuZ3RoKSksdmFsfSxCdWZmZXIucHJvdG90eXBlLnJlYWRJbnQ4PWZ1bmN0aW9uKG9mZnNldCxub0Fzc2VydCl7cmV0dXJuIG5vQXNzZXJ0fHxjaGVja09mZnNldChvZmZzZXQsMSx0aGlzLmxlbmd0aCksMTI4JnRoaXNbb2Zmc2V0XT8tMSooMjU1LXRoaXNbb2Zmc2V0XSsxKTp0aGlzW29mZnNldF19LEJ1ZmZlci5wcm90b3R5cGUucmVhZEludDE2TEU9ZnVuY3Rpb24ob2Zmc2V0LG5vQXNzZXJ0KXtub0Fzc2VydHx8Y2hlY2tPZmZzZXQob2Zmc2V0LDIsdGhpcy5sZW5ndGgpO3ZhciB2YWw9dGhpc1tvZmZzZXRdfHRoaXNbb2Zmc2V0KzFdPDw4O3JldHVybiAzMjc2OCZ2YWw/NDI5NDkwMTc2MHx2YWw6dmFsfSxCdWZmZXIucHJvdG90eXBlLnJlYWRJbnQxNkJFPWZ1bmN0aW9uKG9mZnNldCxub0Fzc2VydCl7bm9Bc3NlcnR8fGNoZWNrT2Zmc2V0KG9mZnNldCwyLHRoaXMubGVuZ3RoKTt2YXIgdmFsPXRoaXNbb2Zmc2V0KzFdfHRoaXNbb2Zmc2V0XTw8ODtyZXR1cm4gMzI3NjgmdmFsPzQyOTQ5MDE3NjB8dmFsOnZhbH0sQnVmZmVyLnByb3RvdHlwZS5yZWFkSW50MzJMRT1mdW5jdGlvbihvZmZzZXQsbm9Bc3NlcnQpe3JldHVybiBub0Fzc2VydHx8Y2hlY2tPZmZzZXQob2Zmc2V0LDQsdGhpcy5sZW5ndGgpLHRoaXNbb2Zmc2V0XXx0aGlzW29mZnNldCsxXTw8OHx0aGlzW29mZnNldCsyXTw8MTZ8dGhpc1tvZmZzZXQrM108PDI0fSxCdWZmZXIucHJvdG90eXBlLnJlYWRJbnQzMkJFPWZ1bmN0aW9uKG9mZnNldCxub0Fzc2VydCl7cmV0dXJuIG5vQXNzZXJ0fHxjaGVja09mZnNldChvZmZzZXQsNCx0aGlzLmxlbmd0aCksdGhpc1tvZmZzZXRdPDwyNHx0aGlzW29mZnNldCsxXTw8MTZ8dGhpc1tvZmZzZXQrMl08PDh8dGhpc1tvZmZzZXQrM119LEJ1ZmZlci5wcm90b3R5cGUucmVhZEZsb2F0TEU9ZnVuY3Rpb24ob2Zmc2V0LG5vQXNzZXJ0KXtyZXR1cm4gbm9Bc3NlcnR8fGNoZWNrT2Zmc2V0KG9mZnNldCw0LHRoaXMubGVuZ3RoKSxpZWVlNzU0LnJlYWQodGhpcyxvZmZzZXQsITAsMjMsNCl9LEJ1ZmZlci5wcm90b3R5cGUucmVhZEZsb2F0QkU9ZnVuY3Rpb24ob2Zmc2V0LG5vQXNzZXJ0KXtyZXR1cm4gbm9Bc3NlcnR8fGNoZWNrT2Zmc2V0KG9mZnNldCw0LHRoaXMubGVuZ3RoKSxpZWVlNzU0LnJlYWQodGhpcyxvZmZzZXQsITEsMjMsNCl9LEJ1ZmZlci5wcm90b3R5cGUucmVhZERvdWJsZUxFPWZ1bmN0aW9uKG9mZnNldCxub0Fzc2VydCl7cmV0dXJuIG5vQXNzZXJ0fHxjaGVja09mZnNldChvZmZzZXQsOCx0aGlzLmxlbmd0aCksaWVlZTc1NC5yZWFkKHRoaXMsb2Zmc2V0LCEwLDUyLDgpfSxCdWZmZXIucHJvdG90eXBlLnJlYWREb3VibGVCRT1mdW5jdGlvbihvZmZzZXQsbm9Bc3NlcnQpe3JldHVybiBub0Fzc2VydHx8Y2hlY2tPZmZzZXQob2Zmc2V0LDgsdGhpcy5sZW5ndGgpLGllZWU3NTQucmVhZCh0aGlzLG9mZnNldCwhMSw1Miw4KX0sQnVmZmVyLnByb3RvdHlwZS53cml0ZVVJbnRMRT1mdW5jdGlvbih2YWx1ZSxvZmZzZXQsYnl0ZUxlbmd0aCxub0Fzc2VydCl7KHZhbHVlPSt2YWx1ZSxvZmZzZXR8PTAsYnl0ZUxlbmd0aHw9MCxub0Fzc2VydCl8fGNoZWNrSW50KHRoaXMsdmFsdWUsb2Zmc2V0LGJ5dGVMZW5ndGgsTWF0aC5wb3coMiw4KmJ5dGVMZW5ndGgpLTEsMCk7dmFyIG11bD0xLGk9MDtmb3IodGhpc1tvZmZzZXRdPTI1NSZ2YWx1ZTsrK2k8Ynl0ZUxlbmd0aCYmKG11bCo9MjU2KTspdGhpc1tvZmZzZXQraV09dmFsdWUvbXVsJjI1NTtyZXR1cm4gb2Zmc2V0K2J5dGVMZW5ndGh9LEJ1ZmZlci5wcm90b3R5cGUud3JpdGVVSW50QkU9ZnVuY3Rpb24odmFsdWUsb2Zmc2V0LGJ5dGVMZW5ndGgsbm9Bc3NlcnQpeyh2YWx1ZT0rdmFsdWUsb2Zmc2V0fD0wLGJ5dGVMZW5ndGh8PTAsbm9Bc3NlcnQpfHxjaGVja0ludCh0aGlzLHZhbHVlLG9mZnNldCxieXRlTGVuZ3RoLE1hdGgucG93KDIsOCpieXRlTGVuZ3RoKS0xLDApO3ZhciBpPWJ5dGVMZW5ndGgtMSxtdWw9MTtmb3IodGhpc1tvZmZzZXQraV09MjU1JnZhbHVlOy0taT49MCYmKG11bCo9MjU2KTspdGhpc1tvZmZzZXQraV09dmFsdWUvbXVsJjI1NTtyZXR1cm4gb2Zmc2V0K2J5dGVMZW5ndGh9LEJ1ZmZlci5wcm90b3R5cGUud3JpdGVVSW50OD1mdW5jdGlvbih2YWx1ZSxvZmZzZXQsbm9Bc3NlcnQpe3JldHVybiB2YWx1ZT0rdmFsdWUsb2Zmc2V0fD0wLG5vQXNzZXJ0fHxjaGVja0ludCh0aGlzLHZhbHVlLG9mZnNldCwxLDI1NSwwKSxCdWZmZXIuVFlQRURfQVJSQVlfU1VQUE9SVHx8KHZhbHVlPU1hdGguZmxvb3IodmFsdWUpKSx0aGlzW29mZnNldF09MjU1JnZhbHVlLG9mZnNldCsxfSxCdWZmZXIucHJvdG90eXBlLndyaXRlVUludDE2TEU9ZnVuY3Rpb24odmFsdWUsb2Zmc2V0LG5vQXNzZXJ0KXtyZXR1cm4gdmFsdWU9K3ZhbHVlLG9mZnNldHw9MCxub0Fzc2VydHx8Y2hlY2tJbnQodGhpcyx2YWx1ZSxvZmZzZXQsMiw2NTUzNSwwKSxCdWZmZXIuVFlQRURfQVJSQVlfU1VQUE9SVD8odGhpc1tvZmZzZXRdPTI1NSZ2YWx1ZSx0aGlzW29mZnNldCsxXT12YWx1ZT4+PjgpOm9iamVjdFdyaXRlVUludDE2KHRoaXMsdmFsdWUsb2Zmc2V0LCEwKSxvZmZzZXQrMn0sQnVmZmVyLnByb3RvdHlwZS53cml0ZVVJbnQxNkJFPWZ1bmN0aW9uKHZhbHVlLG9mZnNldCxub0Fzc2VydCl7cmV0dXJuIHZhbHVlPSt2YWx1ZSxvZmZzZXR8PTAsbm9Bc3NlcnR8fGNoZWNrSW50KHRoaXMsdmFsdWUsb2Zmc2V0LDIsNjU1MzUsMCksQnVmZmVyLlRZUEVEX0FSUkFZX1NVUFBPUlQ/KHRoaXNbb2Zmc2V0XT12YWx1ZT4+PjgsdGhpc1tvZmZzZXQrMV09MjU1JnZhbHVlKTpvYmplY3RXcml0ZVVJbnQxNih0aGlzLHZhbHVlLG9mZnNldCwhMSksb2Zmc2V0KzJ9LEJ1ZmZlci5wcm90b3R5cGUud3JpdGVVSW50MzJMRT1mdW5jdGlvbih2YWx1ZSxvZmZzZXQsbm9Bc3NlcnQpe3JldHVybiB2YWx1ZT0rdmFsdWUsb2Zmc2V0fD0wLG5vQXNzZXJ0fHxjaGVja0ludCh0aGlzLHZhbHVlLG9mZnNldCw0LDQyOTQ5NjcyOTUsMCksQnVmZmVyLlRZUEVEX0FSUkFZX1NVUFBPUlQ/KHRoaXNbb2Zmc2V0KzNdPXZhbHVlPj4+MjQsdGhpc1tvZmZzZXQrMl09dmFsdWU+Pj4xNix0aGlzW29mZnNldCsxXT12YWx1ZT4+PjgsdGhpc1tvZmZzZXRdPTI1NSZ2YWx1ZSk6b2JqZWN0V3JpdGVVSW50MzIodGhpcyx2YWx1ZSxvZmZzZXQsITApLG9mZnNldCs0fSxCdWZmZXIucHJvdG90eXBlLndyaXRlVUludDMyQkU9ZnVuY3Rpb24odmFsdWUsb2Zmc2V0LG5vQXNzZXJ0KXtyZXR1cm4gdmFsdWU9K3ZhbHVlLG9mZnNldHw9MCxub0Fzc2VydHx8Y2hlY2tJbnQodGhpcyx2YWx1ZSxvZmZzZXQsNCw0Mjk0OTY3Mjk1LDApLEJ1ZmZlci5UWVBFRF9BUlJBWV9TVVBQT1JUPyh0aGlzW29mZnNldF09dmFsdWU+Pj4yNCx0aGlzW29mZnNldCsxXT12YWx1ZT4+PjE2LHRoaXNbb2Zmc2V0KzJdPXZhbHVlPj4+OCx0aGlzW29mZnNldCszXT0yNTUmdmFsdWUpOm9iamVjdFdyaXRlVUludDMyKHRoaXMsdmFsdWUsb2Zmc2V0LCExKSxvZmZzZXQrNH0sQnVmZmVyLnByb3RvdHlwZS53cml0ZUludExFPWZ1bmN0aW9uKHZhbHVlLG9mZnNldCxieXRlTGVuZ3RoLG5vQXNzZXJ0KXtpZih2YWx1ZT0rdmFsdWUsb2Zmc2V0fD0wLCFub0Fzc2VydCl7dmFyIGxpbWl0PU1hdGgucG93KDIsOCpieXRlTGVuZ3RoLTEpO2NoZWNrSW50KHRoaXMsdmFsdWUsb2Zmc2V0LGJ5dGVMZW5ndGgsbGltaXQtMSwtbGltaXQpfXZhciBpPTAsbXVsPTEsc3ViPTA7Zm9yKHRoaXNbb2Zmc2V0XT0yNTUmdmFsdWU7KytpPGJ5dGVMZW5ndGgmJihtdWwqPTI1Nik7KXZhbHVlPDAmJjA9PT1zdWImJjAhPT10aGlzW29mZnNldCtpLTFdJiYoc3ViPTEpLHRoaXNbb2Zmc2V0K2ldPSh2YWx1ZS9tdWw+PjApLXN1YiYyNTU7cmV0dXJuIG9mZnNldCtieXRlTGVuZ3RofSxCdWZmZXIucHJvdG90eXBlLndyaXRlSW50QkU9ZnVuY3Rpb24odmFsdWUsb2Zmc2V0LGJ5dGVMZW5ndGgsbm9Bc3NlcnQpe2lmKHZhbHVlPSt2YWx1ZSxvZmZzZXR8PTAsIW5vQXNzZXJ0KXt2YXIgbGltaXQ9TWF0aC5wb3coMiw4KmJ5dGVMZW5ndGgtMSk7Y2hlY2tJbnQodGhpcyx2YWx1ZSxvZmZzZXQsYnl0ZUxlbmd0aCxsaW1pdC0xLC1saW1pdCl9dmFyIGk9Ynl0ZUxlbmd0aC0xLG11bD0xLHN1Yj0wO2Zvcih0aGlzW29mZnNldCtpXT0yNTUmdmFsdWU7LS1pPj0wJiYobXVsKj0yNTYpOyl2YWx1ZTwwJiYwPT09c3ViJiYwIT09dGhpc1tvZmZzZXQraSsxXSYmKHN1Yj0xKSx0aGlzW29mZnNldCtpXT0odmFsdWUvbXVsPj4wKS1zdWImMjU1O3JldHVybiBvZmZzZXQrYnl0ZUxlbmd0aH0sQnVmZmVyLnByb3RvdHlwZS53cml0ZUludDg9ZnVuY3Rpb24odmFsdWUsb2Zmc2V0LG5vQXNzZXJ0KXtyZXR1cm4gdmFsdWU9K3ZhbHVlLG9mZnNldHw9MCxub0Fzc2VydHx8Y2hlY2tJbnQodGhpcyx2YWx1ZSxvZmZzZXQsMSwxMjcsLTEyOCksQnVmZmVyLlRZUEVEX0FSUkFZX1NVUFBPUlR8fCh2YWx1ZT1NYXRoLmZsb29yKHZhbHVlKSksdmFsdWU8MCYmKHZhbHVlPTI1NSt2YWx1ZSsxKSx0aGlzW29mZnNldF09MjU1JnZhbHVlLG9mZnNldCsxfSxCdWZmZXIucHJvdG90eXBlLndyaXRlSW50MTZMRT1mdW5jdGlvbih2YWx1ZSxvZmZzZXQsbm9Bc3NlcnQpe3JldHVybiB2YWx1ZT0rdmFsdWUsb2Zmc2V0fD0wLG5vQXNzZXJ0fHxjaGVja0ludCh0aGlzLHZhbHVlLG9mZnNldCwyLDMyNzY3LC0zMjc2OCksQnVmZmVyLlRZUEVEX0FSUkFZX1NVUFBPUlQ/KHRoaXNbb2Zmc2V0XT0yNTUmdmFsdWUsdGhpc1tvZmZzZXQrMV09dmFsdWU+Pj44KTpvYmplY3RXcml0ZVVJbnQxNih0aGlzLHZhbHVlLG9mZnNldCwhMCksb2Zmc2V0KzJ9LEJ1ZmZlci5wcm90b3R5cGUud3JpdGVJbnQxNkJFPWZ1bmN0aW9uKHZhbHVlLG9mZnNldCxub0Fzc2VydCl7cmV0dXJuIHZhbHVlPSt2YWx1ZSxvZmZzZXR8PTAsbm9Bc3NlcnR8fGNoZWNrSW50KHRoaXMsdmFsdWUsb2Zmc2V0LDIsMzI3NjcsLTMyNzY4KSxCdWZmZXIuVFlQRURfQVJSQVlfU1VQUE9SVD8odGhpc1tvZmZzZXRdPXZhbHVlPj4+OCx0aGlzW29mZnNldCsxXT0yNTUmdmFsdWUpOm9iamVjdFdyaXRlVUludDE2KHRoaXMsdmFsdWUsb2Zmc2V0LCExKSxvZmZzZXQrMn0sQnVmZmVyLnByb3RvdHlwZS53cml0ZUludDMyTEU9ZnVuY3Rpb24odmFsdWUsb2Zmc2V0LG5vQXNzZXJ0KXtyZXR1cm4gdmFsdWU9K3ZhbHVlLG9mZnNldHw9MCxub0Fzc2VydHx8Y2hlY2tJbnQodGhpcyx2YWx1ZSxvZmZzZXQsNCwyMTQ3NDgzNjQ3LC0yMTQ3NDgzNjQ4KSxCdWZmZXIuVFlQRURfQVJSQVlfU1VQUE9SVD8odGhpc1tvZmZzZXRdPTI1NSZ2YWx1ZSx0aGlzW29mZnNldCsxXT12YWx1ZT4+PjgsdGhpc1tvZmZzZXQrMl09dmFsdWU+Pj4xNix0aGlzW29mZnNldCszXT12YWx1ZT4+PjI0KTpvYmplY3RXcml0ZVVJbnQzMih0aGlzLHZhbHVlLG9mZnNldCwhMCksb2Zmc2V0KzR9LEJ1ZmZlci5wcm90b3R5cGUud3JpdGVJbnQzMkJFPWZ1bmN0aW9uKHZhbHVlLG9mZnNldCxub0Fzc2VydCl7cmV0dXJuIHZhbHVlPSt2YWx1ZSxvZmZzZXR8PTAsbm9Bc3NlcnR8fGNoZWNrSW50KHRoaXMsdmFsdWUsb2Zmc2V0LDQsMjE0NzQ4MzY0NywtMjE0NzQ4MzY0OCksdmFsdWU8MCYmKHZhbHVlPTQyOTQ5NjcyOTUrdmFsdWUrMSksQnVmZmVyLlRZUEVEX0FSUkFZX1NVUFBPUlQ/KHRoaXNbb2Zmc2V0XT12YWx1ZT4+PjI0LHRoaXNbb2Zmc2V0KzFdPXZhbHVlPj4+MTYsdGhpc1tvZmZzZXQrMl09dmFsdWU+Pj44LHRoaXNbb2Zmc2V0KzNdPTI1NSZ2YWx1ZSk6b2JqZWN0V3JpdGVVSW50MzIodGhpcyx2YWx1ZSxvZmZzZXQsITEpLG9mZnNldCs0fSxCdWZmZXIucHJvdG90eXBlLndyaXRlRmxvYXRMRT1mdW5jdGlvbih2YWx1ZSxvZmZzZXQsbm9Bc3NlcnQpe3JldHVybiB3cml0ZUZsb2F0KHRoaXMsdmFsdWUsb2Zmc2V0LCEwLG5vQXNzZXJ0KX0sQnVmZmVyLnByb3RvdHlwZS53cml0ZUZsb2F0QkU9ZnVuY3Rpb24odmFsdWUsb2Zmc2V0LG5vQXNzZXJ0KXtyZXR1cm4gd3JpdGVGbG9hdCh0aGlzLHZhbHVlLG9mZnNldCwhMSxub0Fzc2VydCl9LEJ1ZmZlci5wcm90b3R5cGUud3JpdGVEb3VibGVMRT1mdW5jdGlvbih2YWx1ZSxvZmZzZXQsbm9Bc3NlcnQpe3JldHVybiB3cml0ZURvdWJsZSh0aGlzLHZhbHVlLG9mZnNldCwhMCxub0Fzc2VydCl9LEJ1ZmZlci5wcm90b3R5cGUud3JpdGVEb3VibGVCRT1mdW5jdGlvbih2YWx1ZSxvZmZzZXQsbm9Bc3NlcnQpe3JldHVybiB3cml0ZURvdWJsZSh0aGlzLHZhbHVlLG9mZnNldCwhMSxub0Fzc2VydCl9LEJ1ZmZlci5wcm90b3R5cGUuY29weT1mdW5jdGlvbih0YXJnZXQsdGFyZ2V0U3RhcnQsc3RhcnQsZW5kKXtpZihzdGFydHx8KHN0YXJ0PTApLGVuZHx8MD09PWVuZHx8KGVuZD10aGlzLmxlbmd0aCksdGFyZ2V0U3RhcnQ+PXRhcmdldC5sZW5ndGgmJih0YXJnZXRTdGFydD10YXJnZXQubGVuZ3RoKSx0YXJnZXRTdGFydHx8KHRhcmdldFN0YXJ0PTApLGVuZD4wJiZlbmQ8c3RhcnQmJihlbmQ9c3RhcnQpLGVuZD09PXN0YXJ0KXJldHVybiAwO2lmKDA9PT10YXJnZXQubGVuZ3RofHwwPT09dGhpcy5sZW5ndGgpcmV0dXJuIDA7aWYodGFyZ2V0U3RhcnQ8MCl0aHJvdyBuZXcgUmFuZ2VFcnJvcihcInRhcmdldFN0YXJ0IG91dCBvZiBib3VuZHNcIik7aWYoc3RhcnQ8MHx8c3RhcnQ+PXRoaXMubGVuZ3RoKXRocm93IG5ldyBSYW5nZUVycm9yKFwic291cmNlU3RhcnQgb3V0IG9mIGJvdW5kc1wiKTtpZihlbmQ8MCl0aHJvdyBuZXcgUmFuZ2VFcnJvcihcInNvdXJjZUVuZCBvdXQgb2YgYm91bmRzXCIpO2VuZD50aGlzLmxlbmd0aCYmKGVuZD10aGlzLmxlbmd0aCksdGFyZ2V0Lmxlbmd0aC10YXJnZXRTdGFydDxlbmQtc3RhcnQmJihlbmQ9dGFyZ2V0Lmxlbmd0aC10YXJnZXRTdGFydCtzdGFydCk7dmFyIGksbGVuPWVuZC1zdGFydDtpZih0aGlzPT09dGFyZ2V0JiZzdGFydDx0YXJnZXRTdGFydCYmdGFyZ2V0U3RhcnQ8ZW5kKWZvcihpPWxlbi0xO2k+PTA7LS1pKXRhcmdldFtpK3RhcmdldFN0YXJ0XT10aGlzW2krc3RhcnRdO2Vsc2UgaWYobGVuPDFlM3x8IUJ1ZmZlci5UWVBFRF9BUlJBWV9TVVBQT1JUKWZvcihpPTA7aTxsZW47KytpKXRhcmdldFtpK3RhcmdldFN0YXJ0XT10aGlzW2krc3RhcnRdO2Vsc2UgVWludDhBcnJheS5wcm90b3R5cGUuc2V0LmNhbGwodGFyZ2V0LHRoaXMuc3ViYXJyYXkoc3RhcnQsc3RhcnQrbGVuKSx0YXJnZXRTdGFydCk7cmV0dXJuIGxlbn0sQnVmZmVyLnByb3RvdHlwZS5maWxsPWZ1bmN0aW9uKHZhbCxzdGFydCxlbmQsZW5jb2Rpbmcpe2lmKFwic3RyaW5nXCI9PXR5cGVvZiB2YWwpe2lmKFwic3RyaW5nXCI9PXR5cGVvZiBzdGFydD8oZW5jb2Rpbmc9c3RhcnQsc3RhcnQ9MCxlbmQ9dGhpcy5sZW5ndGgpOlwic3RyaW5nXCI9PXR5cGVvZiBlbmQmJihlbmNvZGluZz1lbmQsZW5kPXRoaXMubGVuZ3RoKSwxPT09dmFsLmxlbmd0aCl7dmFyIGNvZGU9dmFsLmNoYXJDb2RlQXQoMCk7Y29kZTwyNTYmJih2YWw9Y29kZSl9aWYodm9pZCAwIT09ZW5jb2RpbmcmJlwic3RyaW5nXCIhPXR5cGVvZiBlbmNvZGluZyl0aHJvdyBuZXcgVHlwZUVycm9yKFwiZW5jb2RpbmcgbXVzdCBiZSBhIHN0cmluZ1wiKTtpZihcInN0cmluZ1wiPT10eXBlb2YgZW5jb2RpbmcmJiFCdWZmZXIuaXNFbmNvZGluZyhlbmNvZGluZykpdGhyb3cgbmV3IFR5cGVFcnJvcihcIlVua25vd24gZW5jb2Rpbmc6IFwiK2VuY29kaW5nKX1lbHNlXCJudW1iZXJcIj09dHlwZW9mIHZhbCYmKHZhbCY9MjU1KTtpZihzdGFydDwwfHx0aGlzLmxlbmd0aDxzdGFydHx8dGhpcy5sZW5ndGg8ZW5kKXRocm93IG5ldyBSYW5nZUVycm9yKFwiT3V0IG9mIHJhbmdlIGluZGV4XCIpO2lmKGVuZDw9c3RhcnQpcmV0dXJuIHRoaXM7dmFyIGk7aWYoc3RhcnQ+Pj49MCxlbmQ9dm9pZCAwPT09ZW5kP3RoaXMubGVuZ3RoOmVuZD4+PjAsdmFsfHwodmFsPTApLFwibnVtYmVyXCI9PXR5cGVvZiB2YWwpZm9yKGk9c3RhcnQ7aTxlbmQ7KytpKXRoaXNbaV09dmFsO2Vsc2V7dmFyIGJ5dGVzPUJ1ZmZlci5pc0J1ZmZlcih2YWwpP3ZhbDp1dGY4VG9CeXRlcyhuZXcgQnVmZmVyKHZhbCxlbmNvZGluZykudG9TdHJpbmcoKSksbGVuPWJ5dGVzLmxlbmd0aDtmb3IoaT0wO2k8ZW5kLXN0YXJ0OysraSl0aGlzW2krc3RhcnRdPWJ5dGVzW2klbGVuXX1yZXR1cm4gdGhpc307dmFyIElOVkFMSURfQkFTRTY0X1JFPS9bXitcXC8wLTlBLVphLXotX10vZztmdW5jdGlvbiB0b0hleChuKXtyZXR1cm4gbjwxNj9cIjBcIituLnRvU3RyaW5nKDE2KTpuLnRvU3RyaW5nKDE2KX1mdW5jdGlvbiB1dGY4VG9CeXRlcyhzdHJpbmcsdW5pdHMpe3ZhciBjb2RlUG9pbnQ7dW5pdHM9dW5pdHN8fDEvMDtmb3IodmFyIGxlbmd0aD1zdHJpbmcubGVuZ3RoLGxlYWRTdXJyb2dhdGU9bnVsbCxieXRlcz1bXSxpPTA7aTxsZW5ndGg7KytpKXtpZigoY29kZVBvaW50PXN0cmluZy5jaGFyQ29kZUF0KGkpKT41NTI5NSYmY29kZVBvaW50PDU3MzQ0KXtpZighbGVhZFN1cnJvZ2F0ZSl7aWYoY29kZVBvaW50PjU2MzE5KXsodW5pdHMtPTMpPi0xJiZieXRlcy5wdXNoKDIzOSwxOTEsMTg5KTtjb250aW51ZX1pZihpKzE9PT1sZW5ndGgpeyh1bml0cy09Myk+LTEmJmJ5dGVzLnB1c2goMjM5LDE5MSwxODkpO2NvbnRpbnVlfWxlYWRTdXJyb2dhdGU9Y29kZVBvaW50O2NvbnRpbnVlfWlmKGNvZGVQb2ludDw1NjMyMCl7KHVuaXRzLT0zKT4tMSYmYnl0ZXMucHVzaCgyMzksMTkxLDE4OSksbGVhZFN1cnJvZ2F0ZT1jb2RlUG9pbnQ7Y29udGludWV9Y29kZVBvaW50PTY1NTM2KyhsZWFkU3Vycm9nYXRlLTU1Mjk2PDwxMHxjb2RlUG9pbnQtNTYzMjApfWVsc2UgbGVhZFN1cnJvZ2F0ZSYmKHVuaXRzLT0zKT4tMSYmYnl0ZXMucHVzaCgyMzksMTkxLDE4OSk7aWYobGVhZFN1cnJvZ2F0ZT1udWxsLGNvZGVQb2ludDwxMjgpe2lmKCh1bml0cy09MSk8MClicmVhaztieXRlcy5wdXNoKGNvZGVQb2ludCl9ZWxzZSBpZihjb2RlUG9pbnQ8MjA0OCl7aWYoKHVuaXRzLT0yKTwwKWJyZWFrO2J5dGVzLnB1c2goY29kZVBvaW50Pj42fDE5Miw2MyZjb2RlUG9pbnR8MTI4KX1lbHNlIGlmKGNvZGVQb2ludDw2NTUzNil7aWYoKHVuaXRzLT0zKTwwKWJyZWFrO2J5dGVzLnB1c2goY29kZVBvaW50Pj4xMnwyMjQsY29kZVBvaW50Pj42JjYzfDEyOCw2MyZjb2RlUG9pbnR8MTI4KX1lbHNle2lmKCEoY29kZVBvaW50PDExMTQxMTIpKXRocm93IG5ldyBFcnJvcihcIkludmFsaWQgY29kZSBwb2ludFwiKTtpZigodW5pdHMtPTQpPDApYnJlYWs7Ynl0ZXMucHVzaChjb2RlUG9pbnQ+PjE4fDI0MCxjb2RlUG9pbnQ+PjEyJjYzfDEyOCxjb2RlUG9pbnQ+PjYmNjN8MTI4LDYzJmNvZGVQb2ludHwxMjgpfX1yZXR1cm4gYnl0ZXN9ZnVuY3Rpb24gYmFzZTY0VG9CeXRlcyhzdHIpe3JldHVybiBiYXNlNjQudG9CeXRlQXJyYXkoZnVuY3Rpb24oc3RyKXtpZigoc3RyPWZ1bmN0aW9uKHN0cil7cmV0dXJuIHN0ci50cmltP3N0ci50cmltKCk6c3RyLnJlcGxhY2UoL15cXHMrfFxccyskL2csXCJcIil9KHN0cikucmVwbGFjZShJTlZBTElEX0JBU0U2NF9SRSxcIlwiKSkubGVuZ3RoPDIpcmV0dXJuXCJcIjtmb3IoO3N0ci5sZW5ndGglNCE9MDspc3RyKz1cIj1cIjtyZXR1cm4gc3RyfShzdHIpKX1mdW5jdGlvbiBibGl0QnVmZmVyKHNyYyxkc3Qsb2Zmc2V0LGxlbmd0aCl7Zm9yKHZhciBpPTA7aTxsZW5ndGgmJiEoaStvZmZzZXQ+PWRzdC5sZW5ndGh8fGk+PXNyYy5sZW5ndGgpOysraSlkc3RbaStvZmZzZXRdPXNyY1tpXTtyZXR1cm4gaX19KS5jYWxsKHRoaXMsX193ZWJwYWNrX3JlcXVpcmVfXygxMSkpfSxmdW5jdGlvbihtb2R1bGUsZXhwb3J0cyl7dmFyIGNhY2hlZFNldFRpbWVvdXQsY2FjaGVkQ2xlYXJUaW1lb3V0LHByb2Nlc3M9bW9kdWxlLmV4cG9ydHM9e307ZnVuY3Rpb24gZGVmYXVsdFNldFRpbW91dCgpe3Rocm93IG5ldyBFcnJvcihcInNldFRpbWVvdXQgaGFzIG5vdCBiZWVuIGRlZmluZWRcIil9ZnVuY3Rpb24gZGVmYXVsdENsZWFyVGltZW91dCgpe3Rocm93IG5ldyBFcnJvcihcImNsZWFyVGltZW91dCBoYXMgbm90IGJlZW4gZGVmaW5lZFwiKX1mdW5jdGlvbiBydW5UaW1lb3V0KGZ1bil7aWYoY2FjaGVkU2V0VGltZW91dD09PXNldFRpbWVvdXQpcmV0dXJuIHNldFRpbWVvdXQoZnVuLDApO2lmKChjYWNoZWRTZXRUaW1lb3V0PT09ZGVmYXVsdFNldFRpbW91dHx8IWNhY2hlZFNldFRpbWVvdXQpJiZzZXRUaW1lb3V0KXJldHVybiBjYWNoZWRTZXRUaW1lb3V0PXNldFRpbWVvdXQsc2V0VGltZW91dChmdW4sMCk7dHJ5e3JldHVybiBjYWNoZWRTZXRUaW1lb3V0KGZ1biwwKX1jYXRjaChlKXt0cnl7cmV0dXJuIGNhY2hlZFNldFRpbWVvdXQuY2FsbChudWxsLGZ1biwwKX1jYXRjaChlKXtyZXR1cm4gY2FjaGVkU2V0VGltZW91dC5jYWxsKHRoaXMsZnVuLDApfX19IWZ1bmN0aW9uKCl7dHJ5e2NhY2hlZFNldFRpbWVvdXQ9XCJmdW5jdGlvblwiPT10eXBlb2Ygc2V0VGltZW91dD9zZXRUaW1lb3V0OmRlZmF1bHRTZXRUaW1vdXR9Y2F0Y2goZSl7Y2FjaGVkU2V0VGltZW91dD1kZWZhdWx0U2V0VGltb3V0fXRyeXtjYWNoZWRDbGVhclRpbWVvdXQ9XCJmdW5jdGlvblwiPT10eXBlb2YgY2xlYXJUaW1lb3V0P2NsZWFyVGltZW91dDpkZWZhdWx0Q2xlYXJUaW1lb3V0fWNhdGNoKGUpe2NhY2hlZENsZWFyVGltZW91dD1kZWZhdWx0Q2xlYXJUaW1lb3V0fX0oKTt2YXIgY3VycmVudFF1ZXVlLHF1ZXVlPVtdLGRyYWluaW5nPSExLHF1ZXVlSW5kZXg9LTE7ZnVuY3Rpb24gY2xlYW5VcE5leHRUaWNrKCl7ZHJhaW5pbmcmJmN1cnJlbnRRdWV1ZSYmKGRyYWluaW5nPSExLGN1cnJlbnRRdWV1ZS5sZW5ndGg/cXVldWU9Y3VycmVudFF1ZXVlLmNvbmNhdChxdWV1ZSk6cXVldWVJbmRleD0tMSxxdWV1ZS5sZW5ndGgmJmRyYWluUXVldWUoKSl9ZnVuY3Rpb24gZHJhaW5RdWV1ZSgpe2lmKCFkcmFpbmluZyl7dmFyIHRpbWVvdXQ9cnVuVGltZW91dChjbGVhblVwTmV4dFRpY2spO2RyYWluaW5nPSEwO2Zvcih2YXIgbGVuPXF1ZXVlLmxlbmd0aDtsZW47KXtmb3IoY3VycmVudFF1ZXVlPXF1ZXVlLHF1ZXVlPVtdOysrcXVldWVJbmRleDxsZW47KWN1cnJlbnRRdWV1ZSYmY3VycmVudFF1ZXVlW3F1ZXVlSW5kZXhdLnJ1bigpO3F1ZXVlSW5kZXg9LTEsbGVuPXF1ZXVlLmxlbmd0aH1jdXJyZW50UXVldWU9bnVsbCxkcmFpbmluZz0hMSxmdW5jdGlvbihtYXJrZXIpe2lmKGNhY2hlZENsZWFyVGltZW91dD09PWNsZWFyVGltZW91dClyZXR1cm4gY2xlYXJUaW1lb3V0KG1hcmtlcik7aWYoKGNhY2hlZENsZWFyVGltZW91dD09PWRlZmF1bHRDbGVhclRpbWVvdXR8fCFjYWNoZWRDbGVhclRpbWVvdXQpJiZjbGVhclRpbWVvdXQpcmV0dXJuIGNhY2hlZENsZWFyVGltZW91dD1jbGVhclRpbWVvdXQsY2xlYXJUaW1lb3V0KG1hcmtlcik7dHJ5e2NhY2hlZENsZWFyVGltZW91dChtYXJrZXIpfWNhdGNoKGUpe3RyeXtyZXR1cm4gY2FjaGVkQ2xlYXJUaW1lb3V0LmNhbGwobnVsbCxtYXJrZXIpfWNhdGNoKGUpe3JldHVybiBjYWNoZWRDbGVhclRpbWVvdXQuY2FsbCh0aGlzLG1hcmtlcil9fX0odGltZW91dCl9fWZ1bmN0aW9uIEl0ZW0oZnVuLGFycmF5KXt0aGlzLmZ1bj1mdW4sdGhpcy5hcnJheT1hcnJheX1mdW5jdGlvbiBub29wKCl7fXByb2Nlc3MubmV4dFRpY2s9ZnVuY3Rpb24oZnVuKXt2YXIgYXJncz1uZXcgQXJyYXkoYXJndW1lbnRzLmxlbmd0aC0xKTtpZihhcmd1bWVudHMubGVuZ3RoPjEpZm9yKHZhciBpPTE7aTxhcmd1bWVudHMubGVuZ3RoO2krKylhcmdzW2ktMV09YXJndW1lbnRzW2ldO3F1ZXVlLnB1c2gobmV3IEl0ZW0oZnVuLGFyZ3MpKSwxIT09cXVldWUubGVuZ3RofHxkcmFpbmluZ3x8cnVuVGltZW91dChkcmFpblF1ZXVlKX0sSXRlbS5wcm90b3R5cGUucnVuPWZ1bmN0aW9uKCl7dGhpcy5mdW4uYXBwbHkobnVsbCx0aGlzLmFycmF5KX0scHJvY2Vzcy50aXRsZT1cImJyb3dzZXJcIixwcm9jZXNzLmJyb3dzZXI9ITAscHJvY2Vzcy5lbnY9e30scHJvY2Vzcy5hcmd2PVtdLHByb2Nlc3MudmVyc2lvbj1cIlwiLHByb2Nlc3MudmVyc2lvbnM9e30scHJvY2Vzcy5vbj1ub29wLHByb2Nlc3MuYWRkTGlzdGVuZXI9bm9vcCxwcm9jZXNzLm9uY2U9bm9vcCxwcm9jZXNzLm9mZj1ub29wLHByb2Nlc3MucmVtb3ZlTGlzdGVuZXI9bm9vcCxwcm9jZXNzLnJlbW92ZUFsbExpc3RlbmVycz1ub29wLHByb2Nlc3MuZW1pdD1ub29wLHByb2Nlc3MucHJlcGVuZExpc3RlbmVyPW5vb3AscHJvY2Vzcy5wcmVwZW5kT25jZUxpc3RlbmVyPW5vb3AscHJvY2Vzcy5saXN0ZW5lcnM9ZnVuY3Rpb24obmFtZSl7cmV0dXJuW119LHByb2Nlc3MuYmluZGluZz1mdW5jdGlvbihuYW1lKXt0aHJvdyBuZXcgRXJyb3IoXCJwcm9jZXNzLmJpbmRpbmcgaXMgbm90IHN1cHBvcnRlZFwiKX0scHJvY2Vzcy5jd2Q9ZnVuY3Rpb24oKXtyZXR1cm5cIi9cIn0scHJvY2Vzcy5jaGRpcj1mdW5jdGlvbihkaXIpe3Rocm93IG5ldyBFcnJvcihcInByb2Nlc3MuY2hkaXIgaXMgbm90IHN1cHBvcnRlZFwiKX0scHJvY2Vzcy51bWFzaz1mdW5jdGlvbigpe3JldHVybiAwfX0sZnVuY3Rpb24obW9kdWxlLGV4cG9ydHMsX193ZWJwYWNrX3JlcXVpcmVfXyl7KGZ1bmN0aW9uKEJ1ZmZlcil7ZnVuY3Rpb24gb2JqZWN0VG9TdHJpbmcobyl7cmV0dXJuIE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChvKX1leHBvcnRzLmlzQXJyYXk9ZnVuY3Rpb24oYXJnKXtyZXR1cm4gQXJyYXkuaXNBcnJheT9BcnJheS5pc0FycmF5KGFyZyk6XCJbb2JqZWN0IEFycmF5XVwiPT09b2JqZWN0VG9TdHJpbmcoYXJnKX0sZXhwb3J0cy5pc0Jvb2xlYW49ZnVuY3Rpb24oYXJnKXtyZXR1cm5cImJvb2xlYW5cIj09dHlwZW9mIGFyZ30sZXhwb3J0cy5pc051bGw9ZnVuY3Rpb24oYXJnKXtyZXR1cm4gbnVsbD09PWFyZ30sZXhwb3J0cy5pc051bGxPclVuZGVmaW5lZD1mdW5jdGlvbihhcmcpe3JldHVybiBudWxsPT1hcmd9LGV4cG9ydHMuaXNOdW1iZXI9ZnVuY3Rpb24oYXJnKXtyZXR1cm5cIm51bWJlclwiPT10eXBlb2YgYXJnfSxleHBvcnRzLmlzU3RyaW5nPWZ1bmN0aW9uKGFyZyl7cmV0dXJuXCJzdHJpbmdcIj09dHlwZW9mIGFyZ30sZXhwb3J0cy5pc1N5bWJvbD1mdW5jdGlvbihhcmcpe3JldHVyblwic3ltYm9sXCI9PXR5cGVvZiBhcmd9LGV4cG9ydHMuaXNVbmRlZmluZWQ9ZnVuY3Rpb24oYXJnKXtyZXR1cm4gdm9pZCAwPT09YXJnfSxleHBvcnRzLmlzUmVnRXhwPWZ1bmN0aW9uKHJlKXtyZXR1cm5cIltvYmplY3QgUmVnRXhwXVwiPT09b2JqZWN0VG9TdHJpbmcocmUpfSxleHBvcnRzLmlzT2JqZWN0PWZ1bmN0aW9uKGFyZyl7cmV0dXJuXCJvYmplY3RcIj09dHlwZW9mIGFyZyYmbnVsbCE9PWFyZ30sZXhwb3J0cy5pc0RhdGU9ZnVuY3Rpb24oZCl7cmV0dXJuXCJbb2JqZWN0IERhdGVdXCI9PT1vYmplY3RUb1N0cmluZyhkKX0sZXhwb3J0cy5pc0Vycm9yPWZ1bmN0aW9uKGUpe3JldHVyblwiW29iamVjdCBFcnJvcl1cIj09PW9iamVjdFRvU3RyaW5nKGUpfHxlIGluc3RhbmNlb2YgRXJyb3J9LGV4cG9ydHMuaXNGdW5jdGlvbj1mdW5jdGlvbihhcmcpe3JldHVyblwiZnVuY3Rpb25cIj09dHlwZW9mIGFyZ30sZXhwb3J0cy5pc1ByaW1pdGl2ZT1mdW5jdGlvbihhcmcpe3JldHVybiBudWxsPT09YXJnfHxcImJvb2xlYW5cIj09dHlwZW9mIGFyZ3x8XCJudW1iZXJcIj09dHlwZW9mIGFyZ3x8XCJzdHJpbmdcIj09dHlwZW9mIGFyZ3x8XCJzeW1ib2xcIj09dHlwZW9mIGFyZ3x8dm9pZCAwPT09YXJnfSxleHBvcnRzLmlzQnVmZmVyPUJ1ZmZlci5pc0J1ZmZlcn0pLmNhbGwodGhpcyxfX3dlYnBhY2tfcmVxdWlyZV9fKDIzKS5CdWZmZXIpfSxmdW5jdGlvbihtb2R1bGUsZXhwb3J0cyxfX3dlYnBhY2tfcmVxdWlyZV9fKXtcInVzZSBzdHJpY3RcIjt2YXIgRVM2UHJvbWlzZT1udWxsO0VTNlByb21pc2U9XCJ1bmRlZmluZWRcIiE9dHlwZW9mIFByb21pc2U/UHJvbWlzZTpfX3dlYnBhY2tfcmVxdWlyZV9fKDEwMSksbW9kdWxlLmV4cG9ydHM9e1Byb21pc2U6RVM2UHJvbWlzZX19LGZ1bmN0aW9uKG1vZHVsZSxleHBvcnRzLF9fd2VicGFja19yZXF1aXJlX18pe1widXNlIHN0cmljdFwiO3ZhciBfX2F3YWl0ZXI9dGhpcyYmdGhpcy5fX2F3YWl0ZXJ8fGZ1bmN0aW9uKHRoaXNBcmcsX2FyZ3VtZW50cyxQLGdlbmVyYXRvcil7cmV0dXJuIG5ldyhQfHwoUD1Qcm9taXNlKSkoZnVuY3Rpb24ocmVzb2x2ZSxyZWplY3Qpe2Z1bmN0aW9uIGZ1bGZpbGxlZCh2YWx1ZSl7dHJ5e3N0ZXAoZ2VuZXJhdG9yLm5leHQodmFsdWUpKX1jYXRjaChlKXtyZWplY3QoZSl9fWZ1bmN0aW9uIHJlamVjdGVkKHZhbHVlKXt0cnl7c3RlcChnZW5lcmF0b3IudGhyb3codmFsdWUpKX1jYXRjaChlKXtyZWplY3QoZSl9fWZ1bmN0aW9uIHN0ZXAocmVzdWx0KXtyZXN1bHQuZG9uZT9yZXNvbHZlKHJlc3VsdC52YWx1ZSk6ZnVuY3Rpb24odmFsdWUpe3JldHVybiB2YWx1ZSBpbnN0YW5jZW9mIFA/dmFsdWU6bmV3IFAoZnVuY3Rpb24ocmVzb2x2ZSl7cmVzb2x2ZSh2YWx1ZSl9KX0ocmVzdWx0LnZhbHVlKS50aGVuKGZ1bGZpbGxlZCxyZWplY3RlZCl9c3RlcCgoZ2VuZXJhdG9yPWdlbmVyYXRvci5hcHBseSh0aGlzQXJnLF9hcmd1bWVudHN8fFtdKSkubmV4dCgpKX0pfSxfX2dlbmVyYXRvcj10aGlzJiZ0aGlzLl9fZ2VuZXJhdG9yfHxmdW5jdGlvbih0aGlzQXJnLGJvZHkpe3ZhciBmLHksdCxnLF89e2xhYmVsOjAsc2VudDpmdW5jdGlvbigpe2lmKDEmdFswXSl0aHJvdyB0WzFdO3JldHVybiB0WzFdfSx0cnlzOltdLG9wczpbXX07cmV0dXJuIGc9e25leHQ6dmVyYigwKSx0aHJvdzp2ZXJiKDEpLHJldHVybjp2ZXJiKDIpfSxcImZ1bmN0aW9uXCI9PXR5cGVvZiBTeW1ib2wmJihnW1N5bWJvbC5pdGVyYXRvcl09ZnVuY3Rpb24oKXtyZXR1cm4gdGhpc30pLGc7ZnVuY3Rpb24gdmVyYihuKXtyZXR1cm4gZnVuY3Rpb24odil7cmV0dXJuIGZ1bmN0aW9uKG9wKXtpZihmKXRocm93IG5ldyBUeXBlRXJyb3IoXCJHZW5lcmF0b3IgaXMgYWxyZWFkeSBleGVjdXRpbmcuXCIpO2Zvcig7XzspdHJ5e2lmKGY9MSx5JiYodD0yJm9wWzBdP3kucmV0dXJuOm9wWzBdP3kudGhyb3d8fCgodD15LnJldHVybikmJnQuY2FsbCh5KSwwKTp5Lm5leHQpJiYhKHQ9dC5jYWxsKHksb3BbMV0pKS5kb25lKXJldHVybiB0O3N3aXRjaCh5PTAsdCYmKG9wPVsyJm9wWzBdLHQudmFsdWVdKSxvcFswXSl7Y2FzZSAwOmNhc2UgMTp0PW9wO2JyZWFrO2Nhc2UgNDpyZXR1cm4gXy5sYWJlbCsrLHt2YWx1ZTpvcFsxXSxkb25lOiExfTtjYXNlIDU6Xy5sYWJlbCsrLHk9b3BbMV0sb3A9WzBdO2NvbnRpbnVlO2Nhc2UgNzpvcD1fLm9wcy5wb3AoKSxfLnRyeXMucG9wKCk7Y29udGludWU7ZGVmYXVsdDppZighKHQ9KHQ9Xy50cnlzKS5sZW5ndGg+MCYmdFt0Lmxlbmd0aC0xXSkmJig2PT09b3BbMF18fDI9PT1vcFswXSkpe189MDtjb250aW51ZX1pZigzPT09b3BbMF0mJighdHx8b3BbMV0+dFswXSYmb3BbMV08dFszXSkpe18ubGFiZWw9b3BbMV07YnJlYWt9aWYoNj09PW9wWzBdJiZfLmxhYmVsPHRbMV0pe18ubGFiZWw9dFsxXSx0PW9wO2JyZWFrfWlmKHQmJl8ubGFiZWw8dFsyXSl7Xy5sYWJlbD10WzJdLF8ub3BzLnB1c2gob3ApO2JyZWFrfXRbMl0mJl8ub3BzLnBvcCgpLF8udHJ5cy5wb3AoKTtjb250aW51ZX1vcD1ib2R5LmNhbGwodGhpc0FyZyxfKX1jYXRjaChlKXtvcD1bNixlXSx5PTB9ZmluYWxseXtmPXQ9MH1pZig1Jm9wWzBdKXRocm93IG9wWzFdO3JldHVybnt2YWx1ZTpvcFswXT9vcFsxXTp2b2lkIDAsZG9uZTohMH19KFtuLHZdKX19fSxfX3NwcmVhZEFycmF5cz10aGlzJiZ0aGlzLl9fc3ByZWFkQXJyYXlzfHxmdW5jdGlvbigpe2Zvcih2YXIgcz0wLGk9MCxpbD1hcmd1bWVudHMubGVuZ3RoO2k8aWw7aSsrKXMrPWFyZ3VtZW50c1tpXS5sZW5ndGg7dmFyIHI9QXJyYXkocyksaz0wO2ZvcihpPTA7aTxpbDtpKyspZm9yKHZhciBhPWFyZ3VtZW50c1tpXSxqPTAsamw9YS5sZW5ndGg7ajxqbDtqKyssaysrKXJba109YVtqXTtyZXR1cm4gcn07T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSk7dmFyIERhdGVNb2R1bGVfMT1fX3dlYnBhY2tfcmVxdWlyZV9fKDYpLEluYm94TWVzc2FnZXM9ZnVuY3Rpb24oKXtmdW5jdGlvbiBJbmJveE1lc3NhZ2VzKGRhdGEsYXBpLGluYm94TW9kZWwsZGF0ZU1vZHVsZSl7dm9pZCAwPT09ZGF0ZU1vZHVsZSYmKGRhdGVNb2R1bGU9bmV3IERhdGVNb2R1bGVfMS5kZWZhdWx0KSx0aGlzLmRhdGE9ZGF0YSx0aGlzLmFwaT1hcGksdGhpcy5pbmJveE1vZGVsPWluYm94TW9kZWwsdGhpcy5kYXRlTW9kdWxlPWRhdGVNb2R1bGUsdGhpcy5wdWJsaWNNZXNzYWdlQnVpbGRlcj10aGlzLnB1YmxpY01lc3NhZ2VCdWlsZGVyLmJpbmQodGhpcyl9cmV0dXJuIEluYm94TWVzc2FnZXMucHJvdG90eXBlLm1lc3NhZ2VUeXBlRmFjdG9yeT1mdW5jdGlvbihhY3Rpb25QYXJhbXMpe3ZhciBtZXNzYWdlVHlwZT0wO3JldHVyblwiaFwiaW4gYWN0aW9uUGFyYW1zfHxcInJtXCJpbiBhY3Rpb25QYXJhbXN8fFwiclwiaW4gYWN0aW9uUGFyYW1zP21lc3NhZ2VUeXBlPTE6XCJsXCJpbiBhY3Rpb25QYXJhbXMmJm51bGwhPWFjdGlvblBhcmFtcy5sJiYobWVzc2FnZVR5cGU9YWN0aW9uUGFyYW1zLmwuc3RhcnRzV2l0aChcImh0dHBcIik/MjozKSxtZXNzYWdlVHlwZX0sSW5ib3hNZXNzYWdlcy5wcm90b3R5cGUudXBkYXRlTWVzc2FnZXNTdGF0dXNXaXRoQ29kZXM9ZnVuY3Rpb24oY29kZXMsbWVzc2FnZXMsc3RhdHVzKXtyZXR1cm4gX19hd2FpdGVyKHRoaXMsdm9pZCAwLHZvaWQgMCxmdW5jdGlvbigpe3ZhciB1cGRhdGVkTWVzc2FnZXMsaW5ib3hTdGF0dXNRdWVyaWVzLF90aGlzPXRoaXM7cmV0dXJuIF9fZ2VuZXJhdG9yKHRoaXMsZnVuY3Rpb24oX2Epe3N3aXRjaChfYS5sYWJlbCl7Y2FzZSAwOnJldHVybiB1cGRhdGVkTWVzc2FnZXM9W10saW5ib3hTdGF0dXNRdWVyaWVzPVtdLG1lc3NhZ2VzLmZvckVhY2goZnVuY3Rpb24obXNnKXtyZXR1cm4gX19hd2FpdGVyKF90aGlzLHZvaWQgMCx2b2lkIDAsZnVuY3Rpb24oKXtyZXR1cm4gX19nZW5lcmF0b3IodGhpcyxmdW5jdGlvbihfYSl7cmV0dXJuLTE9PT1jb2Rlcy5pbmRleE9mKG1zZy5pbmJveF9pZCk/WzJdOihtc2cuc3RhdHVzPXN0YXR1cyx1cGRhdGVkTWVzc2FnZXMucHVzaChtc2cpLGluYm94U3RhdHVzUXVlcmllcy5wdXNoKHRoaXMuYXBpLmluYm94U3RhdHVzKG1zZy5vcmRlcixtc2cuc3RhdHVzKSksWzJdKX0pfSl9KSxbNCx0aGlzLmluYm94TW9kZWwucHV0QnVsa01lc3NhZ2VzKHVwZGF0ZWRNZXNzYWdlcyldO2Nhc2UgMTpyZXR1cm4gX2Euc2VudCgpLFs0LFByb21pc2UuYWxsKGluYm94U3RhdHVzUXVlcmllcyldO2Nhc2UgMjpyZXR1cm4gX2Euc2VudCgpLFsyXX19KX0pfSxJbmJveE1lc3NhZ2VzLnByb3RvdHlwZS5wdWJsaWNNZXNzYWdlQnVpbGRlcj1mdW5jdGlvbihtZXNzYWdlKXtyZXR1cm4gX19hd2FpdGVyKHRoaXMsdm9pZCAwLHZvaWQgMCxmdW5jdGlvbigpe3ZhciBpbWFnZVVybCxfYSx0aXRsZSxfYjtyZXR1cm4gX19nZW5lcmF0b3IodGhpcyxmdW5jdGlvbihfYyl7c3dpdGNoKF9jLmxhYmVsKXtjYXNlIDA6cmV0dXJuKF9hPW1lc3NhZ2UuaW1hZ2UpP1szLDJdOls0LHRoaXMuZGF0YS5nZXREZWZhdWx0Tm90aWZpY2F0aW9uSW1hZ2UoKV07Y2FzZSAxOl9hPV9jLnNlbnQoKSxfYy5sYWJlbD0yO2Nhc2UgMjpyZXR1cm4gaW1hZ2VVcmw9X2EsKF9iPW1lc3NhZ2UudGl0bGUpP1szLDRdOls0LHRoaXMuZGF0YS5nZXREZWZhdWx0Tm90aWZpY2F0aW9uVGl0bGUoKV07Y2FzZSAzOl9iPV9jLnNlbnQoKSxfYy5sYWJlbD00O2Nhc2UgNDpyZXR1cm4gdGl0bGU9X2IsdGhpcy5kYXRlTW9kdWxlLmRhdGU9bmV3IERhdGUoMWUzKnBhcnNlSW50KG1lc3NhZ2Uuc2VuZF9kYXRlKSksdGhpcy5kYXRlTW9kdWxlLnNldExvY2FsKCksWzIse3RpdGxlOnRpdGxlLGltYWdlVXJsOmltYWdlVXJsLGNvZGU6bWVzc2FnZS5pbmJveF9pZCxtZXNzYWdlOm1lc3NhZ2UudGV4dCxzZW5kRGF0ZTp0aGlzLmRhdGVNb2R1bGUuZGF0ZS50b0lTT1N0cmluZygpLHR5cGU6dGhpcy5tZXNzYWdlVHlwZUZhY3RvcnkoSlNPTi5wYXJzZShtZXNzYWdlLmFjdGlvbl9wYXJhbXMpKSxpc1JlYWQ6Mj09PW1lc3NhZ2Uuc3RhdHVzfHwzPT09bWVzc2FnZS5zdGF0dXMsaXNBY3Rpb25QZXJmb3JtZWQ6Mz09PW1lc3NhZ2Uuc3RhdHVzfV19fSl9KX0sSW5ib3hNZXNzYWdlcy5wcm90b3R5cGUubWVzc2FnZXNXaXRoTm9BY3Rpb25QZXJmb3JtZWRDb3VudD1mdW5jdGlvbigpe3JldHVybiB0aGlzLmluYm94TW9kZWwuZ2V0RGVsaXZlcmVkUmVhZE1lc3NhZ2VzQ291bnQoKX0sSW5ib3hNZXNzYWdlcy5wcm90b3R5cGUudW5yZWFkTWVzc2FnZXNDb3VudD1mdW5jdGlvbigpe3JldHVybiB0aGlzLmluYm94TW9kZWwuZ2V0RGVsaXZlcmVkTWVzc2FnZXNDb3VudCgpfSxJbmJveE1lc3NhZ2VzLnByb3RvdHlwZS5tZXNzYWdlc0NvdW50PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuaW5ib3hNb2RlbC5tZXNzYWdlc0NvdW50KCl9LEluYm94TWVzc2FnZXMucHJvdG90eXBlLmxvYWRNZXNzYWdlcz1mdW5jdGlvbigpe3JldHVybiBfX2F3YWl0ZXIodGhpcyx2b2lkIDAsdm9pZCAwLGZ1bmN0aW9uKCl7dmFyIHJlYWRNZXNzYWdlcyx1bnJlYWRNZXNzYWdlcyxidWlsZE1lc3NhZ2VQcm9taXNlcztyZXR1cm4gX19nZW5lcmF0b3IodGhpcyxmdW5jdGlvbihfYSl7c3dpdGNoKF9hLmxhYmVsKXtjYXNlIDA6cmV0dXJuWzQsdGhpcy5pbmJveE1vZGVsLmdldFJlYWRPcGVuTWVzc2FnZXMoKV07Y2FzZSAxOnJldHVybiByZWFkTWVzc2FnZXM9X2Euc2VudCgpLFs0LHRoaXMuaW5ib3hNb2RlbC5nZXREZWxpdmVyZWRNZXNzYWdlcygpXTtjYXNlIDI6cmV0dXJuIHVucmVhZE1lc3NhZ2VzPV9hLnNlbnQoKSxidWlsZE1lc3NhZ2VQcm9taXNlcz1fX3NwcmVhZEFycmF5cyhyZWFkTWVzc2FnZXMsdW5yZWFkTWVzc2FnZXMpLnNvcnQoZnVuY3Rpb24obXNnQSxtc2dCKXtyZXR1cm4gcGFyc2VJbnQobXNnQi5zZW5kX2RhdGUsMTApLXBhcnNlSW50KG1zZ0Euc2VuZF9kYXRlLDEwKX0pLnNvcnQoZnVuY3Rpb24obXNnQSxtc2dCKXtyZXR1cm4gcGFyc2VJbnQobXNnQi5vcmRlcnx8XCIwXCIsMTApLXBhcnNlSW50KG1zZ0Eub3JkZXJ8fFwiMFwiLDEwKX0pLm1hcCh0aGlzLnB1YmxpY01lc3NhZ2VCdWlsZGVyKSxbMixQcm9taXNlLmFsbChidWlsZE1lc3NhZ2VQcm9taXNlcyldfX0pfSl9LEluYm94TWVzc2FnZXMucHJvdG90eXBlLnJlYWRNZXNzYWdlc1dpdGhDb2Rlcz1mdW5jdGlvbihjb2Rlcyl7cmV0dXJuIF9fYXdhaXRlcih0aGlzLHZvaWQgMCx2b2lkIDAsZnVuY3Rpb24oKXt2YXIgdW5yZWFkTWVzc2FnZXMsc3RhdHVzUmVhZDtyZXR1cm4gX19nZW5lcmF0b3IodGhpcyxmdW5jdGlvbihfYSl7c3dpdGNoKF9hLmxhYmVsKXtjYXNlIDA6cmV0dXJuWzQsdGhpcy5pbmJveE1vZGVsLmdldERlbGl2ZXJlZE1lc3NhZ2VzKCldO2Nhc2UgMTpyZXR1cm4gdW5yZWFkTWVzc2FnZXM9X2Euc2VudCgpLHN0YXR1c1JlYWQ9MixbNCx0aGlzLnVwZGF0ZU1lc3NhZ2VzU3RhdHVzV2l0aENvZGVzKGNvZGVzLHVucmVhZE1lc3NhZ2VzLHN0YXR1c1JlYWQpXTtjYXNlIDI6cmV0dXJuIF9hLnNlbnQoKSxbMl19fSl9KX0sSW5ib3hNZXNzYWdlcy5wcm90b3R5cGUucGVyZm9ybUFjdGlvbkZvck1lc3NhZ2VXaXRoQ29kZT1mdW5jdGlvbihjb2RlKXtyZXR1cm4gX19hd2FpdGVyKHRoaXMsdm9pZCAwLHZvaWQgMCxmdW5jdGlvbigpe3ZhciBtZXNzYWdlLGFjdGlvblBhcmFtcyxtZXNzYWdlVHlwZTtyZXR1cm4gX19nZW5lcmF0b3IodGhpcyxmdW5jdGlvbihfYSl7c3dpdGNoKF9hLmxhYmVsKXtjYXNlIDA6cmV0dXJuWzQsdGhpcy5pbmJveE1vZGVsLmdldE1lc3NhZ2UoY29kZSldO2Nhc2UgMTpyZXR1cm4gbWVzc2FnZT1fYS5zZW50KCksYWN0aW9uUGFyYW1zPUpTT04ucGFyc2UobWVzc2FnZS5hY3Rpb25fcGFyYW1zKSwyPT09KG1lc3NhZ2VUeXBlPXRoaXMubWVzc2FnZVR5cGVGYWN0b3J5KGFjdGlvblBhcmFtcykpJiZudWxsIT1hY3Rpb25QYXJhbXMubD9kb2N1bWVudC5sb2NhdGlvbi5ocmVmPWFjdGlvblBhcmFtcy5sOjM9PT1tZXNzYWdlVHlwZSYmbnVsbCE9YWN0aW9uUGFyYW1zLmwmJndpbmRvdy5oaXN0b3J5LmdvKGFjdGlvblBhcmFtcy5sKSxtZXNzYWdlLnN0YXR1cz0zLFs0LHRoaXMuaW5ib3hNb2RlbC5wdXRNZXNzYWdlKG1lc3NhZ2UpXTtjYXNlIDI6cmV0dXJuIF9hLnNlbnQoKSxbNCx0aGlzLmFwaS5pbmJveFN0YXR1cyhtZXNzYWdlLm9yZGVyLG1lc3NhZ2Uuc3RhdHVzKV07Y2FzZSAzOnJldHVybiBfYS5zZW50KCksWzJdfX0pfSl9LEluYm94TWVzc2FnZXMucHJvdG90eXBlLmRlbGV0ZU1lc3NhZ2VzV2l0aENvZGVzPWZ1bmN0aW9uKGNvZGVzKXtyZXR1cm4gX19hd2FpdGVyKHRoaXMsdm9pZCAwLHZvaWQgMCxmdW5jdGlvbigpe3ZhciByZWFkTWVzc2FnZXMsdW5yZWFkTWVzc2FnZXMsc3RhdHVzRGVsZXRlZDtyZXR1cm4gX19nZW5lcmF0b3IodGhpcyxmdW5jdGlvbihfYSl7c3dpdGNoKF9hLmxhYmVsKXtjYXNlIDA6cmV0dXJuWzQsdGhpcy5pbmJveE1vZGVsLmdldFJlYWRPcGVuTWVzc2FnZXMoKV07Y2FzZSAxOnJldHVybiByZWFkTWVzc2FnZXM9X2Euc2VudCgpLFs0LHRoaXMuaW5ib3hNb2RlbC5nZXREZWxpdmVyZWRNZXNzYWdlcygpXTtjYXNlIDI6cmV0dXJuIHVucmVhZE1lc3NhZ2VzPV9hLnNlbnQoKSxzdGF0dXNEZWxldGVkPTQsWzQsdGhpcy51cGRhdGVNZXNzYWdlc1N0YXR1c1dpdGhDb2Rlcyhjb2RlcyxfX3NwcmVhZEFycmF5cyhyZWFkTWVzc2FnZXMsdW5yZWFkTWVzc2FnZXMpLHN0YXR1c0RlbGV0ZWQpXTtjYXNlIDM6cmV0dXJuIF9hLnNlbnQoKSxbMl19fSl9KX0sSW5ib3hNZXNzYWdlcy5wcm90b3R5cGUuc3luY01lc3NhZ2VzPWZ1bmN0aW9uKCl7cmV0dXJuIF9fYXdhaXRlcih0aGlzLHZvaWQgMCx2b2lkIDAsZnVuY3Rpb24oKXtyZXR1cm4gX19nZW5lcmF0b3IodGhpcyxmdW5jdGlvbihfYSl7c3dpdGNoKF9hLmxhYmVsKXtjYXNlIDA6cmV0dXJuWzQsdGhpcy5pbmJveE1vZGVsLnVwZGF0ZU1lc3NhZ2VzKCldO2Nhc2UgMTpyZXR1cm4gX2Euc2VudCgpLFsyXX19KX0pfSxJbmJveE1lc3NhZ2VzfSgpO2V4cG9ydHMuZGVmYXVsdD1JbmJveE1lc3NhZ2VzfSxmdW5jdGlvbihtb2R1bGUsZXhwb3J0cyxfX3dlYnBhY2tfcmVxdWlyZV9fKXtcInVzZSBzdHJpY3RcIjt2YXIgX19hd2FpdGVyPXRoaXMmJnRoaXMuX19hd2FpdGVyfHxmdW5jdGlvbih0aGlzQXJnLF9hcmd1bWVudHMsUCxnZW5lcmF0b3Ipe3JldHVybiBuZXcoUHx8KFA9UHJvbWlzZSkpKGZ1bmN0aW9uKHJlc29sdmUscmVqZWN0KXtmdW5jdGlvbiBmdWxmaWxsZWQodmFsdWUpe3RyeXtzdGVwKGdlbmVyYXRvci5uZXh0KHZhbHVlKSl9Y2F0Y2goZSl7cmVqZWN0KGUpfX1mdW5jdGlvbiByZWplY3RlZCh2YWx1ZSl7dHJ5e3N0ZXAoZ2VuZXJhdG9yLnRocm93KHZhbHVlKSl9Y2F0Y2goZSl7cmVqZWN0KGUpfX1mdW5jdGlvbiBzdGVwKHJlc3VsdCl7cmVzdWx0LmRvbmU/cmVzb2x2ZShyZXN1bHQudmFsdWUpOmZ1bmN0aW9uKHZhbHVlKXtyZXR1cm4gdmFsdWUgaW5zdGFuY2VvZiBQP3ZhbHVlOm5ldyBQKGZ1bmN0aW9uKHJlc29sdmUpe3Jlc29sdmUodmFsdWUpfSl9KHJlc3VsdC52YWx1ZSkudGhlbihmdWxmaWxsZWQscmVqZWN0ZWQpfXN0ZXAoKGdlbmVyYXRvcj1nZW5lcmF0b3IuYXBwbHkodGhpc0FyZyxfYXJndW1lbnRzfHxbXSkpLm5leHQoKSl9KX0sX19nZW5lcmF0b3I9dGhpcyYmdGhpcy5fX2dlbmVyYXRvcnx8ZnVuY3Rpb24odGhpc0FyZyxib2R5KXt2YXIgZix5LHQsZyxfPXtsYWJlbDowLHNlbnQ6ZnVuY3Rpb24oKXtpZigxJnRbMF0pdGhyb3cgdFsxXTtyZXR1cm4gdFsxXX0sdHJ5czpbXSxvcHM6W119O3JldHVybiBnPXtuZXh0OnZlcmIoMCksdGhyb3c6dmVyYigxKSxyZXR1cm46dmVyYigyKX0sXCJmdW5jdGlvblwiPT10eXBlb2YgU3ltYm9sJiYoZ1tTeW1ib2wuaXRlcmF0b3JdPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXN9KSxnO2Z1bmN0aW9uIHZlcmIobil7cmV0dXJuIGZ1bmN0aW9uKHYpe3JldHVybiBmdW5jdGlvbihvcCl7aWYoZil0aHJvdyBuZXcgVHlwZUVycm9yKFwiR2VuZXJhdG9yIGlzIGFscmVhZHkgZXhlY3V0aW5nLlwiKTtmb3IoO187KXRyeXtpZihmPTEseSYmKHQ9MiZvcFswXT95LnJldHVybjpvcFswXT95LnRocm93fHwoKHQ9eS5yZXR1cm4pJiZ0LmNhbGwoeSksMCk6eS5uZXh0KSYmISh0PXQuY2FsbCh5LG9wWzFdKSkuZG9uZSlyZXR1cm4gdDtzd2l0Y2goeT0wLHQmJihvcD1bMiZvcFswXSx0LnZhbHVlXSksb3BbMF0pe2Nhc2UgMDpjYXNlIDE6dD1vcDticmVhaztjYXNlIDQ6cmV0dXJuIF8ubGFiZWwrKyx7dmFsdWU6b3BbMV0sZG9uZTohMX07Y2FzZSA1Ol8ubGFiZWwrKyx5PW9wWzFdLG9wPVswXTtjb250aW51ZTtjYXNlIDc6b3A9Xy5vcHMucG9wKCksXy50cnlzLnBvcCgpO2NvbnRpbnVlO2RlZmF1bHQ6aWYoISh0PSh0PV8udHJ5cykubGVuZ3RoPjAmJnRbdC5sZW5ndGgtMV0pJiYoNj09PW9wWzBdfHwyPT09b3BbMF0pKXtfPTA7Y29udGludWV9aWYoMz09PW9wWzBdJiYoIXR8fG9wWzFdPnRbMF0mJm9wWzFdPHRbM10pKXtfLmxhYmVsPW9wWzFdO2JyZWFrfWlmKDY9PT1vcFswXSYmXy5sYWJlbDx0WzFdKXtfLmxhYmVsPXRbMV0sdD1vcDticmVha31pZih0JiZfLmxhYmVsPHRbMl0pe18ubGFiZWw9dFsyXSxfLm9wcy5wdXNoKG9wKTticmVha310WzJdJiZfLm9wcy5wb3AoKSxfLnRyeXMucG9wKCk7Y29udGludWV9b3A9Ym9keS5jYWxsKHRoaXNBcmcsXyl9Y2F0Y2goZSl7b3A9WzYsZV0seT0wfWZpbmFsbHl7Zj10PTB9aWYoNSZvcFswXSl0aHJvdyBvcFsxXTtyZXR1cm57dmFsdWU6b3BbMF0/b3BbMV06dm9pZCAwLGRvbmU6ITB9fShbbix2XSl9fX07T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSk7dmFyIERhdGFfMT1fX3dlYnBhY2tfcmVxdWlyZV9fKDQpLGxvZ2dlcl8xPV9fd2VicGFja19yZXF1aXJlX18oNSksQXBpQ2xpZW50PWZ1bmN0aW9uKCl7ZnVuY3Rpb24gQXBpQ2xpZW50KGRhdGEsbG9nZ2VyKXt2b2lkIDA9PT1kYXRhJiYoZGF0YT1uZXcgRGF0YV8xLkRhdGEpLHZvaWQgMD09PWxvZ2dlciYmKGxvZ2dlcj1sb2dnZXJfMS5Mb2dnZXIpLHRoaXMuZGF0YT1kYXRhLHRoaXMubG9nZ2VyPWxvZ2dlcn1yZXR1cm4gQXBpQ2xpZW50LnByb3RvdHlwZS5jaGVja0RldmljZT1mdW5jdGlvbihvcHRpb25zKXtyZXR1cm4gdGhpcy5jcmVhdGVSZXF1ZXN0KFwiY2hlY2tEZXZpY2VcIixvcHRpb25zKX0sQXBpQ2xpZW50LnByb3RvdHlwZS5nZXRDb25maWc9ZnVuY3Rpb24ob3B0aW9ucyl7cmV0dXJuIHRoaXMuY3JlYXRlUmVxdWVzdChcImdldENvbmZpZ1wiLG9wdGlvbnMpfSxBcGlDbGllbnQucHJvdG90eXBlLmFwcGxpY2F0aW9uT3Blbj1mdW5jdGlvbihvcHRpb25zKXtyZXR1cm4gdGhpcy5jcmVhdGVSZXF1ZXN0KFwiYXBwbGljYXRpb25PcGVuXCIsb3B0aW9ucyl9LEFwaUNsaWVudC5wcm90b3R5cGUucmVnaXN0ZXJEZXZpY2U9ZnVuY3Rpb24ob3B0aW9ucyl7cmV0dXJuIHRoaXMuY3JlYXRlUmVxdWVzdChcInJlZ2lzdGVyRGV2aWNlXCIsb3B0aW9ucyl9LEFwaUNsaWVudC5wcm90b3R5cGUudW5yZWdpc3RlckRldmljZT1mdW5jdGlvbihvcHRpb25zKXtyZXR1cm4gdGhpcy5jcmVhdGVSZXF1ZXN0KFwidW5yZWdpc3RlckRldmljZVwiLG9wdGlvbnMpfSxBcGlDbGllbnQucHJvdG90eXBlLmRlbGV0ZURldmljZT1mdW5jdGlvbihvcHRpb25zKXtyZXR1cm4gdGhpcy5jcmVhdGVSZXF1ZXN0KFwiZGVsZXRlRGV2aWNlXCIsb3B0aW9ucyl9LEFwaUNsaWVudC5wcm90b3R5cGUubWVzc2FnZURlbGl2ZXJ5RXZlbnQ9ZnVuY3Rpb24ob3B0aW9ucyl7cmV0dXJuIHRoaXMuY3JlYXRlUmVxdWVzdChcIm1lc3NhZ2VEZWxpdmVyeUV2ZW50XCIsb3B0aW9ucyl9LEFwaUNsaWVudC5wcm90b3R5cGUucHVzaFN0YXQ9ZnVuY3Rpb24ob3B0aW9ucyl7cmV0dXJuIHRoaXMuY3JlYXRlUmVxdWVzdChcInB1c2hTdGF0XCIsb3B0aW9ucyl9LEFwaUNsaWVudC5wcm90b3R5cGUuc2V0VGFncz1mdW5jdGlvbihvcHRpb25zKXtyZXR1cm4gdGhpcy5jcmVhdGVSZXF1ZXN0KFwic2V0VGFnc1wiLG9wdGlvbnMpfSxBcGlDbGllbnQucHJvdG90eXBlLmdldFRhZ3M9ZnVuY3Rpb24ob3B0aW9ucyl7cmV0dXJuIHRoaXMuY3JlYXRlUmVxdWVzdChcImdldFRhZ3NcIixvcHRpb25zKX0sQXBpQ2xpZW50LnByb3RvdHlwZS5yZWdpc3RlclVzZXI9ZnVuY3Rpb24ob3B0aW9ucyl7cmV0dXJuIHRoaXMuY3JlYXRlUmVxdWVzdChcInJlZ2lzdGVyVXNlclwiLG9wdGlvbnMpfSxBcGlDbGllbnQucHJvdG90eXBlLnBvc3RFdmVudD1mdW5jdGlvbihvcHRpb25zKXtyZXR1cm4gdGhpcy5jcmVhdGVSZXF1ZXN0KFwicG9zdEV2ZW50XCIsb3B0aW9ucyl9LEFwaUNsaWVudC5wcm90b3R5cGUuZ2V0SW5ib3hNZXNzYWdlcz1mdW5jdGlvbihvcHRpb25zKXtyZXR1cm4gdGhpcy5jcmVhdGVSZXF1ZXN0KFwiZ2V0SW5ib3hNZXNzYWdlc1wiLG9wdGlvbnMpfSxBcGlDbGllbnQucHJvdG90eXBlLmluYm94U3RhdHVzPWZ1bmN0aW9uKG9wdGlvbnMpe3JldHVybiB0aGlzLmNyZWF0ZVJlcXVlc3QoXCJpbmJveFN0YXR1c1wiLG9wdGlvbnMpfSxBcGlDbGllbnQucHJvdG90eXBlLnBhZ2VWaXNpdD1mdW5jdGlvbihvcHRpb25zLHVybCl7cmV0dXJuIHRoaXMuY3JlYXRlUmVxdWVzdChcInBhZ2VWaXNpdFwiLG9wdGlvbnMsdXJsKX0sQXBpQ2xpZW50LnByb3RvdHlwZS5nZXRJbkFwcHM9ZnVuY3Rpb24ob3B0aW9ucyl7cmV0dXJuIHRoaXMuY3JlYXRlUmVxdWVzdChcImdldEluQXBwc1wiLG9wdGlvbnMpfSxBcGlDbGllbnQucHJvdG90eXBlLnNldFB1cmNoYXNlPWZ1bmN0aW9uKG9wdGlvbnMpe3JldHVybiB0aGlzLmNyZWF0ZVJlcXVlc3QoXCJzZXRQdXJjaGFzZVwiLG9wdGlvbnMpfSxBcGlDbGllbnQucHJvdG90eXBlLmNyZWF0ZVJlcXVlc3Q9ZnVuY3Rpb24obWV0aG9kTmFtZSxyZXF1ZXN0LGN1c3RvbVVybCl7cmV0dXJuIF9fYXdhaXRlcih0aGlzLHZvaWQgMCx2b2lkIDAsZnVuY3Rpb24oKXt2YXIgZW50cnlwb2ludCxyZXNwb25zZSxyZXN1bHQ7cmV0dXJuIF9fZ2VuZXJhdG9yKHRoaXMsZnVuY3Rpb24oX2Epe3N3aXRjaChfYS5sYWJlbCl7Y2FzZSAwOnJldHVybls0LHRoaXMuZGF0YS5nZXRBcGlFbnRyeXBvaW50KCldO2Nhc2UgMTpyZXR1cm4gZW50cnlwb2ludD1fYS5zZW50KCksWzQsZmV0Y2goY3VzdG9tVXJsfHxlbnRyeXBvaW50K21ldGhvZE5hbWUse21ldGhvZDpcIlBPU1RcIixoZWFkZXJzOntcIkNvbnRlbnQtVHlwZVwiOlwidGV4dC9wbGFpbjtjaGFyc2V0PVVURi04XCJ9LGJvZHk6SlNPTi5zdHJpbmdpZnkoe3JlcXVlc3Q6cmVxdWVzdH0pfSldO2Nhc2UgMjpyZXR1cm4gcmVzcG9uc2U9X2Euc2VudCgpLFs0LHRoaXMuY2hlY2tSZXNwb25zZShyZXNwb25zZSldO2Nhc2UgMzpyZXR1cm4ocmVzdWx0PV9hLnNlbnQoKSkuYmFzZV91cmw/WzQsdGhpcy5kYXRhLnNldEFwaUVudHJ5cG9pbnQocmVzdWx0LmJhc2VfdXJsKV06WzMsNV07Y2FzZSA0Ol9hLnNlbnQoKSxfYS5sYWJlbD01O2Nhc2UgNTpyZXR1cm5bNCx0aGlzLmxvZ2dlci53cml0ZShcImFwaXJlcXVlc3RcIixtZXRob2ROYW1lK1wiIGNhbGwgd2l0aCBhcmd1bWVudHM6IFwiK0pTT04uc3RyaW5naWZ5KHJlcXVlc3QpK1wiIHRvIFB1c2h3b29zaCBoYXMgYmVlbiBzdWNjZXNzZnVsLiBSZXN1bHQ6IFwiK0pTT04uc3RyaW5naWZ5KHJlc3VsdC5yZXNwb25zZSkpXTtjYXNlIDY6cmV0dXJuIF9hLnNlbnQoKSxbMixyZXN1bHQucmVzcG9uc2VdfX0pfSl9LEFwaUNsaWVudC5wcm90b3R5cGUuY2hlY2tSZXNwb25zZT1mdW5jdGlvbihyZXNwb25zZSl7cmV0dXJuIF9fYXdhaXRlcih0aGlzLHZvaWQgMCx2b2lkIDAsZnVuY3Rpb24oKXt2YXIgZGF0YTtyZXR1cm4gX19nZW5lcmF0b3IodGhpcyxmdW5jdGlvbihfYSl7c3dpdGNoKF9hLmxhYmVsKXtjYXNlIDA6aWYoMjAwIT09cmVzcG9uc2Uuc3RhdHVzKXRocm93IG5ldyBFcnJvcihcIkVycm9yIGNvZGU6IFwiK3Jlc3BvbnNlLnN0YXR1cytcIi4gRXJyb3IgdGV4dDogXCIrcmVzcG9uc2Uuc3RhdHVzVGV4dCk7cmV0dXJuWzQscmVzcG9uc2UuanNvbigpXTtjYXNlIDE6aWYoMjAwIT09KGRhdGE9X2Euc2VudCgpKS5zdGF0dXNfY29kZSl0aHJvdyBuZXcgRXJyb3IoXCJFcnJvciBjb2RlOiBcIitkYXRhLnN0YXR1c19jb2RlK1wiLiBFcnJvciB0ZXh0OiBcIitkYXRhLnN0YXR1c19tZXNzYWdlKTtyZXR1cm5bMixkYXRhXX19KX0pfSxBcGlDbGllbnR9KCk7ZXhwb3J0cy5BcGlDbGllbnQ9QXBpQ2xpZW50fSxmdW5jdGlvbihtb2R1bGUsZXhwb3J0cyxfX3dlYnBhY2tfcmVxdWlyZV9fKXtcInVzZSBzdHJpY3RcIjsoZnVuY3Rpb24ocHJvY2Vzcyl7dm9pZCAwPT09cHJvY2Vzc3x8IXByb2Nlc3MudmVyc2lvbnx8MD09PXByb2Nlc3MudmVyc2lvbi5pbmRleE9mKFwidjAuXCIpfHwwPT09cHJvY2Vzcy52ZXJzaW9uLmluZGV4T2YoXCJ2MS5cIikmJjAhPT1wcm9jZXNzLnZlcnNpb24uaW5kZXhPZihcInYxLjguXCIpP21vZHVsZS5leHBvcnRzPXtuZXh0VGljazpmdW5jdGlvbihmbixhcmcxLGFyZzIsYXJnMyl7aWYoXCJmdW5jdGlvblwiIT10eXBlb2YgZm4pdGhyb3cgbmV3IFR5cGVFcnJvcignXCJjYWxsYmFja1wiIGFyZ3VtZW50IG11c3QgYmUgYSBmdW5jdGlvbicpO3ZhciBhcmdzLGksbGVuPWFyZ3VtZW50cy5sZW5ndGg7c3dpdGNoKGxlbil7Y2FzZSAwOmNhc2UgMTpyZXR1cm4gcHJvY2Vzcy5uZXh0VGljayhmbik7Y2FzZSAyOnJldHVybiBwcm9jZXNzLm5leHRUaWNrKGZ1bmN0aW9uKCl7Zm4uY2FsbChudWxsLGFyZzEpfSk7Y2FzZSAzOnJldHVybiBwcm9jZXNzLm5leHRUaWNrKGZ1bmN0aW9uKCl7Zm4uY2FsbChudWxsLGFyZzEsYXJnMil9KTtjYXNlIDQ6cmV0dXJuIHByb2Nlc3MubmV4dFRpY2soZnVuY3Rpb24oKXtmbi5jYWxsKG51bGwsYXJnMSxhcmcyLGFyZzMpfSk7ZGVmYXVsdDpmb3IoYXJncz1uZXcgQXJyYXkobGVuLTEpLGk9MDtpPGFyZ3MubGVuZ3RoOylhcmdzW2krK109YXJndW1lbnRzW2ldO3JldHVybiBwcm9jZXNzLm5leHRUaWNrKGZ1bmN0aW9uKCl7Zm4uYXBwbHkobnVsbCxhcmdzKX0pfX19Om1vZHVsZS5leHBvcnRzPXByb2Nlc3N9KS5jYWxsKHRoaXMsX193ZWJwYWNrX3JlcXVpcmVfXygyNCkpfSxmdW5jdGlvbihtb2R1bGUsZXhwb3J0cyxfX3dlYnBhY2tfcmVxdWlyZV9fKXt2YXIgYnVmZmVyPV9fd2VicGFja19yZXF1aXJlX18oMjMpLEJ1ZmZlcj1idWZmZXIuQnVmZmVyO2Z1bmN0aW9uIGNvcHlQcm9wcyhzcmMsZHN0KXtmb3IodmFyIGtleSBpbiBzcmMpZHN0W2tleV09c3JjW2tleV19ZnVuY3Rpb24gU2FmZUJ1ZmZlcihhcmcsZW5jb2RpbmdPck9mZnNldCxsZW5ndGgpe3JldHVybiBCdWZmZXIoYXJnLGVuY29kaW5nT3JPZmZzZXQsbGVuZ3RoKX1CdWZmZXIuZnJvbSYmQnVmZmVyLmFsbG9jJiZCdWZmZXIuYWxsb2NVbnNhZmUmJkJ1ZmZlci5hbGxvY1Vuc2FmZVNsb3c/bW9kdWxlLmV4cG9ydHM9YnVmZmVyOihjb3B5UHJvcHMoYnVmZmVyLGV4cG9ydHMpLGV4cG9ydHMuQnVmZmVyPVNhZmVCdWZmZXIpLGNvcHlQcm9wcyhCdWZmZXIsU2FmZUJ1ZmZlciksU2FmZUJ1ZmZlci5mcm9tPWZ1bmN0aW9uKGFyZyxlbmNvZGluZ09yT2Zmc2V0LGxlbmd0aCl7aWYoXCJudW1iZXJcIj09dHlwZW9mIGFyZyl0aHJvdyBuZXcgVHlwZUVycm9yKFwiQXJndW1lbnQgbXVzdCBub3QgYmUgYSBudW1iZXJcIik7cmV0dXJuIEJ1ZmZlcihhcmcsZW5jb2RpbmdPck9mZnNldCxsZW5ndGgpfSxTYWZlQnVmZmVyLmFsbG9jPWZ1bmN0aW9uKHNpemUsZmlsbCxlbmNvZGluZyl7aWYoXCJudW1iZXJcIiE9dHlwZW9mIHNpemUpdGhyb3cgbmV3IFR5cGVFcnJvcihcIkFyZ3VtZW50IG11c3QgYmUgYSBudW1iZXJcIik7dmFyIGJ1Zj1CdWZmZXIoc2l6ZSk7cmV0dXJuIHZvaWQgMCE9PWZpbGw/XCJzdHJpbmdcIj09dHlwZW9mIGVuY29kaW5nP2J1Zi5maWxsKGZpbGwsZW5jb2RpbmcpOmJ1Zi5maWxsKGZpbGwpOmJ1Zi5maWxsKDApLGJ1Zn0sU2FmZUJ1ZmZlci5hbGxvY1Vuc2FmZT1mdW5jdGlvbihzaXplKXtpZihcIm51bWJlclwiIT10eXBlb2Ygc2l6ZSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiQXJndW1lbnQgbXVzdCBiZSBhIG51bWJlclwiKTtyZXR1cm4gQnVmZmVyKHNpemUpfSxTYWZlQnVmZmVyLmFsbG9jVW5zYWZlU2xvdz1mdW5jdGlvbihzaXplKXtpZihcIm51bWJlclwiIT10eXBlb2Ygc2l6ZSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiQXJndW1lbnQgbXVzdCBiZSBhIG51bWJlclwiKTtyZXR1cm4gYnVmZmVyLlNsb3dCdWZmZXIoc2l6ZSl9fSxmdW5jdGlvbihtb2R1bGUsZXhwb3J0cyxfX3dlYnBhY2tfcmVxdWlyZV9fKXtcInVzZSBzdHJpY3RcIjsoZnVuY3Rpb24oQnVmZmVyKXttb2R1bGUuZXhwb3J0cz17aXNOb2RlOnZvaWQgMCE9PUJ1ZmZlcixuZXdCdWZmZXJGcm9tOmZ1bmN0aW9uKGRhdGEsZW5jb2Rpbmcpe2lmKEJ1ZmZlci5mcm9tJiZCdWZmZXIuZnJvbSE9PVVpbnQ4QXJyYXkuZnJvbSlyZXR1cm4gQnVmZmVyLmZyb20oZGF0YSxlbmNvZGluZyk7aWYoXCJudW1iZXJcIj09dHlwZW9mIGRhdGEpdGhyb3cgbmV3IEVycm9yKCdUaGUgXCJkYXRhXCIgYXJndW1lbnQgbXVzdCBub3QgYmUgYSBudW1iZXInKTtyZXR1cm4gbmV3IEJ1ZmZlcihkYXRhLGVuY29kaW5nKX0sYWxsb2NCdWZmZXI6ZnVuY3Rpb24oc2l6ZSl7aWYoQnVmZmVyLmFsbG9jKXJldHVybiBCdWZmZXIuYWxsb2Moc2l6ZSk7dmFyIGJ1Zj1uZXcgQnVmZmVyKHNpemUpO3JldHVybiBidWYuZmlsbCgwKSxidWZ9LGlzQnVmZmVyOmZ1bmN0aW9uKGIpe3JldHVybiBCdWZmZXIuaXNCdWZmZXIoYil9LGlzU3RyZWFtOmZ1bmN0aW9uKG9iail7cmV0dXJuIG9iaiYmXCJmdW5jdGlvblwiPT10eXBlb2Ygb2JqLm9uJiZcImZ1bmN0aW9uXCI9PXR5cGVvZiBvYmoucGF1c2UmJlwiZnVuY3Rpb25cIj09dHlwZW9mIG9iai5yZXN1bWV9fX0pLmNhbGwodGhpcyxfX3dlYnBhY2tfcmVxdWlyZV9fKDIzKS5CdWZmZXIpfSxmdW5jdGlvbihtb2R1bGUsZXhwb3J0cyxfX3dlYnBhY2tfcmVxdWlyZV9fKXt2YXIgX25vZGVJZCxfY2xvY2tzZXEscm5nPV9fd2VicGFja19yZXF1aXJlX18oMTYpLGJ5dGVzVG9VdWlkPV9fd2VicGFja19yZXF1aXJlX18oMTcpLF9sYXN0TVNlY3M9MCxfbGFzdE5TZWNzPTA7bW9kdWxlLmV4cG9ydHM9ZnVuY3Rpb24ob3B0aW9ucyxidWYsb2Zmc2V0KXt2YXIgaT1idWYmJm9mZnNldHx8MCxiPWJ1Znx8W10sbm9kZT0ob3B0aW9ucz1vcHRpb25zfHx7fSkubm9kZXx8X25vZGVJZCxjbG9ja3NlcT12b2lkIDAhPT1vcHRpb25zLmNsb2Nrc2VxP29wdGlvbnMuY2xvY2tzZXE6X2Nsb2Nrc2VxO2lmKG51bGw9PW5vZGV8fG51bGw9PWNsb2Nrc2VxKXt2YXIgc2VlZEJ5dGVzPXJuZygpO251bGw9PW5vZGUmJihub2RlPV9ub2RlSWQ9WzF8c2VlZEJ5dGVzWzBdLHNlZWRCeXRlc1sxXSxzZWVkQnl0ZXNbMl0sc2VlZEJ5dGVzWzNdLHNlZWRCeXRlc1s0XSxzZWVkQnl0ZXNbNV1dKSxudWxsPT1jbG9ja3NlcSYmKGNsb2Nrc2VxPV9jbG9ja3NlcT0xNjM4MyYoc2VlZEJ5dGVzWzZdPDw4fHNlZWRCeXRlc1s3XSkpfXZhciBtc2Vjcz12b2lkIDAhPT1vcHRpb25zLm1zZWNzP29wdGlvbnMubXNlY3M6KG5ldyBEYXRlKS5nZXRUaW1lKCksbnNlY3M9dm9pZCAwIT09b3B0aW9ucy5uc2Vjcz9vcHRpb25zLm5zZWNzOl9sYXN0TlNlY3MrMSxkdD1tc2Vjcy1fbGFzdE1TZWNzKyhuc2Vjcy1fbGFzdE5TZWNzKS8xZTQ7aWYoZHQ8MCYmdm9pZCAwPT09b3B0aW9ucy5jbG9ja3NlcSYmKGNsb2Nrc2VxPWNsb2Nrc2VxKzEmMTYzODMpLChkdDwwfHxtc2Vjcz5fbGFzdE1TZWNzKSYmdm9pZCAwPT09b3B0aW9ucy5uc2VjcyYmKG5zZWNzPTApLG5zZWNzPj0xZTQpdGhyb3cgbmV3IEVycm9yKFwidXVpZC52MSgpOiBDYW4ndCBjcmVhdGUgbW9yZSB0aGFuIDEwTSB1dWlkcy9zZWNcIik7X2xhc3RNU2Vjcz1tc2VjcyxfbGFzdE5TZWNzPW5zZWNzLF9jbG9ja3NlcT1jbG9ja3NlcTt2YXIgdGw9KDFlNCooMjY4NDM1NDU1Jihtc2Vjcys9MTIyMTkyOTI4ZTUpKStuc2VjcyklNDI5NDk2NzI5NjtiW2krK109dGw+Pj4yNCYyNTUsYltpKytdPXRsPj4+MTYmMjU1LGJbaSsrXT10bD4+PjgmMjU1LGJbaSsrXT0yNTUmdGw7dmFyIHRtaD1tc2Vjcy80Mjk0OTY3Mjk2KjFlNCYyNjg0MzU0NTU7YltpKytdPXRtaD4+PjgmMjU1LGJbaSsrXT0yNTUmdG1oLGJbaSsrXT10bWg+Pj4yNCYxNXwxNixiW2krK109dG1oPj4+MTYmMjU1LGJbaSsrXT1jbG9ja3NlcT4+Pjh8MTI4LGJbaSsrXT0yNTUmY2xvY2tzZXE7Zm9yKHZhciBuPTA7bjw2OysrbiliW2krbl09bm9kZVtuXTtyZXR1cm4gYnVmfHxieXRlc1RvVXVpZChiKX19LGZ1bmN0aW9uKG1vZHVsZSxleHBvcnRzLF9fd2VicGFja19yZXF1aXJlX18pe3ZhciBybmc9X193ZWJwYWNrX3JlcXVpcmVfXygxNiksYnl0ZXNUb1V1aWQ9X193ZWJwYWNrX3JlcXVpcmVfXygxNyk7bW9kdWxlLmV4cG9ydHM9ZnVuY3Rpb24ob3B0aW9ucyxidWYsb2Zmc2V0KXt2YXIgaT1idWYmJm9mZnNldHx8MDtcInN0cmluZ1wiPT10eXBlb2Ygb3B0aW9ucyYmKGJ1Zj1cImJpbmFyeVwiPT09b3B0aW9ucz9uZXcgQXJyYXkoMTYpOm51bGwsb3B0aW9ucz1udWxsKTt2YXIgcm5kcz0ob3B0aW9ucz1vcHRpb25zfHx7fSkucmFuZG9tfHwob3B0aW9ucy5ybmd8fHJuZykoKTtpZihybmRzWzZdPTE1JnJuZHNbNl18NjQscm5kc1s4XT02MyZybmRzWzhdfDEyOCxidWYpZm9yKHZhciBpaT0wO2lpPDE2OysraWkpYnVmW2kraWldPXJuZHNbaWldO3JldHVybiBidWZ8fGJ5dGVzVG9VdWlkKHJuZHMpfX0sZnVuY3Rpb24obW9kdWxlLGV4cG9ydHMsX193ZWJwYWNrX3JlcXVpcmVfXyl7XCJ1c2Ugc3RyaWN0XCI7T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSk7dmFyIEV2ZW50QnVzXzE9X193ZWJwYWNrX3JlcXVpcmVfXygzNSk7ZXhwb3J0cy5FdmVudEJ1cz1FdmVudEJ1c18xLkV2ZW50QnVzfSxmdW5jdGlvbihtb2R1bGUsZXhwb3J0cyxfX3dlYnBhY2tfcmVxdWlyZV9fKXtcInVzZSBzdHJpY3RcIjt2YXIgX19hc3NpZ249dGhpcyYmdGhpcy5fX2Fzc2lnbnx8ZnVuY3Rpb24oKXtyZXR1cm4oX19hc3NpZ249T2JqZWN0LmFzc2lnbnx8ZnVuY3Rpb24odCl7Zm9yKHZhciBzLGk9MSxuPWFyZ3VtZW50cy5sZW5ndGg7aTxuO2krKylmb3IodmFyIHAgaW4gcz1hcmd1bWVudHNbaV0pT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHMscCkmJih0W3BdPXNbcF0pO3JldHVybiB0fSkuYXBwbHkodGhpcyxhcmd1bWVudHMpfTtPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cyxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KTt2YXIgdXVpZF8xPV9fd2VicGFja19yZXF1aXJlX18oMTUpLEV2ZW50QnVzPWZ1bmN0aW9uKCl7cmV0dXJuIGZ1bmN0aW9uKCl7dmFyIF90aGlzPXRoaXM7dGhpcy5hZGRFdmVudEhhbmRsZXI9ZnVuY3Rpb24obmFtZSxoYW5kbGVyKXt2YXIgc2F2ZWRFdmVudEhhbmRsZXJzPV90aGlzLnNhdmVkRXZlbnRIYW5kbGVyc01hcFtuYW1lXTtzYXZlZEV2ZW50SGFuZGxlcnN8fChzYXZlZEV2ZW50SGFuZGxlcnM9W10pLHNhdmVkRXZlbnRIYW5kbGVycy5wdXNoKGhhbmRsZXIpLF90aGlzLnNhdmVkRXZlbnRIYW5kbGVyc01hcFtuYW1lXT1zYXZlZEV2ZW50SGFuZGxlcnN9LHRoaXMucmVtb3ZlRXZlbnRIYW5kbGVyPWZ1bmN0aW9uKG5hbWUsaGFuZGxlcil7dmFyIHNhdmVkRXZlbnRIYW5kbGVycz1fdGhpcy5zYXZlZEV2ZW50SGFuZGxlcnNNYXBbbmFtZV07c2F2ZWRFdmVudEhhbmRsZXJzJiYoX3RoaXMuc2F2ZWRFdmVudEhhbmRsZXJzTWFwW25hbWVdPXNhdmVkRXZlbnRIYW5kbGVycy5maWx0ZXIoZnVuY3Rpb24oc2F2ZWRFdmVudEhhbmRsZXIpe3JldHVybiBzYXZlZEV2ZW50SGFuZGxlciE9PWhhbmRsZXJ9KSl9LHRoaXMuZGlzcGF0Y2hFdmVudD1mdW5jdGlvbihuYW1lLHBheWxvYWQpe3ZhciBldmVudElkPXBheWxvYWQuZXZlbnRJZHx8dXVpZF8xLnY0KCksc2F2ZWRFdmVudEhhbmRsZXJzPV90aGlzLnNhdmVkRXZlbnRIYW5kbGVyc01hcFtuYW1lXTtyZXR1cm4gc2F2ZWRFdmVudEhhbmRsZXJzPyhzYXZlZEV2ZW50SGFuZGxlcnMuZm9yRWFjaChmdW5jdGlvbihlbGVtZW50KXtcImZ1bmN0aW9uXCI9PXR5cGVvZiBlbGVtZW50JiZzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7ZWxlbWVudChfX2Fzc2lnbihfX2Fzc2lnbih7fSxwYXlsb2FkKSx7ZXZlbnRJZDpldmVudElkfSkpfSwwKX0pLGV2ZW50SWQpOmV2ZW50SWR9LHRoaXMuc2F2ZWRFdmVudEhhbmRsZXJzTWFwPXt9fX0oKTtleHBvcnRzLkV2ZW50QnVzPUV2ZW50QnVzfSxmdW5jdGlvbihtb2R1bGUsZXhwb3J0cyxfX3dlYnBhY2tfcmVxdWlyZV9fKXtcInVzZSBzdHJpY3RcIjt2YXIgX19hc3NpZ249dGhpcyYmdGhpcy5fX2Fzc2lnbnx8ZnVuY3Rpb24oKXtyZXR1cm4oX19hc3NpZ249T2JqZWN0LmFzc2lnbnx8ZnVuY3Rpb24odCl7Zm9yKHZhciBzLGk9MSxuPWFyZ3VtZW50cy5sZW5ndGg7aTxuO2krKylmb3IodmFyIHAgaW4gcz1hcmd1bWVudHNbaV0pT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHMscCkmJih0W3BdPXNbcF0pO3JldHVybiB0fSkuYXBwbHkodGhpcyxhcmd1bWVudHMpfSxfX2F3YWl0ZXI9dGhpcyYmdGhpcy5fX2F3YWl0ZXJ8fGZ1bmN0aW9uKHRoaXNBcmcsX2FyZ3VtZW50cyxQLGdlbmVyYXRvcil7cmV0dXJuIG5ldyhQfHwoUD1Qcm9taXNlKSkoZnVuY3Rpb24ocmVzb2x2ZSxyZWplY3Qpe2Z1bmN0aW9uIGZ1bGZpbGxlZCh2YWx1ZSl7dHJ5e3N0ZXAoZ2VuZXJhdG9yLm5leHQodmFsdWUpKX1jYXRjaChlKXtyZWplY3QoZSl9fWZ1bmN0aW9uIHJlamVjdGVkKHZhbHVlKXt0cnl7c3RlcChnZW5lcmF0b3IudGhyb3codmFsdWUpKX1jYXRjaChlKXtyZWplY3QoZSl9fWZ1bmN0aW9uIHN0ZXAocmVzdWx0KXtyZXN1bHQuZG9uZT9yZXNvbHZlKHJlc3VsdC52YWx1ZSk6ZnVuY3Rpb24odmFsdWUpe3JldHVybiB2YWx1ZSBpbnN0YW5jZW9mIFA/dmFsdWU6bmV3IFAoZnVuY3Rpb24ocmVzb2x2ZSl7cmVzb2x2ZSh2YWx1ZSl9KX0ocmVzdWx0LnZhbHVlKS50aGVuKGZ1bGZpbGxlZCxyZWplY3RlZCl9c3RlcCgoZ2VuZXJhdG9yPWdlbmVyYXRvci5hcHBseSh0aGlzQXJnLF9hcmd1bWVudHN8fFtdKSkubmV4dCgpKX0pfSxfX2dlbmVyYXRvcj10aGlzJiZ0aGlzLl9fZ2VuZXJhdG9yfHxmdW5jdGlvbih0aGlzQXJnLGJvZHkpe3ZhciBmLHksdCxnLF89e2xhYmVsOjAsc2VudDpmdW5jdGlvbigpe2lmKDEmdFswXSl0aHJvdyB0WzFdO3JldHVybiB0WzFdfSx0cnlzOltdLG9wczpbXX07cmV0dXJuIGc9e25leHQ6dmVyYigwKSx0aHJvdzp2ZXJiKDEpLHJldHVybjp2ZXJiKDIpfSxcImZ1bmN0aW9uXCI9PXR5cGVvZiBTeW1ib2wmJihnW1N5bWJvbC5pdGVyYXRvcl09ZnVuY3Rpb24oKXtyZXR1cm4gdGhpc30pLGc7ZnVuY3Rpb24gdmVyYihuKXtyZXR1cm4gZnVuY3Rpb24odil7cmV0dXJuIGZ1bmN0aW9uKG9wKXtpZihmKXRocm93IG5ldyBUeXBlRXJyb3IoXCJHZW5lcmF0b3IgaXMgYWxyZWFkeSBleGVjdXRpbmcuXCIpO2Zvcig7XzspdHJ5e2lmKGY9MSx5JiYodD0yJm9wWzBdP3kucmV0dXJuOm9wWzBdP3kudGhyb3d8fCgodD15LnJldHVybikmJnQuY2FsbCh5KSwwKTp5Lm5leHQpJiYhKHQ9dC5jYWxsKHksb3BbMV0pKS5kb25lKXJldHVybiB0O3N3aXRjaCh5PTAsdCYmKG9wPVsyJm9wWzBdLHQudmFsdWVdKSxvcFswXSl7Y2FzZSAwOmNhc2UgMTp0PW9wO2JyZWFrO2Nhc2UgNDpyZXR1cm4gXy5sYWJlbCsrLHt2YWx1ZTpvcFsxXSxkb25lOiExfTtjYXNlIDU6Xy5sYWJlbCsrLHk9b3BbMV0sb3A9WzBdO2NvbnRpbnVlO2Nhc2UgNzpvcD1fLm9wcy5wb3AoKSxfLnRyeXMucG9wKCk7Y29udGludWU7ZGVmYXVsdDppZighKHQ9KHQ9Xy50cnlzKS5sZW5ndGg+MCYmdFt0Lmxlbmd0aC0xXSkmJig2PT09b3BbMF18fDI9PT1vcFswXSkpe189MDtjb250aW51ZX1pZigzPT09b3BbMF0mJighdHx8b3BbMV0+dFswXSYmb3BbMV08dFszXSkpe18ubGFiZWw9b3BbMV07YnJlYWt9aWYoNj09PW9wWzBdJiZfLmxhYmVsPHRbMV0pe18ubGFiZWw9dFsxXSx0PW9wO2JyZWFrfWlmKHQmJl8ubGFiZWw8dFsyXSl7Xy5sYWJlbD10WzJdLF8ub3BzLnB1c2gob3ApO2JyZWFrfXRbMl0mJl8ub3BzLnBvcCgpLF8udHJ5cy5wb3AoKTtjb250aW51ZX1vcD1ib2R5LmNhbGwodGhpc0FyZyxfKX1jYXRjaChlKXtvcD1bNixlXSx5PTB9ZmluYWxseXtmPXQ9MH1pZig1Jm9wWzBdKXRocm93IG9wWzFdO3JldHVybnt2YWx1ZTpvcFswXT9vcFsxXTp2b2lkIDAsZG9uZTohMH19KFtuLHZdKX19fTtPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cyxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KTt2YXIgRGF0YV8xPV9fd2VicGFja19yZXF1aXJlX18oNCksQXBpQ2xpZW50XzE9X193ZWJwYWNrX3JlcXVpcmVfXygyOCksQ09OU1RBTlRTPV9fd2VicGFja19yZXF1aXJlX18oMSksQXBpPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gQXBpKGV2ZW50QnVzLGRhdGEsYXBpQ2xpZW50KXt2b2lkIDA9PT1kYXRhJiYoZGF0YT1uZXcgRGF0YV8xLkRhdGEpLHZvaWQgMD09PWFwaUNsaWVudCYmKGFwaUNsaWVudD1uZXcgQXBpQ2xpZW50XzEuQXBpQ2xpZW50KSx0aGlzLmV2ZW50QnVzPWV2ZW50QnVzLHRoaXMuZGF0YT1kYXRhLHRoaXMuYXBpQ2xpZW50PWFwaUNsaWVudH1yZXR1cm4gQXBpLnByb3RvdHlwZS5jaGVja0RldmljZT1mdW5jdGlvbigpe3JldHVybiBfX2F3YWl0ZXIodGhpcyx2b2lkIDAsdm9pZCAwLGZ1bmN0aW9uKCl7dmFyIHBhcmFtcztyZXR1cm4gX19nZW5lcmF0b3IodGhpcyxmdW5jdGlvbihfYSl7c3dpdGNoKF9hLmxhYmVsKXtjYXNlIDA6cmV0dXJuWzQsdGhpcy5nZXRSZXF1ZXN0UGFyYW1zKCldO2Nhc2UgMTpyZXR1cm4gcGFyYW1zPV9hLnNlbnQoKSxbNCx0aGlzLmFwaUNsaWVudC5jaGVja0RldmljZShwYXJhbXMpXTtjYXNlIDI6cmV0dXJuWzIsX2Euc2VudCgpXX19KX0pfSxBcGkucHJvdG90eXBlLmNoZWNrRGV2aWNlU3Vic2NyaWJlRm9yUHVzaE5vdGlmaWNhdGlvbnM9ZnVuY3Rpb24odXNlQ2FjaGUpe3JldHVybiB2b2lkIDA9PT11c2VDYWNoZSYmKHVzZUNhY2hlPSEwKSxfX2F3YWl0ZXIodGhpcyx2b2lkIDAsdm9pZCAwLGZ1bmN0aW9uKCl7dmFyIHN0YXR1cyxfYSxleGlzdCxwdXNoX3Rva2VuX2V4aXN0O3JldHVybiBfX2dlbmVyYXRvcih0aGlzLGZ1bmN0aW9uKF9iKXtzd2l0Y2goX2IubGFiZWwpe2Nhc2UgMDpyZXR1cm4gdm9pZCAwIT09KHN0YXR1cz1sb2NhbFN0b3JhZ2UuZ2V0SXRlbShDT05TVEFOVFMuS0VZX0RFVklDRV9SRUdJU1RSQVRJT05fU1RBVFVTKSkmJnVzZUNhY2hlP1szLDJdOls0LHRoaXMuY2hlY2tEZXZpY2UoKV07Y2FzZSAxOl9hPV9iLnNlbnQoKSxleGlzdD1fYS5leGlzdCxwdXNoX3Rva2VuX2V4aXN0PV9hLnB1c2hfdG9rZW5fZXhpc3QsbG9jYWxTdG9yYWdlLnNldEl0ZW0oQ09OU1RBTlRTLktFWV9ERVZJQ0VfUkVHSVNUUkFUSU9OX1NUQVRVUyxleGlzdCYmcHVzaF90b2tlbl9leGlzdD9DT05TVEFOVFMuREVWSUNFX1JFR0lTVFJBVElPTl9TVEFUVVNfUkVHSVNURVJFRDpDT05TVEFOVFMuREVWSUNFX1JFR0lTVFJBVElPTl9TVEFUVVNfVU5SRUdJU1RFUkVEKSxzdGF0dXM9bG9jYWxTdG9yYWdlLmdldEl0ZW0oQ09OU1RBTlRTLktFWV9ERVZJQ0VfUkVHSVNUUkFUSU9OX1NUQVRVUyksX2IubGFiZWw9MjtjYXNlIDI6cmV0dXJuWzIsc3RhdHVzPT09Q09OU1RBTlRTLkRFVklDRV9SRUdJU1RSQVRJT05fU1RBVFVTX1JFR0lTVEVSRURdfX0pfSl9LEFwaS5wcm90b3R5cGUuZ2V0Q29uZmlnPWZ1bmN0aW9uKGZlYXR1cmVzKXtyZXR1cm4gX19hd2FpdGVyKHRoaXMsdm9pZCAwLHZvaWQgMCxmdW5jdGlvbigpe3ZhciBwYXJhbXM7cmV0dXJuIF9fZ2VuZXJhdG9yKHRoaXMsZnVuY3Rpb24oX2Epe3N3aXRjaChfYS5sYWJlbCl7Y2FzZSAwOnJldHVybls0LHRoaXMuZ2V0UmVxdWVzdFBhcmFtcygpXTtjYXNlIDE6cmV0dXJuIHBhcmFtcz1fYS5zZW50KCksWzIsdGhpcy5hcGlDbGllbnQuZ2V0Q29uZmlnKF9fYXNzaWduKF9fYXNzaWduKHt9LHBhcmFtcykse2ZlYXR1cmVzOmZlYXR1cmVzfSkpXX19KX0pfSxBcGkucHJvdG90eXBlLmFwcGxpY2F0aW9uT3Blbj1mdW5jdGlvbigpe3JldHVybiBfX2F3YWl0ZXIodGhpcyx2b2lkIDAsdm9pZCAwLGZ1bmN0aW9uKCl7dmFyIHBhcmFtcztyZXR1cm4gX19nZW5lcmF0b3IodGhpcyxmdW5jdGlvbihfYSl7c3dpdGNoKF9hLmxhYmVsKXtjYXNlIDA6cmV0dXJuWzQsdGhpcy5nZXRSZXF1ZXN0UGFyYW1zKCldO2Nhc2UgMTpyZXR1cm4gcGFyYW1zPV9hLnNlbnQoKSxbNCx0aGlzLmRhdGEuc2V0TGFzdE9wZW5BcHBsaWNhdGlvblRpbWUoRGF0ZS5ub3coKSldO2Nhc2UgMjpyZXR1cm4gX2Euc2VudCgpLFsyLHRoaXMuYXBpQ2xpZW50LmFwcGxpY2F0aW9uT3BlbihwYXJhbXMpXX19KX0pfSxBcGkucHJvdG90eXBlLnJlZ2lzdGVyRGV2aWNlPWZ1bmN0aW9uKCl7cmV0dXJuIF9fYXdhaXRlcih0aGlzLHZvaWQgMCx2b2lkIDAsZnVuY3Rpb24oKXt2YXIgcGFyYW1zLHRva2VucyxyZXNwb25zZTtyZXR1cm4gX19nZW5lcmF0b3IodGhpcyxmdW5jdGlvbihfYSl7c3dpdGNoKF9hLmxhYmVsKXtjYXNlIDA6cmV0dXJuWzQsdGhpcy5kYXRhLmdldFN0YXR1c0NvbW11bmljYXRpb25EaXNhYmxlZCgpXTtjYXNlIDE6aWYoX2Euc2VudCgpKXRocm93IG5ldyBFcnJvcihcIkNhbid0IHJlZ2lzdGVyIGRldmljZTogQ29tbXVuaWNhdGlvbiBpcyBkaXNhYmxlZCFcIik7cmV0dXJuWzQsdGhpcy5nZXRSZXF1ZXN0UGFyYW1zKCldO2Nhc2UgMjpyZXR1cm4gcGFyYW1zPV9hLnNlbnQoKSxbNCx0aGlzLmRhdGEuZ2V0VG9rZW5zKCldO2Nhc2UgMzppZighKHRva2Vucz1fYS5zZW50KCkpLnB1c2hUb2tlbil0aHJvdyBuZXcgRXJyb3IoXCJDYW4ndCByZWdpc3RlciBkZXZpY2U6IHB1c2hUb2tlbiBpcyBub3QgZXhpc3QhXCIpO3JldHVybls0LHRoaXMuYXBpQ2xpZW50LnJlZ2lzdGVyRGV2aWNlKF9fYXNzaWduKF9fYXNzaWduKHt9LHBhcmFtcykse3B1c2hfdG9rZW46dG9rZW5zLnB1c2hUb2tlbixhdXRoX3Rva2VuOnRva2Vucy5hdXRoVG9rZW4scHVibGljX2tleTp0b2tlbnMucHVibGljS2V5LGZjbV9wdXNoX3NldDp0b2tlbnMuZmNtUHVzaFNldCxmY21fdG9rZW46dG9rZW5zLmZjbVRva2VufSkpXTtjYXNlIDQ6cmV0dXJuIHJlc3BvbnNlPV9hLnNlbnQoKSxbNCx0aGlzLmRhdGEuc2V0U3RhdHVzTWFudWFsVW5zdWJzY3JpYmVkKCExKV07Y2FzZSA1OnJldHVybiBfYS5zZW50KCksbG9jYWxTdG9yYWdlLnNldEl0ZW0oQ09OU1RBTlRTLktFWV9ERVZJQ0VfUkVHSVNUUkFUSU9OX1NUQVRVUyxDT05TVEFOVFMuREVWSUNFX1JFR0lTVFJBVElPTl9TVEFUVVNfUkVHSVNURVJFRCksdGhpcy5ldmVudEJ1cy5kaXNwYXRjaEV2ZW50KFwicmVnaXN0ZXJcIix7fSksWzIscmVzcG9uc2VdfX0pfSl9LEFwaS5wcm90b3R5cGUudW5yZWdpc3RlckRldmljZT1mdW5jdGlvbigpe3JldHVybiBfX2F3YWl0ZXIodGhpcyx2b2lkIDAsdm9pZCAwLGZ1bmN0aW9uKCl7dmFyIHBhcmFtcyxyZXNwb25zZTtyZXR1cm4gX19nZW5lcmF0b3IodGhpcyxmdW5jdGlvbihfYSl7c3dpdGNoKF9hLmxhYmVsKXtjYXNlIDA6cmV0dXJuWzQsdGhpcy5nZXRSZXF1ZXN0UGFyYW1zKCldO2Nhc2UgMTpyZXR1cm4gcGFyYW1zPV9hLnNlbnQoKSxyZXNwb25zZT10aGlzLmFwaUNsaWVudC51bnJlZ2lzdGVyRGV2aWNlKHBhcmFtcyksbG9jYWxTdG9yYWdlLnNldEl0ZW0oQ09OU1RBTlRTLktFWV9ERVZJQ0VfUkVHSVNUUkFUSU9OX1NUQVRVUyxDT05TVEFOVFMuREVWSUNFX1JFR0lTVFJBVElPTl9TVEFUVVNfVU5SRUdJU1RFUkVEKSx0aGlzLmV2ZW50QnVzLmRpc3BhdGNoRXZlbnQoXCJ1bnN1YnNjcmliZVwiLHt9KSxbMixyZXNwb25zZV19fSl9KX0sQXBpLnByb3RvdHlwZS5kZWxldGVEZXZpY2U9ZnVuY3Rpb24oKXtyZXR1cm4gX19hd2FpdGVyKHRoaXMsdm9pZCAwLHZvaWQgMCxmdW5jdGlvbigpe3ZhciBwYXJhbXMscmVzcG9uc2U7cmV0dXJuIF9fZ2VuZXJhdG9yKHRoaXMsZnVuY3Rpb24oX2Epe3N3aXRjaChfYS5sYWJlbCl7Y2FzZSAwOnJldHVybls0LHRoaXMuZ2V0UmVxdWVzdFBhcmFtcygpXTtjYXNlIDE6cmV0dXJuIHBhcmFtcz1fYS5zZW50KCkscmVzcG9uc2U9dGhpcy5hcGlDbGllbnQuZGVsZXRlRGV2aWNlKHBhcmFtcyksWzQsdGhpcy5kYXRhLnNldFN0YXR1c01hbnVhbFVuc3Vic2NyaWJlZCghMCldO2Nhc2UgMjpyZXR1cm4gX2Euc2VudCgpLGxvY2FsU3RvcmFnZS5zZXRJdGVtKENPTlNUQU5UUy5LRVlfREVWSUNFX1JFR0lTVFJBVElPTl9TVEFUVVMsQ09OU1RBTlRTLkRFVklDRV9SRUdJU1RSQVRJT05fU1RBVFVTX1VOUkVHSVNURVJFRCksdGhpcy5ldmVudEJ1cy5kaXNwYXRjaEV2ZW50KFwidW5zdWJzY3JpYmVcIix7fSksWzIscmVzcG9uc2VdfX0pfSl9LEFwaS5wcm90b3R5cGUubWVzc2FnZURlbGl2ZXJ5RXZlbnQ9ZnVuY3Rpb24oaGFzaCxpc1RyYWNraW5nTG9nT25GYWlsdXJlKXtyZXR1cm4gX19hd2FpdGVyKHRoaXMsdm9pZCAwLHZvaWQgMCxmdW5jdGlvbigpe3ZhciBzdGFydFRpbWUscGFyYW1zLGVycm9yXzE7cmV0dXJuIF9fZ2VuZXJhdG9yKHRoaXMsZnVuY3Rpb24oX2Epe3N3aXRjaChfYS5sYWJlbCl7Y2FzZSAwOnJldHVybiBzdGFydFRpbWU9TWF0aC5yb3VuZCgrbmV3IERhdGUpLFs0LHRoaXMuZ2V0UmVxdWVzdFBhcmFtcygpXTtjYXNlIDE6cGFyYW1zPV9hLnNlbnQoKSxfYS5sYWJlbD0yO2Nhc2UgMjpyZXR1cm4gX2EudHJ5cy5wdXNoKFsyLDQsLDVdKSxbNCx0aGlzLmFwaUNsaWVudC5tZXNzYWdlRGVsaXZlcnlFdmVudChfX2Fzc2lnbihfX2Fzc2lnbih7fSxwYXJhbXMpLHtoYXNoOmhhc2h9KSldO2Nhc2UgMzpyZXR1cm5bMixfYS5zZW50KCldO2Nhc2UgNDp0aHJvdyBlcnJvcl8xPV9hLnNlbnQoKSxpc1RyYWNraW5nTG9nT25GYWlsdXJlJiZ0aGlzLnRyYWNrTG9nKFwibWVzc2FnZURlbGl2ZXJ5RXZlbnRcIixfX2Fzc2lnbihfX2Fzc2lnbih7fSxwYXJhbXMpLHtoYXNoOmhhc2h9KSx7c3RhcnRUaW1lOnN0YXJ0VGltZSxlcnJvcjplcnJvcl8xfSksZXJyb3JfMTtjYXNlIDU6cmV0dXJuWzJdfX0pfSl9LEFwaS5wcm90b3R5cGUucHVzaFN0YXQ9ZnVuY3Rpb24oaGFzaCxpc1RyYWNraW5nTG9nT25GYWlsdXJlLG1ldGFEYXRhKXtyZXR1cm4gdm9pZCAwPT09bWV0YURhdGEmJihtZXRhRGF0YT17fSksX19hd2FpdGVyKHRoaXMsdm9pZCAwLHZvaWQgMCxmdW5jdGlvbigpe3ZhciBzdGFydFRpbWUscGFyYW1zLGVycm9yXzI7cmV0dXJuIF9fZ2VuZXJhdG9yKHRoaXMsZnVuY3Rpb24oX2Epe3N3aXRjaChfYS5sYWJlbCl7Y2FzZSAwOnJldHVybiBzdGFydFRpbWU9TWF0aC5yb3VuZCgrbmV3IERhdGUpLFs0LHRoaXMuZ2V0UmVxdWVzdFBhcmFtcygpXTtjYXNlIDE6cGFyYW1zPV9hLnNlbnQoKSxfYS5sYWJlbD0yO2Nhc2UgMjpyZXR1cm4gX2EudHJ5cy5wdXNoKFsyLDQsLDVdKSxbNCx0aGlzLmFwaUNsaWVudC5wdXNoU3RhdChfX2Fzc2lnbihfX2Fzc2lnbih7fSxwYXJhbXMpLHtoYXNoOmhhc2gsbWV0YURhdGE6bWV0YURhdGF9KSldO2Nhc2UgMzpyZXR1cm5bMixfYS5zZW50KCldO2Nhc2UgNDp0aHJvdyBlcnJvcl8yPV9hLnNlbnQoKSxpc1RyYWNraW5nTG9nT25GYWlsdXJlJiZ0aGlzLnRyYWNrTG9nKFwicHVzaFN0YXRcIixfX2Fzc2lnbihfX2Fzc2lnbih7fSxwYXJhbXMpLHtoYXNoOmhhc2gsbWV0YURhdGE6bWV0YURhdGF9KSx7c3RhcnRUaW1lOnN0YXJ0VGltZSxlcnJvcjplcnJvcl8yfSksZXJyb3JfMjtjYXNlIDU6cmV0dXJuWzJdfX0pfSl9LEFwaS5wcm90b3R5cGUuc2V0VGFncz1mdW5jdGlvbih0YWdzKXtyZXR1cm4gX19hd2FpdGVyKHRoaXMsdm9pZCAwLHZvaWQgMCxmdW5jdGlvbigpe3ZhciBwYXJhbXM7cmV0dXJuIF9fZ2VuZXJhdG9yKHRoaXMsZnVuY3Rpb24oX2Epe3N3aXRjaChfYS5sYWJlbCl7Y2FzZSAwOnJldHVybls0LHRoaXMuZ2V0UmVxdWVzdFBhcmFtcygpXTtjYXNlIDE6cmV0dXJuIHBhcmFtcz1fYS5zZW50KCksWzIsdGhpcy5hcGlDbGllbnQuc2V0VGFncyhfX2Fzc2lnbihfX2Fzc2lnbih7fSxwYXJhbXMpLHt0YWdzOnRhZ3N9KSldfX0pfSl9LEFwaS5wcm90b3R5cGUuZ2V0VGFncz1mdW5jdGlvbigpe3JldHVybiBfX2F3YWl0ZXIodGhpcyx2b2lkIDAsdm9pZCAwLGZ1bmN0aW9uKCl7dmFyIHBhcmFtcztyZXR1cm4gX19nZW5lcmF0b3IodGhpcyxmdW5jdGlvbihfYSl7c3dpdGNoKF9hLmxhYmVsKXtjYXNlIDA6cmV0dXJuWzQsdGhpcy5nZXRSZXF1ZXN0UGFyYW1zKCldO2Nhc2UgMTpyZXR1cm4gcGFyYW1zPV9hLnNlbnQoKSxbMix0aGlzLmFwaUNsaWVudC5nZXRUYWdzKHBhcmFtcyldfX0pfSl9LEFwaS5wcm90b3R5cGUucmVnaXN0ZXJVc2VyPWZ1bmN0aW9uKHVzZXJJZCl7cmV0dXJuIF9fYXdhaXRlcih0aGlzLHZvaWQgMCx2b2lkIDAsZnVuY3Rpb24oKXt2YXIgcGFyYW1zLGRldmljZVR5cGUsaWQscmVzcG9uc2U7cmV0dXJuIF9fZ2VuZXJhdG9yKHRoaXMsZnVuY3Rpb24oX2Epe3N3aXRjaChfYS5sYWJlbCl7Y2FzZSAwOnJldHVybls0LHRoaXMuZ2V0UmVxdWVzdFBhcmFtcygpXTtjYXNlIDE6cmV0dXJuIHBhcmFtcz1fYS5zZW50KCksWzQsdGhpcy5kYXRhLmdldERldmljZVR5cGUoKV07Y2FzZSAyOnJldHVybiBkZXZpY2VUeXBlPV9hLnNlbnQoKSxpZD1cIlwiK3VzZXJJZCxbNCx0aGlzLmFwaUNsaWVudC5yZWdpc3RlclVzZXIoX19hc3NpZ24oX19hc3NpZ24oe30scGFyYW1zKSx7dXNlcklkOmlkLHRzX29mZnNldDo2MCotKG5ldyBEYXRlKS5nZXRUaW1lem9uZU9mZnNldCgpLGRldmljZV90eXBlOmRldmljZVR5cGV9KSldO2Nhc2UgMzpyZXR1cm4gcmVzcG9uc2U9X2Euc2VudCgpLFs0LHRoaXMuZGF0YS5zZXRVc2VySWQoXCJcIit1c2VySWQpXTtjYXNlIDQ6cmV0dXJuIF9hLnNlbnQoKSxbNCx0aGlzLmRhdGEuc2V0U3RhdHVzVXNlcklkV2FzQ2hhbmdlZCghMCldO2Nhc2UgNTpyZXR1cm4gX2Euc2VudCgpLFsyLHJlc3BvbnNlXX19KX0pfSxBcGkucHJvdG90eXBlLnBvc3RFdmVudD1mdW5jdGlvbihldmVudCxhdHRyaWJ1dGVzKXtyZXR1cm4gX19hd2FpdGVyKHRoaXMsdm9pZCAwLHZvaWQgMCxmdW5jdGlvbigpe3ZhciBwYXJhbXMsZGF0ZSx0aW1lLHRpbWVzdGFtcFVUQyx0aW1lc3RhbXBDdXJyZW50LGxhc3RPcGVuTWVzc2FnZSxyZXNwb25zZTtyZXR1cm4gX19nZW5lcmF0b3IodGhpcyxmdW5jdGlvbihfYSl7c3dpdGNoKF9hLmxhYmVsKXtjYXNlIDA6cmV0dXJuWzQsdGhpcy5nZXRSZXF1ZXN0UGFyYW1zKCldO2Nhc2UgMTpyZXR1cm4gcGFyYW1zPV9hLnNlbnQoKSxkYXRlPW5ldyBEYXRlLHRpbWU9ZGF0ZS5nZXRUaW1lKCksdGltZXN0YW1wVVRDPU1hdGguZmxvb3IodGltZS8xZTMpLHRpbWVzdGFtcEN1cnJlbnQ9dGltZXN0YW1wVVRDLWRhdGUuZ2V0VGltZXpvbmVPZmZzZXQoKS82MCozNjAwLFs0LHRoaXMuZGF0YS5nZXRMYXN0T3Blbk1lc3NhZ2UoKV07Y2FzZSAyOmlmKChsYXN0T3Blbk1lc3NhZ2U9X2Euc2VudCgpKSYmbGFzdE9wZW5NZXNzYWdlLmV4cGlyeT5EYXRlLm5vdygpKXtpZihhdHRyaWJ1dGVzLm1zZ0hhc2gpcmV0dXJuWzIsUHJvbWlzZS5yZWplY3QoXCJhdHRyaWJ1dGUgbXNnSGFzaCBhbHJlYWR5IGRlZmluZWRcIildO2F0dHJpYnV0ZXM9X19hc3NpZ24oX19hc3NpZ24oe30sYXR0cmlidXRlcykse21zZ0hhc2g6bGFzdE9wZW5NZXNzYWdlLm1lc3NhZ2VIYXNofSl9cmV0dXJuWzQsdGhpcy5kYXRhLnNldExhc3RPcGVuTWVzc2FnZSh2b2lkIDApXTtjYXNlIDM6cmV0dXJuIF9hLnNlbnQoKSxbNCx0aGlzLmFwaUNsaWVudC5wb3N0RXZlbnQoX19hc3NpZ24oX19hc3NpZ24oe30scGFyYW1zKSx7ZXZlbnQ6ZXZlbnQsdGltZXN0YW1wVVRDOnRpbWVzdGFtcFVUQyx0aW1lc3RhbXBDdXJyZW50OnRpbWVzdGFtcEN1cnJlbnQsYXR0cmlidXRlczphdHRyaWJ1dGVzfSkpXTtjYXNlIDQ6cmV0dXJuKHJlc3BvbnNlPV9hLnNlbnQoKSkmJnJlc3BvbnNlLmNvZGUmJnRoaXMuZXZlbnRCdXMuZGlzcGF0Y2hFdmVudChcInJlY2VpdmUtaW4tYXBwLWNvZGVcIix7Y29kZTpyZXNwb25zZS5jb2RlfSksWzIscmVzcG9uc2VdfX0pfSl9LEFwaS5wcm90b3R5cGUuZ2V0SW5ib3hNZXNzYWdlcz1mdW5jdGlvbihjb3VudCl7cmV0dXJuIHZvaWQgMD09PWNvdW50JiYoY291bnQ9MCksX19hd2FpdGVyKHRoaXMsdm9pZCAwLHZvaWQgMCxmdW5jdGlvbigpe3ZhciBwYXJhbXMsbGFzdENvZGUsbGFzdFJlcXVlc3RUaW1lO3JldHVybiBfX2dlbmVyYXRvcih0aGlzLGZ1bmN0aW9uKF9hKXtzd2l0Y2goX2EubGFiZWwpe2Nhc2UgMDpyZXR1cm5bNCx0aGlzLmdldFJlcXVlc3RQYXJhbXMoKV07Y2FzZSAxOnJldHVybiBwYXJhbXM9X2Euc2VudCgpLFs0LHRoaXMuZGF0YS5nZXRJbmJveExhc3RSZXF1ZXN0Q29kZSgpXTtjYXNlIDI6cmV0dXJuIGxhc3RDb2RlPV9hLnNlbnQoKSxbNCx0aGlzLmRhdGEuZ2V0SW5ib3hMYXN0UmVxdWVzdFRpbWUoKV07Y2FzZSAzOnJldHVybiBsYXN0UmVxdWVzdFRpbWU9X2Euc2VudCgpLFsyLHRoaXMuYXBpQ2xpZW50LmdldEluYm94TWVzc2FnZXMoX19hc3NpZ24oX19hc3NpZ24oe30scGFyYW1zKSx7Y291bnQ6Y291bnQsbGFzdF9jb2RlOmxhc3RDb2RlLGxhc3RfcmVxdWVzdF90aW1lOmxhc3RSZXF1ZXN0VGltZX0pKV19fSl9KX0sQXBpLnByb3RvdHlwZS5pbmJveFN0YXR1cz1mdW5jdGlvbihvcmRlcixzdGF0dXMpe3JldHVybiBfX2F3YWl0ZXIodGhpcyx2b2lkIDAsdm9pZCAwLGZ1bmN0aW9uKCl7dmFyIHBhcmFtcztyZXR1cm4gX19nZW5lcmF0b3IodGhpcyxmdW5jdGlvbihfYSl7c3dpdGNoKF9hLmxhYmVsKXtjYXNlIDA6cmV0dXJuWzQsdGhpcy5nZXRSZXF1ZXN0UGFyYW1zKCldO2Nhc2UgMTpyZXR1cm4gcGFyYW1zPV9hLnNlbnQoKSxbMix0aGlzLmFwaUNsaWVudC5pbmJveFN0YXR1cyhfX2Fzc2lnbihfX2Fzc2lnbih7fSxwYXJhbXMpLHtpbmJveF9jb2RlOm9yZGVyLHN0YXR1czpzdGF0dXMsdGltZToobmV3IERhdGUpLmdldFRpbWUoKX0pKV19fSl9KX0sQXBpLnByb3RvdHlwZS50cmlnZ2VyRXZlbnQ9ZnVuY3Rpb24oKXtyZXR1cm4gX19hd2FpdGVyKHRoaXMsdm9pZCAwLHZvaWQgMCxmdW5jdGlvbigpe3JldHVybiBfX2dlbmVyYXRvcih0aGlzLGZ1bmN0aW9uKF9hKXt0aHJvdyBuZXcgRXJyb3IoXCJNZXRob2QgaGFzIGJlZW4gZGVwcmVjYXRlZCwgYmVjYXVzZSB3ZSBkb24ndCBhZ2dyZWdhdGUgdGhpcyBzdGF0aXN0aWNzLlwiKX0pfSl9LEFwaS5wcm90b3R5cGUucGFnZVZpc2l0PWZ1bmN0aW9uKGNvbmZpZyl7cmV0dXJuIF9fYXdhaXRlcih0aGlzLHZvaWQgMCx2b2lkIDAsZnVuY3Rpb24oKXt2YXIgcGFyYW1zLGZlYXR1cmVzLHVybDtyZXR1cm4gX19nZW5lcmF0b3IodGhpcyxmdW5jdGlvbihfYSl7c3dpdGNoKF9hLmxhYmVsKXtjYXNlIDA6cmV0dXJuWzQsdGhpcy5nZXRSZXF1ZXN0UGFyYW1zKCldO2Nhc2UgMTpyZXR1cm4gcGFyYW1zPV9hLnNlbnQoKSxbNCx0aGlzLmRhdGEuZ2V0RmVhdHVyZXMoKV07Y2FzZSAyOnJldHVybiBmZWF0dXJlcz1fYS5zZW50KCksKHVybD1mZWF0dXJlcyYmZmVhdHVyZXMucGFnZV92aXNpdCYmZmVhdHVyZXMucGFnZV92aXNpdC5lbnRyeXBvaW50KT9bMix0aGlzLmFwaUNsaWVudC5wYWdlVmlzaXQoX19hc3NpZ24oX19hc3NpZ24oe30scGFyYW1zKSxjb25maWcpLHVybCldOlsyXX19KX0pfSxBcGkucHJvdG90eXBlLmdldEluQXBwcz1mdW5jdGlvbigpe3JldHVybiBfX2F3YWl0ZXIodGhpcyx2b2lkIDAsdm9pZCAwLGZ1bmN0aW9uKCl7dmFyIHBhcmFtcztyZXR1cm4gX19nZW5lcmF0b3IodGhpcyxmdW5jdGlvbihfYSl7c3dpdGNoKF9hLmxhYmVsKXtjYXNlIDA6cmV0dXJuWzQsdGhpcy5nZXRSZXF1ZXN0UGFyYW1zKCldO2Nhc2UgMTpyZXR1cm4gcGFyYW1zPV9hLnNlbnQoKSxbMix0aGlzLmFwaUNsaWVudC5nZXRJbkFwcHMocGFyYW1zKV19fSl9KX0sQXBpLnByb3RvdHlwZS5zZXRQdXJjaGFzZT1mdW5jdGlvbihhdHRyaWJ1dGVzKXtyZXR1cm4gX19hd2FpdGVyKHRoaXMsdm9pZCAwLHZvaWQgMCxmdW5jdGlvbigpe3ZhciBwYXJhbXM7cmV0dXJuIF9fZ2VuZXJhdG9yKHRoaXMsZnVuY3Rpb24oX2Epe3N3aXRjaChfYS5sYWJlbCl7Y2FzZSAwOnJldHVybls0LHRoaXMuZ2V0UmVxdWVzdFBhcmFtcygpXTtjYXNlIDE6cmV0dXJuIHBhcmFtcz1fYS5zZW50KCksWzIsdGhpcy5hcGlDbGllbnQuc2V0UHVyY2hhc2UoX19hc3NpZ24oX19hc3NpZ24oe30scGFyYW1zKSxhdHRyaWJ1dGVzKSldfX0pfSl9LEFwaS5wcm90b3R5cGUuZ2V0UGFyYW1zPWZ1bmN0aW9uKCl7cmV0dXJuIF9fYXdhaXRlcih0aGlzLHZvaWQgMCx2b2lkIDAsZnVuY3Rpb24oKXt2YXIgYXBwbGljYXRpb25Db2RlLGh3aWQsYXBpUGFyYW1zLGluaXRQYXJhbXM7cmV0dXJuIF9fZ2VuZXJhdG9yKHRoaXMsZnVuY3Rpb24oX2Epe3N3aXRjaChfYS5sYWJlbCl7Y2FzZSAwOnJldHVybls0LHRoaXMuZGF0YS5nZXRBcHBsaWNhdGlvbkNvZGUoKV07Y2FzZSAxOnJldHVybiBhcHBsaWNhdGlvbkNvZGU9X2Euc2VudCgpLFs0LHRoaXMuZGF0YS5nZXRId2lkKCldO2Nhc2UgMjpyZXR1cm4gaHdpZD1fYS5zZW50KCksWzQsdGhpcy5kYXRhLmdldFRva2VucygpXTtjYXNlIDM6cmV0dXJuIGFwaVBhcmFtcz1fYS5zZW50KCksWzQsdGhpcy5kYXRhLmdldEluaXRQYXJhbXMoKV07Y2FzZSA0OnJldHVybiBpbml0UGFyYW1zPV9hLnNlbnQoKSxbMixfX2Fzc2lnbihfX2Fzc2lnbih7YXBwbGljYXRpb25Db2RlOmFwcGxpY2F0aW9uQ29kZSxod2lkOmh3aWR9LGFwaVBhcmFtcyksaW5pdFBhcmFtcyldfX0pfSl9LE9iamVjdC5kZWZpbmVQcm9wZXJ0eShBcGkucHJvdG90eXBlLFwicGFyYW1zXCIse2dldDpmdW5jdGlvbigpe3Rocm93IG5ldyBFcnJvcignUHJvcGVydHkgXCJQdXNod29vc2guYXBpLnBhcmFtc1wiIGhhdmUgYmVlbiBkZXByZWNhdGVkLiBVc2UgdGhlIGFzeW5jIG1ldGhvZCBcIlB1c2h3b29zaC5hcGkuZ2V0UGFyYW1zKClcIicpfSxlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMH0pLEFwaS5wcm90b3R5cGUuZ2V0UmVxdWVzdFBhcmFtcz1mdW5jdGlvbigpe3JldHVybiBfX2F3YWl0ZXIodGhpcyx2b2lkIDAsdm9pZCAwLGZ1bmN0aW9uKCl7dmFyIGFwcGxpY2F0aW9uQ29kZSxod2lkLHVzZXJJZCxkZXZpY2VUeXBlLGRldmljZU1vZGVsLGxhbmd1YWdlLHZlcnNpb24sdGltZXpvbmU7cmV0dXJuIF9fZ2VuZXJhdG9yKHRoaXMsZnVuY3Rpb24oX2Epe3N3aXRjaChfYS5sYWJlbCl7Y2FzZSAwOnJldHVybls0LHRoaXMuZGF0YS5nZXRBcHBsaWNhdGlvbkNvZGUoKV07Y2FzZSAxOnJldHVybiBhcHBsaWNhdGlvbkNvZGU9X2Euc2VudCgpLFs0LHRoaXMuZGF0YS5nZXRId2lkKCldO2Nhc2UgMjpyZXR1cm4gaHdpZD1fYS5zZW50KCksWzQsdGhpcy5kYXRhLmdldFVzZXJJZCgpXTtjYXNlIDM6cmV0dXJuIHVzZXJJZD1fYS5zZW50KCksWzQsdGhpcy5kYXRhLmdldERldmljZVR5cGUoKV07Y2FzZSA0OnJldHVybiBkZXZpY2VUeXBlPV9hLnNlbnQoKSxbNCx0aGlzLmRhdGEuZ2V0RGV2aWNlTW9kZWwoKV07Y2FzZSA1OnJldHVybiBkZXZpY2VNb2RlbD1fYS5zZW50KCksWzQsdGhpcy5kYXRhLmdldExhbmd1YWdlKCldO2Nhc2UgNjpyZXR1cm4gbGFuZ3VhZ2U9X2Euc2VudCgpLFs0LHRoaXMuZGF0YS5nZXRTZGtWZXJzaW9uKCldO2Nhc2UgNzpyZXR1cm4gdmVyc2lvbj1fYS5zZW50KCksdGltZXpvbmU9NjAqLShuZXcgRGF0ZSkuZ2V0VGltZXpvbmVPZmZzZXQoKSxbMix7YXBwbGljYXRpb246YXBwbGljYXRpb25Db2RlLGh3aWQ6aHdpZCx1c2VySWQ6dXNlcklkfHxod2lkLGRldmljZV90eXBlOmRldmljZVR5cGUsZGV2aWNlX21vZGVsOmRldmljZU1vZGVsLHRpbWV6b25lOnRpbWV6b25lLGxhbmd1YWdlOmxhbmd1YWdlLHY6dmVyc2lvbn1dfX0pfSl9LEFwaS5wcm90b3R5cGUudHJhY2tMb2c9ZnVuY3Rpb24obWV0aG9kLHBheWxvYWQsb3RoZXJzKXtyZXR1cm4gX19hd2FpdGVyKHRoaXMsdm9pZCAwLHZvaWQgMCxmdW5jdGlvbigpe3ZhciBlbmRUaW1lLGVudHJ5cG9pbnQ7cmV0dXJuIF9fZ2VuZXJhdG9yKHRoaXMsZnVuY3Rpb24oX2Epe3N3aXRjaChfYS5sYWJlbCl7Y2FzZSAwOnJldHVybiBlbmRUaW1lPU1hdGgucm91bmQoK25ldyBEYXRlKSxbNCx0aGlzLmRhdGEuZ2V0QXBpRW50cnlwb2ludCgpXTtjYXNlIDE6cmV0dXJuIGVudHJ5cG9pbnQ9X2Euc2VudCgpLGZldGNoKFwiaHR0cHM6Ly9wb3N0LWxvZy5wdXNod29vc2guY29tL3dlYnNka1wiLHttZXRob2Q6XCJQT1NUXCIsaGVhZGVyczp7XCJDb250ZW50LVR5cGVcIjpcInRleHQvcGxhaW47Y2hhcnNldD1VVEYtOFwifSxib2R5OkpTT04uc3RyaW5naWZ5KHtwYXlsb2FkOnBheWxvYWQsc3RhcnRUaW1lOm90aGVycy5zdGFydFRpbWUsZW5kVGltZTplbmRUaW1lLGV4ZWN1dGlvblRpbWU6ZW5kVGltZS1vdGhlcnMuc3RhcnRUaW1lLGVycm9yOntjb2RlOm90aGVycy5lcnJvci5jb2RlLG1lc3NhZ2U6b3RoZXJzLmVycm9yLm1lc3NhZ2V9LG1ldGhvZDptZXRob2QsZW50cnlwb2ludDplbnRyeXBvaW50LGxvY2F0aW9uOntob3N0bmFtZTpzZWxmLmxvY2F0aW9uLmhvc3RuYW1lLG9yaWdpbjpzZWxmLmxvY2F0aW9uLm9yaWdpbixwYXRobmFtZTpzZWxmLmxvY2F0aW9uLnBhdGhuYW1lfSx0eXBlOlwid2Vic2RrXCJ9KX0pLFsyXX19KX0pfSxBcGl9KCk7ZXhwb3J0cy5BcGk9QXBpfSxmdW5jdGlvbihtb2R1bGUsZXhwb3J0cyxfX3dlYnBhY2tfcmVxdWlyZV9fKXtcInVzZSBzdHJpY3RcIjtPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cyxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KTt2YXIgaW5pdGlhbF8xPV9fd2VicGFja19yZXF1aXJlX18oMzgpLF8yNl8xMV8yMDE4XzE9X193ZWJwYWNrX3JlcXVpcmVfXygzOSksRGF0ZU1vZHVsZV8xPV9fd2VicGFja19yZXF1aXJlX18oNiksTWlncmF0aW9ucz1mdW5jdGlvbigpe2Z1bmN0aW9uIE1pZ3JhdGlvbnMoZGF0ZU1vZHVsZSl7dm9pZCAwPT09ZGF0ZU1vZHVsZSYmKGRhdGVNb2R1bGU9bmV3IERhdGVNb2R1bGVfMS5kZWZhdWx0KSx0aGlzLm1pZ3JhdGlvbnM9e2luaXRpYWw6aW5pdGlhbF8xLmRlZmF1bHQsXCIyMDE4LzExLzI2XCI6XzI2XzExXzIwMThfMS5kZWZhdWx0fSx0aGlzLmRhdGVNb2R1bGU9ZGF0ZU1vZHVsZX1yZXR1cm4gT2JqZWN0LmRlZmluZVByb3BlcnR5KE1pZ3JhdGlvbnMucHJvdG90eXBlLFwiaW5pdGlhbFwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5taWdyYXRpb25zLmluaXRpYWx9LGVudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KE1pZ3JhdGlvbnMucHJvdG90eXBlLFwiZGF0ZVNvcnRlZFwiLHtnZXQ6ZnVuY3Rpb24oKXt2YXIgX3RoaXM9dGhpcztyZXR1cm4gT2JqZWN0LmtleXModGhpcy5taWdyYXRpb25zKS5maWx0ZXIoZnVuY3Rpb24oa2V5KXtyZXR1cm5cImluaXRpYWxcIiE9PWtleX0pLnNvcnQoZnVuY3Rpb24oYSxiKXt2YXIgZGF0ZUE9bmV3IERhdGVNb2R1bGVfMS5kZWZhdWx0KG5ldyBEYXRlKGEpKSxkYXRlQj1uZXcgRGF0ZU1vZHVsZV8xLmRlZmF1bHQobmV3IERhdGUoYikpO3JldHVybiBkYXRlQS5nZXRUaW1lc3RhbXAoKS1kYXRlQi5nZXRUaW1lc3RhbXAoKX0pLm1hcChmdW5jdGlvbihrZXkpe3JldHVybiBfdGhpcy5taWdyYXRpb25zW2tleV19KX0sZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITB9KSxNaWdyYXRpb25zfSgpO2V4cG9ydHMuZGVmYXVsdD1NaWdyYXRpb25zfSxmdW5jdGlvbihtb2R1bGUsZXhwb3J0cyxfX3dlYnBhY2tfcmVxdWlyZV9fKXtcInVzZSBzdHJpY3RcIjtPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cyxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KTt2YXIgaGVscGVyc18xPV9fd2VicGFja19yZXF1aXJlX18oMjApLGNvbnN0YW50c18xPV9fd2VicGFja19yZXF1aXJlX18oOSk7ZXhwb3J0cy5kZWZhdWx0PVtoZWxwZXJzXzEuc3RvcmVDcmVhdG9yRGVjb3JhdG9yKGNvbnN0YW50c18xLlNUT1JFX05BTUVfS0VZX1ZBTFVFLGZ1bmN0aW9uKGRhdGFiYXNlKXtkYXRhYmFzZS5jcmVhdGVPYmplY3RTdG9yZShjb25zdGFudHNfMS5TVE9SRV9OQU1FX0tFWV9WQUxVRSx7a2V5UGF0aDpcImtleVwifSl9KSxoZWxwZXJzXzEuc3RvcmVDcmVhdG9yRGVjb3JhdG9yKGNvbnN0YW50c18xLlNUT1JFX05BTUVfTUFJTl9MT0csZnVuY3Rpb24oZGF0YWJhc2Upe3ZhciBsb2dTdG9yZT1kYXRhYmFzZS5jcmVhdGVPYmplY3RTdG9yZShjb25zdGFudHNfMS5TVE9SRV9OQU1FX01BSU5fTE9HLHtrZXlQYXRoOmNvbnN0YW50c18xLktFWV9QQVRIX0JBU0VfSU5DUkVNRU5ULGF1dG9JbmNyZW1lbnQ6ITB9KTtsb2dTdG9yZS5jcmVhdGVJbmRleChcImVudmlyb25tZW50XCIsXCJlbnZpcm9ubWVudFwiLHt1bmlxdWU6ITF9KSxsb2dTdG9yZS5jcmVhdGVJbmRleChcImRhdGVcIixcImRhdGVcIix7dW5pcXVlOiExfSksbG9nU3RvcmUuY3JlYXRlSW5kZXgoXCJ0eXBlXCIsXCJ0eXBlXCIse3VuaXF1ZTohMX0pfSksaGVscGVyc18xLnN0b3JlQ3JlYXRvckRlY29yYXRvcihjb25zdGFudHNfMS5TVE9SRV9OQU1FX01FU1NBR0VfTE9HLGZ1bmN0aW9uKGRhdGFiYXNlKXtkYXRhYmFzZS5jcmVhdGVPYmplY3RTdG9yZShjb25zdGFudHNfMS5TVE9SRV9OQU1FX01FU1NBR0VfTE9HLHtrZXlQYXRoOmNvbnN0YW50c18xLktFWV9QQVRIX0JBU0VfSU5DUkVNRU5ULGF1dG9JbmNyZW1lbnQ6ITB9KS5jcmVhdGVJbmRleChcImRhdGVcIixcImRhdGVcIix7dW5pcXVlOiExfSl9KV19LGZ1bmN0aW9uKG1vZHVsZSxleHBvcnRzLF9fd2VicGFja19yZXF1aXJlX18pe1widXNlIHN0cmljdFwiO09iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pO3ZhciBoZWxwZXJzXzE9X193ZWJwYWNrX3JlcXVpcmVfXygyMCksY29uc3RhbnRzXzE9X193ZWJwYWNrX3JlcXVpcmVfXyg5KTtleHBvcnRzLmRlZmF1bHQ9W2hlbHBlcnNfMS5zdG9yZUNyZWF0b3JEZWNvcmF0b3IoY29uc3RhbnRzXzEuU1RPUkVfTkFNRV9JTkJPWF9NRVNTQUdFUyxmdW5jdGlvbihkYXRhYmFzZSl7dmFyIHN0b3JlPWRhdGFiYXNlLmNyZWF0ZU9iamVjdFN0b3JlKGNvbnN0YW50c18xLlNUT1JFX05BTUVfSU5CT1hfTUVTU0FHRVMse2tleVBhdGg6XCJpbmJveF9pZFwiLGF1dG9JbmNyZW1lbnQ6ITF9KTtzdG9yZS5jcmVhdGVJbmRleChcInN0YXR1c1wiLFwic3RhdHVzXCIse3VuaXF1ZTohMSxtdWx0aUVudHJ5OiEwfSksc3RvcmUuY3JlYXRlSW5kZXgoXCJydFwiLFwicnRcIix7dW5pcXVlOiExLG11bHRpRW50cnk6ITB9KX0pXX0sZnVuY3Rpb24obW9kdWxlLGV4cG9ydHMsX193ZWJwYWNrX3JlcXVpcmVfXyl7XCJ1c2Ugc3RyaWN0XCI7dmFyIFJlZmxlY3RPd25LZXlzLFI9XCJvYmplY3RcIj09dHlwZW9mIFJlZmxlY3Q/UmVmbGVjdDpudWxsLFJlZmxlY3RBcHBseT1SJiZcImZ1bmN0aW9uXCI9PXR5cGVvZiBSLmFwcGx5P1IuYXBwbHk6ZnVuY3Rpb24odGFyZ2V0LHJlY2VpdmVyLGFyZ3Mpe3JldHVybiBGdW5jdGlvbi5wcm90b3R5cGUuYXBwbHkuY2FsbCh0YXJnZXQscmVjZWl2ZXIsYXJncyl9O1JlZmxlY3RPd25LZXlzPVImJlwiZnVuY3Rpb25cIj09dHlwZW9mIFIub3duS2V5cz9SLm93bktleXM6T2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scz9mdW5jdGlvbih0YXJnZXQpe3JldHVybiBPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyh0YXJnZXQpLmNvbmNhdChPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKHRhcmdldCkpfTpmdW5jdGlvbih0YXJnZXQpe3JldHVybiBPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyh0YXJnZXQpfTt2YXIgTnVtYmVySXNOYU49TnVtYmVyLmlzTmFOfHxmdW5jdGlvbih2YWx1ZSl7cmV0dXJuIHZhbHVlIT12YWx1ZX07ZnVuY3Rpb24gRXZlbnRFbWl0dGVyKCl7RXZlbnRFbWl0dGVyLmluaXQuY2FsbCh0aGlzKX1tb2R1bGUuZXhwb3J0cz1FdmVudEVtaXR0ZXIsbW9kdWxlLmV4cG9ydHMub25jZT1mdW5jdGlvbihlbWl0dGVyLG5hbWUpe3JldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbihyZXNvbHZlLHJlamVjdCl7ZnVuY3Rpb24gZXJyb3JMaXN0ZW5lcihlcnIpe2VtaXR0ZXIucmVtb3ZlTGlzdGVuZXIobmFtZSxyZXNvbHZlcikscmVqZWN0KGVycil9ZnVuY3Rpb24gcmVzb2x2ZXIoKXtcImZ1bmN0aW9uXCI9PXR5cGVvZiBlbWl0dGVyLnJlbW92ZUxpc3RlbmVyJiZlbWl0dGVyLnJlbW92ZUxpc3RlbmVyKFwiZXJyb3JcIixlcnJvckxpc3RlbmVyKSxyZXNvbHZlKFtdLnNsaWNlLmNhbGwoYXJndW1lbnRzKSl9ZXZlbnRUYXJnZXRBZ25vc3RpY0FkZExpc3RlbmVyKGVtaXR0ZXIsbmFtZSxyZXNvbHZlcix7b25jZTohMH0pLFwiZXJyb3JcIiE9PW5hbWUmJmZ1bmN0aW9uKGVtaXR0ZXIsaGFuZGxlcixmbGFncyl7XCJmdW5jdGlvblwiPT10eXBlb2YgZW1pdHRlci5vbiYmZXZlbnRUYXJnZXRBZ25vc3RpY0FkZExpc3RlbmVyKGVtaXR0ZXIsXCJlcnJvclwiLGhhbmRsZXIsZmxhZ3MpfShlbWl0dGVyLGVycm9yTGlzdGVuZXIse29uY2U6ITB9KX0pfSxFdmVudEVtaXR0ZXIuRXZlbnRFbWl0dGVyPUV2ZW50RW1pdHRlcixFdmVudEVtaXR0ZXIucHJvdG90eXBlLl9ldmVudHM9dm9pZCAwLEV2ZW50RW1pdHRlci5wcm90b3R5cGUuX2V2ZW50c0NvdW50PTAsRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5fbWF4TGlzdGVuZXJzPXZvaWQgMDt2YXIgZGVmYXVsdE1heExpc3RlbmVycz0xMDtmdW5jdGlvbiBjaGVja0xpc3RlbmVyKGxpc3RlbmVyKXtpZihcImZ1bmN0aW9uXCIhPXR5cGVvZiBsaXN0ZW5lcil0aHJvdyBuZXcgVHlwZUVycm9yKCdUaGUgXCJsaXN0ZW5lclwiIGFyZ3VtZW50IG11c3QgYmUgb2YgdHlwZSBGdW5jdGlvbi4gUmVjZWl2ZWQgdHlwZSAnK3R5cGVvZiBsaXN0ZW5lcil9ZnVuY3Rpb24gX2dldE1heExpc3RlbmVycyh0aGF0KXtyZXR1cm4gdm9pZCAwPT09dGhhdC5fbWF4TGlzdGVuZXJzP0V2ZW50RW1pdHRlci5kZWZhdWx0TWF4TGlzdGVuZXJzOnRoYXQuX21heExpc3RlbmVyc31mdW5jdGlvbiBfYWRkTGlzdGVuZXIodGFyZ2V0LHR5cGUsbGlzdGVuZXIscHJlcGVuZCl7dmFyIG0sZXZlbnRzLGV4aXN0aW5nO2lmKGNoZWNrTGlzdGVuZXIobGlzdGVuZXIpLHZvaWQgMD09PShldmVudHM9dGFyZ2V0Ll9ldmVudHMpPyhldmVudHM9dGFyZ2V0Ll9ldmVudHM9T2JqZWN0LmNyZWF0ZShudWxsKSx0YXJnZXQuX2V2ZW50c0NvdW50PTApOih2b2lkIDAhPT1ldmVudHMubmV3TGlzdGVuZXImJih0YXJnZXQuZW1pdChcIm5ld0xpc3RlbmVyXCIsdHlwZSxsaXN0ZW5lci5saXN0ZW5lcj9saXN0ZW5lci5saXN0ZW5lcjpsaXN0ZW5lciksZXZlbnRzPXRhcmdldC5fZXZlbnRzKSxleGlzdGluZz1ldmVudHNbdHlwZV0pLHZvaWQgMD09PWV4aXN0aW5nKWV4aXN0aW5nPWV2ZW50c1t0eXBlXT1saXN0ZW5lciwrK3RhcmdldC5fZXZlbnRzQ291bnQ7ZWxzZSBpZihcImZ1bmN0aW9uXCI9PXR5cGVvZiBleGlzdGluZz9leGlzdGluZz1ldmVudHNbdHlwZV09cHJlcGVuZD9bbGlzdGVuZXIsZXhpc3RpbmddOltleGlzdGluZyxsaXN0ZW5lcl06cHJlcGVuZD9leGlzdGluZy51bnNoaWZ0KGxpc3RlbmVyKTpleGlzdGluZy5wdXNoKGxpc3RlbmVyKSwobT1fZ2V0TWF4TGlzdGVuZXJzKHRhcmdldCkpPjAmJmV4aXN0aW5nLmxlbmd0aD5tJiYhZXhpc3Rpbmcud2FybmVkKXtleGlzdGluZy53YXJuZWQ9ITA7dmFyIHc9bmV3IEVycm9yKFwiUG9zc2libGUgRXZlbnRFbWl0dGVyIG1lbW9yeSBsZWFrIGRldGVjdGVkLiBcIitleGlzdGluZy5sZW5ndGgrXCIgXCIrU3RyaW5nKHR5cGUpK1wiIGxpc3RlbmVycyBhZGRlZC4gVXNlIGVtaXR0ZXIuc2V0TWF4TGlzdGVuZXJzKCkgdG8gaW5jcmVhc2UgbGltaXRcIik7dy5uYW1lPVwiTWF4TGlzdGVuZXJzRXhjZWVkZWRXYXJuaW5nXCIsdy5lbWl0dGVyPXRhcmdldCx3LnR5cGU9dHlwZSx3LmNvdW50PWV4aXN0aW5nLmxlbmd0aCxmdW5jdGlvbih3YXJuaW5nKXtjb25zb2xlJiZjb25zb2xlLndhcm4mJmNvbnNvbGUud2Fybih3YXJuaW5nKX0odyl9cmV0dXJuIHRhcmdldH1mdW5jdGlvbiBfb25jZVdyYXAodGFyZ2V0LHR5cGUsbGlzdGVuZXIpe3ZhciBzdGF0ZT17ZmlyZWQ6ITEsd3JhcEZuOnZvaWQgMCx0YXJnZXQ6dGFyZ2V0LHR5cGU6dHlwZSxsaXN0ZW5lcjpsaXN0ZW5lcn0sd3JhcHBlZD1mdW5jdGlvbigpe2lmKCF0aGlzLmZpcmVkKXJldHVybiB0aGlzLnRhcmdldC5yZW1vdmVMaXN0ZW5lcih0aGlzLnR5cGUsdGhpcy53cmFwRm4pLHRoaXMuZmlyZWQ9ITAsMD09PWFyZ3VtZW50cy5sZW5ndGg/dGhpcy5saXN0ZW5lci5jYWxsKHRoaXMudGFyZ2V0KTp0aGlzLmxpc3RlbmVyLmFwcGx5KHRoaXMudGFyZ2V0LGFyZ3VtZW50cyl9LmJpbmQoc3RhdGUpO3JldHVybiB3cmFwcGVkLmxpc3RlbmVyPWxpc3RlbmVyLHN0YXRlLndyYXBGbj13cmFwcGVkLHdyYXBwZWR9ZnVuY3Rpb24gX2xpc3RlbmVycyh0YXJnZXQsdHlwZSx1bndyYXApe3ZhciBldmVudHM9dGFyZ2V0Ll9ldmVudHM7aWYodm9pZCAwPT09ZXZlbnRzKXJldHVybltdO3ZhciBldmxpc3RlbmVyPWV2ZW50c1t0eXBlXTtyZXR1cm4gdm9pZCAwPT09ZXZsaXN0ZW5lcj9bXTpcImZ1bmN0aW9uXCI9PXR5cGVvZiBldmxpc3RlbmVyP3Vud3JhcD9bZXZsaXN0ZW5lci5saXN0ZW5lcnx8ZXZsaXN0ZW5lcl06W2V2bGlzdGVuZXJdOnVud3JhcD9mdW5jdGlvbihhcnIpe2Zvcih2YXIgcmV0PW5ldyBBcnJheShhcnIubGVuZ3RoKSxpPTA7aTxyZXQubGVuZ3RoOysraSlyZXRbaV09YXJyW2ldLmxpc3RlbmVyfHxhcnJbaV07cmV0dXJuIHJldH0oZXZsaXN0ZW5lcik6YXJyYXlDbG9uZShldmxpc3RlbmVyLGV2bGlzdGVuZXIubGVuZ3RoKX1mdW5jdGlvbiBsaXN0ZW5lckNvdW50KHR5cGUpe3ZhciBldmVudHM9dGhpcy5fZXZlbnRzO2lmKHZvaWQgMCE9PWV2ZW50cyl7dmFyIGV2bGlzdGVuZXI9ZXZlbnRzW3R5cGVdO2lmKFwiZnVuY3Rpb25cIj09dHlwZW9mIGV2bGlzdGVuZXIpcmV0dXJuIDE7aWYodm9pZCAwIT09ZXZsaXN0ZW5lcilyZXR1cm4gZXZsaXN0ZW5lci5sZW5ndGh9cmV0dXJuIDB9ZnVuY3Rpb24gYXJyYXlDbG9uZShhcnIsbil7Zm9yKHZhciBjb3B5PW5ldyBBcnJheShuKSxpPTA7aTxuOysraSljb3B5W2ldPWFycltpXTtyZXR1cm4gY29weX1mdW5jdGlvbiBldmVudFRhcmdldEFnbm9zdGljQWRkTGlzdGVuZXIoZW1pdHRlcixuYW1lLGxpc3RlbmVyLGZsYWdzKXtpZihcImZ1bmN0aW9uXCI9PXR5cGVvZiBlbWl0dGVyLm9uKWZsYWdzLm9uY2U/ZW1pdHRlci5vbmNlKG5hbWUsbGlzdGVuZXIpOmVtaXR0ZXIub24obmFtZSxsaXN0ZW5lcik7ZWxzZXtpZihcImZ1bmN0aW9uXCIhPXR5cGVvZiBlbWl0dGVyLmFkZEV2ZW50TGlzdGVuZXIpdGhyb3cgbmV3IFR5cGVFcnJvcignVGhlIFwiZW1pdHRlclwiIGFyZ3VtZW50IG11c3QgYmUgb2YgdHlwZSBFdmVudEVtaXR0ZXIuIFJlY2VpdmVkIHR5cGUgJyt0eXBlb2YgZW1pdHRlcik7ZW1pdHRlci5hZGRFdmVudExpc3RlbmVyKG5hbWUsZnVuY3Rpb24gd3JhcExpc3RlbmVyKGFyZyl7ZmxhZ3Mub25jZSYmZW1pdHRlci5yZW1vdmVFdmVudExpc3RlbmVyKG5hbWUsd3JhcExpc3RlbmVyKSxsaXN0ZW5lcihhcmcpfSl9fU9iamVjdC5kZWZpbmVQcm9wZXJ0eShFdmVudEVtaXR0ZXIsXCJkZWZhdWx0TWF4TGlzdGVuZXJzXCIse2VudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIGRlZmF1bHRNYXhMaXN0ZW5lcnN9LHNldDpmdW5jdGlvbihhcmcpe2lmKFwibnVtYmVyXCIhPXR5cGVvZiBhcmd8fGFyZzwwfHxOdW1iZXJJc05hTihhcmcpKXRocm93IG5ldyBSYW5nZUVycm9yKCdUaGUgdmFsdWUgb2YgXCJkZWZhdWx0TWF4TGlzdGVuZXJzXCIgaXMgb3V0IG9mIHJhbmdlLiBJdCBtdXN0IGJlIGEgbm9uLW5lZ2F0aXZlIG51bWJlci4gUmVjZWl2ZWQgJythcmcrXCIuXCIpO2RlZmF1bHRNYXhMaXN0ZW5lcnM9YXJnfX0pLEV2ZW50RW1pdHRlci5pbml0PWZ1bmN0aW9uKCl7dm9pZCAwIT09dGhpcy5fZXZlbnRzJiZ0aGlzLl9ldmVudHMhPT1PYmplY3QuZ2V0UHJvdG90eXBlT2YodGhpcykuX2V2ZW50c3x8KHRoaXMuX2V2ZW50cz1PYmplY3QuY3JlYXRlKG51bGwpLHRoaXMuX2V2ZW50c0NvdW50PTApLHRoaXMuX21heExpc3RlbmVycz10aGlzLl9tYXhMaXN0ZW5lcnN8fHZvaWQgMH0sRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5zZXRNYXhMaXN0ZW5lcnM9ZnVuY3Rpb24obil7aWYoXCJudW1iZXJcIiE9dHlwZW9mIG58fG48MHx8TnVtYmVySXNOYU4obikpdGhyb3cgbmV3IFJhbmdlRXJyb3IoJ1RoZSB2YWx1ZSBvZiBcIm5cIiBpcyBvdXQgb2YgcmFuZ2UuIEl0IG11c3QgYmUgYSBub24tbmVnYXRpdmUgbnVtYmVyLiBSZWNlaXZlZCAnK24rXCIuXCIpO3JldHVybiB0aGlzLl9tYXhMaXN0ZW5lcnM9bix0aGlzfSxFdmVudEVtaXR0ZXIucHJvdG90eXBlLmdldE1heExpc3RlbmVycz1mdW5jdGlvbigpe3JldHVybiBfZ2V0TWF4TGlzdGVuZXJzKHRoaXMpfSxFdmVudEVtaXR0ZXIucHJvdG90eXBlLmVtaXQ9ZnVuY3Rpb24odHlwZSl7Zm9yKHZhciBhcmdzPVtdLGk9MTtpPGFyZ3VtZW50cy5sZW5ndGg7aSsrKWFyZ3MucHVzaChhcmd1bWVudHNbaV0pO3ZhciBkb0Vycm9yPVwiZXJyb3JcIj09PXR5cGUsZXZlbnRzPXRoaXMuX2V2ZW50cztpZih2b2lkIDAhPT1ldmVudHMpZG9FcnJvcj1kb0Vycm9yJiZ2b2lkIDA9PT1ldmVudHMuZXJyb3I7ZWxzZSBpZighZG9FcnJvcilyZXR1cm4hMTtpZihkb0Vycm9yKXt2YXIgZXI7aWYoYXJncy5sZW5ndGg+MCYmKGVyPWFyZ3NbMF0pLGVyIGluc3RhbmNlb2YgRXJyb3IpdGhyb3cgZXI7dmFyIGVycj1uZXcgRXJyb3IoXCJVbmhhbmRsZWQgZXJyb3IuXCIrKGVyP1wiIChcIitlci5tZXNzYWdlK1wiKVwiOlwiXCIpKTt0aHJvdyBlcnIuY29udGV4dD1lcixlcnJ9dmFyIGhhbmRsZXI9ZXZlbnRzW3R5cGVdO2lmKHZvaWQgMD09PWhhbmRsZXIpcmV0dXJuITE7aWYoXCJmdW5jdGlvblwiPT10eXBlb2YgaGFuZGxlcilSZWZsZWN0QXBwbHkoaGFuZGxlcix0aGlzLGFyZ3MpO2Vsc2V7dmFyIGxlbj1oYW5kbGVyLmxlbmd0aCxsaXN0ZW5lcnM9YXJyYXlDbG9uZShoYW5kbGVyLGxlbik7Zm9yKGk9MDtpPGxlbjsrK2kpUmVmbGVjdEFwcGx5KGxpc3RlbmVyc1tpXSx0aGlzLGFyZ3MpfXJldHVybiEwfSxFdmVudEVtaXR0ZXIucHJvdG90eXBlLmFkZExpc3RlbmVyPWZ1bmN0aW9uKHR5cGUsbGlzdGVuZXIpe3JldHVybiBfYWRkTGlzdGVuZXIodGhpcyx0eXBlLGxpc3RlbmVyLCExKX0sRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5vbj1FdmVudEVtaXR0ZXIucHJvdG90eXBlLmFkZExpc3RlbmVyLEV2ZW50RW1pdHRlci5wcm90b3R5cGUucHJlcGVuZExpc3RlbmVyPWZ1bmN0aW9uKHR5cGUsbGlzdGVuZXIpe3JldHVybiBfYWRkTGlzdGVuZXIodGhpcyx0eXBlLGxpc3RlbmVyLCEwKX0sRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5vbmNlPWZ1bmN0aW9uKHR5cGUsbGlzdGVuZXIpe3JldHVybiBjaGVja0xpc3RlbmVyKGxpc3RlbmVyKSx0aGlzLm9uKHR5cGUsX29uY2VXcmFwKHRoaXMsdHlwZSxsaXN0ZW5lcikpLHRoaXN9LEV2ZW50RW1pdHRlci5wcm90b3R5cGUucHJlcGVuZE9uY2VMaXN0ZW5lcj1mdW5jdGlvbih0eXBlLGxpc3RlbmVyKXtyZXR1cm4gY2hlY2tMaXN0ZW5lcihsaXN0ZW5lciksdGhpcy5wcmVwZW5kTGlzdGVuZXIodHlwZSxfb25jZVdyYXAodGhpcyx0eXBlLGxpc3RlbmVyKSksdGhpc30sRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5yZW1vdmVMaXN0ZW5lcj1mdW5jdGlvbih0eXBlLGxpc3RlbmVyKXt2YXIgbGlzdCxldmVudHMscG9zaXRpb24saSxvcmlnaW5hbExpc3RlbmVyO2lmKGNoZWNrTGlzdGVuZXIobGlzdGVuZXIpLHZvaWQgMD09PShldmVudHM9dGhpcy5fZXZlbnRzKSlyZXR1cm4gdGhpcztpZih2b2lkIDA9PT0obGlzdD1ldmVudHNbdHlwZV0pKXJldHVybiB0aGlzO2lmKGxpc3Q9PT1saXN0ZW5lcnx8bGlzdC5saXN0ZW5lcj09PWxpc3RlbmVyKTA9PS0tdGhpcy5fZXZlbnRzQ291bnQ/dGhpcy5fZXZlbnRzPU9iamVjdC5jcmVhdGUobnVsbCk6KGRlbGV0ZSBldmVudHNbdHlwZV0sZXZlbnRzLnJlbW92ZUxpc3RlbmVyJiZ0aGlzLmVtaXQoXCJyZW1vdmVMaXN0ZW5lclwiLHR5cGUsbGlzdC5saXN0ZW5lcnx8bGlzdGVuZXIpKTtlbHNlIGlmKFwiZnVuY3Rpb25cIiE9dHlwZW9mIGxpc3Qpe2Zvcihwb3NpdGlvbj0tMSxpPWxpc3QubGVuZ3RoLTE7aT49MDtpLS0paWYobGlzdFtpXT09PWxpc3RlbmVyfHxsaXN0W2ldLmxpc3RlbmVyPT09bGlzdGVuZXIpe29yaWdpbmFsTGlzdGVuZXI9bGlzdFtpXS5saXN0ZW5lcixwb3NpdGlvbj1pO2JyZWFrfWlmKHBvc2l0aW9uPDApcmV0dXJuIHRoaXM7MD09PXBvc2l0aW9uP2xpc3Quc2hpZnQoKTpmdW5jdGlvbihsaXN0LGluZGV4KXtmb3IoO2luZGV4KzE8bGlzdC5sZW5ndGg7aW5kZXgrKylsaXN0W2luZGV4XT1saXN0W2luZGV4KzFdO2xpc3QucG9wKCl9KGxpc3QscG9zaXRpb24pLDE9PT1saXN0Lmxlbmd0aCYmKGV2ZW50c1t0eXBlXT1saXN0WzBdKSx2b2lkIDAhPT1ldmVudHMucmVtb3ZlTGlzdGVuZXImJnRoaXMuZW1pdChcInJlbW92ZUxpc3RlbmVyXCIsdHlwZSxvcmlnaW5hbExpc3RlbmVyfHxsaXN0ZW5lcil9cmV0dXJuIHRoaXN9LEV2ZW50RW1pdHRlci5wcm90b3R5cGUub2ZmPUV2ZW50RW1pdHRlci5wcm90b3R5cGUucmVtb3ZlTGlzdGVuZXIsRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5yZW1vdmVBbGxMaXN0ZW5lcnM9ZnVuY3Rpb24odHlwZSl7dmFyIGxpc3RlbmVycyxldmVudHMsaTtpZih2b2lkIDA9PT0oZXZlbnRzPXRoaXMuX2V2ZW50cykpcmV0dXJuIHRoaXM7aWYodm9pZCAwPT09ZXZlbnRzLnJlbW92ZUxpc3RlbmVyKXJldHVybiAwPT09YXJndW1lbnRzLmxlbmd0aD8odGhpcy5fZXZlbnRzPU9iamVjdC5jcmVhdGUobnVsbCksdGhpcy5fZXZlbnRzQ291bnQ9MCk6dm9pZCAwIT09ZXZlbnRzW3R5cGVdJiYoMD09LS10aGlzLl9ldmVudHNDb3VudD90aGlzLl9ldmVudHM9T2JqZWN0LmNyZWF0ZShudWxsKTpkZWxldGUgZXZlbnRzW3R5cGVdKSx0aGlzO2lmKDA9PT1hcmd1bWVudHMubGVuZ3RoKXt2YXIga2V5LGtleXM9T2JqZWN0LmtleXMoZXZlbnRzKTtmb3IoaT0wO2k8a2V5cy5sZW5ndGg7KytpKVwicmVtb3ZlTGlzdGVuZXJcIiE9PShrZXk9a2V5c1tpXSkmJnRoaXMucmVtb3ZlQWxsTGlzdGVuZXJzKGtleSk7cmV0dXJuIHRoaXMucmVtb3ZlQWxsTGlzdGVuZXJzKFwicmVtb3ZlTGlzdGVuZXJcIiksdGhpcy5fZXZlbnRzPU9iamVjdC5jcmVhdGUobnVsbCksdGhpcy5fZXZlbnRzQ291bnQ9MCx0aGlzfWlmKFwiZnVuY3Rpb25cIj09dHlwZW9mKGxpc3RlbmVycz1ldmVudHNbdHlwZV0pKXRoaXMucmVtb3ZlTGlzdGVuZXIodHlwZSxsaXN0ZW5lcnMpO2Vsc2UgaWYodm9pZCAwIT09bGlzdGVuZXJzKWZvcihpPWxpc3RlbmVycy5sZW5ndGgtMTtpPj0wO2ktLSl0aGlzLnJlbW92ZUxpc3RlbmVyKHR5cGUsbGlzdGVuZXJzW2ldKTtyZXR1cm4gdGhpc30sRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5saXN0ZW5lcnM9ZnVuY3Rpb24odHlwZSl7cmV0dXJuIF9saXN0ZW5lcnModGhpcyx0eXBlLCEwKX0sRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5yYXdMaXN0ZW5lcnM9ZnVuY3Rpb24odHlwZSl7cmV0dXJuIF9saXN0ZW5lcnModGhpcyx0eXBlLCExKX0sRXZlbnRFbWl0dGVyLmxpc3RlbmVyQ291bnQ9ZnVuY3Rpb24oZW1pdHRlcix0eXBlKXtyZXR1cm5cImZ1bmN0aW9uXCI9PXR5cGVvZiBlbWl0dGVyLmxpc3RlbmVyQ291bnQ/ZW1pdHRlci5saXN0ZW5lckNvdW50KHR5cGUpOmxpc3RlbmVyQ291bnQuY2FsbChlbWl0dGVyLHR5cGUpfSxFdmVudEVtaXR0ZXIucHJvdG90eXBlLmxpc3RlbmVyQ291bnQ9bGlzdGVuZXJDb3VudCxFdmVudEVtaXR0ZXIucHJvdG90eXBlLmV2ZW50TmFtZXM9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fZXZlbnRzQ291bnQ+MD9SZWZsZWN0T3duS2V5cyh0aGlzLl9ldmVudHMpOltdfX0sZnVuY3Rpb24obW9kdWxlLGV4cG9ydHMsX193ZWJwYWNrX3JlcXVpcmVfXyl7KGV4cG9ydHM9bW9kdWxlLmV4cG9ydHM9X193ZWJwYWNrX3JlcXVpcmVfXyg1MikpLlN0cmVhbT1leHBvcnRzLGV4cG9ydHMuUmVhZGFibGU9ZXhwb3J0cyxleHBvcnRzLldyaXRhYmxlPV9fd2VicGFja19yZXF1aXJlX18oNDIpLGV4cG9ydHMuRHVwbGV4PV9fd2VicGFja19yZXF1aXJlX18oMTIpLGV4cG9ydHMuVHJhbnNmb3JtPV9fd2VicGFja19yZXF1aXJlX18oNTcpLGV4cG9ydHMuUGFzc1Rocm91Z2g9X193ZWJwYWNrX3JlcXVpcmVfXyg5NSl9LGZ1bmN0aW9uKG1vZHVsZSxleHBvcnRzLF9fd2VicGFja19yZXF1aXJlX18pe1widXNlIHN0cmljdFwiOyhmdW5jdGlvbihwcm9jZXNzLHNldEltbWVkaWF0ZSxnbG9iYWwpe3ZhciBwbmE9X193ZWJwYWNrX3JlcXVpcmVfXygyOSk7ZnVuY3Rpb24gQ29ya2VkUmVxdWVzdChzdGF0ZSl7dmFyIF90aGlzPXRoaXM7dGhpcy5uZXh0PW51bGwsdGhpcy5lbnRyeT1udWxsLHRoaXMuZmluaXNoPWZ1bmN0aW9uKCl7IWZ1bmN0aW9uKGNvcmtSZXEsc3RhdGUsZXJyKXt2YXIgZW50cnk9Y29ya1JlcS5lbnRyeTtjb3JrUmVxLmVudHJ5PW51bGw7Zm9yKDtlbnRyeTspe3ZhciBjYj1lbnRyeS5jYWxsYmFjaztzdGF0ZS5wZW5kaW5nY2ItLSxjYihlcnIpLGVudHJ5PWVudHJ5Lm5leHR9c3RhdGUuY29ya2VkUmVxdWVzdHNGcmVlP3N0YXRlLmNvcmtlZFJlcXVlc3RzRnJlZS5uZXh0PWNvcmtSZXE6c3RhdGUuY29ya2VkUmVxdWVzdHNGcmVlPWNvcmtSZXF9KF90aGlzLHN0YXRlKX19bW9kdWxlLmV4cG9ydHM9V3JpdGFibGU7dmFyIER1cGxleCxhc3luY1dyaXRlPSFwcm9jZXNzLmJyb3dzZXImJltcInYwLjEwXCIsXCJ2MC45LlwiXS5pbmRleE9mKHByb2Nlc3MudmVyc2lvbi5zbGljZSgwLDUpKT4tMT9zZXRJbW1lZGlhdGU6cG5hLm5leHRUaWNrO1dyaXRhYmxlLldyaXRhYmxlU3RhdGU9V3JpdGFibGVTdGF0ZTt2YXIgdXRpbD1PYmplY3QuY3JlYXRlKF9fd2VicGFja19yZXF1aXJlX18oMjUpKTt1dGlsLmluaGVyaXRzPV9fd2VicGFja19yZXF1aXJlX18oMTQpO3ZhciBpbnRlcm5hbFV0aWw9e2RlcHJlY2F0ZTpfX3dlYnBhY2tfcmVxdWlyZV9fKDk0KX0sU3RyZWFtPV9fd2VicGFja19yZXF1aXJlX18oNTMpLEJ1ZmZlcj1fX3dlYnBhY2tfcmVxdWlyZV9fKDMwKS5CdWZmZXIsT3VyVWludDhBcnJheT1nbG9iYWwuVWludDhBcnJheXx8ZnVuY3Rpb24oKXt9O3ZhciByZWFsSGFzSW5zdGFuY2UsZGVzdHJveUltcGw9X193ZWJwYWNrX3JlcXVpcmVfXyg1NCk7ZnVuY3Rpb24gbm9wKCl7fWZ1bmN0aW9uIFdyaXRhYmxlU3RhdGUob3B0aW9ucyxzdHJlYW0pe0R1cGxleD1EdXBsZXh8fF9fd2VicGFja19yZXF1aXJlX18oMTIpLG9wdGlvbnM9b3B0aW9uc3x8e307dmFyIGlzRHVwbGV4PXN0cmVhbSBpbnN0YW5jZW9mIER1cGxleDt0aGlzLm9iamVjdE1vZGU9ISFvcHRpb25zLm9iamVjdE1vZGUsaXNEdXBsZXgmJih0aGlzLm9iamVjdE1vZGU9dGhpcy5vYmplY3RNb2RlfHwhIW9wdGlvbnMud3JpdGFibGVPYmplY3RNb2RlKTt2YXIgaHdtPW9wdGlvbnMuaGlnaFdhdGVyTWFyayx3cml0YWJsZUh3bT1vcHRpb25zLndyaXRhYmxlSGlnaFdhdGVyTWFyayxkZWZhdWx0SHdtPXRoaXMub2JqZWN0TW9kZT8xNjoxNjM4NDt0aGlzLmhpZ2hXYXRlck1hcms9aHdtfHwwPT09aHdtP2h3bTppc0R1cGxleCYmKHdyaXRhYmxlSHdtfHwwPT09d3JpdGFibGVId20pP3dyaXRhYmxlSHdtOmRlZmF1bHRId20sdGhpcy5oaWdoV2F0ZXJNYXJrPU1hdGguZmxvb3IodGhpcy5oaWdoV2F0ZXJNYXJrKSx0aGlzLmZpbmFsQ2FsbGVkPSExLHRoaXMubmVlZERyYWluPSExLHRoaXMuZW5kaW5nPSExLHRoaXMuZW5kZWQ9ITEsdGhpcy5maW5pc2hlZD0hMSx0aGlzLmRlc3Ryb3llZD0hMTt2YXIgbm9EZWNvZGU9ITE9PT1vcHRpb25zLmRlY29kZVN0cmluZ3M7dGhpcy5kZWNvZGVTdHJpbmdzPSFub0RlY29kZSx0aGlzLmRlZmF1bHRFbmNvZGluZz1vcHRpb25zLmRlZmF1bHRFbmNvZGluZ3x8XCJ1dGY4XCIsdGhpcy5sZW5ndGg9MCx0aGlzLndyaXRpbmc9ITEsdGhpcy5jb3JrZWQ9MCx0aGlzLnN5bmM9ITAsdGhpcy5idWZmZXJQcm9jZXNzaW5nPSExLHRoaXMub253cml0ZT1mdW5jdGlvbihlcil7IWZ1bmN0aW9uKHN0cmVhbSxlcil7dmFyIHN0YXRlPXN0cmVhbS5fd3JpdGFibGVTdGF0ZSxzeW5jPXN0YXRlLnN5bmMsY2I9c3RhdGUud3JpdGVjYjtpZihmdW5jdGlvbihzdGF0ZSl7c3RhdGUud3JpdGluZz0hMSxzdGF0ZS53cml0ZWNiPW51bGwsc3RhdGUubGVuZ3RoLT1zdGF0ZS53cml0ZWxlbixzdGF0ZS53cml0ZWxlbj0wfShzdGF0ZSksZXIpIWZ1bmN0aW9uKHN0cmVhbSxzdGF0ZSxzeW5jLGVyLGNiKXstLXN0YXRlLnBlbmRpbmdjYixzeW5jPyhwbmEubmV4dFRpY2soY2IsZXIpLHBuYS5uZXh0VGljayhmaW5pc2hNYXliZSxzdHJlYW0sc3RhdGUpLHN0cmVhbS5fd3JpdGFibGVTdGF0ZS5lcnJvckVtaXR0ZWQ9ITAsc3RyZWFtLmVtaXQoXCJlcnJvclwiLGVyKSk6KGNiKGVyKSxzdHJlYW0uX3dyaXRhYmxlU3RhdGUuZXJyb3JFbWl0dGVkPSEwLHN0cmVhbS5lbWl0KFwiZXJyb3JcIixlciksZmluaXNoTWF5YmUoc3RyZWFtLHN0YXRlKSl9KHN0cmVhbSxzdGF0ZSxzeW5jLGVyLGNiKTtlbHNle3ZhciBmaW5pc2hlZD1uZWVkRmluaXNoKHN0YXRlKTtmaW5pc2hlZHx8c3RhdGUuY29ya2VkfHxzdGF0ZS5idWZmZXJQcm9jZXNzaW5nfHwhc3RhdGUuYnVmZmVyZWRSZXF1ZXN0fHxjbGVhckJ1ZmZlcihzdHJlYW0sc3RhdGUpLHN5bmM/YXN5bmNXcml0ZShhZnRlcldyaXRlLHN0cmVhbSxzdGF0ZSxmaW5pc2hlZCxjYik6YWZ0ZXJXcml0ZShzdHJlYW0sc3RhdGUsZmluaXNoZWQsY2IpfX0oc3RyZWFtLGVyKX0sdGhpcy53cml0ZWNiPW51bGwsdGhpcy53cml0ZWxlbj0wLHRoaXMuYnVmZmVyZWRSZXF1ZXN0PW51bGwsdGhpcy5sYXN0QnVmZmVyZWRSZXF1ZXN0PW51bGwsdGhpcy5wZW5kaW5nY2I9MCx0aGlzLnByZWZpbmlzaGVkPSExLHRoaXMuZXJyb3JFbWl0dGVkPSExLHRoaXMuYnVmZmVyZWRSZXF1ZXN0Q291bnQ9MCx0aGlzLmNvcmtlZFJlcXVlc3RzRnJlZT1uZXcgQ29ya2VkUmVxdWVzdCh0aGlzKX1mdW5jdGlvbiBXcml0YWJsZShvcHRpb25zKXtpZihEdXBsZXg9RHVwbGV4fHxfX3dlYnBhY2tfcmVxdWlyZV9fKDEyKSwhKHJlYWxIYXNJbnN0YW5jZS5jYWxsKFdyaXRhYmxlLHRoaXMpfHx0aGlzIGluc3RhbmNlb2YgRHVwbGV4KSlyZXR1cm4gbmV3IFdyaXRhYmxlKG9wdGlvbnMpO3RoaXMuX3dyaXRhYmxlU3RhdGU9bmV3IFdyaXRhYmxlU3RhdGUob3B0aW9ucyx0aGlzKSx0aGlzLndyaXRhYmxlPSEwLG9wdGlvbnMmJihcImZ1bmN0aW9uXCI9PXR5cGVvZiBvcHRpb25zLndyaXRlJiYodGhpcy5fd3JpdGU9b3B0aW9ucy53cml0ZSksXCJmdW5jdGlvblwiPT10eXBlb2Ygb3B0aW9ucy53cml0ZXYmJih0aGlzLl93cml0ZXY9b3B0aW9ucy53cml0ZXYpLFwiZnVuY3Rpb25cIj09dHlwZW9mIG9wdGlvbnMuZGVzdHJveSYmKHRoaXMuX2Rlc3Ryb3k9b3B0aW9ucy5kZXN0cm95KSxcImZ1bmN0aW9uXCI9PXR5cGVvZiBvcHRpb25zLmZpbmFsJiYodGhpcy5fZmluYWw9b3B0aW9ucy5maW5hbCkpLFN0cmVhbS5jYWxsKHRoaXMpfWZ1bmN0aW9uIGRvV3JpdGUoc3RyZWFtLHN0YXRlLHdyaXRldixsZW4sY2h1bmssZW5jb2RpbmcsY2Ipe3N0YXRlLndyaXRlbGVuPWxlbixzdGF0ZS53cml0ZWNiPWNiLHN0YXRlLndyaXRpbmc9ITAsc3RhdGUuc3luYz0hMCx3cml0ZXY/c3RyZWFtLl93cml0ZXYoY2h1bmssc3RhdGUub253cml0ZSk6c3RyZWFtLl93cml0ZShjaHVuayxlbmNvZGluZyxzdGF0ZS5vbndyaXRlKSxzdGF0ZS5zeW5jPSExfWZ1bmN0aW9uIGFmdGVyV3JpdGUoc3RyZWFtLHN0YXRlLGZpbmlzaGVkLGNiKXtmaW5pc2hlZHx8ZnVuY3Rpb24oc3RyZWFtLHN0YXRlKXswPT09c3RhdGUubGVuZ3RoJiZzdGF0ZS5uZWVkRHJhaW4mJihzdGF0ZS5uZWVkRHJhaW49ITEsc3RyZWFtLmVtaXQoXCJkcmFpblwiKSl9KHN0cmVhbSxzdGF0ZSksc3RhdGUucGVuZGluZ2NiLS0sY2IoKSxmaW5pc2hNYXliZShzdHJlYW0sc3RhdGUpfWZ1bmN0aW9uIGNsZWFyQnVmZmVyKHN0cmVhbSxzdGF0ZSl7c3RhdGUuYnVmZmVyUHJvY2Vzc2luZz0hMDt2YXIgZW50cnk9c3RhdGUuYnVmZmVyZWRSZXF1ZXN0O2lmKHN0cmVhbS5fd3JpdGV2JiZlbnRyeSYmZW50cnkubmV4dCl7dmFyIGw9c3RhdGUuYnVmZmVyZWRSZXF1ZXN0Q291bnQsYnVmZmVyPW5ldyBBcnJheShsKSxob2xkZXI9c3RhdGUuY29ya2VkUmVxdWVzdHNGcmVlO2hvbGRlci5lbnRyeT1lbnRyeTtmb3IodmFyIGNvdW50PTAsYWxsQnVmZmVycz0hMDtlbnRyeTspYnVmZmVyW2NvdW50XT1lbnRyeSxlbnRyeS5pc0J1Znx8KGFsbEJ1ZmZlcnM9ITEpLGVudHJ5PWVudHJ5Lm5leHQsY291bnQrPTE7YnVmZmVyLmFsbEJ1ZmZlcnM9YWxsQnVmZmVycyxkb1dyaXRlKHN0cmVhbSxzdGF0ZSwhMCxzdGF0ZS5sZW5ndGgsYnVmZmVyLFwiXCIsaG9sZGVyLmZpbmlzaCksc3RhdGUucGVuZGluZ2NiKyssc3RhdGUubGFzdEJ1ZmZlcmVkUmVxdWVzdD1udWxsLGhvbGRlci5uZXh0PyhzdGF0ZS5jb3JrZWRSZXF1ZXN0c0ZyZWU9aG9sZGVyLm5leHQsaG9sZGVyLm5leHQ9bnVsbCk6c3RhdGUuY29ya2VkUmVxdWVzdHNGcmVlPW5ldyBDb3JrZWRSZXF1ZXN0KHN0YXRlKSxzdGF0ZS5idWZmZXJlZFJlcXVlc3RDb3VudD0wfWVsc2V7Zm9yKDtlbnRyeTspe3ZhciBjaHVuaz1lbnRyeS5jaHVuayxlbmNvZGluZz1lbnRyeS5lbmNvZGluZyxjYj1lbnRyeS5jYWxsYmFjaztpZihkb1dyaXRlKHN0cmVhbSxzdGF0ZSwhMSxzdGF0ZS5vYmplY3RNb2RlPzE6Y2h1bmsubGVuZ3RoLGNodW5rLGVuY29kaW5nLGNiKSxlbnRyeT1lbnRyeS5uZXh0LHN0YXRlLmJ1ZmZlcmVkUmVxdWVzdENvdW50LS0sc3RhdGUud3JpdGluZylicmVha31udWxsPT09ZW50cnkmJihzdGF0ZS5sYXN0QnVmZmVyZWRSZXF1ZXN0PW51bGwpfXN0YXRlLmJ1ZmZlcmVkUmVxdWVzdD1lbnRyeSxzdGF0ZS5idWZmZXJQcm9jZXNzaW5nPSExfWZ1bmN0aW9uIG5lZWRGaW5pc2goc3RhdGUpe3JldHVybiBzdGF0ZS5lbmRpbmcmJjA9PT1zdGF0ZS5sZW5ndGgmJm51bGw9PT1zdGF0ZS5idWZmZXJlZFJlcXVlc3QmJiFzdGF0ZS5maW5pc2hlZCYmIXN0YXRlLndyaXRpbmd9ZnVuY3Rpb24gY2FsbEZpbmFsKHN0cmVhbSxzdGF0ZSl7c3RyZWFtLl9maW5hbChmdW5jdGlvbihlcnIpe3N0YXRlLnBlbmRpbmdjYi0tLGVyciYmc3RyZWFtLmVtaXQoXCJlcnJvclwiLGVyciksc3RhdGUucHJlZmluaXNoZWQ9ITAsc3RyZWFtLmVtaXQoXCJwcmVmaW5pc2hcIiksZmluaXNoTWF5YmUoc3RyZWFtLHN0YXRlKX0pfWZ1bmN0aW9uIGZpbmlzaE1heWJlKHN0cmVhbSxzdGF0ZSl7dmFyIG5lZWQ9bmVlZEZpbmlzaChzdGF0ZSk7cmV0dXJuIG5lZWQmJighZnVuY3Rpb24oc3RyZWFtLHN0YXRlKXtzdGF0ZS5wcmVmaW5pc2hlZHx8c3RhdGUuZmluYWxDYWxsZWR8fChcImZ1bmN0aW9uXCI9PXR5cGVvZiBzdHJlYW0uX2ZpbmFsPyhzdGF0ZS5wZW5kaW5nY2IrKyxzdGF0ZS5maW5hbENhbGxlZD0hMCxwbmEubmV4dFRpY2soY2FsbEZpbmFsLHN0cmVhbSxzdGF0ZSkpOihzdGF0ZS5wcmVmaW5pc2hlZD0hMCxzdHJlYW0uZW1pdChcInByZWZpbmlzaFwiKSkpfShzdHJlYW0sc3RhdGUpLDA9PT1zdGF0ZS5wZW5kaW5nY2ImJihzdGF0ZS5maW5pc2hlZD0hMCxzdHJlYW0uZW1pdChcImZpbmlzaFwiKSkpLG5lZWR9dXRpbC5pbmhlcml0cyhXcml0YWJsZSxTdHJlYW0pLFdyaXRhYmxlU3RhdGUucHJvdG90eXBlLmdldEJ1ZmZlcj1mdW5jdGlvbigpe2Zvcih2YXIgY3VycmVudD10aGlzLmJ1ZmZlcmVkUmVxdWVzdCxvdXQ9W107Y3VycmVudDspb3V0LnB1c2goY3VycmVudCksY3VycmVudD1jdXJyZW50Lm5leHQ7cmV0dXJuIG91dH0sZnVuY3Rpb24oKXt0cnl7T2JqZWN0LmRlZmluZVByb3BlcnR5KFdyaXRhYmxlU3RhdGUucHJvdG90eXBlLFwiYnVmZmVyXCIse2dldDppbnRlcm5hbFV0aWwuZGVwcmVjYXRlKGZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZ2V0QnVmZmVyKCl9LFwiX3dyaXRhYmxlU3RhdGUuYnVmZmVyIGlzIGRlcHJlY2F0ZWQuIFVzZSBfd3JpdGFibGVTdGF0ZS5nZXRCdWZmZXIgaW5zdGVhZC5cIixcIkRFUDAwMDNcIil9KX1jYXRjaChfKXt9fSgpLFwiZnVuY3Rpb25cIj09dHlwZW9mIFN5bWJvbCYmU3ltYm9sLmhhc0luc3RhbmNlJiZcImZ1bmN0aW9uXCI9PXR5cGVvZiBGdW5jdGlvbi5wcm90b3R5cGVbU3ltYm9sLmhhc0luc3RhbmNlXT8ocmVhbEhhc0luc3RhbmNlPUZ1bmN0aW9uLnByb3RvdHlwZVtTeW1ib2wuaGFzSW5zdGFuY2VdLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShXcml0YWJsZSxTeW1ib2wuaGFzSW5zdGFuY2Use3ZhbHVlOmZ1bmN0aW9uKG9iamVjdCl7cmV0dXJuISFyZWFsSGFzSW5zdGFuY2UuY2FsbCh0aGlzLG9iamVjdCl8fHRoaXM9PT1Xcml0YWJsZSYmKG9iamVjdCYmb2JqZWN0Ll93cml0YWJsZVN0YXRlIGluc3RhbmNlb2YgV3JpdGFibGVTdGF0ZSl9fSkpOnJlYWxIYXNJbnN0YW5jZT1mdW5jdGlvbihvYmplY3Qpe3JldHVybiBvYmplY3QgaW5zdGFuY2VvZiB0aGlzfSxXcml0YWJsZS5wcm90b3R5cGUucGlwZT1mdW5jdGlvbigpe3RoaXMuZW1pdChcImVycm9yXCIsbmV3IEVycm9yKFwiQ2Fubm90IHBpcGUsIG5vdCByZWFkYWJsZVwiKSl9LFdyaXRhYmxlLnByb3RvdHlwZS53cml0ZT1mdW5jdGlvbihjaHVuayxlbmNvZGluZyxjYil7dmFyIHN0YXRlPXRoaXMuX3dyaXRhYmxlU3RhdGUscmV0PSExLGlzQnVmPSFzdGF0ZS5vYmplY3RNb2RlJiZmdW5jdGlvbihvYmope3JldHVybiBCdWZmZXIuaXNCdWZmZXIob2JqKXx8b2JqIGluc3RhbmNlb2YgT3VyVWludDhBcnJheX0oY2h1bmspO3JldHVybiBpc0J1ZiYmIUJ1ZmZlci5pc0J1ZmZlcihjaHVuaykmJihjaHVuaz1mdW5jdGlvbihjaHVuayl7cmV0dXJuIEJ1ZmZlci5mcm9tKGNodW5rKX0oY2h1bmspKSxcImZ1bmN0aW9uXCI9PXR5cGVvZiBlbmNvZGluZyYmKGNiPWVuY29kaW5nLGVuY29kaW5nPW51bGwpLGlzQnVmP2VuY29kaW5nPVwiYnVmZmVyXCI6ZW5jb2Rpbmd8fChlbmNvZGluZz1zdGF0ZS5kZWZhdWx0RW5jb2RpbmcpLFwiZnVuY3Rpb25cIiE9dHlwZW9mIGNiJiYoY2I9bm9wKSxzdGF0ZS5lbmRlZD9mdW5jdGlvbihzdHJlYW0sY2Ipe3ZhciBlcj1uZXcgRXJyb3IoXCJ3cml0ZSBhZnRlciBlbmRcIik7c3RyZWFtLmVtaXQoXCJlcnJvclwiLGVyKSxwbmEubmV4dFRpY2soY2IsZXIpfSh0aGlzLGNiKTooaXNCdWZ8fGZ1bmN0aW9uKHN0cmVhbSxzdGF0ZSxjaHVuayxjYil7dmFyIHZhbGlkPSEwLGVyPSExO3JldHVybiBudWxsPT09Y2h1bms/ZXI9bmV3IFR5cGVFcnJvcihcIk1heSBub3Qgd3JpdGUgbnVsbCB2YWx1ZXMgdG8gc3RyZWFtXCIpOlwic3RyaW5nXCI9PXR5cGVvZiBjaHVua3x8dm9pZCAwPT09Y2h1bmt8fHN0YXRlLm9iamVjdE1vZGV8fChlcj1uZXcgVHlwZUVycm9yKFwiSW52YWxpZCBub24tc3RyaW5nL2J1ZmZlciBjaHVua1wiKSksZXImJihzdHJlYW0uZW1pdChcImVycm9yXCIsZXIpLHBuYS5uZXh0VGljayhjYixlciksdmFsaWQ9ITEpLHZhbGlkfSh0aGlzLHN0YXRlLGNodW5rLGNiKSkmJihzdGF0ZS5wZW5kaW5nY2IrKyxyZXQ9ZnVuY3Rpb24oc3RyZWFtLHN0YXRlLGlzQnVmLGNodW5rLGVuY29kaW5nLGNiKXtpZighaXNCdWYpe3ZhciBuZXdDaHVuaz1mdW5jdGlvbihzdGF0ZSxjaHVuayxlbmNvZGluZyl7c3RhdGUub2JqZWN0TW9kZXx8ITE9PT1zdGF0ZS5kZWNvZGVTdHJpbmdzfHxcInN0cmluZ1wiIT10eXBlb2YgY2h1bmt8fChjaHVuaz1CdWZmZXIuZnJvbShjaHVuayxlbmNvZGluZykpO3JldHVybiBjaHVua30oc3RhdGUsY2h1bmssZW5jb2RpbmcpO2NodW5rIT09bmV3Q2h1bmsmJihpc0J1Zj0hMCxlbmNvZGluZz1cImJ1ZmZlclwiLGNodW5rPW5ld0NodW5rKX12YXIgbGVuPXN0YXRlLm9iamVjdE1vZGU/MTpjaHVuay5sZW5ndGg7c3RhdGUubGVuZ3RoKz1sZW47dmFyIHJldD1zdGF0ZS5sZW5ndGg8c3RhdGUuaGlnaFdhdGVyTWFyaztyZXR8fChzdGF0ZS5uZWVkRHJhaW49ITApO2lmKHN0YXRlLndyaXRpbmd8fHN0YXRlLmNvcmtlZCl7dmFyIGxhc3Q9c3RhdGUubGFzdEJ1ZmZlcmVkUmVxdWVzdDtzdGF0ZS5sYXN0QnVmZmVyZWRSZXF1ZXN0PXtjaHVuazpjaHVuayxlbmNvZGluZzplbmNvZGluZyxpc0J1Zjppc0J1ZixjYWxsYmFjazpjYixuZXh0Om51bGx9LGxhc3Q/bGFzdC5uZXh0PXN0YXRlLmxhc3RCdWZmZXJlZFJlcXVlc3Q6c3RhdGUuYnVmZmVyZWRSZXF1ZXN0PXN0YXRlLmxhc3RCdWZmZXJlZFJlcXVlc3Qsc3RhdGUuYnVmZmVyZWRSZXF1ZXN0Q291bnQrPTF9ZWxzZSBkb1dyaXRlKHN0cmVhbSxzdGF0ZSwhMSxsZW4sY2h1bmssZW5jb2RpbmcsY2IpO3JldHVybiByZXR9KHRoaXMsc3RhdGUsaXNCdWYsY2h1bmssZW5jb2RpbmcsY2IpKSxyZXR9LFdyaXRhYmxlLnByb3RvdHlwZS5jb3JrPWZ1bmN0aW9uKCl7dGhpcy5fd3JpdGFibGVTdGF0ZS5jb3JrZWQrK30sV3JpdGFibGUucHJvdG90eXBlLnVuY29yaz1mdW5jdGlvbigpe3ZhciBzdGF0ZT10aGlzLl93cml0YWJsZVN0YXRlO3N0YXRlLmNvcmtlZCYmKHN0YXRlLmNvcmtlZC0tLHN0YXRlLndyaXRpbmd8fHN0YXRlLmNvcmtlZHx8c3RhdGUuZmluaXNoZWR8fHN0YXRlLmJ1ZmZlclByb2Nlc3Npbmd8fCFzdGF0ZS5idWZmZXJlZFJlcXVlc3R8fGNsZWFyQnVmZmVyKHRoaXMsc3RhdGUpKX0sV3JpdGFibGUucHJvdG90eXBlLnNldERlZmF1bHRFbmNvZGluZz1mdW5jdGlvbihlbmNvZGluZyl7aWYoXCJzdHJpbmdcIj09dHlwZW9mIGVuY29kaW5nJiYoZW5jb2Rpbmc9ZW5jb2RpbmcudG9Mb3dlckNhc2UoKSksIShbXCJoZXhcIixcInV0ZjhcIixcInV0Zi04XCIsXCJhc2NpaVwiLFwiYmluYXJ5XCIsXCJiYXNlNjRcIixcInVjczJcIixcInVjcy0yXCIsXCJ1dGYxNmxlXCIsXCJ1dGYtMTZsZVwiLFwicmF3XCJdLmluZGV4T2YoKGVuY29kaW5nK1wiXCIpLnRvTG93ZXJDYXNlKCkpPi0xKSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiVW5rbm93biBlbmNvZGluZzogXCIrZW5jb2RpbmcpO3JldHVybiB0aGlzLl93cml0YWJsZVN0YXRlLmRlZmF1bHRFbmNvZGluZz1lbmNvZGluZyx0aGlzfSxPYmplY3QuZGVmaW5lUHJvcGVydHkoV3JpdGFibGUucHJvdG90eXBlLFwid3JpdGFibGVIaWdoV2F0ZXJNYXJrXCIse2VudW1lcmFibGU6ITEsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3dyaXRhYmxlU3RhdGUuaGlnaFdhdGVyTWFya319KSxXcml0YWJsZS5wcm90b3R5cGUuX3dyaXRlPWZ1bmN0aW9uKGNodW5rLGVuY29kaW5nLGNiKXtjYihuZXcgRXJyb3IoXCJfd3JpdGUoKSBpcyBub3QgaW1wbGVtZW50ZWRcIikpfSxXcml0YWJsZS5wcm90b3R5cGUuX3dyaXRldj1udWxsLFdyaXRhYmxlLnByb3RvdHlwZS5lbmQ9ZnVuY3Rpb24oY2h1bmssZW5jb2RpbmcsY2Ipe3ZhciBzdGF0ZT10aGlzLl93cml0YWJsZVN0YXRlO1wiZnVuY3Rpb25cIj09dHlwZW9mIGNodW5rPyhjYj1jaHVuayxjaHVuaz1udWxsLGVuY29kaW5nPW51bGwpOlwiZnVuY3Rpb25cIj09dHlwZW9mIGVuY29kaW5nJiYoY2I9ZW5jb2RpbmcsZW5jb2Rpbmc9bnVsbCksbnVsbCE9PWNodW5rJiZ2b2lkIDAhPT1jaHVuayYmdGhpcy53cml0ZShjaHVuayxlbmNvZGluZyksc3RhdGUuY29ya2VkJiYoc3RhdGUuY29ya2VkPTEsdGhpcy51bmNvcmsoKSksc3RhdGUuZW5kaW5nfHxzdGF0ZS5maW5pc2hlZHx8ZnVuY3Rpb24oc3RyZWFtLHN0YXRlLGNiKXtzdGF0ZS5lbmRpbmc9ITAsZmluaXNoTWF5YmUoc3RyZWFtLHN0YXRlKSxjYiYmKHN0YXRlLmZpbmlzaGVkP3BuYS5uZXh0VGljayhjYik6c3RyZWFtLm9uY2UoXCJmaW5pc2hcIixjYikpO3N0YXRlLmVuZGVkPSEwLHN0cmVhbS53cml0YWJsZT0hMX0odGhpcyxzdGF0ZSxjYil9LE9iamVjdC5kZWZpbmVQcm9wZXJ0eShXcml0YWJsZS5wcm90b3R5cGUsXCJkZXN0cm95ZWRcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHZvaWQgMCE9PXRoaXMuX3dyaXRhYmxlU3RhdGUmJnRoaXMuX3dyaXRhYmxlU3RhdGUuZGVzdHJveWVkfSxzZXQ6ZnVuY3Rpb24odmFsdWUpe3RoaXMuX3dyaXRhYmxlU3RhdGUmJih0aGlzLl93cml0YWJsZVN0YXRlLmRlc3Ryb3llZD12YWx1ZSl9fSksV3JpdGFibGUucHJvdG90eXBlLmRlc3Ryb3k9ZGVzdHJveUltcGwuZGVzdHJveSxXcml0YWJsZS5wcm90b3R5cGUuX3VuZGVzdHJveT1kZXN0cm95SW1wbC51bmRlc3Ryb3ksV3JpdGFibGUucHJvdG90eXBlLl9kZXN0cm95PWZ1bmN0aW9uKGVycixjYil7dGhpcy5lbmQoKSxjYihlcnIpfX0pLmNhbGwodGhpcyxfX3dlYnBhY2tfcmVxdWlyZV9fKDI0KSxfX3dlYnBhY2tfcmVxdWlyZV9fKDU1KS5zZXRJbW1lZGlhdGUsX193ZWJwYWNrX3JlcXVpcmVfXygxMSkpfSxmdW5jdGlvbihtb2R1bGUsZXhwb3J0cyxfX3dlYnBhY2tfcmVxdWlyZV9fKXtcInVzZSBzdHJpY3RcIjt2YXIgZXh0ZXJuYWw9X193ZWJwYWNrX3JlcXVpcmVfXygyNiksRGF0YVdvcmtlcj1fX3dlYnBhY2tfcmVxdWlyZV9fKDYxKSxEYXRhTGVuZ3RoUHJvYmU9X193ZWJwYWNrX3JlcXVpcmVfXyg2MiksQ3JjMzJQcm9iZT1fX3dlYnBhY2tfcmVxdWlyZV9fKDYzKTtEYXRhTGVuZ3RoUHJvYmU9X193ZWJwYWNrX3JlcXVpcmVfXyg2Mik7ZnVuY3Rpb24gQ29tcHJlc3NlZE9iamVjdChjb21wcmVzc2VkU2l6ZSx1bmNvbXByZXNzZWRTaXplLGNyYzMyLGNvbXByZXNzaW9uLGRhdGEpe3RoaXMuY29tcHJlc3NlZFNpemU9Y29tcHJlc3NlZFNpemUsdGhpcy51bmNvbXByZXNzZWRTaXplPXVuY29tcHJlc3NlZFNpemUsdGhpcy5jcmMzMj1jcmMzMix0aGlzLmNvbXByZXNzaW9uPWNvbXByZXNzaW9uLHRoaXMuY29tcHJlc3NlZENvbnRlbnQ9ZGF0YX1Db21wcmVzc2VkT2JqZWN0LnByb3RvdHlwZT17Z2V0Q29udGVudFdvcmtlcjpmdW5jdGlvbigpe3ZhciB3b3JrZXI9bmV3IERhdGFXb3JrZXIoZXh0ZXJuYWwuUHJvbWlzZS5yZXNvbHZlKHRoaXMuY29tcHJlc3NlZENvbnRlbnQpKS5waXBlKHRoaXMuY29tcHJlc3Npb24udW5jb21wcmVzc1dvcmtlcigpKS5waXBlKG5ldyBEYXRhTGVuZ3RoUHJvYmUoXCJkYXRhX2xlbmd0aFwiKSksdGhhdD10aGlzO3JldHVybiB3b3JrZXIub24oXCJlbmRcIixmdW5jdGlvbigpe2lmKHRoaXMuc3RyZWFtSW5mby5kYXRhX2xlbmd0aCE9PXRoYXQudW5jb21wcmVzc2VkU2l6ZSl0aHJvdyBuZXcgRXJyb3IoXCJCdWcgOiB1bmNvbXByZXNzZWQgZGF0YSBzaXplIG1pc21hdGNoXCIpfSksd29ya2VyfSxnZXRDb21wcmVzc2VkV29ya2VyOmZ1bmN0aW9uKCl7cmV0dXJuIG5ldyBEYXRhV29ya2VyKGV4dGVybmFsLlByb21pc2UucmVzb2x2ZSh0aGlzLmNvbXByZXNzZWRDb250ZW50KSkud2l0aFN0cmVhbUluZm8oXCJjb21wcmVzc2VkU2l6ZVwiLHRoaXMuY29tcHJlc3NlZFNpemUpLndpdGhTdHJlYW1JbmZvKFwidW5jb21wcmVzc2VkU2l6ZVwiLHRoaXMudW5jb21wcmVzc2VkU2l6ZSkud2l0aFN0cmVhbUluZm8oXCJjcmMzMlwiLHRoaXMuY3JjMzIpLndpdGhTdHJlYW1JbmZvKFwiY29tcHJlc3Npb25cIix0aGlzLmNvbXByZXNzaW9uKX19LENvbXByZXNzZWRPYmplY3QuY3JlYXRlV29ya2VyRnJvbT1mdW5jdGlvbih1bmNvbXByZXNzZWRXb3JrZXIsY29tcHJlc3Npb24sY29tcHJlc3Npb25PcHRpb25zKXtyZXR1cm4gdW5jb21wcmVzc2VkV29ya2VyLnBpcGUobmV3IENyYzMyUHJvYmUpLnBpcGUobmV3IERhdGFMZW5ndGhQcm9iZShcInVuY29tcHJlc3NlZFNpemVcIikpLnBpcGUoY29tcHJlc3Npb24uY29tcHJlc3NXb3JrZXIoY29tcHJlc3Npb25PcHRpb25zKSkucGlwZShuZXcgRGF0YUxlbmd0aFByb2JlKFwiY29tcHJlc3NlZFNpemVcIikpLndpdGhTdHJlYW1JbmZvKFwiY29tcHJlc3Npb25cIixjb21wcmVzc2lvbil9LG1vZHVsZS5leHBvcnRzPUNvbXByZXNzZWRPYmplY3R9LGZ1bmN0aW9uKG1vZHVsZSxleHBvcnRzLF9fd2VicGFja19yZXF1aXJlX18pe1widXNlIHN0cmljdFwiO3ZhciB1dGlscz1fX3dlYnBhY2tfcmVxdWlyZV9fKDApO3ZhciBjcmNUYWJsZT1mdW5jdGlvbigpe2Zvcih2YXIgYyx0YWJsZT1bXSxuPTA7bjwyNTY7bisrKXtjPW47Zm9yKHZhciBrPTA7azw4O2srKyljPTEmYz8zOTg4MjkyMzg0XmM+Pj4xOmM+Pj4xO3RhYmxlW25dPWN9cmV0dXJuIHRhYmxlfSgpO21vZHVsZS5leHBvcnRzPWZ1bmN0aW9uKGlucHV0LGNyYyl7cmV0dXJuIHZvaWQgMCE9PWlucHV0JiZpbnB1dC5sZW5ndGg/XCJzdHJpbmdcIiE9PXV0aWxzLmdldFR5cGVPZihpbnB1dCk/ZnVuY3Rpb24oY3JjLGJ1ZixsZW4scG9zKXt2YXIgdD1jcmNUYWJsZSxlbmQ9cG9zK2xlbjtjcmNePS0xO2Zvcih2YXIgaT1wb3M7aTxlbmQ7aSsrKWNyYz1jcmM+Pj44XnRbMjU1JihjcmNeYnVmW2ldKV07cmV0dXJuLTFeY3JjfSgwfGNyYyxpbnB1dCxpbnB1dC5sZW5ndGgsMCk6ZnVuY3Rpb24oY3JjLHN0cixsZW4scG9zKXt2YXIgdD1jcmNUYWJsZSxlbmQ9cG9zK2xlbjtjcmNePS0xO2Zvcih2YXIgaT1wb3M7aTxlbmQ7aSsrKWNyYz1jcmM+Pj44XnRbMjU1JihjcmNec3RyLmNoYXJDb2RlQXQoaSkpXTtyZXR1cm4tMV5jcmN9KDB8Y3JjLGlucHV0LGlucHV0Lmxlbmd0aCwwKTowfX0sZnVuY3Rpb24obW9kdWxlLGV4cG9ydHMsX193ZWJwYWNrX3JlcXVpcmVfXyl7XCJ1c2Ugc3RyaWN0XCI7bW9kdWxlLmV4cG9ydHM9ezI6XCJuZWVkIGRpY3Rpb25hcnlcIiwxOlwic3RyZWFtIGVuZFwiLDA6XCJcIixcIi0xXCI6XCJmaWxlIGVycm9yXCIsXCItMlwiOlwic3RyZWFtIGVycm9yXCIsXCItM1wiOlwiZGF0YSBlcnJvclwiLFwiLTRcIjpcImluc3VmZmljaWVudCBtZW1vcnlcIixcIi01XCI6XCJidWZmZXIgZXJyb3JcIixcIi02XCI6XCJpbmNvbXBhdGlibGUgdmVyc2lvblwifX0sZnVuY3Rpb24obW9kdWxlLGV4cG9ydHMsX193ZWJwYWNrX3JlcXVpcmVfXyl7XCJ1c2Ugc3RyaWN0XCI7dmFyIF9fYXdhaXRlcj10aGlzJiZ0aGlzLl9fYXdhaXRlcnx8ZnVuY3Rpb24odGhpc0FyZyxfYXJndW1lbnRzLFAsZ2VuZXJhdG9yKXtyZXR1cm4gbmV3KFB8fChQPVByb21pc2UpKShmdW5jdGlvbihyZXNvbHZlLHJlamVjdCl7ZnVuY3Rpb24gZnVsZmlsbGVkKHZhbHVlKXt0cnl7c3RlcChnZW5lcmF0b3IubmV4dCh2YWx1ZSkpfWNhdGNoKGUpe3JlamVjdChlKX19ZnVuY3Rpb24gcmVqZWN0ZWQodmFsdWUpe3RyeXtzdGVwKGdlbmVyYXRvci50aHJvdyh2YWx1ZSkpfWNhdGNoKGUpe3JlamVjdChlKX19ZnVuY3Rpb24gc3RlcChyZXN1bHQpe3Jlc3VsdC5kb25lP3Jlc29sdmUocmVzdWx0LnZhbHVlKTpmdW5jdGlvbih2YWx1ZSl7cmV0dXJuIHZhbHVlIGluc3RhbmNlb2YgUD92YWx1ZTpuZXcgUChmdW5jdGlvbihyZXNvbHZlKXtyZXNvbHZlKHZhbHVlKX0pfShyZXN1bHQudmFsdWUpLnRoZW4oZnVsZmlsbGVkLHJlamVjdGVkKX1zdGVwKChnZW5lcmF0b3I9Z2VuZXJhdG9yLmFwcGx5KHRoaXNBcmcsX2FyZ3VtZW50c3x8W10pKS5uZXh0KCkpfSl9LF9fZ2VuZXJhdG9yPXRoaXMmJnRoaXMuX19nZW5lcmF0b3J8fGZ1bmN0aW9uKHRoaXNBcmcsYm9keSl7dmFyIGYseSx0LGcsXz17bGFiZWw6MCxzZW50OmZ1bmN0aW9uKCl7aWYoMSZ0WzBdKXRocm93IHRbMV07cmV0dXJuIHRbMV19LHRyeXM6W10sb3BzOltdfTtyZXR1cm4gZz17bmV4dDp2ZXJiKDApLHRocm93OnZlcmIoMSkscmV0dXJuOnZlcmIoMil9LFwiZnVuY3Rpb25cIj09dHlwZW9mIFN5bWJvbCYmKGdbU3ltYm9sLml0ZXJhdG9yXT1mdW5jdGlvbigpe3JldHVybiB0aGlzfSksZztmdW5jdGlvbiB2ZXJiKG4pe3JldHVybiBmdW5jdGlvbih2KXtyZXR1cm4gZnVuY3Rpb24ob3Ape2lmKGYpdGhyb3cgbmV3IFR5cGVFcnJvcihcIkdlbmVyYXRvciBpcyBhbHJlYWR5IGV4ZWN1dGluZy5cIik7Zm9yKDtfOyl0cnl7aWYoZj0xLHkmJih0PTImb3BbMF0/eS5yZXR1cm46b3BbMF0/eS50aHJvd3x8KCh0PXkucmV0dXJuKSYmdC5jYWxsKHkpLDApOnkubmV4dCkmJiEodD10LmNhbGwoeSxvcFsxXSkpLmRvbmUpcmV0dXJuIHQ7c3dpdGNoKHk9MCx0JiYob3A9WzImb3BbMF0sdC52YWx1ZV0pLG9wWzBdKXtjYXNlIDA6Y2FzZSAxOnQ9b3A7YnJlYWs7Y2FzZSA0OnJldHVybiBfLmxhYmVsKysse3ZhbHVlOm9wWzFdLGRvbmU6ITF9O2Nhc2UgNTpfLmxhYmVsKysseT1vcFsxXSxvcD1bMF07Y29udGludWU7Y2FzZSA3Om9wPV8ub3BzLnBvcCgpLF8udHJ5cy5wb3AoKTtjb250aW51ZTtkZWZhdWx0OmlmKCEodD0odD1fLnRyeXMpLmxlbmd0aD4wJiZ0W3QubGVuZ3RoLTFdKSYmKDY9PT1vcFswXXx8Mj09PW9wWzBdKSl7Xz0wO2NvbnRpbnVlfWlmKDM9PT1vcFswXSYmKCF0fHxvcFsxXT50WzBdJiZvcFsxXTx0WzNdKSl7Xy5sYWJlbD1vcFsxXTticmVha31pZig2PT09b3BbMF0mJl8ubGFiZWw8dFsxXSl7Xy5sYWJlbD10WzFdLHQ9b3A7YnJlYWt9aWYodCYmXy5sYWJlbDx0WzJdKXtfLmxhYmVsPXRbMl0sXy5vcHMucHVzaChvcCk7YnJlYWt9dFsyXSYmXy5vcHMucG9wKCksXy50cnlzLnBvcCgpO2NvbnRpbnVlfW9wPWJvZHkuY2FsbCh0aGlzQXJnLF8pfWNhdGNoKGUpe29wPVs2LGVdLHk9MH1maW5hbGx5e2Y9dD0wfWlmKDUmb3BbMF0pdGhyb3cgb3BbMV07cmV0dXJue3ZhbHVlOm9wWzBdP29wWzFdOnZvaWQgMCxkb25lOiEwfX0oW24sdl0pfX19O09iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pO3ZhciBTdG9yYWdlXzE9X193ZWJwYWNrX3JlcXVpcmVfXyg0NyksRGF0ZU1vZHVsZV8xPV9fd2VicGFja19yZXF1aXJlX18oNiksSW5ib3hNZXNzYWdlc1B1YmxpY18xPV9fd2VicGFja19yZXF1aXJlX18oMjcpLEluYm94TWVzc2FnZXM9ZnVuY3Rpb24oKXtmdW5jdGlvbiBJbmJveE1lc3NhZ2VzKGV2ZW50QnVzLGRhdGEsYXBpLHN0b3JhZ2UsZGF0ZU1vZHVsZSl7dm9pZCAwPT09c3RvcmFnZSYmKHN0b3JhZ2U9bmV3IFN0b3JhZ2VfMS5kZWZhdWx0KSx2b2lkIDA9PT1kYXRlTW9kdWxlJiYoZGF0ZU1vZHVsZT1uZXcgRGF0ZU1vZHVsZV8xLmRlZmF1bHQpLHRoaXMuZXZlbnRCdXM9ZXZlbnRCdXMsdGhpcy5kYXRhPWRhdGEsdGhpcy5hcGk9YXBpLHRoaXMuc3RvcmFnZT1zdG9yYWdlLHRoaXMuc3RvcmVOYW1lPVwiaW5ib3hNZXNzYWdlc1wiLHRoaXMuZGF0ZU1vZHVsZT1kYXRlTW9kdWxlfXJldHVybiBJbmJveE1lc3NhZ2VzLnByb3RvdHlwZS5nZXRJbmJveE1lc3NhZ2VzPWZ1bmN0aW9uKCl7cmV0dXJuIF9fYXdhaXRlcih0aGlzLHZvaWQgMCx2b2lkIDAsZnVuY3Rpb24oKXt2YXIgcmVzcG9uc2U7cmV0dXJuIF9fZ2VuZXJhdG9yKHRoaXMsZnVuY3Rpb24oX2Epe3N3aXRjaChfYS5sYWJlbCl7Y2FzZSAwOnJldHVybls0LHRoaXMuYXBpLmdldEluYm94TWVzc2FnZXMoKV07Y2FzZSAxOnJldHVybiByZXNwb25zZT1fYS5zZW50KCksWzQsdGhpcy5zdG9yZUdldEluYm94TWVzc2FnZXNSZXF1ZXN0UGFyYW1zKHJlc3BvbnNlLm5leHQscmVzcG9uc2UubmV3X2luYm94KV07Y2FzZSAyOnJldHVybiBfYS5zZW50KCksWzIscmVzcG9uc2VdfX0pfSl9LEluYm94TWVzc2FnZXMucHJvdG90eXBlLnN0b3JlR2V0SW5ib3hNZXNzYWdlc1JlcXVlc3RQYXJhbXM9ZnVuY3Rpb24obmV4dCxuZXdNZXNzYWdlc0NvdW50KXtyZXR1cm4gX19hd2FpdGVyKHRoaXMsdm9pZCAwLHZvaWQgMCxmdW5jdGlvbigpe3JldHVybiBfX2dlbmVyYXRvcih0aGlzLGZ1bmN0aW9uKF9hKXtzd2l0Y2goX2EubGFiZWwpe2Nhc2UgMDpyZXR1cm4gdGhpcy5kYXRlTW9kdWxlLmRhdGU9bmV3IERhdGUsWzQsdGhpcy5kYXRhLnNldEluYm94TGFzdFJlcXVlc3RUaW1lKHRoaXMuZGF0ZU1vZHVsZS5nZXRVdGNUaW1lc3RhbXAoKSldO2Nhc2UgMTpyZXR1cm4gX2Euc2VudCgpLFs0LHRoaXMuZGF0YS5zZXRJbmJveExhc3RSZXF1ZXN0Q29kZShuZXh0KV07Y2FzZSAyOnJldHVybiBfYS5zZW50KCksWzQsdGhpcy5kYXRhLnNldEluYm94TmV3TWVzc2FnZXNDb3VudChuZXdNZXNzYWdlc0NvdW50KV07Y2FzZSAzOnJldHVybiBfYS5zZW50KCksWzJdfX0pfSl9LEluYm94TWVzc2FnZXMucHJvdG90eXBlLnB1dFNlcnZlck1lc3NhZ2VzPWZ1bmN0aW9uKG1lc3NhZ2VzKXtyZXR1cm4gX19hd2FpdGVyKHRoaXMsdm9pZCAwLHZvaWQgMCxmdW5jdGlvbigpe3ZhciBwdXRUcmFuc2FjdGlvbnMsX3RoaXM9dGhpcztyZXR1cm4gX19nZW5lcmF0b3IodGhpcyxmdW5jdGlvbihfYSl7cmV0dXJuIHB1dFRyYW5zYWN0aW9ucz1tZXNzYWdlcy5tYXAoZnVuY3Rpb24obWVzc2FnZSl7cmV0dXJuIF9fYXdhaXRlcihfdGhpcyx2b2lkIDAsdm9pZCAwLGZ1bmN0aW9uKCl7dmFyIGxvY2FsTWVzc2FnZTtyZXR1cm4gX19nZW5lcmF0b3IodGhpcyxmdW5jdGlvbihfYSl7c3dpdGNoKF9hLmxhYmVsKXtjYXNlIDA6cmV0dXJuWzQsdGhpcy5zdG9yYWdlLmdldCh0aGlzLnN0b3JlTmFtZSxtZXNzYWdlLmluYm94X2lkLHt9KV07Y2FzZSAxOnJldHVyblwic3RhdHVzXCJpbihsb2NhbE1lc3NhZ2U9X2Euc2VudCgpKSYmKG1lc3NhZ2Uuc3RhdHVzPWxvY2FsTWVzc2FnZS5zdGF0dXMpLFsyLHRoaXMucHV0TWVzc2FnZShtZXNzYWdlKV19fSl9KX0pLFsyLFByb21pc2UuYWxsKHB1dFRyYW5zYWN0aW9ucyldfSl9KX0sSW5ib3hNZXNzYWdlcy5wcm90b3R5cGUucHV0TWVzc2FnZT1mdW5jdGlvbihtZXNzYWdlKXtyZXR1cm4gdGhpcy5zdG9yYWdlLnB1dCh0aGlzLnN0b3JlTmFtZSxtZXNzYWdlKX0sSW5ib3hNZXNzYWdlcy5wcm90b3R5cGUucHV0QnVsa01lc3NhZ2VzPWZ1bmN0aW9uKG1lc3NhZ2VzKXt2YXIgX3RoaXM9dGhpcyxwdXRUcmFuc2FjdGlvbnM9bWVzc2FnZXMubWFwKGZ1bmN0aW9uKG1lc3NhZ2Upe3JldHVybiBfdGhpcy5wdXRNZXNzYWdlKG1lc3NhZ2UpfSk7cmV0dXJuIFByb21pc2UuYWxsKHB1dFRyYW5zYWN0aW9ucyl9LEluYm94TWVzc2FnZXMucHJvdG90eXBlLmRlbGV0ZU1lc3NhZ2VzPWZ1bmN0aW9uKGNvZGVzKXt2YXIgX3RoaXM9dGhpcyxkZWxldGVUcmFuc2FjdGlvbnM9Y29kZXMubWFwKGZ1bmN0aW9uKGNvZGUpe3JldHVybiBfdGhpcy5zdG9yYWdlLmRlbGV0ZShfdGhpcy5zdG9yZU5hbWUsY29kZSl9KTtyZXR1cm4gUHJvbWlzZS5hbGwoZGVsZXRlVHJhbnNhY3Rpb25zKX0sSW5ib3hNZXNzYWdlcy5wcm90b3R5cGUuZGVsZXRlRXhwaXJlZE1lc3NhZ2VzPWZ1bmN0aW9uKCl7cmV0dXJuIF9fYXdhaXRlcih0aGlzLHZvaWQgMCx2b2lkIDAsZnVuY3Rpb24oKXt2YXIgdXBwZXJCb3VuZCxhbGxNZXNzYWdlcyxjb2Rlc1RvRGVsZXRlO3JldHVybiBfX2dlbmVyYXRvcih0aGlzLGZ1bmN0aW9uKF9hKXtzd2l0Y2goX2EubGFiZWwpe2Nhc2UgMDpyZXR1cm4gdGhpcy5kYXRlTW9kdWxlLmRhdGU9bmV3IERhdGUsdXBwZXJCb3VuZD10aGlzLmRhdGVNb2R1bGUuZ2V0VGltZXN0YW1wKCkudG9TdHJpbmcoKSxbNCx0aGlzLnN0b3JhZ2UuZ2V0QWxsKHRoaXMuc3RvcmVOYW1lKV07Y2FzZSAxOnJldHVybiBhbGxNZXNzYWdlcz1fYS5zZW50KCksY29kZXNUb0RlbGV0ZT1hbGxNZXNzYWdlcy5maWx0ZXIoZnVuY3Rpb24obXNnKXtyZXR1cm4gbXNnLnJ0PnVwcGVyQm91bmR9KS5tYXAoZnVuY3Rpb24obXNnKXtyZXR1cm4gbXNnLmluYm94X2lkfSksWzIsdGhpcy5kZWxldGVNZXNzYWdlcyhjb2Rlc1RvRGVsZXRlKV19fSl9KX0sSW5ib3hNZXNzYWdlcy5wcm90b3R5cGUuZ2V0TWVzc2FnZT1mdW5jdGlvbihjb2RlKXtyZXR1cm4gdGhpcy5zdG9yYWdlLmdldCh0aGlzLnN0b3JlTmFtZSxjb2RlKX0sSW5ib3hNZXNzYWdlcy5wcm90b3R5cGUuZ2V0UmVhZE9wZW5NZXNzYWdlcz1mdW5jdGlvbigpe3JldHVybiBfX2F3YWl0ZXIodGhpcyx2b2lkIDAsdm9pZCAwLGZ1bmN0aW9uKCl7cmV0dXJuIF9fZ2VuZXJhdG9yKHRoaXMsZnVuY3Rpb24oX2Epe3N3aXRjaChfYS5sYWJlbCl7Y2FzZSAwOnJldHVybls0LHRoaXMuc3RvcmFnZS5nZXRBbGwodGhpcy5zdG9yZU5hbWUpXTtjYXNlIDE6cmV0dXJuWzIsX2Euc2VudCgpLmZpbHRlcihmdW5jdGlvbihtc2cpe3JldHVybiAyPT09bXNnLnN0YXR1c3x8Mz09PW1zZy5zdGF0dXN9KV19fSl9KX0sSW5ib3hNZXNzYWdlcy5wcm90b3R5cGUuZ2V0RGVsaXZlcmVkTWVzc2FnZXM9ZnVuY3Rpb24oKXtyZXR1cm4gX19hd2FpdGVyKHRoaXMsdm9pZCAwLHZvaWQgMCxmdW5jdGlvbigpe3JldHVybiBfX2dlbmVyYXRvcih0aGlzLGZ1bmN0aW9uKF9hKXtzd2l0Y2goX2EubGFiZWwpe2Nhc2UgMDpyZXR1cm5bNCx0aGlzLnN0b3JhZ2UuZ2V0QWxsKHRoaXMuc3RvcmVOYW1lKV07Y2FzZSAxOnJldHVyblsyLF9hLnNlbnQoKS5maWx0ZXIoZnVuY3Rpb24obXNnKXtyZXR1cm4gMT09PW1zZy5zdGF0dXN9KV19fSl9KX0sSW5ib3hNZXNzYWdlcy5wcm90b3R5cGUubWVzc2FnZXNDb3VudD1mdW5jdGlvbigpe3JldHVybiBfX2F3YWl0ZXIodGhpcyx2b2lkIDAsdm9pZCAwLGZ1bmN0aW9uKCl7cmV0dXJuIF9fZ2VuZXJhdG9yKHRoaXMsZnVuY3Rpb24oX2Epe3JldHVyblsyLHRoaXMuc3RvcmFnZS5jb3VudCh0aGlzLnN0b3JlTmFtZSldfSl9KX0sSW5ib3hNZXNzYWdlcy5wcm90b3R5cGUuZ2V0RGVsaXZlcmVkTWVzc2FnZXNDb3VudD1mdW5jdGlvbigpe3JldHVybiBfX2F3YWl0ZXIodGhpcyx2b2lkIDAsdm9pZCAwLGZ1bmN0aW9uKCl7dmFyIGRlbGl2ZXJlZFN0YXR1cyxzdGF0dXNJbmRleE5hbWU7cmV0dXJuIF9fZ2VuZXJhdG9yKHRoaXMsZnVuY3Rpb24oX2Epe3JldHVybiBkZWxpdmVyZWRTdGF0dXM9MSxzdGF0dXNJbmRleE5hbWU9XCJzdGF0dXNcIixbMix0aGlzLnN0b3JhZ2UuY291bnRCeUluZGV4KHRoaXMuc3RvcmVOYW1lLHN0YXR1c0luZGV4TmFtZSxkZWxpdmVyZWRTdGF0dXMpXX0pfSl9LEluYm94TWVzc2FnZXMucHJvdG90eXBlLmdldFJlYWRNZXNzYWdlc0NvdW50PWZ1bmN0aW9uKCl7cmV0dXJuIF9fYXdhaXRlcih0aGlzLHZvaWQgMCx2b2lkIDAsZnVuY3Rpb24oKXt2YXIgcmVhZFN0YXR1cyxzdGF0dXNJbmRleE5hbWU7cmV0dXJuIF9fZ2VuZXJhdG9yKHRoaXMsZnVuY3Rpb24oX2Epe3JldHVybiByZWFkU3RhdHVzPTIsc3RhdHVzSW5kZXhOYW1lPVwic3RhdHVzXCIsWzIsdGhpcy5zdG9yYWdlLmNvdW50QnlJbmRleCh0aGlzLnN0b3JlTmFtZSxzdGF0dXNJbmRleE5hbWUscmVhZFN0YXR1cyldfSl9KX0sSW5ib3hNZXNzYWdlcy5wcm90b3R5cGUuZ2V0RGVsaXZlcmVkUmVhZE1lc3NhZ2VzQ291bnQ9ZnVuY3Rpb24oKXtyZXR1cm4gX19hd2FpdGVyKHRoaXMsdm9pZCAwLHZvaWQgMCxmdW5jdGlvbigpe3ZhciBfYSxyZWFkU3RhdHVzLG9wZW5TdGF0dXMsa2V5UmFuZ2Usc3RhdHVzSW5kZXhOYW1lO3JldHVybiBfX2dlbmVyYXRvcih0aGlzLGZ1bmN0aW9uKF9iKXtyZXR1cm4gcmVhZFN0YXR1cz0oX2E9WzIsM10pWzBdLG9wZW5TdGF0dXM9X2FbMV0sa2V5UmFuZ2U9SURCS2V5UmFuZ2UuYm91bmQocmVhZFN0YXR1cyxvcGVuU3RhdHVzKSxzdGF0dXNJbmRleE5hbWU9XCJzdGF0dXNcIixbMix0aGlzLnN0b3JhZ2UuY291bnRCeUluZGV4KHRoaXMuc3RvcmVOYW1lLHN0YXR1c0luZGV4TmFtZSxrZXlSYW5nZSldfSl9KX0sSW5ib3hNZXNzYWdlcy5wcm90b3R5cGUudXBkYXRlTWVzc2FnZXM9ZnVuY3Rpb24oKXtyZXR1cm4gX19hd2FpdGVyKHRoaXMsdm9pZCAwLHZvaWQgMCxmdW5jdGlvbigpe3ZhciByZXNwb25zZTtyZXR1cm4gX19nZW5lcmF0b3IodGhpcyxmdW5jdGlvbihfYSl7c3dpdGNoKF9hLmxhYmVsKXtjYXNlIDA6cmV0dXJuWzQsdGhpcy5nZXRJbmJveE1lc3NhZ2VzKCldO2Nhc2UgMTpyZXR1cm4gcmVzcG9uc2U9X2Euc2VudCgpLFs0LHRoaXMuZGVsZXRlRXhwaXJlZE1lc3NhZ2VzKCldO2Nhc2UgMjpyZXR1cm4gX2Euc2VudCgpLFs0LHRoaXMuZGVsZXRlTWVzc2FnZXMocmVzcG9uc2UuZGVsZXRlZCldO2Nhc2UgMzpyZXR1cm4gX2Euc2VudCgpLFs0LHRoaXMucHV0U2VydmVyTWVzc2FnZXMocmVzcG9uc2UubWVzc2FnZXMpXTtjYXNlIDQ6cmV0dXJuIF9hLnNlbnQoKSx0aGlzLmV2ZW50QnVzLmRpc3BhdGNoRXZlbnQoXCJ1cGRhdGUtaW5ib3gtbWVzc2FnZXNcIix7bWVzc2FnZXM6bmV3IEluYm94TWVzc2FnZXNQdWJsaWNfMS5kZWZhdWx0KHRoaXMuZGF0YSx0aGlzLmFwaSx0aGlzKX0pLFsyXX19KX0pfSxJbmJveE1lc3NhZ2VzfSgpO2V4cG9ydHMuZGVmYXVsdD1JbmJveE1lc3NhZ2VzfSxmdW5jdGlvbihtb2R1bGUsZXhwb3J0cyxfX3dlYnBhY2tfcmVxdWlyZV9fKXtcInVzZSBzdHJpY3RcIjt2YXIgX19hd2FpdGVyPXRoaXMmJnRoaXMuX19hd2FpdGVyfHxmdW5jdGlvbih0aGlzQXJnLF9hcmd1bWVudHMsUCxnZW5lcmF0b3Ipe3JldHVybiBuZXcoUHx8KFA9UHJvbWlzZSkpKGZ1bmN0aW9uKHJlc29sdmUscmVqZWN0KXtmdW5jdGlvbiBmdWxmaWxsZWQodmFsdWUpe3RyeXtzdGVwKGdlbmVyYXRvci5uZXh0KHZhbHVlKSl9Y2F0Y2goZSl7cmVqZWN0KGUpfX1mdW5jdGlvbiByZWplY3RlZCh2YWx1ZSl7dHJ5e3N0ZXAoZ2VuZXJhdG9yLnRocm93KHZhbHVlKSl9Y2F0Y2goZSl7cmVqZWN0KGUpfX1mdW5jdGlvbiBzdGVwKHJlc3VsdCl7cmVzdWx0LmRvbmU/cmVzb2x2ZShyZXN1bHQudmFsdWUpOmZ1bmN0aW9uKHZhbHVlKXtyZXR1cm4gdmFsdWUgaW5zdGFuY2VvZiBQP3ZhbHVlOm5ldyBQKGZ1bmN0aW9uKHJlc29sdmUpe3Jlc29sdmUodmFsdWUpfSl9KHJlc3VsdC52YWx1ZSkudGhlbihmdWxmaWxsZWQscmVqZWN0ZWQpfXN0ZXAoKGdlbmVyYXRvcj1nZW5lcmF0b3IuYXBwbHkodGhpc0FyZyxfYXJndW1lbnRzfHxbXSkpLm5leHQoKSl9KX0sX19nZW5lcmF0b3I9dGhpcyYmdGhpcy5fX2dlbmVyYXRvcnx8ZnVuY3Rpb24odGhpc0FyZyxib2R5KXt2YXIgZix5LHQsZyxfPXtsYWJlbDowLHNlbnQ6ZnVuY3Rpb24oKXtpZigxJnRbMF0pdGhyb3cgdFsxXTtyZXR1cm4gdFsxXX0sdHJ5czpbXSxvcHM6W119O3JldHVybiBnPXtuZXh0OnZlcmIoMCksdGhyb3c6dmVyYigxKSxyZXR1cm46dmVyYigyKX0sXCJmdW5jdGlvblwiPT10eXBlb2YgU3ltYm9sJiYoZ1tTeW1ib2wuaXRlcmF0b3JdPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXN9KSxnO2Z1bmN0aW9uIHZlcmIobil7cmV0dXJuIGZ1bmN0aW9uKHYpe3JldHVybiBmdW5jdGlvbihvcCl7aWYoZil0aHJvdyBuZXcgVHlwZUVycm9yKFwiR2VuZXJhdG9yIGlzIGFscmVhZHkgZXhlY3V0aW5nLlwiKTtmb3IoO187KXRyeXtpZihmPTEseSYmKHQ9MiZvcFswXT95LnJldHVybjpvcFswXT95LnRocm93fHwoKHQ9eS5yZXR1cm4pJiZ0LmNhbGwoeSksMCk6eS5uZXh0KSYmISh0PXQuY2FsbCh5LG9wWzFdKSkuZG9uZSlyZXR1cm4gdDtzd2l0Y2goeT0wLHQmJihvcD1bMiZvcFswXSx0LnZhbHVlXSksb3BbMF0pe2Nhc2UgMDpjYXNlIDE6dD1vcDticmVhaztjYXNlIDQ6cmV0dXJuIF8ubGFiZWwrKyx7dmFsdWU6b3BbMV0sZG9uZTohMX07Y2FzZSA1Ol8ubGFiZWwrKyx5PW9wWzFdLG9wPVswXTtjb250aW51ZTtjYXNlIDc6b3A9Xy5vcHMucG9wKCksXy50cnlzLnBvcCgpO2NvbnRpbnVlO2RlZmF1bHQ6aWYoISh0PSh0PV8udHJ5cykubGVuZ3RoPjAmJnRbdC5sZW5ndGgtMV0pJiYoNj09PW9wWzBdfHwyPT09b3BbMF0pKXtfPTA7Y29udGludWV9aWYoMz09PW9wWzBdJiYoIXR8fG9wWzFdPnRbMF0mJm9wWzFdPHRbM10pKXtfLmxhYmVsPW9wWzFdO2JyZWFrfWlmKDY9PT1vcFswXSYmXy5sYWJlbDx0WzFdKXtfLmxhYmVsPXRbMV0sdD1vcDticmVha31pZih0JiZfLmxhYmVsPHRbMl0pe18ubGFiZWw9dFsyXSxfLm9wcy5wdXNoKG9wKTticmVha310WzJdJiZfLm9wcy5wb3AoKSxfLnRyeXMucG9wKCk7Y29udGludWV9b3A9Ym9keS5jYWxsKHRoaXNBcmcsXyl9Y2F0Y2goZSl7b3A9WzYsZV0seT0wfWZpbmFsbHl7Zj10PTB9aWYoNSZvcFswXSl0aHJvdyBvcFsxXTtyZXR1cm57dmFsdWU6b3BbMF0/b3BbMV06dm9pZCAwLGRvbmU6ITB9fShbbix2XSl9fX07T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSk7dmFyIHZlcnNpb25fMT1fX3dlYnBhY2tfcmVxdWlyZV9fKDE4KSxNaWdyYXRpb25FeGVjdXRvcl8xPV9fd2VicGFja19yZXF1aXJlX18oMTkpLFN0b3JlXzE9X193ZWJwYWNrX3JlcXVpcmVfXyg0OCksU3RvcmFnZT1mdW5jdGlvbigpe2Z1bmN0aW9uIFN0b3JhZ2UoKXt9cmV0dXJuIFN0b3JhZ2UucHJvdG90eXBlLmRiVmVyc2lvbkNoYW5nZUhhbmRsZXI9ZnVuY3Rpb24oZGIsZXZlbnQpe2NvbnNvbGUuaW5mbyhcIm9udmVyc2lvbmNoYW5nZVwiLGV2ZW50KSxkYi5jbG9zZSgpfSxTdG9yYWdlLnByb3RvdHlwZS5kYlJlcXVlc3RTdWNjZXNzSGFuZGxlcj1mdW5jdGlvbihyZXNvbHZlLGV2ZW50KXt2YXIgX3RoaXM9dGhpcyxkYXRhYmFzZT1ldmVudC50YXJnZXQucmVzdWx0O2RhdGFiYXNlLm9udmVyc2lvbmNoYW5nZT1mdW5jdGlvbihldmVudCl7X3RoaXMuZGJWZXJzaW9uQ2hhbmdlSGFuZGxlcihkYXRhYmFzZSxldmVudCl9LHJlc29sdmUoZGF0YWJhc2UpfSxTdG9yYWdlLnByb3RvdHlwZS5kYlJlcXVlc3RVcGdyYWRlTmVlZGVkSGFuZGxlcj1mdW5jdGlvbihldmVudCl7dmFyIF90aGlzPXRoaXMsZGF0YWJhc2U9ZXZlbnQudGFyZ2V0LnJlc3VsdDtkYXRhYmFzZS5vbnZlcnNpb25jaGFuZ2U9ZnVuY3Rpb24oZXZlbnQpe190aGlzLmRiVmVyc2lvbkNoYW5nZUhhbmRsZXIoZGF0YWJhc2UsZXZlbnQpfSxuZXcgTWlncmF0aW9uRXhlY3V0b3JfMS5kZWZhdWx0KGRhdGFiYXNlKS5hcHBseU1pZ3JhdGlvbnMoKX0sU3RvcmFnZS5wcm90b3R5cGUuZ2V0REI9ZnVuY3Rpb24oKXt2YXIgX3RoaXM9dGhpcztyZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24ocmVzb2x2ZSxyZWplY3Qpe3ZhciByZXF1ZXN0PWluZGV4ZWREQi5vcGVuKFwiUFVTSFdPT1NIX1NES19TVE9SRVwiLHZlcnNpb25fMS5kZWZhdWx0KTtyZXF1ZXN0Lm9uc3VjY2Vzcz1mdW5jdGlvbihldmVudCl7X3RoaXMuZGJSZXF1ZXN0U3VjY2Vzc0hhbmRsZXIocmVzb2x2ZSxldmVudCl9LHJlcXVlc3Qub251cGdyYWRlbmVlZGVkPWZ1bmN0aW9uKGV2ZW50KXtfdGhpcy5kYlJlcXVlc3RVcGdyYWRlTmVlZGVkSGFuZGxlcihldmVudCl9LHJlcXVlc3Qub25lcnJvcj1mdW5jdGlvbigpe3JldHVybiByZWplY3QocmVxdWVzdC5lcnJvcil9fSl9LFN0b3JhZ2UucHJvdG90eXBlLnB1dD1mdW5jdGlvbihzdG9yZU5hbWUsZGF0YSxrZXkpe3JldHVybiBfX2F3YWl0ZXIodGhpcyx2b2lkIDAsdm9pZCAwLGZ1bmN0aW9uKCl7dmFyIGRiLHJlc3VsdDtyZXR1cm4gX19nZW5lcmF0b3IodGhpcyxmdW5jdGlvbihfYSl7c3dpdGNoKF9hLmxhYmVsKXtjYXNlIDA6cmV0dXJuWzQsdGhpcy5nZXREQigpXTtjYXNlIDE6cmV0dXJuIGRiPV9hLnNlbnQoKSxbNCxuZXcgU3RvcmVfMS5kZWZhdWx0KGRiLHN0b3JlTmFtZSkucHV0KGRhdGEsa2V5KV07Y2FzZSAyOnJldHVybiByZXN1bHQ9X2Euc2VudCgpLGRiLmNsb3NlKCksWzIscmVzdWx0XX19KX0pfSxTdG9yYWdlLnByb3RvdHlwZS5kZWxldGU9ZnVuY3Rpb24oc3RvcmVOYW1lLGtleSl7cmV0dXJuIF9fYXdhaXRlcih0aGlzLHZvaWQgMCx2b2lkIDAsZnVuY3Rpb24oKXt2YXIgZGIscmVzdWx0O3JldHVybiBfX2dlbmVyYXRvcih0aGlzLGZ1bmN0aW9uKF9hKXtzd2l0Y2goX2EubGFiZWwpe2Nhc2UgMDpyZXR1cm5bNCx0aGlzLmdldERCKCldO2Nhc2UgMTpyZXR1cm4gZGI9X2Euc2VudCgpLFs0LG5ldyBTdG9yZV8xLmRlZmF1bHQoZGIsc3RvcmVOYW1lKS5kZWxldGUoa2V5KV07Y2FzZSAyOnJldHVybiByZXN1bHQ9X2Euc2VudCgpLGRiLmNsb3NlKCksWzIscmVzdWx0XX19KX0pfSxTdG9yYWdlLnByb3RvdHlwZS5nZXQ9ZnVuY3Rpb24oc3RvcmVOYW1lLGtleSxkZWZhdWx0VmFsdWUpe3JldHVybiBfX2F3YWl0ZXIodGhpcyx2b2lkIDAsdm9pZCAwLGZ1bmN0aW9uKCl7dmFyIGRiLHJlc3VsdDtyZXR1cm4gX19nZW5lcmF0b3IodGhpcyxmdW5jdGlvbihfYSl7c3dpdGNoKF9hLmxhYmVsKXtjYXNlIDA6cmV0dXJuWzQsdGhpcy5nZXREQigpXTtjYXNlIDE6cmV0dXJuIGRiPV9hLnNlbnQoKSxbNCxuZXcgU3RvcmVfMS5kZWZhdWx0KGRiLHN0b3JlTmFtZSkuZ2V0KGtleSxkZWZhdWx0VmFsdWUpXTtjYXNlIDI6cmV0dXJuIHJlc3VsdD1fYS5zZW50KCksZGIuY2xvc2UoKSxbMixyZXN1bHRdfX0pfSl9LFN0b3JhZ2UucHJvdG90eXBlLmdldEFsbD1mdW5jdGlvbihzdG9yZU5hbWUpe3JldHVybiBfX2F3YWl0ZXIodGhpcyx2b2lkIDAsdm9pZCAwLGZ1bmN0aW9uKCl7dmFyIGRiLHJlc3VsdDtyZXR1cm4gX19nZW5lcmF0b3IodGhpcyxmdW5jdGlvbihfYSl7c3dpdGNoKF9hLmxhYmVsKXtjYXNlIDA6cmV0dXJuWzQsdGhpcy5nZXREQigpXTtjYXNlIDE6cmV0dXJuIGRiPV9hLnNlbnQoKSxbNCxuZXcgU3RvcmVfMS5kZWZhdWx0KGRiLHN0b3JlTmFtZSkuZ2V0QWxsKCldO2Nhc2UgMjpyZXR1cm4gcmVzdWx0PV9hLnNlbnQoKSxkYi5jbG9zZSgpLFsyLHJlc3VsdHx8W11dfX0pfSl9LFN0b3JhZ2UucHJvdG90eXBlLmNvdW50PWZ1bmN0aW9uKHN0b3JlTmFtZSxxdWVyeSl7cmV0dXJuIF9fYXdhaXRlcih0aGlzLHZvaWQgMCx2b2lkIDAsZnVuY3Rpb24oKXt2YXIgZGIscmVzdWx0O3JldHVybiBfX2dlbmVyYXRvcih0aGlzLGZ1bmN0aW9uKF9hKXtzd2l0Y2goX2EubGFiZWwpe2Nhc2UgMDpyZXR1cm5bNCx0aGlzLmdldERCKCldO2Nhc2UgMTpyZXR1cm4gZGI9X2Euc2VudCgpLFs0LG5ldyBTdG9yZV8xLmRlZmF1bHQoZGIsc3RvcmVOYW1lKS5jb3VudChxdWVyeSldO2Nhc2UgMjpyZXR1cm4gcmVzdWx0PV9hLnNlbnQoKSxkYi5jbG9zZSgpLFsyLHJlc3VsdF19fSl9KX0sU3RvcmFnZS5wcm90b3R5cGUuY291bnRCeUluZGV4PWZ1bmN0aW9uKHN0b3JlTmFtZSxpbmRleE5hbWUsa2V5KXtyZXR1cm4gX19hd2FpdGVyKHRoaXMsdm9pZCAwLHZvaWQgMCxmdW5jdGlvbigpe3ZhciBkYixzdG9yZSxyZXN1bHQ7cmV0dXJuIF9fZ2VuZXJhdG9yKHRoaXMsZnVuY3Rpb24oX2Epe3N3aXRjaChfYS5sYWJlbCl7Y2FzZSAwOnJldHVybls0LHRoaXMuZ2V0REIoKV07Y2FzZSAxOnJldHVybiBkYj1fYS5zZW50KCksKHN0b3JlPW5ldyBTdG9yZV8xLmRlZmF1bHQoZGIsc3RvcmVOYW1lKSkuaW5kZXg9aW5kZXhOYW1lLFs0LHN0b3JlLmNvdW50QnlJbmRleChrZXkpXTtjYXNlIDI6cmV0dXJuIHJlc3VsdD1fYS5zZW50KCksZGIuY2xvc2UoKSxbMixyZXN1bHRdfX0pfSl9LFN0b3JhZ2V9KCk7ZXhwb3J0cy5kZWZhdWx0PVN0b3JhZ2V9LGZ1bmN0aW9uKG1vZHVsZSxleHBvcnRzLF9fd2VicGFja19yZXF1aXJlX18pe1widXNlIHN0cmljdFwiO09iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pO3ZhciBTdG9yZT1mdW5jdGlvbigpe2Z1bmN0aW9uIFN0b3JlKGRiLG5hbWUpe3RoaXMubmFtZT1uYW1lLHRoaXMuc3RvcmU9ZGIudHJhbnNhY3Rpb24odGhpcy5uYW1lLFwicmVhZHdyaXRlXCIpLm9iamVjdFN0b3JlKHRoaXMubmFtZSl9cmV0dXJuIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShTdG9yZS5wcm90b3R5cGUsXCJpbmRleFwiLHtzZXQ6ZnVuY3Rpb24oaW5kZXgpe3RoaXMuc3RvcmUuaW5kZXhOYW1lcy5jb250YWlucyhpbmRleCk/dGhpcy5faW5kZXg9dGhpcy5zdG9yZS5pbmRleChpbmRleCk6Y29uc29sZS53YXJuKCdJbmRleCBcIicraW5kZXgrJ1wiIGluICcpfSxlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMH0pLFN0b3JlLnByb3RvdHlwZS53cml0ZVJlcXVlc3RQcm9taXNlPWZ1bmN0aW9uKHJlcXVlc3QscmVzdWx0KXtyZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24ocmVzb2x2ZSxyZWplY3Qpe3JlcXVlc3Qub25zdWNjZXNzPWZ1bmN0aW9uKCl7cmVzb2x2ZShyZXN1bHQpfSxyZXF1ZXN0Lm9uZXJyb3I9ZnVuY3Rpb24oKXtyZWplY3QocmVxdWVzdC5lcnJvcil9fSl9LFN0b3JlLnByb3RvdHlwZS5yZWFkUmVxdWVzdFByb21pc2U9ZnVuY3Rpb24ocmVxdWVzdCxkZWZhdWx0VmFsdWUpe3JldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbihyZXNvbHZlLHJlamVjdCl7cmVxdWVzdC5vbnN1Y2Nlc3M9ZnVuY3Rpb24oZXZlbnQpe3ZhciB0YXJnZXQ9ZXZlbnQudGFyZ2V0O3Jlc29sdmUodGFyZ2V0LnJlc3VsdHx8ZGVmYXVsdFZhbHVlKX0scmVxdWVzdC5vbmVycm9yPWZ1bmN0aW9uKCl7cmVqZWN0KHJlcXVlc3QuZXJyb3IpfX0pfSxTdG9yZS5wcm90b3R5cGUucHV0PWZ1bmN0aW9uKGRhdGEsa2V5KXt2YXIgcmVxdWVzdD10aGlzLnN0b3JlLnB1dChkYXRhLGtleSk7cmV0dXJuIHRoaXMud3JpdGVSZXF1ZXN0UHJvbWlzZShyZXF1ZXN0LGtleSl9LFN0b3JlLnByb3RvdHlwZS5hZGQ9ZnVuY3Rpb24oZGF0YSxrZXkpe3JldHVybiB0aGlzLnB1dChkYXRhLGtleSl9LFN0b3JlLnByb3RvdHlwZS5kZWxldGU9ZnVuY3Rpb24oa2V5KXt2YXIgcmVxdWVzdD10aGlzLnN0b3JlLmRlbGV0ZShrZXkpO3JldHVybiB0aGlzLndyaXRlUmVxdWVzdFByb21pc2UocmVxdWVzdCl9LFN0b3JlLnByb3RvdHlwZS5nZXQ9ZnVuY3Rpb24oa2V5LGRlZmF1bHRWYWx1ZSl7dmFyIHJlcXVlc3Q9dGhpcy5zdG9yZS5nZXQoa2V5KTtyZXR1cm4gdGhpcy5yZWFkUmVxdWVzdFByb21pc2UocmVxdWVzdCxkZWZhdWx0VmFsdWUpfSxTdG9yZS5wcm90b3R5cGUuZ2V0QWxsPWZ1bmN0aW9uKCl7dmFyIGN1cnNvcj10aGlzLnN0b3JlLm9wZW5DdXJzb3IoKSxyZXN1bHQ9W107cmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uKHJlc29sdmUscmVqZWN0KXtjdXJzb3Iub25zdWNjZXNzPWZ1bmN0aW9uKGV2ZW50KXt2YXIgY3Vyc29yUmVzdWx0PWV2ZW50LnRhcmdldC5yZXN1bHQ7Y3Vyc29yUmVzdWx0PyhyZXN1bHQucHVzaChjdXJzb3JSZXN1bHQudmFsdWUpLGN1cnNvclJlc3VsdC5jb250aW51ZSgpKTpyZXNvbHZlKHJlc3VsdCl9LGN1cnNvci5vbmVycm9yPWZ1bmN0aW9uKCl7cmVqZWN0KGN1cnNvci5lcnJvcil9fSl9LFN0b3JlLnByb3RvdHlwZS5jb3VudD1mdW5jdGlvbihxdWVyeSl7dmFyIHJlcXVlc3Q9dGhpcy5zdG9yZS5jb3VudChxdWVyeSk7cmV0dXJuIHRoaXMucmVhZFJlcXVlc3RQcm9taXNlKHJlcXVlc3QsMCl9LFN0b3JlLnByb3RvdHlwZS5jb3VudEJ5SW5kZXg9ZnVuY3Rpb24oa2V5KXt2YXIgcmVxdWVzdD10aGlzLl9pbmRleC5jb3VudChrZXkpO3JldHVybiB0aGlzLnJlYWRSZXF1ZXN0UHJvbWlzZShyZXF1ZXN0LDApfSxTdG9yZX0oKTtleHBvcnRzLmRlZmF1bHQ9U3RvcmV9LGZ1bmN0aW9uKG1vZHVsZSxleHBvcnRzLF9fd2VicGFja19yZXF1aXJlX18pe1widXNlIHN0cmljdFwiO3ZhciBfX2F3YWl0ZXI9dGhpcyYmdGhpcy5fX2F3YWl0ZXJ8fGZ1bmN0aW9uKHRoaXNBcmcsX2FyZ3VtZW50cyxQLGdlbmVyYXRvcil7cmV0dXJuIG5ldyhQfHwoUD1Qcm9taXNlKSkoZnVuY3Rpb24ocmVzb2x2ZSxyZWplY3Qpe2Z1bmN0aW9uIGZ1bGZpbGxlZCh2YWx1ZSl7dHJ5e3N0ZXAoZ2VuZXJhdG9yLm5leHQodmFsdWUpKX1jYXRjaChlKXtyZWplY3QoZSl9fWZ1bmN0aW9uIHJlamVjdGVkKHZhbHVlKXt0cnl7c3RlcChnZW5lcmF0b3IudGhyb3codmFsdWUpKX1jYXRjaChlKXtyZWplY3QoZSl9fWZ1bmN0aW9uIHN0ZXAocmVzdWx0KXtyZXN1bHQuZG9uZT9yZXNvbHZlKHJlc3VsdC52YWx1ZSk6ZnVuY3Rpb24odmFsdWUpe3JldHVybiB2YWx1ZSBpbnN0YW5jZW9mIFA/dmFsdWU6bmV3IFAoZnVuY3Rpb24ocmVzb2x2ZSl7cmVzb2x2ZSh2YWx1ZSl9KX0ocmVzdWx0LnZhbHVlKS50aGVuKGZ1bGZpbGxlZCxyZWplY3RlZCl9c3RlcCgoZ2VuZXJhdG9yPWdlbmVyYXRvci5hcHBseSh0aGlzQXJnLF9hcmd1bWVudHN8fFtdKSkubmV4dCgpKX0pfSxfX2dlbmVyYXRvcj10aGlzJiZ0aGlzLl9fZ2VuZXJhdG9yfHxmdW5jdGlvbih0aGlzQXJnLGJvZHkpe3ZhciBmLHksdCxnLF89e2xhYmVsOjAsc2VudDpmdW5jdGlvbigpe2lmKDEmdFswXSl0aHJvdyB0WzFdO3JldHVybiB0WzFdfSx0cnlzOltdLG9wczpbXX07cmV0dXJuIGc9e25leHQ6dmVyYigwKSx0aHJvdzp2ZXJiKDEpLHJldHVybjp2ZXJiKDIpfSxcImZ1bmN0aW9uXCI9PXR5cGVvZiBTeW1ib2wmJihnW1N5bWJvbC5pdGVyYXRvcl09ZnVuY3Rpb24oKXtyZXR1cm4gdGhpc30pLGc7ZnVuY3Rpb24gdmVyYihuKXtyZXR1cm4gZnVuY3Rpb24odil7cmV0dXJuIGZ1bmN0aW9uKG9wKXtpZihmKXRocm93IG5ldyBUeXBlRXJyb3IoXCJHZW5lcmF0b3IgaXMgYWxyZWFkeSBleGVjdXRpbmcuXCIpO2Zvcig7XzspdHJ5e2lmKGY9MSx5JiYodD0yJm9wWzBdP3kucmV0dXJuOm9wWzBdP3kudGhyb3d8fCgodD15LnJldHVybikmJnQuY2FsbCh5KSwwKTp5Lm5leHQpJiYhKHQ9dC5jYWxsKHksb3BbMV0pKS5kb25lKXJldHVybiB0O3N3aXRjaCh5PTAsdCYmKG9wPVsyJm9wWzBdLHQudmFsdWVdKSxvcFswXSl7Y2FzZSAwOmNhc2UgMTp0PW9wO2JyZWFrO2Nhc2UgNDpyZXR1cm4gXy5sYWJlbCsrLHt2YWx1ZTpvcFsxXSxkb25lOiExfTtjYXNlIDU6Xy5sYWJlbCsrLHk9b3BbMV0sb3A9WzBdO2NvbnRpbnVlO2Nhc2UgNzpvcD1fLm9wcy5wb3AoKSxfLnRyeXMucG9wKCk7Y29udGludWU7ZGVmYXVsdDppZighKHQ9KHQ9Xy50cnlzKS5sZW5ndGg+MCYmdFt0Lmxlbmd0aC0xXSkmJig2PT09b3BbMF18fDI9PT1vcFswXSkpe189MDtjb250aW51ZX1pZigzPT09b3BbMF0mJighdHx8b3BbMV0+dFswXSYmb3BbMV08dFszXSkpe18ubGFiZWw9b3BbMV07YnJlYWt9aWYoNj09PW9wWzBdJiZfLmxhYmVsPHRbMV0pe18ubGFiZWw9dFsxXSx0PW9wO2JyZWFrfWlmKHQmJl8ubGFiZWw8dFsyXSl7Xy5sYWJlbD10WzJdLF8ub3BzLnB1c2gob3ApO2JyZWFrfXRbMl0mJl8ub3BzLnBvcCgpLF8udHJ5cy5wb3AoKTtjb250aW51ZX1vcD1ib2R5LmNhbGwodGhpc0FyZyxfKX1jYXRjaChlKXtvcD1bNixlXSx5PTB9ZmluYWxseXtmPXQ9MH1pZig1Jm9wWzBdKXRocm93IG9wWzFdO3JldHVybnt2YWx1ZTpvcFswXT9vcFsxXTp2b2lkIDAsZG9uZTohMH19KFtuLHZdKX19fTtPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cyxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KTt2YXIgSlNaaXA9X193ZWJwYWNrX3JlcXVpcmVfXyg4NSk7ZXhwb3J0cy5nZXRaaXA9ZnVuY3Rpb24odXJsKXtyZXR1cm4gX19hd2FpdGVyKHRoaXMsdm9pZCAwLHZvaWQgMCxmdW5jdGlvbigpe3ZhciByZXNwb25zZSxyZXN1bHQ7cmV0dXJuIF9fZ2VuZXJhdG9yKHRoaXMsZnVuY3Rpb24oX2Epe3N3aXRjaChfYS5sYWJlbCl7Y2FzZSAwOnJldHVybls0LGZldGNoKHVybCx7bWV0aG9kOlwiR0VUXCJ9KV07Y2FzZSAxOnJldHVybiAyMDAhPT0ocmVzcG9uc2U9X2Euc2VudCgpKS5zdGF0dXMmJm5ldyBFcnJvcihyZXNwb25zZS5zdGF0dXNUZXh0KSxbNCxyZXNwb25zZS5ibG9iKCldO2Nhc2UgMjpyZXR1cm4gcmVzdWx0PV9hLnNlbnQoKSxbMixKU1ppcC5sb2FkQXN5bmMocmVzdWx0KV19fSl9KX19LGZ1bmN0aW9uKG1vZHVsZSxleHBvcnRzKXt2YXIgdG9TdHJpbmc9e30udG9TdHJpbmc7bW9kdWxlLmV4cG9ydHM9QXJyYXkuaXNBcnJheXx8ZnVuY3Rpb24oYXJyKXtyZXR1cm5cIltvYmplY3QgQXJyYXldXCI9PXRvU3RyaW5nLmNhbGwoYXJyKX19LGZ1bmN0aW9uKG1vZHVsZSxleHBvcnRzLF9fd2VicGFja19yZXF1aXJlX18pe21vZHVsZS5leHBvcnRzPV9fd2VicGFja19yZXF1aXJlX18oODkpfSxmdW5jdGlvbihtb2R1bGUsZXhwb3J0cyxfX3dlYnBhY2tfcmVxdWlyZV9fKXtcInVzZSBzdHJpY3RcIjsoZnVuY3Rpb24oZ2xvYmFsLHByb2Nlc3Mpe3ZhciBwbmE9X193ZWJwYWNrX3JlcXVpcmVfXygyOSk7bW9kdWxlLmV4cG9ydHM9UmVhZGFibGU7dmFyIER1cGxleCxpc0FycmF5PV9fd2VicGFja19yZXF1aXJlX18oNTApO1JlYWRhYmxlLlJlYWRhYmxlU3RhdGU9UmVhZGFibGVTdGF0ZTtfX3dlYnBhY2tfcmVxdWlyZV9fKDQwKS5FdmVudEVtaXR0ZXI7dmFyIEVFbGlzdGVuZXJDb3VudD1mdW5jdGlvbihlbWl0dGVyLHR5cGUpe3JldHVybiBlbWl0dGVyLmxpc3RlbmVycyh0eXBlKS5sZW5ndGh9LFN0cmVhbT1fX3dlYnBhY2tfcmVxdWlyZV9fKDUzKSxCdWZmZXI9X193ZWJwYWNrX3JlcXVpcmVfXygzMCkuQnVmZmVyLE91clVpbnQ4QXJyYXk9Z2xvYmFsLlVpbnQ4QXJyYXl8fGZ1bmN0aW9uKCl7fTt2YXIgdXRpbD1PYmplY3QuY3JlYXRlKF9fd2VicGFja19yZXF1aXJlX18oMjUpKTt1dGlsLmluaGVyaXRzPV9fd2VicGFja19yZXF1aXJlX18oMTQpO3ZhciBkZWJ1Z1V0aWw9X193ZWJwYWNrX3JlcXVpcmVfXyg5MCksZGVidWc9dm9pZCAwO2RlYnVnPWRlYnVnVXRpbCYmZGVidWdVdGlsLmRlYnVnbG9nP2RlYnVnVXRpbC5kZWJ1Z2xvZyhcInN0cmVhbVwiKTpmdW5jdGlvbigpe307dmFyIFN0cmluZ0RlY29kZXIsQnVmZmVyTGlzdD1fX3dlYnBhY2tfcmVxdWlyZV9fKDkxKSxkZXN0cm95SW1wbD1fX3dlYnBhY2tfcmVxdWlyZV9fKDU0KTt1dGlsLmluaGVyaXRzKFJlYWRhYmxlLFN0cmVhbSk7dmFyIGtQcm94eUV2ZW50cz1bXCJlcnJvclwiLFwiY2xvc2VcIixcImRlc3Ryb3lcIixcInBhdXNlXCIsXCJyZXN1bWVcIl07ZnVuY3Rpb24gUmVhZGFibGVTdGF0ZShvcHRpb25zLHN0cmVhbSl7RHVwbGV4PUR1cGxleHx8X193ZWJwYWNrX3JlcXVpcmVfXygxMiksb3B0aW9ucz1vcHRpb25zfHx7fTt2YXIgaXNEdXBsZXg9c3RyZWFtIGluc3RhbmNlb2YgRHVwbGV4O3RoaXMub2JqZWN0TW9kZT0hIW9wdGlvbnMub2JqZWN0TW9kZSxpc0R1cGxleCYmKHRoaXMub2JqZWN0TW9kZT10aGlzLm9iamVjdE1vZGV8fCEhb3B0aW9ucy5yZWFkYWJsZU9iamVjdE1vZGUpO3ZhciBod209b3B0aW9ucy5oaWdoV2F0ZXJNYXJrLHJlYWRhYmxlSHdtPW9wdGlvbnMucmVhZGFibGVIaWdoV2F0ZXJNYXJrLGRlZmF1bHRId209dGhpcy5vYmplY3RNb2RlPzE2OjE2Mzg0O3RoaXMuaGlnaFdhdGVyTWFyaz1od218fDA9PT1od20/aHdtOmlzRHVwbGV4JiYocmVhZGFibGVId218fDA9PT1yZWFkYWJsZUh3bSk/cmVhZGFibGVId206ZGVmYXVsdEh3bSx0aGlzLmhpZ2hXYXRlck1hcms9TWF0aC5mbG9vcih0aGlzLmhpZ2hXYXRlck1hcmspLHRoaXMuYnVmZmVyPW5ldyBCdWZmZXJMaXN0LHRoaXMubGVuZ3RoPTAsdGhpcy5waXBlcz1udWxsLHRoaXMucGlwZXNDb3VudD0wLHRoaXMuZmxvd2luZz1udWxsLHRoaXMuZW5kZWQ9ITEsdGhpcy5lbmRFbWl0dGVkPSExLHRoaXMucmVhZGluZz0hMSx0aGlzLnN5bmM9ITAsdGhpcy5uZWVkUmVhZGFibGU9ITEsdGhpcy5lbWl0dGVkUmVhZGFibGU9ITEsdGhpcy5yZWFkYWJsZUxpc3RlbmluZz0hMSx0aGlzLnJlc3VtZVNjaGVkdWxlZD0hMSx0aGlzLmRlc3Ryb3llZD0hMSx0aGlzLmRlZmF1bHRFbmNvZGluZz1vcHRpb25zLmRlZmF1bHRFbmNvZGluZ3x8XCJ1dGY4XCIsdGhpcy5hd2FpdERyYWluPTAsdGhpcy5yZWFkaW5nTW9yZT0hMSx0aGlzLmRlY29kZXI9bnVsbCx0aGlzLmVuY29kaW5nPW51bGwsb3B0aW9ucy5lbmNvZGluZyYmKFN0cmluZ0RlY29kZXJ8fChTdHJpbmdEZWNvZGVyPV9fd2VicGFja19yZXF1aXJlX18oNTYpLlN0cmluZ0RlY29kZXIpLHRoaXMuZGVjb2Rlcj1uZXcgU3RyaW5nRGVjb2RlcihvcHRpb25zLmVuY29kaW5nKSx0aGlzLmVuY29kaW5nPW9wdGlvbnMuZW5jb2RpbmcpfWZ1bmN0aW9uIFJlYWRhYmxlKG9wdGlvbnMpe2lmKER1cGxleD1EdXBsZXh8fF9fd2VicGFja19yZXF1aXJlX18oMTIpLCEodGhpcyBpbnN0YW5jZW9mIFJlYWRhYmxlKSlyZXR1cm4gbmV3IFJlYWRhYmxlKG9wdGlvbnMpO3RoaXMuX3JlYWRhYmxlU3RhdGU9bmV3IFJlYWRhYmxlU3RhdGUob3B0aW9ucyx0aGlzKSx0aGlzLnJlYWRhYmxlPSEwLG9wdGlvbnMmJihcImZ1bmN0aW9uXCI9PXR5cGVvZiBvcHRpb25zLnJlYWQmJih0aGlzLl9yZWFkPW9wdGlvbnMucmVhZCksXCJmdW5jdGlvblwiPT10eXBlb2Ygb3B0aW9ucy5kZXN0cm95JiYodGhpcy5fZGVzdHJveT1vcHRpb25zLmRlc3Ryb3kpKSxTdHJlYW0uY2FsbCh0aGlzKX1mdW5jdGlvbiByZWFkYWJsZUFkZENodW5rKHN0cmVhbSxjaHVuayxlbmNvZGluZyxhZGRUb0Zyb250LHNraXBDaHVua0NoZWNrKXt2YXIgZXIsc3RhdGU9c3RyZWFtLl9yZWFkYWJsZVN0YXRlO251bGw9PT1jaHVuaz8oc3RhdGUucmVhZGluZz0hMSxmdW5jdGlvbihzdHJlYW0sc3RhdGUpe2lmKHN0YXRlLmVuZGVkKXJldHVybjtpZihzdGF0ZS5kZWNvZGVyKXt2YXIgY2h1bms9c3RhdGUuZGVjb2Rlci5lbmQoKTtjaHVuayYmY2h1bmsubGVuZ3RoJiYoc3RhdGUuYnVmZmVyLnB1c2goY2h1bmspLHN0YXRlLmxlbmd0aCs9c3RhdGUub2JqZWN0TW9kZT8xOmNodW5rLmxlbmd0aCl9c3RhdGUuZW5kZWQ9ITAsZW1pdFJlYWRhYmxlKHN0cmVhbSl9KHN0cmVhbSxzdGF0ZSkpOihza2lwQ2h1bmtDaGVja3x8KGVyPWZ1bmN0aW9uKHN0YXRlLGNodW5rKXt2YXIgZXI7KGZ1bmN0aW9uKG9iail7cmV0dXJuIEJ1ZmZlci5pc0J1ZmZlcihvYmopfHxvYmogaW5zdGFuY2VvZiBPdXJVaW50OEFycmF5fSkoY2h1bmspfHxcInN0cmluZ1wiPT10eXBlb2YgY2h1bmt8fHZvaWQgMD09PWNodW5rfHxzdGF0ZS5vYmplY3RNb2RlfHwoZXI9bmV3IFR5cGVFcnJvcihcIkludmFsaWQgbm9uLXN0cmluZy9idWZmZXIgY2h1bmtcIikpO3JldHVybiBlcn0oc3RhdGUsY2h1bmspKSxlcj9zdHJlYW0uZW1pdChcImVycm9yXCIsZXIpOnN0YXRlLm9iamVjdE1vZGV8fGNodW5rJiZjaHVuay5sZW5ndGg+MD8oXCJzdHJpbmdcIj09dHlwZW9mIGNodW5rfHxzdGF0ZS5vYmplY3RNb2RlfHxPYmplY3QuZ2V0UHJvdG90eXBlT2YoY2h1bmspPT09QnVmZmVyLnByb3RvdHlwZXx8KGNodW5rPWZ1bmN0aW9uKGNodW5rKXtyZXR1cm4gQnVmZmVyLmZyb20oY2h1bmspfShjaHVuaykpLGFkZFRvRnJvbnQ/c3RhdGUuZW5kRW1pdHRlZD9zdHJlYW0uZW1pdChcImVycm9yXCIsbmV3IEVycm9yKFwic3RyZWFtLnVuc2hpZnQoKSBhZnRlciBlbmQgZXZlbnRcIikpOmFkZENodW5rKHN0cmVhbSxzdGF0ZSxjaHVuaywhMCk6c3RhdGUuZW5kZWQ/c3RyZWFtLmVtaXQoXCJlcnJvclwiLG5ldyBFcnJvcihcInN0cmVhbS5wdXNoKCkgYWZ0ZXIgRU9GXCIpKTooc3RhdGUucmVhZGluZz0hMSxzdGF0ZS5kZWNvZGVyJiYhZW5jb2Rpbmc/KGNodW5rPXN0YXRlLmRlY29kZXIud3JpdGUoY2h1bmspLHN0YXRlLm9iamVjdE1vZGV8fDAhPT1jaHVuay5sZW5ndGg/YWRkQ2h1bmsoc3RyZWFtLHN0YXRlLGNodW5rLCExKTptYXliZVJlYWRNb3JlKHN0cmVhbSxzdGF0ZSkpOmFkZENodW5rKHN0cmVhbSxzdGF0ZSxjaHVuaywhMSkpKTphZGRUb0Zyb250fHwoc3RhdGUucmVhZGluZz0hMSkpO3JldHVybiBmdW5jdGlvbihzdGF0ZSl7cmV0dXJuIXN0YXRlLmVuZGVkJiYoc3RhdGUubmVlZFJlYWRhYmxlfHxzdGF0ZS5sZW5ndGg8c3RhdGUuaGlnaFdhdGVyTWFya3x8MD09PXN0YXRlLmxlbmd0aCl9KHN0YXRlKX1mdW5jdGlvbiBhZGRDaHVuayhzdHJlYW0sc3RhdGUsY2h1bmssYWRkVG9Gcm9udCl7c3RhdGUuZmxvd2luZyYmMD09PXN0YXRlLmxlbmd0aCYmIXN0YXRlLnN5bmM/KHN0cmVhbS5lbWl0KFwiZGF0YVwiLGNodW5rKSxzdHJlYW0ucmVhZCgwKSk6KHN0YXRlLmxlbmd0aCs9c3RhdGUub2JqZWN0TW9kZT8xOmNodW5rLmxlbmd0aCxhZGRUb0Zyb250P3N0YXRlLmJ1ZmZlci51bnNoaWZ0KGNodW5rKTpzdGF0ZS5idWZmZXIucHVzaChjaHVuayksc3RhdGUubmVlZFJlYWRhYmxlJiZlbWl0UmVhZGFibGUoc3RyZWFtKSksbWF5YmVSZWFkTW9yZShzdHJlYW0sc3RhdGUpfU9iamVjdC5kZWZpbmVQcm9wZXJ0eShSZWFkYWJsZS5wcm90b3R5cGUsXCJkZXN0cm95ZWRcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHZvaWQgMCE9PXRoaXMuX3JlYWRhYmxlU3RhdGUmJnRoaXMuX3JlYWRhYmxlU3RhdGUuZGVzdHJveWVkfSxzZXQ6ZnVuY3Rpb24odmFsdWUpe3RoaXMuX3JlYWRhYmxlU3RhdGUmJih0aGlzLl9yZWFkYWJsZVN0YXRlLmRlc3Ryb3llZD12YWx1ZSl9fSksUmVhZGFibGUucHJvdG90eXBlLmRlc3Ryb3k9ZGVzdHJveUltcGwuZGVzdHJveSxSZWFkYWJsZS5wcm90b3R5cGUuX3VuZGVzdHJveT1kZXN0cm95SW1wbC51bmRlc3Ryb3ksUmVhZGFibGUucHJvdG90eXBlLl9kZXN0cm95PWZ1bmN0aW9uKGVycixjYil7dGhpcy5wdXNoKG51bGwpLGNiKGVycil9LFJlYWRhYmxlLnByb3RvdHlwZS5wdXNoPWZ1bmN0aW9uKGNodW5rLGVuY29kaW5nKXt2YXIgc2tpcENodW5rQ2hlY2ssc3RhdGU9dGhpcy5fcmVhZGFibGVTdGF0ZTtyZXR1cm4gc3RhdGUub2JqZWN0TW9kZT9za2lwQ2h1bmtDaGVjaz0hMDpcInN0cmluZ1wiPT10eXBlb2YgY2h1bmsmJigoZW5jb2Rpbmc9ZW5jb2Rpbmd8fHN0YXRlLmRlZmF1bHRFbmNvZGluZykhPT1zdGF0ZS5lbmNvZGluZyYmKGNodW5rPUJ1ZmZlci5mcm9tKGNodW5rLGVuY29kaW5nKSxlbmNvZGluZz1cIlwiKSxza2lwQ2h1bmtDaGVjaz0hMCkscmVhZGFibGVBZGRDaHVuayh0aGlzLGNodW5rLGVuY29kaW5nLCExLHNraXBDaHVua0NoZWNrKX0sUmVhZGFibGUucHJvdG90eXBlLnVuc2hpZnQ9ZnVuY3Rpb24oY2h1bmspe3JldHVybiByZWFkYWJsZUFkZENodW5rKHRoaXMsY2h1bmssbnVsbCwhMCwhMSl9LFJlYWRhYmxlLnByb3RvdHlwZS5pc1BhdXNlZD1mdW5jdGlvbigpe3JldHVybiExPT09dGhpcy5fcmVhZGFibGVTdGF0ZS5mbG93aW5nfSxSZWFkYWJsZS5wcm90b3R5cGUuc2V0RW5jb2Rpbmc9ZnVuY3Rpb24oZW5jKXtyZXR1cm4gU3RyaW5nRGVjb2Rlcnx8KFN0cmluZ0RlY29kZXI9X193ZWJwYWNrX3JlcXVpcmVfXyg1NikuU3RyaW5nRGVjb2RlciksdGhpcy5fcmVhZGFibGVTdGF0ZS5kZWNvZGVyPW5ldyBTdHJpbmdEZWNvZGVyKGVuYyksdGhpcy5fcmVhZGFibGVTdGF0ZS5lbmNvZGluZz1lbmMsdGhpc307dmFyIE1BWF9IV009ODM4ODYwODtmdW5jdGlvbiBob3dNdWNoVG9SZWFkKG4sc3RhdGUpe3JldHVybiBuPD0wfHwwPT09c3RhdGUubGVuZ3RoJiZzdGF0ZS5lbmRlZD8wOnN0YXRlLm9iamVjdE1vZGU/MTpuIT1uP3N0YXRlLmZsb3dpbmcmJnN0YXRlLmxlbmd0aD9zdGF0ZS5idWZmZXIuaGVhZC5kYXRhLmxlbmd0aDpzdGF0ZS5sZW5ndGg6KG4+c3RhdGUuaGlnaFdhdGVyTWFyayYmKHN0YXRlLmhpZ2hXYXRlck1hcms9ZnVuY3Rpb24obil7cmV0dXJuIG4+PU1BWF9IV00/bj1NQVhfSFdNOihuLS0sbnw9bj4+PjEsbnw9bj4+PjIsbnw9bj4+PjQsbnw9bj4+Pjgsbnw9bj4+PjE2LG4rKyksbn0obikpLG48PXN0YXRlLmxlbmd0aD9uOnN0YXRlLmVuZGVkP3N0YXRlLmxlbmd0aDooc3RhdGUubmVlZFJlYWRhYmxlPSEwLDApKX1mdW5jdGlvbiBlbWl0UmVhZGFibGUoc3RyZWFtKXt2YXIgc3RhdGU9c3RyZWFtLl9yZWFkYWJsZVN0YXRlO3N0YXRlLm5lZWRSZWFkYWJsZT0hMSxzdGF0ZS5lbWl0dGVkUmVhZGFibGV8fChkZWJ1ZyhcImVtaXRSZWFkYWJsZVwiLHN0YXRlLmZsb3dpbmcpLHN0YXRlLmVtaXR0ZWRSZWFkYWJsZT0hMCxzdGF0ZS5zeW5jP3BuYS5uZXh0VGljayhlbWl0UmVhZGFibGVfLHN0cmVhbSk6ZW1pdFJlYWRhYmxlXyhzdHJlYW0pKX1mdW5jdGlvbiBlbWl0UmVhZGFibGVfKHN0cmVhbSl7ZGVidWcoXCJlbWl0IHJlYWRhYmxlXCIpLHN0cmVhbS5lbWl0KFwicmVhZGFibGVcIiksZmxvdyhzdHJlYW0pfWZ1bmN0aW9uIG1heWJlUmVhZE1vcmUoc3RyZWFtLHN0YXRlKXtzdGF0ZS5yZWFkaW5nTW9yZXx8KHN0YXRlLnJlYWRpbmdNb3JlPSEwLHBuYS5uZXh0VGljayhtYXliZVJlYWRNb3JlXyxzdHJlYW0sc3RhdGUpKX1mdW5jdGlvbiBtYXliZVJlYWRNb3JlXyhzdHJlYW0sc3RhdGUpe2Zvcih2YXIgbGVuPXN0YXRlLmxlbmd0aDshc3RhdGUucmVhZGluZyYmIXN0YXRlLmZsb3dpbmcmJiFzdGF0ZS5lbmRlZCYmc3RhdGUubGVuZ3RoPHN0YXRlLmhpZ2hXYXRlck1hcmsmJihkZWJ1ZyhcIm1heWJlUmVhZE1vcmUgcmVhZCAwXCIpLHN0cmVhbS5yZWFkKDApLGxlbiE9PXN0YXRlLmxlbmd0aCk7KWxlbj1zdGF0ZS5sZW5ndGg7c3RhdGUucmVhZGluZ01vcmU9ITF9ZnVuY3Rpb24gblJlYWRpbmdOZXh0VGljayhzZWxmKXtkZWJ1ZyhcInJlYWRhYmxlIG5leHR0aWNrIHJlYWQgMFwiKSxzZWxmLnJlYWQoMCl9ZnVuY3Rpb24gcmVzdW1lXyhzdHJlYW0sc3RhdGUpe3N0YXRlLnJlYWRpbmd8fChkZWJ1ZyhcInJlc3VtZSByZWFkIDBcIiksc3RyZWFtLnJlYWQoMCkpLHN0YXRlLnJlc3VtZVNjaGVkdWxlZD0hMSxzdGF0ZS5hd2FpdERyYWluPTAsc3RyZWFtLmVtaXQoXCJyZXN1bWVcIiksZmxvdyhzdHJlYW0pLHN0YXRlLmZsb3dpbmcmJiFzdGF0ZS5yZWFkaW5nJiZzdHJlYW0ucmVhZCgwKX1mdW5jdGlvbiBmbG93KHN0cmVhbSl7dmFyIHN0YXRlPXN0cmVhbS5fcmVhZGFibGVTdGF0ZTtmb3IoZGVidWcoXCJmbG93XCIsc3RhdGUuZmxvd2luZyk7c3RhdGUuZmxvd2luZyYmbnVsbCE9PXN0cmVhbS5yZWFkKCk7KTt9ZnVuY3Rpb24gZnJvbUxpc3QobixzdGF0ZSl7cmV0dXJuIDA9PT1zdGF0ZS5sZW5ndGg/bnVsbDooc3RhdGUub2JqZWN0TW9kZT9yZXQ9c3RhdGUuYnVmZmVyLnNoaWZ0KCk6IW58fG4+PXN0YXRlLmxlbmd0aD8ocmV0PXN0YXRlLmRlY29kZXI/c3RhdGUuYnVmZmVyLmpvaW4oXCJcIik6MT09PXN0YXRlLmJ1ZmZlci5sZW5ndGg/c3RhdGUuYnVmZmVyLmhlYWQuZGF0YTpzdGF0ZS5idWZmZXIuY29uY2F0KHN0YXRlLmxlbmd0aCksc3RhdGUuYnVmZmVyLmNsZWFyKCkpOnJldD1mdW5jdGlvbihuLGxpc3QsaGFzU3RyaW5ncyl7dmFyIHJldDtuPGxpc3QuaGVhZC5kYXRhLmxlbmd0aD8ocmV0PWxpc3QuaGVhZC5kYXRhLnNsaWNlKDAsbiksbGlzdC5oZWFkLmRhdGE9bGlzdC5oZWFkLmRhdGEuc2xpY2UobikpOnJldD1uPT09bGlzdC5oZWFkLmRhdGEubGVuZ3RoP2xpc3Quc2hpZnQoKTpoYXNTdHJpbmdzP2Z1bmN0aW9uKG4sbGlzdCl7dmFyIHA9bGlzdC5oZWFkLGM9MSxyZXQ9cC5kYXRhO24tPXJldC5sZW5ndGg7Zm9yKDtwPXAubmV4dDspe3ZhciBzdHI9cC5kYXRhLG5iPW4+c3RyLmxlbmd0aD9zdHIubGVuZ3RoOm47aWYobmI9PT1zdHIubGVuZ3RoP3JldCs9c3RyOnJldCs9c3RyLnNsaWNlKDAsbiksMD09PShuLT1uYikpe25iPT09c3RyLmxlbmd0aD8oKytjLHAubmV4dD9saXN0LmhlYWQ9cC5uZXh0Omxpc3QuaGVhZD1saXN0LnRhaWw9bnVsbCk6KGxpc3QuaGVhZD1wLHAuZGF0YT1zdHIuc2xpY2UobmIpKTticmVha30rK2N9cmV0dXJuIGxpc3QubGVuZ3RoLT1jLHJldH0obixsaXN0KTpmdW5jdGlvbihuLGxpc3Qpe3ZhciByZXQ9QnVmZmVyLmFsbG9jVW5zYWZlKG4pLHA9bGlzdC5oZWFkLGM9MTtwLmRhdGEuY29weShyZXQpLG4tPXAuZGF0YS5sZW5ndGg7Zm9yKDtwPXAubmV4dDspe3ZhciBidWY9cC5kYXRhLG5iPW4+YnVmLmxlbmd0aD9idWYubGVuZ3RoOm47aWYoYnVmLmNvcHkocmV0LHJldC5sZW5ndGgtbiwwLG5iKSwwPT09KG4tPW5iKSl7bmI9PT1idWYubGVuZ3RoPygrK2MscC5uZXh0P2xpc3QuaGVhZD1wLm5leHQ6bGlzdC5oZWFkPWxpc3QudGFpbD1udWxsKToobGlzdC5oZWFkPXAscC5kYXRhPWJ1Zi5zbGljZShuYikpO2JyZWFrfSsrY31yZXR1cm4gbGlzdC5sZW5ndGgtPWMscmV0fShuLGxpc3QpO3JldHVybiByZXR9KG4sc3RhdGUuYnVmZmVyLHN0YXRlLmRlY29kZXIpLHJldCk7dmFyIHJldH1mdW5jdGlvbiBlbmRSZWFkYWJsZShzdHJlYW0pe3ZhciBzdGF0ZT1zdHJlYW0uX3JlYWRhYmxlU3RhdGU7aWYoc3RhdGUubGVuZ3RoPjApdGhyb3cgbmV3IEVycm9yKCdcImVuZFJlYWRhYmxlKClcIiBjYWxsZWQgb24gbm9uLWVtcHR5IHN0cmVhbScpO3N0YXRlLmVuZEVtaXR0ZWR8fChzdGF0ZS5lbmRlZD0hMCxwbmEubmV4dFRpY2soZW5kUmVhZGFibGVOVCxzdGF0ZSxzdHJlYW0pKX1mdW5jdGlvbiBlbmRSZWFkYWJsZU5UKHN0YXRlLHN0cmVhbSl7c3RhdGUuZW5kRW1pdHRlZHx8MCE9PXN0YXRlLmxlbmd0aHx8KHN0YXRlLmVuZEVtaXR0ZWQ9ITAsc3RyZWFtLnJlYWRhYmxlPSExLHN0cmVhbS5lbWl0KFwiZW5kXCIpKX1mdW5jdGlvbiBpbmRleE9mKHhzLHgpe2Zvcih2YXIgaT0wLGw9eHMubGVuZ3RoO2k8bDtpKyspaWYoeHNbaV09PT14KXJldHVybiBpO3JldHVybi0xfVJlYWRhYmxlLnByb3RvdHlwZS5yZWFkPWZ1bmN0aW9uKG4pe2RlYnVnKFwicmVhZFwiLG4pLG49cGFyc2VJbnQobiwxMCk7dmFyIHN0YXRlPXRoaXMuX3JlYWRhYmxlU3RhdGUsbk9yaWc9bjtpZigwIT09biYmKHN0YXRlLmVtaXR0ZWRSZWFkYWJsZT0hMSksMD09PW4mJnN0YXRlLm5lZWRSZWFkYWJsZSYmKHN0YXRlLmxlbmd0aD49c3RhdGUuaGlnaFdhdGVyTWFya3x8c3RhdGUuZW5kZWQpKXJldHVybiBkZWJ1ZyhcInJlYWQ6IGVtaXRSZWFkYWJsZVwiLHN0YXRlLmxlbmd0aCxzdGF0ZS5lbmRlZCksMD09PXN0YXRlLmxlbmd0aCYmc3RhdGUuZW5kZWQ/ZW5kUmVhZGFibGUodGhpcyk6ZW1pdFJlYWRhYmxlKHRoaXMpLG51bGw7aWYoMD09PShuPWhvd011Y2hUb1JlYWQobixzdGF0ZSkpJiZzdGF0ZS5lbmRlZClyZXR1cm4gMD09PXN0YXRlLmxlbmd0aCYmZW5kUmVhZGFibGUodGhpcyksbnVsbDt2YXIgcmV0LGRvUmVhZD1zdGF0ZS5uZWVkUmVhZGFibGU7cmV0dXJuIGRlYnVnKFwibmVlZCByZWFkYWJsZVwiLGRvUmVhZCksKDA9PT1zdGF0ZS5sZW5ndGh8fHN0YXRlLmxlbmd0aC1uPHN0YXRlLmhpZ2hXYXRlck1hcmspJiZkZWJ1ZyhcImxlbmd0aCBsZXNzIHRoYW4gd2F0ZXJtYXJrXCIsZG9SZWFkPSEwKSxzdGF0ZS5lbmRlZHx8c3RhdGUucmVhZGluZz9kZWJ1ZyhcInJlYWRpbmcgb3IgZW5kZWRcIixkb1JlYWQ9ITEpOmRvUmVhZCYmKGRlYnVnKFwiZG8gcmVhZFwiKSxzdGF0ZS5yZWFkaW5nPSEwLHN0YXRlLnN5bmM9ITAsMD09PXN0YXRlLmxlbmd0aCYmKHN0YXRlLm5lZWRSZWFkYWJsZT0hMCksdGhpcy5fcmVhZChzdGF0ZS5oaWdoV2F0ZXJNYXJrKSxzdGF0ZS5zeW5jPSExLHN0YXRlLnJlYWRpbmd8fChuPWhvd011Y2hUb1JlYWQobk9yaWcsc3RhdGUpKSksbnVsbD09PShyZXQ9bj4wP2Zyb21MaXN0KG4sc3RhdGUpOm51bGwpPyhzdGF0ZS5uZWVkUmVhZGFibGU9ITAsbj0wKTpzdGF0ZS5sZW5ndGgtPW4sMD09PXN0YXRlLmxlbmd0aCYmKHN0YXRlLmVuZGVkfHwoc3RhdGUubmVlZFJlYWRhYmxlPSEwKSxuT3JpZyE9PW4mJnN0YXRlLmVuZGVkJiZlbmRSZWFkYWJsZSh0aGlzKSksbnVsbCE9PXJldCYmdGhpcy5lbWl0KFwiZGF0YVwiLHJldCkscmV0fSxSZWFkYWJsZS5wcm90b3R5cGUuX3JlYWQ9ZnVuY3Rpb24obil7dGhpcy5lbWl0KFwiZXJyb3JcIixuZXcgRXJyb3IoXCJfcmVhZCgpIGlzIG5vdCBpbXBsZW1lbnRlZFwiKSl9LFJlYWRhYmxlLnByb3RvdHlwZS5waXBlPWZ1bmN0aW9uKGRlc3QscGlwZU9wdHMpe3ZhciBzcmM9dGhpcyxzdGF0ZT10aGlzLl9yZWFkYWJsZVN0YXRlO3N3aXRjaChzdGF0ZS5waXBlc0NvdW50KXtjYXNlIDA6c3RhdGUucGlwZXM9ZGVzdDticmVhaztjYXNlIDE6c3RhdGUucGlwZXM9W3N0YXRlLnBpcGVzLGRlc3RdO2JyZWFrO2RlZmF1bHQ6c3RhdGUucGlwZXMucHVzaChkZXN0KX1zdGF0ZS5waXBlc0NvdW50Kz0xLGRlYnVnKFwicGlwZSBjb3VudD0lZCBvcHRzPSVqXCIsc3RhdGUucGlwZXNDb3VudCxwaXBlT3B0cyk7dmFyIGVuZEZuPSghcGlwZU9wdHN8fCExIT09cGlwZU9wdHMuZW5kKSYmZGVzdCE9PXByb2Nlc3Muc3Rkb3V0JiZkZXN0IT09cHJvY2Vzcy5zdGRlcnI/b25lbmQ6dW5waXBlO2Z1bmN0aW9uIG9udW5waXBlKHJlYWRhYmxlLHVucGlwZUluZm8pe2RlYnVnKFwib251bnBpcGVcIikscmVhZGFibGU9PT1zcmMmJnVucGlwZUluZm8mJiExPT09dW5waXBlSW5mby5oYXNVbnBpcGVkJiYodW5waXBlSW5mby5oYXNVbnBpcGVkPSEwLGRlYnVnKFwiY2xlYW51cFwiKSxkZXN0LnJlbW92ZUxpc3RlbmVyKFwiY2xvc2VcIixvbmNsb3NlKSxkZXN0LnJlbW92ZUxpc3RlbmVyKFwiZmluaXNoXCIsb25maW5pc2gpLGRlc3QucmVtb3ZlTGlzdGVuZXIoXCJkcmFpblwiLG9uZHJhaW4pLGRlc3QucmVtb3ZlTGlzdGVuZXIoXCJlcnJvclwiLG9uZXJyb3IpLGRlc3QucmVtb3ZlTGlzdGVuZXIoXCJ1bnBpcGVcIixvbnVucGlwZSksc3JjLnJlbW92ZUxpc3RlbmVyKFwiZW5kXCIsb25lbmQpLHNyYy5yZW1vdmVMaXN0ZW5lcihcImVuZFwiLHVucGlwZSksc3JjLnJlbW92ZUxpc3RlbmVyKFwiZGF0YVwiLG9uZGF0YSksY2xlYW5lZFVwPSEwLCFzdGF0ZS5hd2FpdERyYWlufHxkZXN0Ll93cml0YWJsZVN0YXRlJiYhZGVzdC5fd3JpdGFibGVTdGF0ZS5uZWVkRHJhaW58fG9uZHJhaW4oKSl9ZnVuY3Rpb24gb25lbmQoKXtkZWJ1ZyhcIm9uZW5kXCIpLGRlc3QuZW5kKCl9c3RhdGUuZW5kRW1pdHRlZD9wbmEubmV4dFRpY2soZW5kRm4pOnNyYy5vbmNlKFwiZW5kXCIsZW5kRm4pLGRlc3Qub24oXCJ1bnBpcGVcIixvbnVucGlwZSk7dmFyIG9uZHJhaW49ZnVuY3Rpb24oc3JjKXtyZXR1cm4gZnVuY3Rpb24oKXt2YXIgc3RhdGU9c3JjLl9yZWFkYWJsZVN0YXRlO2RlYnVnKFwicGlwZU9uRHJhaW5cIixzdGF0ZS5hd2FpdERyYWluKSxzdGF0ZS5hd2FpdERyYWluJiZzdGF0ZS5hd2FpdERyYWluLS0sMD09PXN0YXRlLmF3YWl0RHJhaW4mJkVFbGlzdGVuZXJDb3VudChzcmMsXCJkYXRhXCIpJiYoc3RhdGUuZmxvd2luZz0hMCxmbG93KHNyYykpfX0oc3JjKTtkZXN0Lm9uKFwiZHJhaW5cIixvbmRyYWluKTt2YXIgY2xlYW5lZFVwPSExO3ZhciBpbmNyZWFzZWRBd2FpdERyYWluPSExO2Z1bmN0aW9uIG9uZGF0YShjaHVuayl7ZGVidWcoXCJvbmRhdGFcIiksaW5jcmVhc2VkQXdhaXREcmFpbj0hMSwhMSE9PWRlc3Qud3JpdGUoY2h1bmspfHxpbmNyZWFzZWRBd2FpdERyYWlufHwoKDE9PT1zdGF0ZS5waXBlc0NvdW50JiZzdGF0ZS5waXBlcz09PWRlc3R8fHN0YXRlLnBpcGVzQ291bnQ+MSYmLTEhPT1pbmRleE9mKHN0YXRlLnBpcGVzLGRlc3QpKSYmIWNsZWFuZWRVcCYmKGRlYnVnKFwiZmFsc2Ugd3JpdGUgcmVzcG9uc2UsIHBhdXNlXCIsc3JjLl9yZWFkYWJsZVN0YXRlLmF3YWl0RHJhaW4pLHNyYy5fcmVhZGFibGVTdGF0ZS5hd2FpdERyYWluKyssaW5jcmVhc2VkQXdhaXREcmFpbj0hMCksc3JjLnBhdXNlKCkpfWZ1bmN0aW9uIG9uZXJyb3IoZXIpe2RlYnVnKFwib25lcnJvclwiLGVyKSx1bnBpcGUoKSxkZXN0LnJlbW92ZUxpc3RlbmVyKFwiZXJyb3JcIixvbmVycm9yKSwwPT09RUVsaXN0ZW5lckNvdW50KGRlc3QsXCJlcnJvclwiKSYmZGVzdC5lbWl0KFwiZXJyb3JcIixlcil9ZnVuY3Rpb24gb25jbG9zZSgpe2Rlc3QucmVtb3ZlTGlzdGVuZXIoXCJmaW5pc2hcIixvbmZpbmlzaCksdW5waXBlKCl9ZnVuY3Rpb24gb25maW5pc2goKXtkZWJ1ZyhcIm9uZmluaXNoXCIpLGRlc3QucmVtb3ZlTGlzdGVuZXIoXCJjbG9zZVwiLG9uY2xvc2UpLHVucGlwZSgpfWZ1bmN0aW9uIHVucGlwZSgpe2RlYnVnKFwidW5waXBlXCIpLHNyYy51bnBpcGUoZGVzdCl9cmV0dXJuIHNyYy5vbihcImRhdGFcIixvbmRhdGEpLGZ1bmN0aW9uKGVtaXR0ZXIsZXZlbnQsZm4pe2lmKFwiZnVuY3Rpb25cIj09dHlwZW9mIGVtaXR0ZXIucHJlcGVuZExpc3RlbmVyKXJldHVybiBlbWl0dGVyLnByZXBlbmRMaXN0ZW5lcihldmVudCxmbik7ZW1pdHRlci5fZXZlbnRzJiZlbWl0dGVyLl9ldmVudHNbZXZlbnRdP2lzQXJyYXkoZW1pdHRlci5fZXZlbnRzW2V2ZW50XSk/ZW1pdHRlci5fZXZlbnRzW2V2ZW50XS51bnNoaWZ0KGZuKTplbWl0dGVyLl9ldmVudHNbZXZlbnRdPVtmbixlbWl0dGVyLl9ldmVudHNbZXZlbnRdXTplbWl0dGVyLm9uKGV2ZW50LGZuKX0oZGVzdCxcImVycm9yXCIsb25lcnJvciksZGVzdC5vbmNlKFwiY2xvc2VcIixvbmNsb3NlKSxkZXN0Lm9uY2UoXCJmaW5pc2hcIixvbmZpbmlzaCksZGVzdC5lbWl0KFwicGlwZVwiLHNyYyksc3RhdGUuZmxvd2luZ3x8KGRlYnVnKFwicGlwZSByZXN1bWVcIiksc3JjLnJlc3VtZSgpKSxkZXN0fSxSZWFkYWJsZS5wcm90b3R5cGUudW5waXBlPWZ1bmN0aW9uKGRlc3Qpe3ZhciBzdGF0ZT10aGlzLl9yZWFkYWJsZVN0YXRlLHVucGlwZUluZm89e2hhc1VucGlwZWQ6ITF9O2lmKDA9PT1zdGF0ZS5waXBlc0NvdW50KXJldHVybiB0aGlzO2lmKDE9PT1zdGF0ZS5waXBlc0NvdW50KXJldHVybiBkZXN0JiZkZXN0IT09c3RhdGUucGlwZXM/dGhpczooZGVzdHx8KGRlc3Q9c3RhdGUucGlwZXMpLHN0YXRlLnBpcGVzPW51bGwsc3RhdGUucGlwZXNDb3VudD0wLHN0YXRlLmZsb3dpbmc9ITEsZGVzdCYmZGVzdC5lbWl0KFwidW5waXBlXCIsdGhpcyx1bnBpcGVJbmZvKSx0aGlzKTtpZighZGVzdCl7dmFyIGRlc3RzPXN0YXRlLnBpcGVzLGxlbj1zdGF0ZS5waXBlc0NvdW50O3N0YXRlLnBpcGVzPW51bGwsc3RhdGUucGlwZXNDb3VudD0wLHN0YXRlLmZsb3dpbmc9ITE7Zm9yKHZhciBpPTA7aTxsZW47aSsrKWRlc3RzW2ldLmVtaXQoXCJ1bnBpcGVcIix0aGlzLHVucGlwZUluZm8pO3JldHVybiB0aGlzfXZhciBpbmRleD1pbmRleE9mKHN0YXRlLnBpcGVzLGRlc3QpO3JldHVybi0xPT09aW5kZXg/dGhpczooc3RhdGUucGlwZXMuc3BsaWNlKGluZGV4LDEpLHN0YXRlLnBpcGVzQ291bnQtPTEsMT09PXN0YXRlLnBpcGVzQ291bnQmJihzdGF0ZS5waXBlcz1zdGF0ZS5waXBlc1swXSksZGVzdC5lbWl0KFwidW5waXBlXCIsdGhpcyx1bnBpcGVJbmZvKSx0aGlzKX0sUmVhZGFibGUucHJvdG90eXBlLm9uPWZ1bmN0aW9uKGV2LGZuKXt2YXIgcmVzPVN0cmVhbS5wcm90b3R5cGUub24uY2FsbCh0aGlzLGV2LGZuKTtpZihcImRhdGFcIj09PWV2KSExIT09dGhpcy5fcmVhZGFibGVTdGF0ZS5mbG93aW5nJiZ0aGlzLnJlc3VtZSgpO2Vsc2UgaWYoXCJyZWFkYWJsZVwiPT09ZXYpe3ZhciBzdGF0ZT10aGlzLl9yZWFkYWJsZVN0YXRlO3N0YXRlLmVuZEVtaXR0ZWR8fHN0YXRlLnJlYWRhYmxlTGlzdGVuaW5nfHwoc3RhdGUucmVhZGFibGVMaXN0ZW5pbmc9c3RhdGUubmVlZFJlYWRhYmxlPSEwLHN0YXRlLmVtaXR0ZWRSZWFkYWJsZT0hMSxzdGF0ZS5yZWFkaW5nP3N0YXRlLmxlbmd0aCYmZW1pdFJlYWRhYmxlKHRoaXMpOnBuYS5uZXh0VGljayhuUmVhZGluZ05leHRUaWNrLHRoaXMpKX1yZXR1cm4gcmVzfSxSZWFkYWJsZS5wcm90b3R5cGUuYWRkTGlzdGVuZXI9UmVhZGFibGUucHJvdG90eXBlLm9uLFJlYWRhYmxlLnByb3RvdHlwZS5yZXN1bWU9ZnVuY3Rpb24oKXt2YXIgc3RhdGU9dGhpcy5fcmVhZGFibGVTdGF0ZTtyZXR1cm4gc3RhdGUuZmxvd2luZ3x8KGRlYnVnKFwicmVzdW1lXCIpLHN0YXRlLmZsb3dpbmc9ITAsZnVuY3Rpb24oc3RyZWFtLHN0YXRlKXtzdGF0ZS5yZXN1bWVTY2hlZHVsZWR8fChzdGF0ZS5yZXN1bWVTY2hlZHVsZWQ9ITAscG5hLm5leHRUaWNrKHJlc3VtZV8sc3RyZWFtLHN0YXRlKSl9KHRoaXMsc3RhdGUpKSx0aGlzfSxSZWFkYWJsZS5wcm90b3R5cGUucGF1c2U9ZnVuY3Rpb24oKXtyZXR1cm4gZGVidWcoXCJjYWxsIHBhdXNlIGZsb3dpbmc9JWpcIix0aGlzLl9yZWFkYWJsZVN0YXRlLmZsb3dpbmcpLCExIT09dGhpcy5fcmVhZGFibGVTdGF0ZS5mbG93aW5nJiYoZGVidWcoXCJwYXVzZVwiKSx0aGlzLl9yZWFkYWJsZVN0YXRlLmZsb3dpbmc9ITEsdGhpcy5lbWl0KFwicGF1c2VcIikpLHRoaXN9LFJlYWRhYmxlLnByb3RvdHlwZS53cmFwPWZ1bmN0aW9uKHN0cmVhbSl7dmFyIF90aGlzPXRoaXMsc3RhdGU9dGhpcy5fcmVhZGFibGVTdGF0ZSxwYXVzZWQ9ITE7Zm9yKHZhciBpIGluIHN0cmVhbS5vbihcImVuZFwiLGZ1bmN0aW9uKCl7aWYoZGVidWcoXCJ3cmFwcGVkIGVuZFwiKSxzdGF0ZS5kZWNvZGVyJiYhc3RhdGUuZW5kZWQpe3ZhciBjaHVuaz1zdGF0ZS5kZWNvZGVyLmVuZCgpO2NodW5rJiZjaHVuay5sZW5ndGgmJl90aGlzLnB1c2goY2h1bmspfV90aGlzLnB1c2gobnVsbCl9KSxzdHJlYW0ub24oXCJkYXRhXCIsZnVuY3Rpb24oY2h1bmspeyhkZWJ1ZyhcIndyYXBwZWQgZGF0YVwiKSxzdGF0ZS5kZWNvZGVyJiYoY2h1bms9c3RhdGUuZGVjb2Rlci53cml0ZShjaHVuaykpLCFzdGF0ZS5vYmplY3RNb2RlfHxudWxsIT09Y2h1bmsmJnZvaWQgMCE9PWNodW5rKSYmKChzdGF0ZS5vYmplY3RNb2RlfHxjaHVuayYmY2h1bmsubGVuZ3RoKSYmKF90aGlzLnB1c2goY2h1bmspfHwocGF1c2VkPSEwLHN0cmVhbS5wYXVzZSgpKSkpfSksc3RyZWFtKXZvaWQgMD09PXRoaXNbaV0mJlwiZnVuY3Rpb25cIj09dHlwZW9mIHN0cmVhbVtpXSYmKHRoaXNbaV09ZnVuY3Rpb24obWV0aG9kKXtyZXR1cm4gZnVuY3Rpb24oKXtyZXR1cm4gc3RyZWFtW21ldGhvZF0uYXBwbHkoc3RyZWFtLGFyZ3VtZW50cyl9fShpKSk7Zm9yKHZhciBuPTA7bjxrUHJveHlFdmVudHMubGVuZ3RoO24rKylzdHJlYW0ub24oa1Byb3h5RXZlbnRzW25dLHRoaXMuZW1pdC5iaW5kKHRoaXMsa1Byb3h5RXZlbnRzW25dKSk7cmV0dXJuIHRoaXMuX3JlYWQ9ZnVuY3Rpb24obil7ZGVidWcoXCJ3cmFwcGVkIF9yZWFkXCIsbikscGF1c2VkJiYocGF1c2VkPSExLHN0cmVhbS5yZXN1bWUoKSl9LHRoaXN9LE9iamVjdC5kZWZpbmVQcm9wZXJ0eShSZWFkYWJsZS5wcm90b3R5cGUsXCJyZWFkYWJsZUhpZ2hXYXRlck1hcmtcIix7ZW51bWVyYWJsZTohMSxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fcmVhZGFibGVTdGF0ZS5oaWdoV2F0ZXJNYXJrfX0pLFJlYWRhYmxlLl9mcm9tTGlzdD1mcm9tTGlzdH0pLmNhbGwodGhpcyxfX3dlYnBhY2tfcmVxdWlyZV9fKDExKSxfX3dlYnBhY2tfcmVxdWlyZV9fKDI0KSl9LGZ1bmN0aW9uKG1vZHVsZSxleHBvcnRzLF9fd2VicGFja19yZXF1aXJlX18pe21vZHVsZS5leHBvcnRzPV9fd2VicGFja19yZXF1aXJlX18oNDApLkV2ZW50RW1pdHRlcn0sZnVuY3Rpb24obW9kdWxlLGV4cG9ydHMsX193ZWJwYWNrX3JlcXVpcmVfXyl7XCJ1c2Ugc3RyaWN0XCI7dmFyIHBuYT1fX3dlYnBhY2tfcmVxdWlyZV9fKDI5KTtmdW5jdGlvbiBlbWl0RXJyb3JOVChzZWxmLGVycil7c2VsZi5lbWl0KFwiZXJyb3JcIixlcnIpfW1vZHVsZS5leHBvcnRzPXtkZXN0cm95OmZ1bmN0aW9uKGVycixjYil7dmFyIF90aGlzPXRoaXMscmVhZGFibGVEZXN0cm95ZWQ9dGhpcy5fcmVhZGFibGVTdGF0ZSYmdGhpcy5fcmVhZGFibGVTdGF0ZS5kZXN0cm95ZWQsd3JpdGFibGVEZXN0cm95ZWQ9dGhpcy5fd3JpdGFibGVTdGF0ZSYmdGhpcy5fd3JpdGFibGVTdGF0ZS5kZXN0cm95ZWQ7cmV0dXJuIHJlYWRhYmxlRGVzdHJveWVkfHx3cml0YWJsZURlc3Ryb3llZD8oY2I/Y2IoZXJyKTohZXJyfHx0aGlzLl93cml0YWJsZVN0YXRlJiZ0aGlzLl93cml0YWJsZVN0YXRlLmVycm9yRW1pdHRlZHx8cG5hLm5leHRUaWNrKGVtaXRFcnJvck5ULHRoaXMsZXJyKSx0aGlzKToodGhpcy5fcmVhZGFibGVTdGF0ZSYmKHRoaXMuX3JlYWRhYmxlU3RhdGUuZGVzdHJveWVkPSEwKSx0aGlzLl93cml0YWJsZVN0YXRlJiYodGhpcy5fd3JpdGFibGVTdGF0ZS5kZXN0cm95ZWQ9ITApLHRoaXMuX2Rlc3Ryb3koZXJyfHxudWxsLGZ1bmN0aW9uKGVycil7IWNiJiZlcnI/KHBuYS5uZXh0VGljayhlbWl0RXJyb3JOVCxfdGhpcyxlcnIpLF90aGlzLl93cml0YWJsZVN0YXRlJiYoX3RoaXMuX3dyaXRhYmxlU3RhdGUuZXJyb3JFbWl0dGVkPSEwKSk6Y2ImJmNiKGVycil9KSx0aGlzKX0sdW5kZXN0cm95OmZ1bmN0aW9uKCl7dGhpcy5fcmVhZGFibGVTdGF0ZSYmKHRoaXMuX3JlYWRhYmxlU3RhdGUuZGVzdHJveWVkPSExLHRoaXMuX3JlYWRhYmxlU3RhdGUucmVhZGluZz0hMSx0aGlzLl9yZWFkYWJsZVN0YXRlLmVuZGVkPSExLHRoaXMuX3JlYWRhYmxlU3RhdGUuZW5kRW1pdHRlZD0hMSksdGhpcy5fd3JpdGFibGVTdGF0ZSYmKHRoaXMuX3dyaXRhYmxlU3RhdGUuZGVzdHJveWVkPSExLHRoaXMuX3dyaXRhYmxlU3RhdGUuZW5kZWQ9ITEsdGhpcy5fd3JpdGFibGVTdGF0ZS5lbmRpbmc9ITEsdGhpcy5fd3JpdGFibGVTdGF0ZS5maW5pc2hlZD0hMSx0aGlzLl93cml0YWJsZVN0YXRlLmVycm9yRW1pdHRlZD0hMSl9fX0sZnVuY3Rpb24obW9kdWxlLGV4cG9ydHMsX193ZWJwYWNrX3JlcXVpcmVfXyl7KGZ1bmN0aW9uKGdsb2JhbCl7dmFyIHNjb3BlPXZvaWQgMCE9PWdsb2JhbCYmZ2xvYmFsfHxcInVuZGVmaW5lZFwiIT10eXBlb2Ygc2VsZiYmc2VsZnx8d2luZG93LGFwcGx5PUZ1bmN0aW9uLnByb3RvdHlwZS5hcHBseTtmdW5jdGlvbiBUaW1lb3V0KGlkLGNsZWFyRm4pe3RoaXMuX2lkPWlkLHRoaXMuX2NsZWFyRm49Y2xlYXJGbn1leHBvcnRzLnNldFRpbWVvdXQ9ZnVuY3Rpb24oKXtyZXR1cm4gbmV3IFRpbWVvdXQoYXBwbHkuY2FsbChzZXRUaW1lb3V0LHNjb3BlLGFyZ3VtZW50cyksY2xlYXJUaW1lb3V0KX0sZXhwb3J0cy5zZXRJbnRlcnZhbD1mdW5jdGlvbigpe3JldHVybiBuZXcgVGltZW91dChhcHBseS5jYWxsKHNldEludGVydmFsLHNjb3BlLGFyZ3VtZW50cyksY2xlYXJJbnRlcnZhbCl9LGV4cG9ydHMuY2xlYXJUaW1lb3V0PWV4cG9ydHMuY2xlYXJJbnRlcnZhbD1mdW5jdGlvbih0aW1lb3V0KXt0aW1lb3V0JiZ0aW1lb3V0LmNsb3NlKCl9LFRpbWVvdXQucHJvdG90eXBlLnVucmVmPVRpbWVvdXQucHJvdG90eXBlLnJlZj1mdW5jdGlvbigpe30sVGltZW91dC5wcm90b3R5cGUuY2xvc2U9ZnVuY3Rpb24oKXt0aGlzLl9jbGVhckZuLmNhbGwoc2NvcGUsdGhpcy5faWQpfSxleHBvcnRzLmVucm9sbD1mdW5jdGlvbihpdGVtLG1zZWNzKXtjbGVhclRpbWVvdXQoaXRlbS5faWRsZVRpbWVvdXRJZCksaXRlbS5faWRsZVRpbWVvdXQ9bXNlY3N9LGV4cG9ydHMudW5lbnJvbGw9ZnVuY3Rpb24oaXRlbSl7Y2xlYXJUaW1lb3V0KGl0ZW0uX2lkbGVUaW1lb3V0SWQpLGl0ZW0uX2lkbGVUaW1lb3V0PS0xfSxleHBvcnRzLl91bnJlZkFjdGl2ZT1leHBvcnRzLmFjdGl2ZT1mdW5jdGlvbihpdGVtKXtjbGVhclRpbWVvdXQoaXRlbS5faWRsZVRpbWVvdXRJZCk7dmFyIG1zZWNzPWl0ZW0uX2lkbGVUaW1lb3V0O21zZWNzPj0wJiYoaXRlbS5faWRsZVRpbWVvdXRJZD1zZXRUaW1lb3V0KGZ1bmN0aW9uKCl7aXRlbS5fb25UaW1lb3V0JiZpdGVtLl9vblRpbWVvdXQoKX0sbXNlY3MpKX0sX193ZWJwYWNrX3JlcXVpcmVfXyg5MyksZXhwb3J0cy5zZXRJbW1lZGlhdGU9XCJ1bmRlZmluZWRcIiE9dHlwZW9mIHNlbGYmJnNlbGYuc2V0SW1tZWRpYXRlfHx2b2lkIDAhPT1nbG9iYWwmJmdsb2JhbC5zZXRJbW1lZGlhdGV8fHRoaXMmJnRoaXMuc2V0SW1tZWRpYXRlLGV4cG9ydHMuY2xlYXJJbW1lZGlhdGU9XCJ1bmRlZmluZWRcIiE9dHlwZW9mIHNlbGYmJnNlbGYuY2xlYXJJbW1lZGlhdGV8fHZvaWQgMCE9PWdsb2JhbCYmZ2xvYmFsLmNsZWFySW1tZWRpYXRlfHx0aGlzJiZ0aGlzLmNsZWFySW1tZWRpYXRlfSkuY2FsbCh0aGlzLF9fd2VicGFja19yZXF1aXJlX18oMTEpKX0sZnVuY3Rpb24obW9kdWxlLGV4cG9ydHMsX193ZWJwYWNrX3JlcXVpcmVfXyl7XCJ1c2Ugc3RyaWN0XCI7dmFyIEJ1ZmZlcj1fX3dlYnBhY2tfcmVxdWlyZV9fKDMwKS5CdWZmZXIsaXNFbmNvZGluZz1CdWZmZXIuaXNFbmNvZGluZ3x8ZnVuY3Rpb24oZW5jb2Rpbmcpe3N3aXRjaCgoZW5jb2Rpbmc9XCJcIitlbmNvZGluZykmJmVuY29kaW5nLnRvTG93ZXJDYXNlKCkpe2Nhc2VcImhleFwiOmNhc2VcInV0ZjhcIjpjYXNlXCJ1dGYtOFwiOmNhc2VcImFzY2lpXCI6Y2FzZVwiYmluYXJ5XCI6Y2FzZVwiYmFzZTY0XCI6Y2FzZVwidWNzMlwiOmNhc2VcInVjcy0yXCI6Y2FzZVwidXRmMTZsZVwiOmNhc2VcInV0Zi0xNmxlXCI6Y2FzZVwicmF3XCI6cmV0dXJuITA7ZGVmYXVsdDpyZXR1cm4hMX19O2Z1bmN0aW9uIFN0cmluZ0RlY29kZXIoZW5jb2Rpbmcpe3ZhciBuYjtzd2l0Y2godGhpcy5lbmNvZGluZz1mdW5jdGlvbihlbmMpe3ZhciBuZW5jPWZ1bmN0aW9uKGVuYyl7aWYoIWVuYylyZXR1cm5cInV0ZjhcIjtmb3IodmFyIHJldHJpZWQ7Oylzd2l0Y2goZW5jKXtjYXNlXCJ1dGY4XCI6Y2FzZVwidXRmLThcIjpyZXR1cm5cInV0ZjhcIjtjYXNlXCJ1Y3MyXCI6Y2FzZVwidWNzLTJcIjpjYXNlXCJ1dGYxNmxlXCI6Y2FzZVwidXRmLTE2bGVcIjpyZXR1cm5cInV0ZjE2bGVcIjtjYXNlXCJsYXRpbjFcIjpjYXNlXCJiaW5hcnlcIjpyZXR1cm5cImxhdGluMVwiO2Nhc2VcImJhc2U2NFwiOmNhc2VcImFzY2lpXCI6Y2FzZVwiaGV4XCI6cmV0dXJuIGVuYztkZWZhdWx0OmlmKHJldHJpZWQpcmV0dXJuO2VuYz0oXCJcIitlbmMpLnRvTG93ZXJDYXNlKCkscmV0cmllZD0hMH19KGVuYyk7aWYoXCJzdHJpbmdcIiE9dHlwZW9mIG5lbmMmJihCdWZmZXIuaXNFbmNvZGluZz09PWlzRW5jb2Rpbmd8fCFpc0VuY29kaW5nKGVuYykpKXRocm93IG5ldyBFcnJvcihcIlVua25vd24gZW5jb2Rpbmc6IFwiK2VuYyk7cmV0dXJuIG5lbmN8fGVuY30oZW5jb2RpbmcpLHRoaXMuZW5jb2Rpbmcpe2Nhc2VcInV0ZjE2bGVcIjp0aGlzLnRleHQ9dXRmMTZUZXh0LHRoaXMuZW5kPXV0ZjE2RW5kLG5iPTQ7YnJlYWs7Y2FzZVwidXRmOFwiOnRoaXMuZmlsbExhc3Q9dXRmOEZpbGxMYXN0LG5iPTQ7YnJlYWs7Y2FzZVwiYmFzZTY0XCI6dGhpcy50ZXh0PWJhc2U2NFRleHQsdGhpcy5lbmQ9YmFzZTY0RW5kLG5iPTM7YnJlYWs7ZGVmYXVsdDpyZXR1cm4gdGhpcy53cml0ZT1zaW1wbGVXcml0ZSx2b2lkKHRoaXMuZW5kPXNpbXBsZUVuZCl9dGhpcy5sYXN0TmVlZD0wLHRoaXMubGFzdFRvdGFsPTAsdGhpcy5sYXN0Q2hhcj1CdWZmZXIuYWxsb2NVbnNhZmUobmIpfWZ1bmN0aW9uIHV0ZjhDaGVja0J5dGUoYnl0ZSl7cmV0dXJuIGJ5dGU8PTEyNz8wOmJ5dGU+PjU9PTY/MjpieXRlPj40PT0xND8zOmJ5dGU+PjM9PTMwPzQ6Ynl0ZT4+Nj09Mj8tMTotMn1mdW5jdGlvbiB1dGY4RmlsbExhc3QoYnVmKXt2YXIgcD10aGlzLmxhc3RUb3RhbC10aGlzLmxhc3ROZWVkLHI9ZnVuY3Rpb24oc2VsZixidWYscCl7aWYoMTI4IT0oMTkyJmJ1ZlswXSkpcmV0dXJuIHNlbGYubGFzdE5lZWQ9MCxcIu+/vVwiO2lmKHNlbGYubGFzdE5lZWQ+MSYmYnVmLmxlbmd0aD4xKXtpZigxMjghPSgxOTImYnVmWzFdKSlyZXR1cm4gc2VsZi5sYXN0TmVlZD0xLFwi77+9XCI7aWYoc2VsZi5sYXN0TmVlZD4yJiZidWYubGVuZ3RoPjImJjEyOCE9KDE5MiZidWZbMl0pKXJldHVybiBzZWxmLmxhc3ROZWVkPTIsXCLvv71cIn19KHRoaXMsYnVmKTtyZXR1cm4gdm9pZCAwIT09cj9yOnRoaXMubGFzdE5lZWQ8PWJ1Zi5sZW5ndGg/KGJ1Zi5jb3B5KHRoaXMubGFzdENoYXIscCwwLHRoaXMubGFzdE5lZWQpLHRoaXMubGFzdENoYXIudG9TdHJpbmcodGhpcy5lbmNvZGluZywwLHRoaXMubGFzdFRvdGFsKSk6KGJ1Zi5jb3B5KHRoaXMubGFzdENoYXIscCwwLGJ1Zi5sZW5ndGgpLHZvaWQodGhpcy5sYXN0TmVlZC09YnVmLmxlbmd0aCkpfWZ1bmN0aW9uIHV0ZjE2VGV4dChidWYsaSl7aWYoKGJ1Zi5sZW5ndGgtaSklMj09MCl7dmFyIHI9YnVmLnRvU3RyaW5nKFwidXRmMTZsZVwiLGkpO2lmKHIpe3ZhciBjPXIuY2hhckNvZGVBdChyLmxlbmd0aC0xKTtpZihjPj01NTI5NiYmYzw9NTYzMTkpcmV0dXJuIHRoaXMubGFzdE5lZWQ9Mix0aGlzLmxhc3RUb3RhbD00LHRoaXMubGFzdENoYXJbMF09YnVmW2J1Zi5sZW5ndGgtMl0sdGhpcy5sYXN0Q2hhclsxXT1idWZbYnVmLmxlbmd0aC0xXSxyLnNsaWNlKDAsLTEpfXJldHVybiByfXJldHVybiB0aGlzLmxhc3ROZWVkPTEsdGhpcy5sYXN0VG90YWw9Mix0aGlzLmxhc3RDaGFyWzBdPWJ1ZltidWYubGVuZ3RoLTFdLGJ1Zi50b1N0cmluZyhcInV0ZjE2bGVcIixpLGJ1Zi5sZW5ndGgtMSl9ZnVuY3Rpb24gdXRmMTZFbmQoYnVmKXt2YXIgcj1idWYmJmJ1Zi5sZW5ndGg/dGhpcy53cml0ZShidWYpOlwiXCI7aWYodGhpcy5sYXN0TmVlZCl7dmFyIGVuZD10aGlzLmxhc3RUb3RhbC10aGlzLmxhc3ROZWVkO3JldHVybiByK3RoaXMubGFzdENoYXIudG9TdHJpbmcoXCJ1dGYxNmxlXCIsMCxlbmQpfXJldHVybiByfWZ1bmN0aW9uIGJhc2U2NFRleHQoYnVmLGkpe3ZhciBuPShidWYubGVuZ3RoLWkpJTM7cmV0dXJuIDA9PT1uP2J1Zi50b1N0cmluZyhcImJhc2U2NFwiLGkpOih0aGlzLmxhc3ROZWVkPTMtbix0aGlzLmxhc3RUb3RhbD0zLDE9PT1uP3RoaXMubGFzdENoYXJbMF09YnVmW2J1Zi5sZW5ndGgtMV06KHRoaXMubGFzdENoYXJbMF09YnVmW2J1Zi5sZW5ndGgtMl0sdGhpcy5sYXN0Q2hhclsxXT1idWZbYnVmLmxlbmd0aC0xXSksYnVmLnRvU3RyaW5nKFwiYmFzZTY0XCIsaSxidWYubGVuZ3RoLW4pKX1mdW5jdGlvbiBiYXNlNjRFbmQoYnVmKXt2YXIgcj1idWYmJmJ1Zi5sZW5ndGg/dGhpcy53cml0ZShidWYpOlwiXCI7cmV0dXJuIHRoaXMubGFzdE5lZWQ/cit0aGlzLmxhc3RDaGFyLnRvU3RyaW5nKFwiYmFzZTY0XCIsMCwzLXRoaXMubGFzdE5lZWQpOnJ9ZnVuY3Rpb24gc2ltcGxlV3JpdGUoYnVmKXtyZXR1cm4gYnVmLnRvU3RyaW5nKHRoaXMuZW5jb2RpbmcpfWZ1bmN0aW9uIHNpbXBsZUVuZChidWYpe3JldHVybiBidWYmJmJ1Zi5sZW5ndGg/dGhpcy53cml0ZShidWYpOlwiXCJ9ZXhwb3J0cy5TdHJpbmdEZWNvZGVyPVN0cmluZ0RlY29kZXIsU3RyaW5nRGVjb2Rlci5wcm90b3R5cGUud3JpdGU9ZnVuY3Rpb24oYnVmKXtpZigwPT09YnVmLmxlbmd0aClyZXR1cm5cIlwiO3ZhciByLGk7aWYodGhpcy5sYXN0TmVlZCl7aWYodm9pZCAwPT09KHI9dGhpcy5maWxsTGFzdChidWYpKSlyZXR1cm5cIlwiO2k9dGhpcy5sYXN0TmVlZCx0aGlzLmxhc3ROZWVkPTB9ZWxzZSBpPTA7cmV0dXJuIGk8YnVmLmxlbmd0aD9yP3IrdGhpcy50ZXh0KGJ1ZixpKTp0aGlzLnRleHQoYnVmLGkpOnJ8fFwiXCJ9LFN0cmluZ0RlY29kZXIucHJvdG90eXBlLmVuZD1mdW5jdGlvbihidWYpe3ZhciByPWJ1ZiYmYnVmLmxlbmd0aD90aGlzLndyaXRlKGJ1Zik6XCJcIjtyZXR1cm4gdGhpcy5sYXN0TmVlZD9yK1wi77+9XCI6cn0sU3RyaW5nRGVjb2Rlci5wcm90b3R5cGUudGV4dD1mdW5jdGlvbihidWYsaSl7dmFyIHRvdGFsPWZ1bmN0aW9uKHNlbGYsYnVmLGkpe3ZhciBqPWJ1Zi5sZW5ndGgtMTtpZihqPGkpcmV0dXJuIDA7dmFyIG5iPXV0ZjhDaGVja0J5dGUoYnVmW2pdKTtpZihuYj49MClyZXR1cm4gbmI+MCYmKHNlbGYubGFzdE5lZWQ9bmItMSksbmI7aWYoLS1qPGl8fC0yPT09bmIpcmV0dXJuIDA7aWYoKG5iPXV0ZjhDaGVja0J5dGUoYnVmW2pdKSk+PTApcmV0dXJuIG5iPjAmJihzZWxmLmxhc3ROZWVkPW5iLTIpLG5iO2lmKC0tajxpfHwtMj09PW5iKXJldHVybiAwO2lmKChuYj11dGY4Q2hlY2tCeXRlKGJ1ZltqXSkpPj0wKXJldHVybiBuYj4wJiYoMj09PW5iP25iPTA6c2VsZi5sYXN0TmVlZD1uYi0zKSxuYjtyZXR1cm4gMH0odGhpcyxidWYsaSk7aWYoIXRoaXMubGFzdE5lZWQpcmV0dXJuIGJ1Zi50b1N0cmluZyhcInV0ZjhcIixpKTt0aGlzLmxhc3RUb3RhbD10b3RhbDt2YXIgZW5kPWJ1Zi5sZW5ndGgtKHRvdGFsLXRoaXMubGFzdE5lZWQpO3JldHVybiBidWYuY29weSh0aGlzLmxhc3RDaGFyLDAsZW5kKSxidWYudG9TdHJpbmcoXCJ1dGY4XCIsaSxlbmQpfSxTdHJpbmdEZWNvZGVyLnByb3RvdHlwZS5maWxsTGFzdD1mdW5jdGlvbihidWYpe2lmKHRoaXMubGFzdE5lZWQ8PWJ1Zi5sZW5ndGgpcmV0dXJuIGJ1Zi5jb3B5KHRoaXMubGFzdENoYXIsdGhpcy5sYXN0VG90YWwtdGhpcy5sYXN0TmVlZCwwLHRoaXMubGFzdE5lZWQpLHRoaXMubGFzdENoYXIudG9TdHJpbmcodGhpcy5lbmNvZGluZywwLHRoaXMubGFzdFRvdGFsKTtidWYuY29weSh0aGlzLmxhc3RDaGFyLHRoaXMubGFzdFRvdGFsLXRoaXMubGFzdE5lZWQsMCxidWYubGVuZ3RoKSx0aGlzLmxhc3ROZWVkLT1idWYubGVuZ3RofX0sZnVuY3Rpb24obW9kdWxlLGV4cG9ydHMsX193ZWJwYWNrX3JlcXVpcmVfXyl7XCJ1c2Ugc3RyaWN0XCI7bW9kdWxlLmV4cG9ydHM9VHJhbnNmb3JtO3ZhciBEdXBsZXg9X193ZWJwYWNrX3JlcXVpcmVfXygxMiksdXRpbD1PYmplY3QuY3JlYXRlKF9fd2VicGFja19yZXF1aXJlX18oMjUpKTtmdW5jdGlvbiBUcmFuc2Zvcm0ob3B0aW9ucyl7aWYoISh0aGlzIGluc3RhbmNlb2YgVHJhbnNmb3JtKSlyZXR1cm4gbmV3IFRyYW5zZm9ybShvcHRpb25zKTtEdXBsZXguY2FsbCh0aGlzLG9wdGlvbnMpLHRoaXMuX3RyYW5zZm9ybVN0YXRlPXthZnRlclRyYW5zZm9ybTpmdW5jdGlvbihlcixkYXRhKXt2YXIgdHM9dGhpcy5fdHJhbnNmb3JtU3RhdGU7dHMudHJhbnNmb3JtaW5nPSExO3ZhciBjYj10cy53cml0ZWNiO2lmKCFjYilyZXR1cm4gdGhpcy5lbWl0KFwiZXJyb3JcIixuZXcgRXJyb3IoXCJ3cml0ZSBjYWxsYmFjayBjYWxsZWQgbXVsdGlwbGUgdGltZXNcIikpO3RzLndyaXRlY2h1bms9bnVsbCx0cy53cml0ZWNiPW51bGwsbnVsbCE9ZGF0YSYmdGhpcy5wdXNoKGRhdGEpLGNiKGVyKTt2YXIgcnM9dGhpcy5fcmVhZGFibGVTdGF0ZTtycy5yZWFkaW5nPSExLChycy5uZWVkUmVhZGFibGV8fHJzLmxlbmd0aDxycy5oaWdoV2F0ZXJNYXJrKSYmdGhpcy5fcmVhZChycy5oaWdoV2F0ZXJNYXJrKX0uYmluZCh0aGlzKSxuZWVkVHJhbnNmb3JtOiExLHRyYW5zZm9ybWluZzohMSx3cml0ZWNiOm51bGwsd3JpdGVjaHVuazpudWxsLHdyaXRlZW5jb2Rpbmc6bnVsbH0sdGhpcy5fcmVhZGFibGVTdGF0ZS5uZWVkUmVhZGFibGU9ITAsdGhpcy5fcmVhZGFibGVTdGF0ZS5zeW5jPSExLG9wdGlvbnMmJihcImZ1bmN0aW9uXCI9PXR5cGVvZiBvcHRpb25zLnRyYW5zZm9ybSYmKHRoaXMuX3RyYW5zZm9ybT1vcHRpb25zLnRyYW5zZm9ybSksXCJmdW5jdGlvblwiPT10eXBlb2Ygb3B0aW9ucy5mbHVzaCYmKHRoaXMuX2ZsdXNoPW9wdGlvbnMuZmx1c2gpKSx0aGlzLm9uKFwicHJlZmluaXNoXCIscHJlZmluaXNoKX1mdW5jdGlvbiBwcmVmaW5pc2goKXt2YXIgX3RoaXM9dGhpcztcImZ1bmN0aW9uXCI9PXR5cGVvZiB0aGlzLl9mbHVzaD90aGlzLl9mbHVzaChmdW5jdGlvbihlcixkYXRhKXtkb25lKF90aGlzLGVyLGRhdGEpfSk6ZG9uZSh0aGlzLG51bGwsbnVsbCl9ZnVuY3Rpb24gZG9uZShzdHJlYW0sZXIsZGF0YSl7aWYoZXIpcmV0dXJuIHN0cmVhbS5lbWl0KFwiZXJyb3JcIixlcik7aWYobnVsbCE9ZGF0YSYmc3RyZWFtLnB1c2goZGF0YSksc3RyZWFtLl93cml0YWJsZVN0YXRlLmxlbmd0aCl0aHJvdyBuZXcgRXJyb3IoXCJDYWxsaW5nIHRyYW5zZm9ybSBkb25lIHdoZW4gd3MubGVuZ3RoICE9IDBcIik7aWYoc3RyZWFtLl90cmFuc2Zvcm1TdGF0ZS50cmFuc2Zvcm1pbmcpdGhyb3cgbmV3IEVycm9yKFwiQ2FsbGluZyB0cmFuc2Zvcm0gZG9uZSB3aGVuIHN0aWxsIHRyYW5zZm9ybWluZ1wiKTtyZXR1cm4gc3RyZWFtLnB1c2gobnVsbCl9dXRpbC5pbmhlcml0cz1fX3dlYnBhY2tfcmVxdWlyZV9fKDE0KSx1dGlsLmluaGVyaXRzKFRyYW5zZm9ybSxEdXBsZXgpLFRyYW5zZm9ybS5wcm90b3R5cGUucHVzaD1mdW5jdGlvbihjaHVuayxlbmNvZGluZyl7cmV0dXJuIHRoaXMuX3RyYW5zZm9ybVN0YXRlLm5lZWRUcmFuc2Zvcm09ITEsRHVwbGV4LnByb3RvdHlwZS5wdXNoLmNhbGwodGhpcyxjaHVuayxlbmNvZGluZyl9LFRyYW5zZm9ybS5wcm90b3R5cGUuX3RyYW5zZm9ybT1mdW5jdGlvbihjaHVuayxlbmNvZGluZyxjYil7dGhyb3cgbmV3IEVycm9yKFwiX3RyYW5zZm9ybSgpIGlzIG5vdCBpbXBsZW1lbnRlZFwiKX0sVHJhbnNmb3JtLnByb3RvdHlwZS5fd3JpdGU9ZnVuY3Rpb24oY2h1bmssZW5jb2RpbmcsY2Ipe3ZhciB0cz10aGlzLl90cmFuc2Zvcm1TdGF0ZTtpZih0cy53cml0ZWNiPWNiLHRzLndyaXRlY2h1bms9Y2h1bmssdHMud3JpdGVlbmNvZGluZz1lbmNvZGluZywhdHMudHJhbnNmb3JtaW5nKXt2YXIgcnM9dGhpcy5fcmVhZGFibGVTdGF0ZTsodHMubmVlZFRyYW5zZm9ybXx8cnMubmVlZFJlYWRhYmxlfHxycy5sZW5ndGg8cnMuaGlnaFdhdGVyTWFyaykmJnRoaXMuX3JlYWQocnMuaGlnaFdhdGVyTWFyayl9fSxUcmFuc2Zvcm0ucHJvdG90eXBlLl9yZWFkPWZ1bmN0aW9uKG4pe3ZhciB0cz10aGlzLl90cmFuc2Zvcm1TdGF0ZTtudWxsIT09dHMud3JpdGVjaHVuayYmdHMud3JpdGVjYiYmIXRzLnRyYW5zZm9ybWluZz8odHMudHJhbnNmb3JtaW5nPSEwLHRoaXMuX3RyYW5zZm9ybSh0cy53cml0ZWNodW5rLHRzLndyaXRlZW5jb2RpbmcsdHMuYWZ0ZXJUcmFuc2Zvcm0pKTp0cy5uZWVkVHJhbnNmb3JtPSEwfSxUcmFuc2Zvcm0ucHJvdG90eXBlLl9kZXN0cm95PWZ1bmN0aW9uKGVycixjYil7dmFyIF90aGlzMj10aGlzO0R1cGxleC5wcm90b3R5cGUuX2Rlc3Ryb3kuY2FsbCh0aGlzLGVycixmdW5jdGlvbihlcnIyKXtjYihlcnIyKSxfdGhpczIuZW1pdChcImNsb3NlXCIpfSl9fSxmdW5jdGlvbihtb2R1bGUsZXhwb3J0cyxfX3dlYnBhY2tfcmVxdWlyZV9fKXtcInVzZSBzdHJpY3RcIjt2YXIgdXRpbHM9X193ZWJwYWNrX3JlcXVpcmVfXygwKSxzdXBwb3J0PV9fd2VicGFja19yZXF1aXJlX18oNyksX2tleVN0cj1cIkFCQ0RFRkdISUpLTE1OT1BRUlNUVVZXWFlaYWJjZGVmZ2hpamtsbW5vcHFyc3R1dnd4eXowMTIzNDU2Nzg5Ky89XCI7ZXhwb3J0cy5lbmNvZGU9ZnVuY3Rpb24oaW5wdXQpe2Zvcih2YXIgY2hyMSxjaHIyLGNocjMsZW5jMSxlbmMyLGVuYzMsZW5jNCxvdXRwdXQ9W10saT0wLGxlbj1pbnB1dC5sZW5ndGgscmVtYWluaW5nQnl0ZXM9bGVuLGlzQXJyYXk9XCJzdHJpbmdcIiE9PXV0aWxzLmdldFR5cGVPZihpbnB1dCk7aTxpbnB1dC5sZW5ndGg7KXJlbWFpbmluZ0J5dGVzPWxlbi1pLGlzQXJyYXk/KGNocjE9aW5wdXRbaSsrXSxjaHIyPWk8bGVuP2lucHV0W2krK106MCxjaHIzPWk8bGVuP2lucHV0W2krK106MCk6KGNocjE9aW5wdXQuY2hhckNvZGVBdChpKyspLGNocjI9aTxsZW4/aW5wdXQuY2hhckNvZGVBdChpKyspOjAsY2hyMz1pPGxlbj9pbnB1dC5jaGFyQ29kZUF0KGkrKyk6MCksZW5jMT1jaHIxPj4yLGVuYzI9KDMmY2hyMSk8PDR8Y2hyMj4+NCxlbmMzPXJlbWFpbmluZ0J5dGVzPjE/KDE1JmNocjIpPDwyfGNocjM+PjY6NjQsZW5jND1yZW1haW5pbmdCeXRlcz4yPzYzJmNocjM6NjQsb3V0cHV0LnB1c2goX2tleVN0ci5jaGFyQXQoZW5jMSkrX2tleVN0ci5jaGFyQXQoZW5jMikrX2tleVN0ci5jaGFyQXQoZW5jMykrX2tleVN0ci5jaGFyQXQoZW5jNCkpO3JldHVybiBvdXRwdXQuam9pbihcIlwiKX0sZXhwb3J0cy5kZWNvZGU9ZnVuY3Rpb24oaW5wdXQpe3ZhciBjaHIxLGNocjIsY2hyMyxlbmMyLGVuYzMsZW5jNCxpPTAscmVzdWx0SW5kZXg9MDtpZihcImRhdGE6XCI9PT1pbnB1dC5zdWJzdHIoMCxcImRhdGE6XCIubGVuZ3RoKSl0aHJvdyBuZXcgRXJyb3IoXCJJbnZhbGlkIGJhc2U2NCBpbnB1dCwgaXQgbG9va3MgbGlrZSBhIGRhdGEgdXJsLlwiKTt2YXIgb3V0cHV0LHRvdGFsTGVuZ3RoPTMqKGlucHV0PWlucHV0LnJlcGxhY2UoL1teQS1aYS16MC05XFwrXFwvXFw9XS9nLFwiXCIpKS5sZW5ndGgvNDtpZihpbnB1dC5jaGFyQXQoaW5wdXQubGVuZ3RoLTEpPT09X2tleVN0ci5jaGFyQXQoNjQpJiZ0b3RhbExlbmd0aC0tLGlucHV0LmNoYXJBdChpbnB1dC5sZW5ndGgtMik9PT1fa2V5U3RyLmNoYXJBdCg2NCkmJnRvdGFsTGVuZ3RoLS0sdG90YWxMZW5ndGglMSE9MCl0aHJvdyBuZXcgRXJyb3IoXCJJbnZhbGlkIGJhc2U2NCBpbnB1dCwgYmFkIGNvbnRlbnQgbGVuZ3RoLlwiKTtmb3Iob3V0cHV0PXN1cHBvcnQudWludDhhcnJheT9uZXcgVWludDhBcnJheSgwfHRvdGFsTGVuZ3RoKTpuZXcgQXJyYXkoMHx0b3RhbExlbmd0aCk7aTxpbnB1dC5sZW5ndGg7KWNocjE9X2tleVN0ci5pbmRleE9mKGlucHV0LmNoYXJBdChpKyspKTw8MnwoZW5jMj1fa2V5U3RyLmluZGV4T2YoaW5wdXQuY2hhckF0KGkrKykpKT4+NCxjaHIyPSgxNSZlbmMyKTw8NHwoZW5jMz1fa2V5U3RyLmluZGV4T2YoaW5wdXQuY2hhckF0KGkrKykpKT4+MixjaHIzPSgzJmVuYzMpPDw2fChlbmM0PV9rZXlTdHIuaW5kZXhPZihpbnB1dC5jaGFyQXQoaSsrKSkpLG91dHB1dFtyZXN1bHRJbmRleCsrXT1jaHIxLDY0IT09ZW5jMyYmKG91dHB1dFtyZXN1bHRJbmRleCsrXT1jaHIyKSw2NCE9PWVuYzQmJihvdXRwdXRbcmVzdWx0SW5kZXgrK109Y2hyMyk7cmV0dXJuIG91dHB1dH19LGZ1bmN0aW9uKG1vZHVsZSxleHBvcnRzLF9fd2VicGFja19yZXF1aXJlX18pe1widXNlIHN0cmljdFwiOyhmdW5jdGlvbihCdWZmZXIpe3ZhciB1dGlscz1fX3dlYnBhY2tfcmVxdWlyZV9fKDApLENvbnZlcnRXb3JrZXI9X193ZWJwYWNrX3JlcXVpcmVfXygxMDMpLEdlbmVyaWNXb3JrZXI9X193ZWJwYWNrX3JlcXVpcmVfXygyKSxiYXNlNjQ9X193ZWJwYWNrX3JlcXVpcmVfXyg1OCksc3VwcG9ydD1fX3dlYnBhY2tfcmVxdWlyZV9fKDcpLGV4dGVybmFsPV9fd2VicGFja19yZXF1aXJlX18oMjYpLE5vZGVqc1N0cmVhbU91dHB1dEFkYXB0ZXI9bnVsbDtpZihzdXBwb3J0Lm5vZGVzdHJlYW0pdHJ5e05vZGVqc1N0cmVhbU91dHB1dEFkYXB0ZXI9X193ZWJwYWNrX3JlcXVpcmVfXygxMDQpfWNhdGNoKGUpe31mdW5jdGlvbiBhY2N1bXVsYXRlKGhlbHBlcix1cGRhdGVDYWxsYmFjayl7cmV0dXJuIG5ldyBleHRlcm5hbC5Qcm9taXNlKGZ1bmN0aW9uKHJlc29sdmUscmVqZWN0KXt2YXIgZGF0YUFycmF5PVtdLGNodW5rVHlwZT1oZWxwZXIuX2ludGVybmFsVHlwZSxyZXN1bHRUeXBlPWhlbHBlci5fb3V0cHV0VHlwZSxtaW1lVHlwZT1oZWxwZXIuX21pbWVUeXBlO2hlbHBlci5vbihcImRhdGFcIixmdW5jdGlvbihkYXRhLG1ldGEpe2RhdGFBcnJheS5wdXNoKGRhdGEpLHVwZGF0ZUNhbGxiYWNrJiZ1cGRhdGVDYWxsYmFjayhtZXRhKX0pLm9uKFwiZXJyb3JcIixmdW5jdGlvbihlcnIpe2RhdGFBcnJheT1bXSxyZWplY3QoZXJyKX0pLm9uKFwiZW5kXCIsZnVuY3Rpb24oKXt0cnl7dmFyIHJlc3VsdD1mdW5jdGlvbih0eXBlLGNvbnRlbnQsbWltZVR5cGUpe3N3aXRjaCh0eXBlKXtjYXNlXCJibG9iXCI6cmV0dXJuIHV0aWxzLm5ld0Jsb2IodXRpbHMudHJhbnNmb3JtVG8oXCJhcnJheWJ1ZmZlclwiLGNvbnRlbnQpLG1pbWVUeXBlKTtjYXNlXCJiYXNlNjRcIjpyZXR1cm4gYmFzZTY0LmVuY29kZShjb250ZW50KTtkZWZhdWx0OnJldHVybiB1dGlscy50cmFuc2Zvcm1Ubyh0eXBlLGNvbnRlbnQpfX0ocmVzdWx0VHlwZSxmdW5jdGlvbih0eXBlLGRhdGFBcnJheSl7dmFyIGksaW5kZXg9MCxyZXM9bnVsbCx0b3RhbExlbmd0aD0wO2ZvcihpPTA7aTxkYXRhQXJyYXkubGVuZ3RoO2krKyl0b3RhbExlbmd0aCs9ZGF0YUFycmF5W2ldLmxlbmd0aDtzd2l0Y2godHlwZSl7Y2FzZVwic3RyaW5nXCI6cmV0dXJuIGRhdGFBcnJheS5qb2luKFwiXCIpO2Nhc2VcImFycmF5XCI6cmV0dXJuIEFycmF5LnByb3RvdHlwZS5jb25jYXQuYXBwbHkoW10sZGF0YUFycmF5KTtjYXNlXCJ1aW50OGFycmF5XCI6Zm9yKHJlcz1uZXcgVWludDhBcnJheSh0b3RhbExlbmd0aCksaT0wO2k8ZGF0YUFycmF5Lmxlbmd0aDtpKyspcmVzLnNldChkYXRhQXJyYXlbaV0saW5kZXgpLGluZGV4Kz1kYXRhQXJyYXlbaV0ubGVuZ3RoO3JldHVybiByZXM7Y2FzZVwibm9kZWJ1ZmZlclwiOnJldHVybiBCdWZmZXIuY29uY2F0KGRhdGFBcnJheSk7ZGVmYXVsdDp0aHJvdyBuZXcgRXJyb3IoXCJjb25jYXQgOiB1bnN1cHBvcnRlZCB0eXBlICdcIit0eXBlK1wiJ1wiKX19KGNodW5rVHlwZSxkYXRhQXJyYXkpLG1pbWVUeXBlKTtyZXNvbHZlKHJlc3VsdCl9Y2F0Y2goZSl7cmVqZWN0KGUpfWRhdGFBcnJheT1bXX0pLnJlc3VtZSgpfSl9ZnVuY3Rpb24gU3RyZWFtSGVscGVyKHdvcmtlcixvdXRwdXRUeXBlLG1pbWVUeXBlKXt2YXIgaW50ZXJuYWxUeXBlPW91dHB1dFR5cGU7c3dpdGNoKG91dHB1dFR5cGUpe2Nhc2VcImJsb2JcIjpjYXNlXCJhcnJheWJ1ZmZlclwiOmludGVybmFsVHlwZT1cInVpbnQ4YXJyYXlcIjticmVhaztjYXNlXCJiYXNlNjRcIjppbnRlcm5hbFR5cGU9XCJzdHJpbmdcIn10cnl7dGhpcy5faW50ZXJuYWxUeXBlPWludGVybmFsVHlwZSx0aGlzLl9vdXRwdXRUeXBlPW91dHB1dFR5cGUsdGhpcy5fbWltZVR5cGU9bWltZVR5cGUsdXRpbHMuY2hlY2tTdXBwb3J0KGludGVybmFsVHlwZSksdGhpcy5fd29ya2VyPXdvcmtlci5waXBlKG5ldyBDb252ZXJ0V29ya2VyKGludGVybmFsVHlwZSkpLHdvcmtlci5sb2NrKCl9Y2F0Y2goZSl7dGhpcy5fd29ya2VyPW5ldyBHZW5lcmljV29ya2VyKFwiZXJyb3JcIiksdGhpcy5fd29ya2VyLmVycm9yKGUpfX1TdHJlYW1IZWxwZXIucHJvdG90eXBlPXthY2N1bXVsYXRlOmZ1bmN0aW9uKHVwZGF0ZUNiKXtyZXR1cm4gYWNjdW11bGF0ZSh0aGlzLHVwZGF0ZUNiKX0sb246ZnVuY3Rpb24oZXZ0LGZuKXt2YXIgc2VsZj10aGlzO3JldHVyblwiZGF0YVwiPT09ZXZ0P3RoaXMuX3dvcmtlci5vbihldnQsZnVuY3Rpb24oY2h1bmspe2ZuLmNhbGwoc2VsZixjaHVuay5kYXRhLGNodW5rLm1ldGEpfSk6dGhpcy5fd29ya2VyLm9uKGV2dCxmdW5jdGlvbigpe3V0aWxzLmRlbGF5KGZuLGFyZ3VtZW50cyxzZWxmKX0pLHRoaXN9LHJlc3VtZTpmdW5jdGlvbigpe3JldHVybiB1dGlscy5kZWxheSh0aGlzLl93b3JrZXIucmVzdW1lLFtdLHRoaXMuX3dvcmtlciksdGhpc30scGF1c2U6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fd29ya2VyLnBhdXNlKCksdGhpc30sdG9Ob2RlanNTdHJlYW06ZnVuY3Rpb24odXBkYXRlQ2Ipe2lmKHV0aWxzLmNoZWNrU3VwcG9ydChcIm5vZGVzdHJlYW1cIiksXCJub2RlYnVmZmVyXCIhPT10aGlzLl9vdXRwdXRUeXBlKXRocm93IG5ldyBFcnJvcih0aGlzLl9vdXRwdXRUeXBlK1wiIGlzIG5vdCBzdXBwb3J0ZWQgYnkgdGhpcyBtZXRob2RcIik7cmV0dXJuIG5ldyBOb2RlanNTdHJlYW1PdXRwdXRBZGFwdGVyKHRoaXMse29iamVjdE1vZGU6XCJub2RlYnVmZmVyXCIhPT10aGlzLl9vdXRwdXRUeXBlfSx1cGRhdGVDYil9fSxtb2R1bGUuZXhwb3J0cz1TdHJlYW1IZWxwZXJ9KS5jYWxsKHRoaXMsX193ZWJwYWNrX3JlcXVpcmVfXygyMykuQnVmZmVyKX0sZnVuY3Rpb24obW9kdWxlLGV4cG9ydHMsX193ZWJwYWNrX3JlcXVpcmVfXyl7XCJ1c2Ugc3RyaWN0XCI7ZXhwb3J0cy5iYXNlNjQ9ITEsZXhwb3J0cy5iaW5hcnk9ITEsZXhwb3J0cy5kaXI9ITEsZXhwb3J0cy5jcmVhdGVGb2xkZXJzPSEwLGV4cG9ydHMuZGF0ZT1udWxsLGV4cG9ydHMuY29tcHJlc3Npb249bnVsbCxleHBvcnRzLmNvbXByZXNzaW9uT3B0aW9ucz1udWxsLGV4cG9ydHMuY29tbWVudD1udWxsLGV4cG9ydHMudW5peFBlcm1pc3Npb25zPW51bGwsZXhwb3J0cy5kb3NQZXJtaXNzaW9ucz1udWxsfSxmdW5jdGlvbihtb2R1bGUsZXhwb3J0cyxfX3dlYnBhY2tfcmVxdWlyZV9fKXtcInVzZSBzdHJpY3RcIjt2YXIgdXRpbHM9X193ZWJwYWNrX3JlcXVpcmVfXygwKSxHZW5lcmljV29ya2VyPV9fd2VicGFja19yZXF1aXJlX18oMik7ZnVuY3Rpb24gRGF0YVdvcmtlcihkYXRhUCl7R2VuZXJpY1dvcmtlci5jYWxsKHRoaXMsXCJEYXRhV29ya2VyXCIpO3ZhciBzZWxmPXRoaXM7dGhpcy5kYXRhSXNSZWFkeT0hMSx0aGlzLmluZGV4PTAsdGhpcy5tYXg9MCx0aGlzLmRhdGE9bnVsbCx0aGlzLnR5cGU9XCJcIix0aGlzLl90aWNrU2NoZWR1bGVkPSExLGRhdGFQLnRoZW4oZnVuY3Rpb24oZGF0YSl7c2VsZi5kYXRhSXNSZWFkeT0hMCxzZWxmLmRhdGE9ZGF0YSxzZWxmLm1heD1kYXRhJiZkYXRhLmxlbmd0aHx8MCxzZWxmLnR5cGU9dXRpbHMuZ2V0VHlwZU9mKGRhdGEpLHNlbGYuaXNQYXVzZWR8fHNlbGYuX3RpY2tBbmRSZXBlYXQoKX0sZnVuY3Rpb24oZSl7c2VsZi5lcnJvcihlKX0pfXV0aWxzLmluaGVyaXRzKERhdGFXb3JrZXIsR2VuZXJpY1dvcmtlciksRGF0YVdvcmtlci5wcm90b3R5cGUuY2xlYW5VcD1mdW5jdGlvbigpe0dlbmVyaWNXb3JrZXIucHJvdG90eXBlLmNsZWFuVXAuY2FsbCh0aGlzKSx0aGlzLmRhdGE9bnVsbH0sRGF0YVdvcmtlci5wcm90b3R5cGUucmVzdW1lPWZ1bmN0aW9uKCl7cmV0dXJuISFHZW5lcmljV29ya2VyLnByb3RvdHlwZS5yZXN1bWUuY2FsbCh0aGlzKSYmKCF0aGlzLl90aWNrU2NoZWR1bGVkJiZ0aGlzLmRhdGFJc1JlYWR5JiYodGhpcy5fdGlja1NjaGVkdWxlZD0hMCx1dGlscy5kZWxheSh0aGlzLl90aWNrQW5kUmVwZWF0LFtdLHRoaXMpKSwhMCl9LERhdGFXb3JrZXIucHJvdG90eXBlLl90aWNrQW5kUmVwZWF0PWZ1bmN0aW9uKCl7dGhpcy5fdGlja1NjaGVkdWxlZD0hMSx0aGlzLmlzUGF1c2VkfHx0aGlzLmlzRmluaXNoZWR8fCh0aGlzLl90aWNrKCksdGhpcy5pc0ZpbmlzaGVkfHwodXRpbHMuZGVsYXkodGhpcy5fdGlja0FuZFJlcGVhdCxbXSx0aGlzKSx0aGlzLl90aWNrU2NoZWR1bGVkPSEwKSl9LERhdGFXb3JrZXIucHJvdG90eXBlLl90aWNrPWZ1bmN0aW9uKCl7aWYodGhpcy5pc1BhdXNlZHx8dGhpcy5pc0ZpbmlzaGVkKXJldHVybiExO3ZhciBkYXRhPW51bGwsbmV4dEluZGV4PU1hdGgubWluKHRoaXMubWF4LHRoaXMuaW5kZXgrMTYzODQpO2lmKHRoaXMuaW5kZXg+PXRoaXMubWF4KXJldHVybiB0aGlzLmVuZCgpO3N3aXRjaCh0aGlzLnR5cGUpe2Nhc2VcInN0cmluZ1wiOmRhdGE9dGhpcy5kYXRhLnN1YnN0cmluZyh0aGlzLmluZGV4LG5leHRJbmRleCk7YnJlYWs7Y2FzZVwidWludDhhcnJheVwiOmRhdGE9dGhpcy5kYXRhLnN1YmFycmF5KHRoaXMuaW5kZXgsbmV4dEluZGV4KTticmVhaztjYXNlXCJhcnJheVwiOmNhc2VcIm5vZGVidWZmZXJcIjpkYXRhPXRoaXMuZGF0YS5zbGljZSh0aGlzLmluZGV4LG5leHRJbmRleCl9cmV0dXJuIHRoaXMuaW5kZXg9bmV4dEluZGV4LHRoaXMucHVzaCh7ZGF0YTpkYXRhLG1ldGE6e3BlcmNlbnQ6dGhpcy5tYXg/dGhpcy5pbmRleC90aGlzLm1heCoxMDA6MH19KX0sbW9kdWxlLmV4cG9ydHM9RGF0YVdvcmtlcn0sZnVuY3Rpb24obW9kdWxlLGV4cG9ydHMsX193ZWJwYWNrX3JlcXVpcmVfXyl7XCJ1c2Ugc3RyaWN0XCI7dmFyIHV0aWxzPV9fd2VicGFja19yZXF1aXJlX18oMCksR2VuZXJpY1dvcmtlcj1fX3dlYnBhY2tfcmVxdWlyZV9fKDIpO2Z1bmN0aW9uIERhdGFMZW5ndGhQcm9iZShwcm9wTmFtZSl7R2VuZXJpY1dvcmtlci5jYWxsKHRoaXMsXCJEYXRhTGVuZ3RoUHJvYmUgZm9yIFwiK3Byb3BOYW1lKSx0aGlzLnByb3BOYW1lPXByb3BOYW1lLHRoaXMud2l0aFN0cmVhbUluZm8ocHJvcE5hbWUsMCl9dXRpbHMuaW5oZXJpdHMoRGF0YUxlbmd0aFByb2JlLEdlbmVyaWNXb3JrZXIpLERhdGFMZW5ndGhQcm9iZS5wcm90b3R5cGUucHJvY2Vzc0NodW5rPWZ1bmN0aW9uKGNodW5rKXtpZihjaHVuayl7dmFyIGxlbmd0aD10aGlzLnN0cmVhbUluZm9bdGhpcy5wcm9wTmFtZV18fDA7dGhpcy5zdHJlYW1JbmZvW3RoaXMucHJvcE5hbWVdPWxlbmd0aCtjaHVuay5kYXRhLmxlbmd0aH1HZW5lcmljV29ya2VyLnByb3RvdHlwZS5wcm9jZXNzQ2h1bmsuY2FsbCh0aGlzLGNodW5rKX0sbW9kdWxlLmV4cG9ydHM9RGF0YUxlbmd0aFByb2JlfSxmdW5jdGlvbihtb2R1bGUsZXhwb3J0cyxfX3dlYnBhY2tfcmVxdWlyZV9fKXtcInVzZSBzdHJpY3RcIjt2YXIgR2VuZXJpY1dvcmtlcj1fX3dlYnBhY2tfcmVxdWlyZV9fKDIpLGNyYzMyPV9fd2VicGFja19yZXF1aXJlX18oNDQpO2Z1bmN0aW9uIENyYzMyUHJvYmUoKXtHZW5lcmljV29ya2VyLmNhbGwodGhpcyxcIkNyYzMyUHJvYmVcIiksdGhpcy53aXRoU3RyZWFtSW5mbyhcImNyYzMyXCIsMCl9X193ZWJwYWNrX3JlcXVpcmVfXygwKS5pbmhlcml0cyhDcmMzMlByb2JlLEdlbmVyaWNXb3JrZXIpLENyYzMyUHJvYmUucHJvdG90eXBlLnByb2Nlc3NDaHVuaz1mdW5jdGlvbihjaHVuayl7dGhpcy5zdHJlYW1JbmZvLmNyYzMyPWNyYzMyKGNodW5rLmRhdGEsdGhpcy5zdHJlYW1JbmZvLmNyYzMyfHwwKSx0aGlzLnB1c2goY2h1bmspfSxtb2R1bGUuZXhwb3J0cz1DcmMzMlByb2JlfSxmdW5jdGlvbihtb2R1bGUsZXhwb3J0cyxfX3dlYnBhY2tfcmVxdWlyZV9fKXtcInVzZSBzdHJpY3RcIjt2YXIgR2VuZXJpY1dvcmtlcj1fX3dlYnBhY2tfcmVxdWlyZV9fKDIpO2V4cG9ydHMuU1RPUkU9e21hZ2ljOlwiXFwwXFwwXCIsY29tcHJlc3NXb3JrZXI6ZnVuY3Rpb24oY29tcHJlc3Npb25PcHRpb25zKXtyZXR1cm4gbmV3IEdlbmVyaWNXb3JrZXIoXCJTVE9SRSBjb21wcmVzc2lvblwiKX0sdW5jb21wcmVzc1dvcmtlcjpmdW5jdGlvbigpe3JldHVybiBuZXcgR2VuZXJpY1dvcmtlcihcIlNUT1JFIGRlY29tcHJlc3Npb25cIil9fSxleHBvcnRzLkRFRkxBVEU9X193ZWJwYWNrX3JlcXVpcmVfXygxMDcpfSxmdW5jdGlvbihtb2R1bGUsZXhwb3J0cyxfX3dlYnBhY2tfcmVxdWlyZV9fKXtcInVzZSBzdHJpY3RcIjttb2R1bGUuZXhwb3J0cz1mdW5jdGlvbihhZGxlcixidWYsbGVuLHBvcyl7Zm9yKHZhciBzMT02NTUzNSZhZGxlcnwwLHMyPWFkbGVyPj4+MTYmNjU1MzV8MCxuPTA7MCE9PWxlbjspe2xlbi09bj1sZW4+MmUzPzJlMzpsZW47ZG97czI9czIrKHMxPXMxK2J1Zltwb3MrK118MCl8MH13aGlsZSgtLW4pO3MxJT02NTUyMSxzMiU9NjU1MjF9cmV0dXJuIHMxfHMyPDwxNnwwfX0sZnVuY3Rpb24obW9kdWxlLGV4cG9ydHMsX193ZWJwYWNrX3JlcXVpcmVfXyl7XCJ1c2Ugc3RyaWN0XCI7dmFyIGNyY1RhYmxlPWZ1bmN0aW9uKCl7Zm9yKHZhciBjLHRhYmxlPVtdLG49MDtuPDI1NjtuKyspe2M9bjtmb3IodmFyIGs9MDtrPDg7aysrKWM9MSZjPzM5ODgyOTIzODReYz4+PjE6Yz4+PjE7dGFibGVbbl09Y31yZXR1cm4gdGFibGV9KCk7bW9kdWxlLmV4cG9ydHM9ZnVuY3Rpb24oY3JjLGJ1ZixsZW4scG9zKXt2YXIgdD1jcmNUYWJsZSxlbmQ9cG9zK2xlbjtjcmNePS0xO2Zvcih2YXIgaT1wb3M7aTxlbmQ7aSsrKWNyYz1jcmM+Pj44XnRbMjU1JihjcmNeYnVmW2ldKV07cmV0dXJuLTFeY3JjfX0sZnVuY3Rpb24obW9kdWxlLGV4cG9ydHMsX193ZWJwYWNrX3JlcXVpcmVfXyl7XCJ1c2Ugc3RyaWN0XCI7dmFyIHV0aWxzPV9fd2VicGFja19yZXF1aXJlX18oOCksU1RSX0FQUExZX09LPSEwLFNUUl9BUFBMWV9VSUFfT0s9ITA7dHJ5e1N0cmluZy5mcm9tQ2hhckNvZGUuYXBwbHkobnVsbCxbMF0pfWNhdGNoKF9fKXtTVFJfQVBQTFlfT0s9ITF9dHJ5e1N0cmluZy5mcm9tQ2hhckNvZGUuYXBwbHkobnVsbCxuZXcgVWludDhBcnJheSgxKSl9Y2F0Y2goX18pe1NUUl9BUFBMWV9VSUFfT0s9ITF9Zm9yKHZhciBfdXRmOGxlbj1uZXcgdXRpbHMuQnVmOCgyNTYpLHE9MDtxPDI1NjtxKyspX3V0ZjhsZW5bcV09cT49MjUyPzY6cT49MjQ4PzU6cT49MjQwPzQ6cT49MjI0PzM6cT49MTkyPzI6MTtmdW5jdGlvbiBidWYyYmluc3RyaW5nKGJ1ZixsZW4pe2lmKGxlbjw2NTUzNCYmKGJ1Zi5zdWJhcnJheSYmU1RSX0FQUExZX1VJQV9PS3x8IWJ1Zi5zdWJhcnJheSYmU1RSX0FQUExZX09LKSlyZXR1cm4gU3RyaW5nLmZyb21DaGFyQ29kZS5hcHBseShudWxsLHV0aWxzLnNocmlua0J1ZihidWYsbGVuKSk7Zm9yKHZhciByZXN1bHQ9XCJcIixpPTA7aTxsZW47aSsrKXJlc3VsdCs9U3RyaW5nLmZyb21DaGFyQ29kZShidWZbaV0pO3JldHVybiByZXN1bHR9X3V0ZjhsZW5bMjU0XT1fdXRmOGxlblsyNTRdPTEsZXhwb3J0cy5zdHJpbmcyYnVmPWZ1bmN0aW9uKHN0cil7dmFyIGJ1ZixjLGMyLG1fcG9zLGksc3RyX2xlbj1zdHIubGVuZ3RoLGJ1Zl9sZW49MDtmb3IobV9wb3M9MDttX3BvczxzdHJfbGVuO21fcG9zKyspNTUyOTY9PSg2NDUxMiYoYz1zdHIuY2hhckNvZGVBdChtX3BvcykpKSYmbV9wb3MrMTxzdHJfbGVuJiY1NjMyMD09KDY0NTEyJihjMj1zdHIuY2hhckNvZGVBdChtX3BvcysxKSkpJiYoYz02NTUzNisoYy01NTI5Njw8MTApKyhjMi01NjMyMCksbV9wb3MrKyksYnVmX2xlbis9YzwxMjg/MTpjPDIwNDg/MjpjPDY1NTM2PzM6NDtmb3IoYnVmPW5ldyB1dGlscy5CdWY4KGJ1Zl9sZW4pLGk9MCxtX3Bvcz0wO2k8YnVmX2xlbjttX3BvcysrKTU1Mjk2PT0oNjQ1MTImKGM9c3RyLmNoYXJDb2RlQXQobV9wb3MpKSkmJm1fcG9zKzE8c3RyX2xlbiYmNTYzMjA9PSg2NDUxMiYoYzI9c3RyLmNoYXJDb2RlQXQobV9wb3MrMSkpKSYmKGM9NjU1MzYrKGMtNTUyOTY8PDEwKSsoYzItNTYzMjApLG1fcG9zKyspLGM8MTI4P2J1ZltpKytdPWM6YzwyMDQ4PyhidWZbaSsrXT0xOTJ8Yz4+PjYsYnVmW2krK109MTI4fDYzJmMpOmM8NjU1MzY/KGJ1ZltpKytdPTIyNHxjPj4+MTIsYnVmW2krK109MTI4fGM+Pj42JjYzLGJ1ZltpKytdPTEyOHw2MyZjKTooYnVmW2krK109MjQwfGM+Pj4xOCxidWZbaSsrXT0xMjh8Yz4+PjEyJjYzLGJ1ZltpKytdPTEyOHxjPj4+NiY2MyxidWZbaSsrXT0xMjh8NjMmYyk7cmV0dXJuIGJ1Zn0sZXhwb3J0cy5idWYyYmluc3RyaW5nPWZ1bmN0aW9uKGJ1Zil7cmV0dXJuIGJ1ZjJiaW5zdHJpbmcoYnVmLGJ1Zi5sZW5ndGgpfSxleHBvcnRzLmJpbnN0cmluZzJidWY9ZnVuY3Rpb24oc3RyKXtmb3IodmFyIGJ1Zj1uZXcgdXRpbHMuQnVmOChzdHIubGVuZ3RoKSxpPTAsbGVuPWJ1Zi5sZW5ndGg7aTxsZW47aSsrKWJ1ZltpXT1zdHIuY2hhckNvZGVBdChpKTtyZXR1cm4gYnVmfSxleHBvcnRzLmJ1ZjJzdHJpbmc9ZnVuY3Rpb24oYnVmLG1heCl7dmFyIGksb3V0LGMsY19sZW4sbGVuPW1heHx8YnVmLmxlbmd0aCx1dGYxNmJ1Zj1uZXcgQXJyYXkoMipsZW4pO2ZvcihvdXQ9MCxpPTA7aTxsZW47KWlmKChjPWJ1ZltpKytdKTwxMjgpdXRmMTZidWZbb3V0KytdPWM7ZWxzZSBpZigoY19sZW49X3V0ZjhsZW5bY10pPjQpdXRmMTZidWZbb3V0KytdPTY1NTMzLGkrPWNfbGVuLTE7ZWxzZXtmb3IoYyY9Mj09PWNfbGVuPzMxOjM9PT1jX2xlbj8xNTo3O2NfbGVuPjEmJmk8bGVuOyljPWM8PDZ8NjMmYnVmW2krK10sY19sZW4tLTtjX2xlbj4xP3V0ZjE2YnVmW291dCsrXT02NTUzMzpjPDY1NTM2P3V0ZjE2YnVmW291dCsrXT1jOihjLT02NTUzNix1dGYxNmJ1ZltvdXQrK109NTUyOTZ8Yz4+MTAmMTAyMyx1dGYxNmJ1ZltvdXQrK109NTYzMjB8MTAyMyZjKX1yZXR1cm4gYnVmMmJpbnN0cmluZyh1dGYxNmJ1ZixvdXQpfSxleHBvcnRzLnV0Zjhib3JkZXI9ZnVuY3Rpb24oYnVmLG1heCl7dmFyIHBvcztmb3IoKG1heD1tYXh8fGJ1Zi5sZW5ndGgpPmJ1Zi5sZW5ndGgmJihtYXg9YnVmLmxlbmd0aCkscG9zPW1heC0xO3Bvcz49MCYmMTI4PT0oMTkyJmJ1Zltwb3NdKTspcG9zLS07cmV0dXJuIHBvczwwP21heDowPT09cG9zP21heDpwb3MrX3V0ZjhsZW5bYnVmW3Bvc11dPm1heD9wb3M6bWF4fX0sZnVuY3Rpb24obW9kdWxlLGV4cG9ydHMsX193ZWJwYWNrX3JlcXVpcmVfXyl7XCJ1c2Ugc3RyaWN0XCI7bW9kdWxlLmV4cG9ydHM9ZnVuY3Rpb24oKXt0aGlzLmlucHV0PW51bGwsdGhpcy5uZXh0X2luPTAsdGhpcy5hdmFpbF9pbj0wLHRoaXMudG90YWxfaW49MCx0aGlzLm91dHB1dD1udWxsLHRoaXMubmV4dF9vdXQ9MCx0aGlzLmF2YWlsX291dD0wLHRoaXMudG90YWxfb3V0PTAsdGhpcy5tc2c9XCJcIix0aGlzLnN0YXRlPW51bGwsdGhpcy5kYXRhX3R5cGU9Mix0aGlzLmFkbGVyPTB9fSxmdW5jdGlvbihtb2R1bGUsZXhwb3J0cyxfX3dlYnBhY2tfcmVxdWlyZV9fKXtcInVzZSBzdHJpY3RcIjttb2R1bGUuZXhwb3J0cz17Wl9OT19GTFVTSDowLFpfUEFSVElBTF9GTFVTSDoxLFpfU1lOQ19GTFVTSDoyLFpfRlVMTF9GTFVTSDozLFpfRklOSVNIOjQsWl9CTE9DSzo1LFpfVFJFRVM6NixaX09LOjAsWl9TVFJFQU1fRU5EOjEsWl9ORUVEX0RJQ1Q6MixaX0VSUk5POi0xLFpfU1RSRUFNX0VSUk9SOi0yLFpfREFUQV9FUlJPUjotMyxaX0JVRl9FUlJPUjotNSxaX05PX0NPTVBSRVNTSU9OOjAsWl9CRVNUX1NQRUVEOjEsWl9CRVNUX0NPTVBSRVNTSU9OOjksWl9ERUZBVUxUX0NPTVBSRVNTSU9OOi0xLFpfRklMVEVSRUQ6MSxaX0hVRkZNQU5fT05MWToyLFpfUkxFOjMsWl9GSVhFRDo0LFpfREVGQVVMVF9TVFJBVEVHWTowLFpfQklOQVJZOjAsWl9URVhUOjEsWl9VTktOT1dOOjIsWl9ERUZMQVRFRDo4fX0sZnVuY3Rpb24obW9kdWxlLGV4cG9ydHMsX193ZWJwYWNrX3JlcXVpcmVfXyl7XCJ1c2Ugc3RyaWN0XCI7ZXhwb3J0cy5MT0NBTF9GSUxFX0hFQURFUj1cIlBLXHUwMDAzXHUwMDA0XCIsZXhwb3J0cy5DRU5UUkFMX0ZJTEVfSEVBREVSPVwiUEtcdTAwMDFcdTAwMDJcIixleHBvcnRzLkNFTlRSQUxfRElSRUNUT1JZX0VORD1cIlBLXHUwMDA1XHUwMDA2XCIsZXhwb3J0cy5aSVA2NF9DRU5UUkFMX0RJUkVDVE9SWV9MT0NBVE9SPVwiUEtcdTAwMDZcdTAwMDdcIixleHBvcnRzLlpJUDY0X0NFTlRSQUxfRElSRUNUT1JZX0VORD1cIlBLXHUwMDA2XHUwMDA2XCIsZXhwb3J0cy5EQVRBX0RFU0NSSVBUT1I9XCJQS1x1MDAwN1xcYlwifSxmdW5jdGlvbihtb2R1bGUsZXhwb3J0cyxfX3dlYnBhY2tfcmVxdWlyZV9fKXtcInVzZSBzdHJpY3RcIjt2YXIgdXRpbHM9X193ZWJwYWNrX3JlcXVpcmVfXygwKSxzdXBwb3J0PV9fd2VicGFja19yZXF1aXJlX18oNyksQXJyYXlSZWFkZXI9X193ZWJwYWNrX3JlcXVpcmVfXyg3MiksU3RyaW5nUmVhZGVyPV9fd2VicGFja19yZXF1aXJlX18oMTIxKSxOb2RlQnVmZmVyUmVhZGVyPV9fd2VicGFja19yZXF1aXJlX18oMTIyKSxVaW50OEFycmF5UmVhZGVyPV9fd2VicGFja19yZXF1aXJlX18oNzQpO21vZHVsZS5leHBvcnRzPWZ1bmN0aW9uKGRhdGEpe3ZhciB0eXBlPXV0aWxzLmdldFR5cGVPZihkYXRhKTtyZXR1cm4gdXRpbHMuY2hlY2tTdXBwb3J0KHR5cGUpLFwic3RyaW5nXCIhPT10eXBlfHxzdXBwb3J0LnVpbnQ4YXJyYXk/XCJub2RlYnVmZmVyXCI9PT10eXBlP25ldyBOb2RlQnVmZmVyUmVhZGVyKGRhdGEpOnN1cHBvcnQudWludDhhcnJheT9uZXcgVWludDhBcnJheVJlYWRlcih1dGlscy50cmFuc2Zvcm1UbyhcInVpbnQ4YXJyYXlcIixkYXRhKSk6bmV3IEFycmF5UmVhZGVyKHV0aWxzLnRyYW5zZm9ybVRvKFwiYXJyYXlcIixkYXRhKSk6bmV3IFN0cmluZ1JlYWRlcihkYXRhKX19LGZ1bmN0aW9uKG1vZHVsZSxleHBvcnRzLF9fd2VicGFja19yZXF1aXJlX18pe1widXNlIHN0cmljdFwiO3ZhciBEYXRhUmVhZGVyPV9fd2VicGFja19yZXF1aXJlX18oNzMpO2Z1bmN0aW9uIEFycmF5UmVhZGVyKGRhdGEpe0RhdGFSZWFkZXIuY2FsbCh0aGlzLGRhdGEpO2Zvcih2YXIgaT0wO2k8dGhpcy5kYXRhLmxlbmd0aDtpKyspZGF0YVtpXT0yNTUmZGF0YVtpXX1fX3dlYnBhY2tfcmVxdWlyZV9fKDApLmluaGVyaXRzKEFycmF5UmVhZGVyLERhdGFSZWFkZXIpLEFycmF5UmVhZGVyLnByb3RvdHlwZS5ieXRlQXQ9ZnVuY3Rpb24oaSl7cmV0dXJuIHRoaXMuZGF0YVt0aGlzLnplcm8raV19LEFycmF5UmVhZGVyLnByb3RvdHlwZS5sYXN0SW5kZXhPZlNpZ25hdHVyZT1mdW5jdGlvbihzaWcpe2Zvcih2YXIgc2lnMD1zaWcuY2hhckNvZGVBdCgwKSxzaWcxPXNpZy5jaGFyQ29kZUF0KDEpLHNpZzI9c2lnLmNoYXJDb2RlQXQoMiksc2lnMz1zaWcuY2hhckNvZGVBdCgzKSxpPXRoaXMubGVuZ3RoLTQ7aT49MDstLWkpaWYodGhpcy5kYXRhW2ldPT09c2lnMCYmdGhpcy5kYXRhW2krMV09PT1zaWcxJiZ0aGlzLmRhdGFbaSsyXT09PXNpZzImJnRoaXMuZGF0YVtpKzNdPT09c2lnMylyZXR1cm4gaS10aGlzLnplcm87cmV0dXJuLTF9LEFycmF5UmVhZGVyLnByb3RvdHlwZS5yZWFkQW5kQ2hlY2tTaWduYXR1cmU9ZnVuY3Rpb24oc2lnKXt2YXIgc2lnMD1zaWcuY2hhckNvZGVBdCgwKSxzaWcxPXNpZy5jaGFyQ29kZUF0KDEpLHNpZzI9c2lnLmNoYXJDb2RlQXQoMiksc2lnMz1zaWcuY2hhckNvZGVBdCgzKSxkYXRhPXRoaXMucmVhZERhdGEoNCk7cmV0dXJuIHNpZzA9PT1kYXRhWzBdJiZzaWcxPT09ZGF0YVsxXSYmc2lnMj09PWRhdGFbMl0mJnNpZzM9PT1kYXRhWzNdfSxBcnJheVJlYWRlci5wcm90b3R5cGUucmVhZERhdGE9ZnVuY3Rpb24oc2l6ZSl7aWYodGhpcy5jaGVja09mZnNldChzaXplKSwwPT09c2l6ZSlyZXR1cm5bXTt2YXIgcmVzdWx0PXRoaXMuZGF0YS5zbGljZSh0aGlzLnplcm8rdGhpcy5pbmRleCx0aGlzLnplcm8rdGhpcy5pbmRleCtzaXplKTtyZXR1cm4gdGhpcy5pbmRleCs9c2l6ZSxyZXN1bHR9LG1vZHVsZS5leHBvcnRzPUFycmF5UmVhZGVyfSxmdW5jdGlvbihtb2R1bGUsZXhwb3J0cyxfX3dlYnBhY2tfcmVxdWlyZV9fKXtcInVzZSBzdHJpY3RcIjt2YXIgdXRpbHM9X193ZWJwYWNrX3JlcXVpcmVfXygwKTtmdW5jdGlvbiBEYXRhUmVhZGVyKGRhdGEpe3RoaXMuZGF0YT1kYXRhLHRoaXMubGVuZ3RoPWRhdGEubGVuZ3RoLHRoaXMuaW5kZXg9MCx0aGlzLnplcm89MH1EYXRhUmVhZGVyLnByb3RvdHlwZT17Y2hlY2tPZmZzZXQ6ZnVuY3Rpb24ob2Zmc2V0KXt0aGlzLmNoZWNrSW5kZXgodGhpcy5pbmRleCtvZmZzZXQpfSxjaGVja0luZGV4OmZ1bmN0aW9uKG5ld0luZGV4KXtpZih0aGlzLmxlbmd0aDx0aGlzLnplcm8rbmV3SW5kZXh8fG5ld0luZGV4PDApdGhyb3cgbmV3IEVycm9yKFwiRW5kIG9mIGRhdGEgcmVhY2hlZCAoZGF0YSBsZW5ndGggPSBcIit0aGlzLmxlbmd0aCtcIiwgYXNrZWQgaW5kZXggPSBcIituZXdJbmRleCtcIikuIENvcnJ1cHRlZCB6aXAgP1wiKX0sc2V0SW5kZXg6ZnVuY3Rpb24obmV3SW5kZXgpe3RoaXMuY2hlY2tJbmRleChuZXdJbmRleCksdGhpcy5pbmRleD1uZXdJbmRleH0sc2tpcDpmdW5jdGlvbihuKXt0aGlzLnNldEluZGV4KHRoaXMuaW5kZXgrbil9LGJ5dGVBdDpmdW5jdGlvbihpKXt9LHJlYWRJbnQ6ZnVuY3Rpb24oc2l6ZSl7dmFyIGkscmVzdWx0PTA7Zm9yKHRoaXMuY2hlY2tPZmZzZXQoc2l6ZSksaT10aGlzLmluZGV4K3NpemUtMTtpPj10aGlzLmluZGV4O2ktLSlyZXN1bHQ9KHJlc3VsdDw8OCkrdGhpcy5ieXRlQXQoaSk7cmV0dXJuIHRoaXMuaW5kZXgrPXNpemUscmVzdWx0fSxyZWFkU3RyaW5nOmZ1bmN0aW9uKHNpemUpe3JldHVybiB1dGlscy50cmFuc2Zvcm1UbyhcInN0cmluZ1wiLHRoaXMucmVhZERhdGEoc2l6ZSkpfSxyZWFkRGF0YTpmdW5jdGlvbihzaXplKXt9LGxhc3RJbmRleE9mU2lnbmF0dXJlOmZ1bmN0aW9uKHNpZyl7fSxyZWFkQW5kQ2hlY2tTaWduYXR1cmU6ZnVuY3Rpb24oc2lnKXt9LHJlYWREYXRlOmZ1bmN0aW9uKCl7dmFyIGRvc3RpbWU9dGhpcy5yZWFkSW50KDQpO3JldHVybiBuZXcgRGF0ZShEYXRlLlVUQygxOTgwKyhkb3N0aW1lPj4yNSYxMjcpLChkb3N0aW1lPj4yMSYxNSktMSxkb3N0aW1lPj4xNiYzMSxkb3N0aW1lPj4xMSYzMSxkb3N0aW1lPj41JjYzLCgzMSZkb3N0aW1lKTw8MSkpfX0sbW9kdWxlLmV4cG9ydHM9RGF0YVJlYWRlcn0sZnVuY3Rpb24obW9kdWxlLGV4cG9ydHMsX193ZWJwYWNrX3JlcXVpcmVfXyl7XCJ1c2Ugc3RyaWN0XCI7dmFyIEFycmF5UmVhZGVyPV9fd2VicGFja19yZXF1aXJlX18oNzIpO2Z1bmN0aW9uIFVpbnQ4QXJyYXlSZWFkZXIoZGF0YSl7QXJyYXlSZWFkZXIuY2FsbCh0aGlzLGRhdGEpfV9fd2VicGFja19yZXF1aXJlX18oMCkuaW5oZXJpdHMoVWludDhBcnJheVJlYWRlcixBcnJheVJlYWRlciksVWludDhBcnJheVJlYWRlci5wcm90b3R5cGUucmVhZERhdGE9ZnVuY3Rpb24oc2l6ZSl7aWYodGhpcy5jaGVja09mZnNldChzaXplKSwwPT09c2l6ZSlyZXR1cm4gbmV3IFVpbnQ4QXJyYXkoMCk7dmFyIHJlc3VsdD10aGlzLmRhdGEuc3ViYXJyYXkodGhpcy56ZXJvK3RoaXMuaW5kZXgsdGhpcy56ZXJvK3RoaXMuaW5kZXgrc2l6ZSk7cmV0dXJuIHRoaXMuaW5kZXgrPXNpemUscmVzdWx0fSxtb2R1bGUuZXhwb3J0cz1VaW50OEFycmF5UmVhZGVyfSxmdW5jdGlvbihtb2R1bGUsZXhwb3J0cyxfX3dlYnBhY2tfcmVxdWlyZV9fKXtcInVzZSBzdHJpY3RcIjtPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cyxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KSxleHBvcnRzLlNVQlNDUklQVElPTl9QUk9NUFRfV0lER0VUX05BTUVTUEFDRT1cInB1c2h3b29zaC1zdWJzY3JpcHRpb24td2lkZ2V0XCJ9LGZ1bmN0aW9uKG1vZHVsZSxleHBvcnRzLF9fd2VicGFja19yZXF1aXJlX18pe1widXNlIHN0cmljdFwiO09iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pLGV4cG9ydHMuQkVMTF9QT1NJVElPTl9CT1RUT01fUklHSFQ9XCJib3R0b21SaWdodFwiLGV4cG9ydHMuQkVMTF9QT1NJVElPTl9CT1RUT01fTEVGVD1cImJvdHRvbUxlZnRcIixleHBvcnRzLkJFTExfUE9TSVRJT05fVE9QX1JJR0hUPVwidG9wUmlnaHRcIixleHBvcnRzLkJFTExfUE9TSVRJT05fVE9QX0xFRlQ9XCJ0b3BMZWZ0XCIsZXhwb3J0cy5XSURHRVRfQ09OVEFJTkVSX0lEPVwicHVzaHdvb3NoQmVsbFdpZGdldFwiLGV4cG9ydHMuU1VCU0NSSUJFX1dJREdFVF9ERUZBVUxUX0NPTkZJRz17cG9zaXRpb246ZXhwb3J0cy5CRUxMX1BPU0lUSU9OX0JPVFRPTV9MRUZULGJnQ29sb3I6XCIjMTJBRTdFXCIsYmVsbENvbG9yOlwid2hpdGVcIixiZWxsU3Ryb2tlQ29sb3I6XCIjMDg3NTRmXCIsYmVsbEJ1dHRvbkJvcmRlcjpcIjFweCBzb2xpZCAjMzc5Njc2XCIsc2hhZG93OlwiMHB4IDBweCA2cHggcmdiYSgwLCAwLCAwLCAwLjc1KVwiLHNpemU6XCI0OHB4XCIsaW5kZW50OlwiMjBweFwiLHpJbmRleDpcIjk5OTk5OVwiLHRvb2x0aXBUZXh0OntzdWNjZXNzU3Vic2NyaWJlOlwiWW91IGFyZSBzdWNjZXNzZnVsbHkgc3Vic2NyaWJlZCFcIixuZWVkU3Vic2NyaWJlOlwiR2V0IG5vdGlmaWNhdGlvbnMgYWJvdXQgaW1wb3J0YW50IG5ld3MhXCIsYmxvY2tTdWJzY3JpYmU6XCJDbGljayB0byBzZWUgaG93IHRvIGdldCBub3RpZmljYXRpb25zXCIsYWxyZWFkeVN1YnNjcmliZWQ6XCJZb3UgYXJlIGFscmVhZHkgc3Vic2NyaWJlZFwifX19LGZ1bmN0aW9uKG1vZHVsZSxleHBvcnRzLF9fd2VicGFja19yZXF1aXJlX18pe1widXNlIHN0cmljdFwiO09iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pO3ZhciBQdXNod29vc2hfMT1fX3dlYnBhY2tfcmVxdWlyZV9fKDc4KTtleHBvcnRzLlB1c2h3b29zaD1QdXNod29vc2hfMS5kZWZhdWx0LF9fd2VicGFja19yZXF1aXJlX18oMTQ1KSxfX3dlYnBhY2tfcmVxdWlyZV9fKDE1MSksX193ZWJwYWNrX3JlcXVpcmVfXygxNTMpfSxmdW5jdGlvbihtb2R1bGUsZXhwb3J0cyxfX3dlYnBhY2tfcmVxdWlyZV9fKXtcInVzZSBzdHJpY3RcIjt2YXIgX19hc3NpZ249dGhpcyYmdGhpcy5fX2Fzc2lnbnx8ZnVuY3Rpb24oKXtyZXR1cm4oX19hc3NpZ249T2JqZWN0LmFzc2lnbnx8ZnVuY3Rpb24odCl7Zm9yKHZhciBzLGk9MSxuPWFyZ3VtZW50cy5sZW5ndGg7aTxuO2krKylmb3IodmFyIHAgaW4gcz1hcmd1bWVudHNbaV0pT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHMscCkmJih0W3BdPXNbcF0pO3JldHVybiB0fSkuYXBwbHkodGhpcyxhcmd1bWVudHMpfSxfX2F3YWl0ZXI9dGhpcyYmdGhpcy5fX2F3YWl0ZXJ8fGZ1bmN0aW9uKHRoaXNBcmcsX2FyZ3VtZW50cyxQLGdlbmVyYXRvcil7cmV0dXJuIG5ldyhQfHwoUD1Qcm9taXNlKSkoZnVuY3Rpb24ocmVzb2x2ZSxyZWplY3Qpe2Z1bmN0aW9uIGZ1bGZpbGxlZCh2YWx1ZSl7dHJ5e3N0ZXAoZ2VuZXJhdG9yLm5leHQodmFsdWUpKX1jYXRjaChlKXtyZWplY3QoZSl9fWZ1bmN0aW9uIHJlamVjdGVkKHZhbHVlKXt0cnl7c3RlcChnZW5lcmF0b3IudGhyb3codmFsdWUpKX1jYXRjaChlKXtyZWplY3QoZSl9fWZ1bmN0aW9uIHN0ZXAocmVzdWx0KXtyZXN1bHQuZG9uZT9yZXNvbHZlKHJlc3VsdC52YWx1ZSk6ZnVuY3Rpb24odmFsdWUpe3JldHVybiB2YWx1ZSBpbnN0YW5jZW9mIFA/dmFsdWU6bmV3IFAoZnVuY3Rpb24ocmVzb2x2ZSl7cmVzb2x2ZSh2YWx1ZSl9KX0ocmVzdWx0LnZhbHVlKS50aGVuKGZ1bGZpbGxlZCxyZWplY3RlZCl9c3RlcCgoZ2VuZXJhdG9yPWdlbmVyYXRvci5hcHBseSh0aGlzQXJnLF9hcmd1bWVudHN8fFtdKSkubmV4dCgpKX0pfSxfX2dlbmVyYXRvcj10aGlzJiZ0aGlzLl9fZ2VuZXJhdG9yfHxmdW5jdGlvbih0aGlzQXJnLGJvZHkpe3ZhciBmLHksdCxnLF89e2xhYmVsOjAsc2VudDpmdW5jdGlvbigpe2lmKDEmdFswXSl0aHJvdyB0WzFdO3JldHVybiB0WzFdfSx0cnlzOltdLG9wczpbXX07cmV0dXJuIGc9e25leHQ6dmVyYigwKSx0aHJvdzp2ZXJiKDEpLHJldHVybjp2ZXJiKDIpfSxcImZ1bmN0aW9uXCI9PXR5cGVvZiBTeW1ib2wmJihnW1N5bWJvbC5pdGVyYXRvcl09ZnVuY3Rpb24oKXtyZXR1cm4gdGhpc30pLGc7ZnVuY3Rpb24gdmVyYihuKXtyZXR1cm4gZnVuY3Rpb24odil7cmV0dXJuIGZ1bmN0aW9uKG9wKXtpZihmKXRocm93IG5ldyBUeXBlRXJyb3IoXCJHZW5lcmF0b3IgaXMgYWxyZWFkeSBleGVjdXRpbmcuXCIpO2Zvcig7XzspdHJ5e2lmKGY9MSx5JiYodD0yJm9wWzBdP3kucmV0dXJuOm9wWzBdP3kudGhyb3d8fCgodD15LnJldHVybikmJnQuY2FsbCh5KSwwKTp5Lm5leHQpJiYhKHQ9dC5jYWxsKHksb3BbMV0pKS5kb25lKXJldHVybiB0O3N3aXRjaCh5PTAsdCYmKG9wPVsyJm9wWzBdLHQudmFsdWVdKSxvcFswXSl7Y2FzZSAwOmNhc2UgMTp0PW9wO2JyZWFrO2Nhc2UgNDpyZXR1cm4gXy5sYWJlbCsrLHt2YWx1ZTpvcFsxXSxkb25lOiExfTtjYXNlIDU6Xy5sYWJlbCsrLHk9b3BbMV0sb3A9WzBdO2NvbnRpbnVlO2Nhc2UgNzpvcD1fLm9wcy5wb3AoKSxfLnRyeXMucG9wKCk7Y29udGludWU7ZGVmYXVsdDppZighKHQ9KHQ9Xy50cnlzKS5sZW5ndGg+MCYmdFt0Lmxlbmd0aC0xXSkmJig2PT09b3BbMF18fDI9PT1vcFswXSkpe189MDtjb250aW51ZX1pZigzPT09b3BbMF0mJighdHx8b3BbMV0+dFswXSYmb3BbMV08dFszXSkpe18ubGFiZWw9b3BbMV07YnJlYWt9aWYoNj09PW9wWzBdJiZfLmxhYmVsPHRbMV0pe18ubGFiZWw9dFsxXSx0PW9wO2JyZWFrfWlmKHQmJl8ubGFiZWw8dFsyXSl7Xy5sYWJlbD10WzJdLF8ub3BzLnB1c2gob3ApO2JyZWFrfXRbMl0mJl8ub3BzLnBvcCgpLF8udHJ5cy5wb3AoKTtjb250aW51ZX1vcD1ib2R5LmNhbGwodGhpc0FyZyxfKX1jYXRjaChlKXtvcD1bNixlXSx5PTB9ZmluYWxseXtmPXQ9MH1pZig1Jm9wWzBdKXRocm93IG9wWzFdO3JldHVybnt2YWx1ZTpvcFswXT9vcFsxXTp2b2lkIDAsZG9uZTohMH19KFtuLHZdKX19fTtPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cyxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KTt2YXIgdXVpZF8xPV9fd2VicGFja19yZXF1aXJlX18oMTUpLEV2ZW50QnVzXzE9X193ZWJwYWNrX3JlcXVpcmVfXygzNCksQXBpXzE9X193ZWJwYWNrX3JlcXVpcmVfXygzNiksRGF0YV8xPV9fd2VicGFja19yZXF1aXJlX18oNCksQXBpQ2xpZW50XzE9X193ZWJwYWNrX3JlcXVpcmVfXygyOCksUHVzaFNlcnZpY2VfMT1fX3dlYnBhY2tfcmVxdWlyZV9fKDc5KSxQb3B1cF8xPV9fd2VicGFja19yZXF1aXJlX18oODIpLFN1YnNjcmlwdGlvblNlZ21lbnRzV2lkZ2V0XzE9X193ZWJwYWNrX3JlcXVpcmVfXyg4NCksU3Vic2NyaXB0aW9uUHJvbXB0V2lkZ2V0XzE9X193ZWJwYWNrX3JlcXVpcmVfXygxMjUpLENPTlNUQU5UUz1fX3dlYnBhY2tfcmVxdWlyZV9fKDEpLGZ1bmN0aW9uc18xPV9fd2VicGFja19yZXF1aXJlX18oMTApLFBsYXRmb3JtQ2hlY2tlcl8xPV9fd2VicGFja19yZXF1aXJlX18oMjEpLGxvZ2dlcl8xPV9fd2VicGFja19yZXF1aXJlX18oNSksRmFjZWJvb2tNb2R1bGVfMT1fX3dlYnBhY2tfcmVxdWlyZV9fKDEyNyksSW5BcHBzXzE9X193ZWJwYWNrX3JlcXVpcmVfXygxMjgpLHN0b3JhZ2VfMT1fX3dlYnBhY2tfcmVxdWlyZV9fKDMpLEluYm94TWVzc2FnZXNfMT1fX3dlYnBhY2tfcmVxdWlyZV9fKDQ2KSxJbmJveE1lc3NhZ2VzUHVibGljXzE9X193ZWJwYWNrX3JlcXVpcmVfXygyNyksUHVzaHdvb3NoPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gUHVzaHdvb3NoKCl7dmFyIF90aGlzPXRoaXM7dGhpcy5yZWFkeT0hMSx0aGlzLmFkZEV2ZW50SGFuZGxlcj1mdW5jdGlvbihuYW1lLGhhbmRsZXIpe3JldHVybiBfdGhpcy5ldmVudEJ1cy5hZGRFdmVudEhhbmRsZXIobmFtZSxoYW5kbGVyKX0sdGhpcy5yZW1vdmVFdmVudEhhbmRsZXI9ZnVuY3Rpb24obmFtZSxoYW5kbGVyKXtyZXR1cm4gX3RoaXMuZXZlbnRCdXMucmVtb3ZlRXZlbnRIYW5kbGVyKG5hbWUsaGFuZGxlcil9LHRoaXMuZGlzcGF0Y2hFdmVudD1mdW5jdGlvbihuYW1lLHBheWxvYWQpe3JldHVybiBfdGhpcy5ldmVudEJ1cy5kaXNwYXRjaEV2ZW50KG5hbWUscGF5bG9hZCl9LHRoaXMuZGVidWc9e3Nob3dMb2c6ZnVuY3Rpb24oKXtyZXR1cm4gX19hd2FpdGVyKHRoaXMsdm9pZCAwLHZvaWQgMCxmdW5jdGlvbigpe3ZhciBpdGVtcztyZXR1cm4gX19nZW5lcmF0b3IodGhpcyxmdW5jdGlvbihfYSl7c3dpdGNoKF9hLmxhYmVsKXtjYXNlIDA6cmV0dXJuWzQsc3RvcmFnZV8xLmxvZy5nZXRBbGwoKV07Y2FzZSAxOnJldHVybiBpdGVtcz1fYS5zZW50KCksY29uc29sZS5sb2coaXRlbXMpLFsyXX19KX0pfSxzaG93S2V5VmFsdWVzOmZ1bmN0aW9uKCl7cmV0dXJuIF9fYXdhaXRlcih0aGlzLHZvaWQgMCx2b2lkIDAsZnVuY3Rpb24oKXt2YXIgaXRlbXM7cmV0dXJuIF9fZ2VuZXJhdG9yKHRoaXMsZnVuY3Rpb24oX2Epe3N3aXRjaChfYS5sYWJlbCl7Y2FzZSAwOnJldHVybls0LHN0b3JhZ2VfMS5rZXlWYWx1ZS5nZXRBbGwoKV07Y2FzZSAxOnJldHVybiBpdGVtcz1fYS5zZW50KCksY29uc29sZS5sb2coaXRlbXMpLFsyXX19KX0pfSxzaG93TWVzc2FnZXM6ZnVuY3Rpb24oKXtyZXR1cm4gX19hd2FpdGVyKHRoaXMsdm9pZCAwLHZvaWQgMCxmdW5jdGlvbigpe3JldHVybiBfX2dlbmVyYXRvcih0aGlzLGZ1bmN0aW9uKF9hKXtzd2l0Y2goX2EubGFiZWwpe2Nhc2UgMDpyZXR1cm5bNCxzdG9yYWdlXzEubWVzc2FnZS5nZXRBbGwoKV07Y2FzZSAxOnJldHVybiBfYS5zZW50KCkuZm9yRWFjaChmdW5jdGlvbihpKXtyZXR1cm4gY29uc29sZS5sb2coaSl9KSxbMl19fSl9KX19LHRoaXMuZXZlbnRCdXM9bmV3IEV2ZW50QnVzXzEuRXZlbnRCdXMsdGhpcy5kYXRhPW5ldyBEYXRhXzEuRGF0YSx0aGlzLmFwaUNsaWVudD1uZXcgQXBpQ2xpZW50XzEuQXBpQ2xpZW50KHRoaXMuZGF0YSksdGhpcy5hcGk9bmV3IEFwaV8xLkFwaSh0aGlzLmV2ZW50QnVzLHRoaXMuZGF0YSx0aGlzLmFwaUNsaWVudCksdGhpcy5wbGF0Zm9ybUNoZWNrZXI9bmV3IFBsYXRmb3JtQ2hlY2tlcl8xLlBsYXRmb3JtQ2hlY2tlcix0aGlzLmluYm94TW9kZWw9bmV3IEluYm94TWVzc2FnZXNfMS5kZWZhdWx0KHRoaXMuZXZlbnRCdXMsdGhpcy5kYXRhLHRoaXMuYXBpKSx0aGlzLnB3aW5ib3g9bmV3IEluYm94TWVzc2FnZXNQdWJsaWNfMS5kZWZhdWx0KHRoaXMuZGF0YSx0aGlzLmFwaSx0aGlzLmluYm94TW9kZWwpLHRoaXMub25TZXJ2aWNlV29ya2VyTWVzc2FnZT10aGlzLm9uU2VydmljZVdvcmtlck1lc3NhZ2UuYmluZCh0aGlzKTt2YXIgcG9wdXA9bmV3IFBvcHVwXzEuUG9wdXAoXCJzdWJzY3JpcHRpb24tc2VnbWVudHNcIixmdW5jdGlvbigpe3JldHVybiBfdGhpcy5ldmVudEJ1cy5kaXNwYXRjaEV2ZW50KFwiaGlkZS1zdWJzY3JpcHRpb24td2lkZ2V0XCIse30pfSx7cG9zaXRpb246XCJ0b3BcIn0pO3RoaXMuc3Vic2NyaXB0aW9uU2VnbWVudFdpZGdldD1uZXcgU3Vic2NyaXB0aW9uU2VnbWVudHNXaWRnZXRfMS5TdWJzY3JpcHRpb25TZWdtZW50c1dpZGdldCh0aGlzLmV2ZW50QnVzLHRoaXMuZGF0YSx0aGlzLmFwaUNsaWVudCx0aGlzLmFwaSxwb3B1cCx0aGlzKSx0aGlzLnN1YnNjcmlwdGlvblByb21wdFdpZGdldD1uZXcgU3Vic2NyaXB0aW9uUHJvbXB0V2lkZ2V0XzEuU3Vic2NyaXB0aW9uUHJvbXB0V2lkZ2V0KHRoaXMuZXZlbnRCdXMsdGhpcyl9cmV0dXJuIFB1c2h3b29zaC5wcm90b3R5cGUucHVzaD1mdW5jdGlvbihjb21tYW5kKXtpZihcImZ1bmN0aW9uXCIhPXR5cGVvZiBjb21tYW5kKXtpZighQXJyYXkuaXNBcnJheShjb21tYW5kKSl0aHJvdyBuZXcgRXJyb3IoXCJJbnZhbGlkIGNvbW1hbmQhXCIpO3N3aXRjaChjb21tYW5kWzBdKXtjYXNlXCJpbml0XCI6dGhpcy5pbml0aWFsaXplKGNvbW1hbmRbMV0pO2JyZWFrO2Nhc2UgQ09OU1RBTlRTLkVWRU5UX09OX0xPQUQ6Y2FzZSBDT05TVEFOVFMuRVZFTlRfT05fUkVBRFk6Y2FzZSBDT05TVEFOVFMuRVZFTlRfT05fUkVHSVNURVI6Y2FzZSBDT05TVEFOVFMuRVZFTlRfT05fU1VCU0NSSUJFOmNhc2UgQ09OU1RBTlRTLkVWRU5UX09OX1VOU1VCU0NSSUJFOmNhc2UgQ09OU1RBTlRTLkVWRU5UX09OX1NXX0lOSVRfRVJST1I6Y2FzZSBDT05TVEFOVFMuRVZFTlRfT05fUFVTSF9ERUxJVkVSWTpjYXNlIENPTlNUQU5UUy5FVkVOVF9PTl9OT1RJRklDQVRJT05fQ0xJQ0s6Y2FzZSBDT05TVEFOVFMuRVZFTlRfT05fTk9USUZJQ0FUSU9OX0NMT1NFOmNhc2UgQ09OU1RBTlRTLkVWRU5UX09OX0NIQU5HRV9DT01NVU5JQ0FUSU9OX0VOQUJMRUQ6Y2FzZSBDT05TVEFOVFMuRVZFTlRfT05fUFVUX05FV19NRVNTQUdFX1RPX0lOQk9YX1NUT1JFOmNhc2UgQ09OU1RBTlRTLkVWRU5UX09OX1VQREFURV9JTkJPWF9NRVNTQUdFUzpjYXNlIENPTlNUQU5UUy5FVkVOVF9PTl9TSE9XX05PVElGSUNBVElPTl9QRVJNSVNTSU9OX0RJQUxPRzpjYXNlIENPTlNUQU5UUy5FVkVOVF9PTl9ISURFX05PVElGSUNBVElPTl9QRVJNSVNTSU9OX0RJQUxPRzpjYXNlIENPTlNUQU5UUy5FVkVOVF9PTl9TSE9XX1NVQlNDUklQVElPTl9XSURHRVQ6Y2FzZSBDT05TVEFOVFMuRVZFTlRfT05fSElERV9TVUJTQ1JJUFRJT05fV0lER0VUOmNhc2UgQ09OU1RBTlRTLkVWRU5UX09OX1BFUk1JU1NJT05fREVOSUVEOmNhc2UgQ09OU1RBTlRTLkVWRU5UX09OX1BFUk1JU1NJT05fUFJPTVBUOmNhc2UgQ09OU1RBTlRTLkVWRU5UX09OX1BFUk1JU1NJT05fR1JBTlRFRDp0aGlzLnN1YnNjcmliZVRvTGVnYWN5RXZlbnRzKGNvbW1hbmRbMF0sY29tbWFuZFsxXSk7YnJlYWs7ZGVmYXVsdDp0aHJvdyBuZXcgRXJyb3IoXCJVbmtub3duIGNvbW1hbmQhXCIpfX1lbHNlIHRoaXMuc3Vic2NyaWJlVG9MZWdhY3lFdmVudHMoXCJvblJlYWR5XCIsY29tbWFuZCl9LFB1c2h3b29zaC5wcm90b3R5cGUuc3Vic2NyaWJlPWZ1bmN0aW9uKGlzRm9yY2VTdWJzY3JpYmUpe3JldHVybiB2b2lkIDA9PT1pc0ZvcmNlU3Vic2NyaWJlJiYoaXNGb3JjZVN1YnNjcmliZT0hMCksX19hd2FpdGVyKHRoaXMsdm9pZCAwLHZvaWQgMCxmdW5jdGlvbigpe3ZhciBwZXJtaXNzaW9uXzEscGVybWlzc2lvbixpc01hbnVhbFVuc3Vic2NyaWJlZCxpc0RldmljZVJlZ2lzdGVyO3JldHVybiBfX2dlbmVyYXRvcih0aGlzLGZ1bmN0aW9uKF9hKXtzd2l0Y2goX2EubGFiZWwpe2Nhc2UgMDpyZXR1cm4gdGhpcy5pc0NvbW11bmljYXRpb25EaXNhYmxlZCYmbG9nZ2VyXzEuTG9nZ2VyLmVycm9yKFwiQ29tbXVuaWNhdGlvbiBpcyBkaXNhYmxlZCFcIiksdGhpcy5kcml2ZXIuY2hlY2tJc1Blcm1pc3Npb25EZWZhdWx0KCk/KHRoaXMuZXZlbnRCdXMuZGlzcGF0Y2hFdmVudChcInNob3ctbm90aWZpY2F0aW9uLXBlcm1pc3Npb24tZGlhbG9nXCIse30pLFs0LHRoaXMuZHJpdmVyLmFza1Blcm1pc3Npb24oKV0pOlszLDJdO2Nhc2UgMTpfYS5zZW50KCkscGVybWlzc2lvbl8xPXRoaXMuZHJpdmVyLmdldFBlcm1pc3Npb24oKSx0aGlzLmV2ZW50QnVzLmRpc3BhdGNoRXZlbnQoXCJoaWRlLW5vdGlmaWNhdGlvbi1wZXJtaXNzaW9uLWRpYWxvZ1wiLHtwZXJtaXNzaW9uOnBlcm1pc3Npb25fMX0pLF9hLmxhYmVsPTI7Y2FzZSAyOnJldHVybiBwZXJtaXNzaW9uPXRoaXMuZHJpdmVyLmdldFBlcm1pc3Npb24oKSxbNCx0aGlzLmRhdGEuZ2V0U3RhdHVzTWFudWFsVW5zdWJzY3JpYmVkKCldO2Nhc2UgMzpyZXR1cm4gaXNNYW51YWxVbnN1YnNjcmliZWQ9X2Euc2VudCgpLFs0LHRoaXMuYXBpLmNoZWNrRGV2aWNlU3Vic2NyaWJlRm9yUHVzaE5vdGlmaWNhdGlvbnMoITEpXTtjYXNlIDQ6cmV0dXJuIGlzRGV2aWNlUmVnaXN0ZXI9X2Euc2VudCgpLHBlcm1pc3Npb24hPT1DT05TVEFOVFMuUEVSTUlTU0lPTl9HUkFOVEVEP1szLDddOih0aGlzLmV2ZW50QnVzLmRpc3BhdGNoRXZlbnQoXCJwZXJtaXNzaW9uLWdyYW50ZWRcIix7fSksIShpc0ZvcmNlU3Vic2NyaWJlfHwhaXNNYW51YWxVbnN1YnNjcmliZWQpfHxpc0RldmljZVJlZ2lzdGVyP1szLDZdOls0LHRoaXMuZHJpdmVyLnN1YnNjcmliZSgpXSk7Y2FzZSA1Ol9hLnNlbnQoKSxfYS5sYWJlbD02O2Nhc2UgNjpyZXR1cm4gdGhpcy5ldmVudEJ1cy5kaXNwYXRjaEV2ZW50KFwic3Vic2NyaWJlXCIse30pLFsyXTtjYXNlIDc6cmV0dXJuIHBlcm1pc3Npb24hPT1DT05TVEFOVFMuUEVSTUlTU0lPTl9ERU5JRUQ/WzMsMTBdOih0aGlzLmV2ZW50QnVzLmRpc3BhdGNoRXZlbnQoXCJwZXJtaXNzaW9uLWRlbmllZFwiLHt9KSxpc0RldmljZVJlZ2lzdGVyP1s0LHRoaXMuZHJpdmVyLnVuc3Vic2NyaWJlKCldOlszLDldKTtjYXNlIDg6X2Euc2VudCgpLF9hLmxhYmVsPTk7Y2FzZSA5OmNhc2UgMTA6cmV0dXJuWzJdfX0pfSl9LFB1c2h3b29zaC5wcm90b3R5cGUudW5zdWJzY3JpYmU9ZnVuY3Rpb24oKXtyZXR1cm4gX19hd2FpdGVyKHRoaXMsdm9pZCAwLHZvaWQgMCxmdW5jdGlvbigpe3ZhciBlcnJvcl8xO3JldHVybiBfX2dlbmVyYXRvcih0aGlzLGZ1bmN0aW9uKF9hKXtzd2l0Y2goX2EubGFiZWwpe2Nhc2UgMDpyZXR1cm4gX2EudHJ5cy5wdXNoKFswLDIsLDNdKSxbNCx0aGlzLmRyaXZlci51bnN1YnNjcmliZSgpXTtjYXNlIDE6cmV0dXJuIF9hLnNlbnQoKSxbMywzXTtjYXNlIDI6cmV0dXJuIGVycm9yXzE9X2Euc2VudCgpLGxvZ2dlcl8xLkxvZ2dlci5lcnJvcihlcnJvcl8xLFwiRXJyb3Igb2NjdXJyZWQgZHVyaW5nIHRoZSB1bnN1YnNjcmliZVwiKSxbMywzXTtjYXNlIDM6cmV0dXJuWzJdfX0pfSl9LFB1c2h3b29zaC5wcm90b3R5cGUuZm9yY2VTdWJzY3JpYmU9ZnVuY3Rpb24oKXtyZXR1cm4gX19hd2FpdGVyKHRoaXMsdm9pZCAwLHZvaWQgMCxmdW5jdGlvbigpe3JldHVybiBfX2dlbmVyYXRvcih0aGlzLGZ1bmN0aW9uKF9hKXtzd2l0Y2goX2EubGFiZWwpe2Nhc2UgMDpyZXR1cm5bNCx0aGlzLnN1YnNjcmliZSghMCldO2Nhc2UgMTpyZXR1cm4gX2Euc2VudCgpLFsyXX19KX0pfSxQdXNod29vc2gucHJvdG90eXBlLmlzRGV2aWNlUmVnaXN0ZXJlZD1mdW5jdGlvbigpe3JldHVybiBsb2NhbFN0b3JhZ2UuZ2V0SXRlbShDT05TVEFOVFMuS0VZX0RFVklDRV9SRUdJU1RSQVRJT05fU1RBVFVTKT09PUNPTlNUQU5UUy5ERVZJQ0VfUkVHSVNUUkFUSU9OX1NUQVRVU19SRUdJU1RFUkVEfSxQdXNod29vc2gucHJvdG90eXBlLmlzRGV2aWNlVW5yZWdpc3RlcmVkPWZ1bmN0aW9uKCl7cmV0dXJuIGxvY2FsU3RvcmFnZS5nZXRJdGVtKENPTlNUQU5UUy5LRVlfREVWSUNFX1JFR0lTVFJBVElPTl9TVEFUVVMpPT09Q09OU1RBTlRTLkRFVklDRV9SRUdJU1RSQVRJT05fU1RBVFVTX1VOUkVHSVNURVJFRH0sUHVzaHdvb3NoLnByb3RvdHlwZS5pc1N1YnNjcmliZWQ9ZnVuY3Rpb24oKXtyZXR1cm4gX19hd2FpdGVyKHRoaXMsdm9pZCAwLHZvaWQgMCxmdW5jdGlvbigpe3JldHVybiBfX2dlbmVyYXRvcih0aGlzLGZ1bmN0aW9uKF9hKXtyZXR1cm5bMix0aGlzLmFwaS5jaGVja0RldmljZVN1YnNjcmliZUZvclB1c2hOb3RpZmljYXRpb25zKCldfSl9KX0sUHVzaHdvb3NoLnByb3RvdHlwZS5pc0NvbW11bmljYXRpb25FbmFibGVkPWZ1bmN0aW9uKCl7cmV0dXJuIF9fYXdhaXRlcih0aGlzLHZvaWQgMCx2b2lkIDAsZnVuY3Rpb24oKXtyZXR1cm4gX19nZW5lcmF0b3IodGhpcyxmdW5jdGlvbihfYSl7c3dpdGNoKF9hLmxhYmVsKXtjYXNlIDA6cmV0dXJuWzQsdGhpcy5kYXRhLmdldFN0YXR1c0NvbW11bmljYXRpb25EaXNhYmxlZCgpXTtjYXNlIDE6cmV0dXJuWzIsIV9hLnNlbnQoKV19fSl9KX0sUHVzaHdvb3NoLnByb3RvdHlwZS5zZXRDb21tdW5pY2F0aW9uRW5hYmxlZD1mdW5jdGlvbihpc0VuYWJsZWQpe3JldHVybiB2b2lkIDA9PT1pc0VuYWJsZWQmJihpc0VuYWJsZWQ9ITApLF9fYXdhaXRlcih0aGlzLHZvaWQgMCx2b2lkIDAsZnVuY3Rpb24oKXt2YXIgZGV2aWNlVHlwZSxpc1Blcm1pc3Npb25HcmFudGVkO3JldHVybiBfX2dlbmVyYXRvcih0aGlzLGZ1bmN0aW9uKF9hKXtzd2l0Y2goX2EubGFiZWwpe2Nhc2UgMDpyZXR1cm5bNCx0aGlzLmRhdGEuZ2V0RGV2aWNlVHlwZSgpXTtjYXNlIDE6cmV0dXJuIGRldmljZVR5cGU9X2Euc2VudCgpLGlzUGVybWlzc2lvbkdyYW50ZWQ9dGhpcy5kcml2ZXIuY2hlY2tJc1Blcm1pc3Npb25HcmFudGVkKCksWzQsdGhpcy5kYXRhLnNldFN0YXR1c0NvbW11bmljYXRpb25EaXNhYmxlZCghaXNFbmFibGVkKV07Y2FzZSAyOnJldHVybiBfYS5zZW50KCksaXNFbmFibGVkP1s0LHRoaXMuZGF0YS5zZXRTdGF0dXNEcm9wQWxsRGF0YSghMSldOlszLDZdO2Nhc2UgMzpyZXR1cm4gX2Euc2VudCgpLGlzUGVybWlzc2lvbkdyYW50ZWQ/WzQsdGhpcy5hcGkucmVnaXN0ZXJEZXZpY2UoKV06WzMsNV07Y2FzZSA0Ol9hLnNlbnQoKSxfYS5sYWJlbD01O2Nhc2UgNTpyZXR1cm5bMyw4XTtjYXNlIDY6cmV0dXJuWzQsdGhpcy5hcGkudW5yZWdpc3RlckRldmljZSgpXTtjYXNlIDc6X2Euc2VudCgpLF9hLmxhYmVsPTg7Y2FzZSA4OnJldHVybiB0aGlzLmV2ZW50QnVzLmRpc3BhdGNoRXZlbnQoXCJjaGFuZ2UtZW5hYmxlZC1jb21tdW5pY2F0aW9uXCIse2lzRW5hYmxlZDppc0VuYWJsZWR9KSxbNCx0aGlzLmFwaS5wb3N0RXZlbnQoQ09OU1RBTlRTLkVWRU5UX0dEUFJfQ09OU0VOVCx7Y2hhbm5lbDppc0VuYWJsZWQsZGV2aWNlX3R5cGU6ZGV2aWNlVHlwZX0pXTtjYXNlIDk6cmV0dXJuIF9hLnNlbnQoKSxbMl19fSl9KX0sUHVzaHdvb3NoLnByb3RvdHlwZS5yZW1vdmVBbGxEZXZpY2VEYXRhPWZ1bmN0aW9uKCl7cmV0dXJuIF9fYXdhaXRlcih0aGlzLHZvaWQgMCx2b2lkIDAsZnVuY3Rpb24oKXt2YXIgZGV2aWNlVHlwZTtyZXR1cm4gX19nZW5lcmF0b3IodGhpcyxmdW5jdGlvbihfYSl7c3dpdGNoKF9hLmxhYmVsKXtjYXNlIDA6cmV0dXJuWzQsdGhpcy5kYXRhLmdldERldmljZVR5cGUoKV07Y2FzZSAxOnJldHVybiBkZXZpY2VUeXBlPV9hLnNlbnQoKSxbNCx0aGlzLmFwaS5wb3N0RXZlbnQoQ09OU1RBTlRTLkVWRU5UX0dEUFJfREVMRVRFLHtzdGF0dXM6ITAsZGV2aWNlX3R5cGU6ZGV2aWNlVHlwZX0pXTtjYXNlIDI6cmV0dXJuIF9hLnNlbnQoKSxbNCx0aGlzLmFwaS5kZWxldGVEZXZpY2UoKV07Y2FzZSAzOnJldHVybiBfYS5zZW50KCksWzQsdGhpcy5kYXRhLmNsZWFyQWxsKCldO2Nhc2UgNDpyZXR1cm4gX2Euc2VudCgpLFs0LHRoaXMuZGF0YS5zZXRTdGF0dXNEcm9wQWxsRGF0YSghMCldO2Nhc2UgNTpyZXR1cm4gX2Euc2VudCgpLFsyXX19KX0pfSxQdXNod29vc2gucHJvdG90eXBlLmdldEhXSUQ9ZnVuY3Rpb24oKXtyZXR1cm4gX19hd2FpdGVyKHRoaXMsdm9pZCAwLHZvaWQgMCxmdW5jdGlvbigpe3JldHVybiBfX2dlbmVyYXRvcih0aGlzLGZ1bmN0aW9uKF9hKXtzd2l0Y2goX2EubGFiZWwpe2Nhc2UgMDpyZXR1cm5bNCx0aGlzLmRhdGEuZ2V0SHdpZCgpXTtjYXNlIDE6cmV0dXJuWzIsX2Euc2VudCgpXX19KX0pfSxQdXNod29vc2gucHJvdG90eXBlLmdldFB1c2hUb2tlbj1mdW5jdGlvbigpe3JldHVybiBfX2F3YWl0ZXIodGhpcyx2b2lkIDAsdm9pZCAwLGZ1bmN0aW9uKCl7cmV0dXJuIF9fZ2VuZXJhdG9yKHRoaXMsZnVuY3Rpb24oX2Epe3N3aXRjaChfYS5sYWJlbCl7Y2FzZSAwOnJldHVybls0LHRoaXMuZGF0YS5nZXRUb2tlbnMoKV07Y2FzZSAxOnJldHVyblsyLF9hLnNlbnQoKS5wdXNoVG9rZW5dfX0pfSl9LFB1c2h3b29zaC5wcm90b3R5cGUuZ2V0VXNlcklkPWZ1bmN0aW9uKCl7cmV0dXJuIF9fYXdhaXRlcih0aGlzLHZvaWQgMCx2b2lkIDAsZnVuY3Rpb24oKXtyZXR1cm4gX19nZW5lcmF0b3IodGhpcyxmdW5jdGlvbihfYSl7c3dpdGNoKF9hLmxhYmVsKXtjYXNlIDA6cmV0dXJuWzQsdGhpcy5kYXRhLmdldFVzZXJJZCgpXTtjYXNlIDE6cmV0dXJuWzIsX2Euc2VudCgpXX19KX0pfSxQdXNod29vc2gucHJvdG90eXBlLmdldFBhcmFtcz1mdW5jdGlvbigpe3JldHVybiBfX2F3YWl0ZXIodGhpcyx2b2lkIDAsdm9pZCAwLGZ1bmN0aW9uKCl7cmV0dXJuIF9fZ2VuZXJhdG9yKHRoaXMsZnVuY3Rpb24oX2Epe3N3aXRjaChfYS5sYWJlbCl7Y2FzZSAwOnJldHVybls0LHRoaXMuYXBpLmdldFBhcmFtcygpXTtjYXNlIDE6cmV0dXJuWzIsX2Euc2VudCgpXX19KX0pfSxQdXNod29vc2gucHJvdG90eXBlLmlzQXZhaWxhYmxlTm90aWZpY2F0aW9ucz1mdW5jdGlvbigpe3JldHVybiB0aGlzLnBsYXRmb3JtQ2hlY2tlci5pc0F2YWlsYWJsZU5vdGlmaWNhdGlvbnN9LFB1c2h3b29zaC5wcm90b3R5cGUuc2VuZFN0YXRpc3RpY3NWaXNpdGVkUGFnZT1mdW5jdGlvbigpe3JldHVybiBfX2F3YWl0ZXIodGhpcyx2b2lkIDAsdm9pZCAwLGZ1bmN0aW9uKCl7dmFyIHRpdGxlLF9hLG9yaWdpbixwYXRobmFtZSxocmVmO3JldHVybiBfX2dlbmVyYXRvcih0aGlzLGZ1bmN0aW9uKF9iKXtzd2l0Y2goX2IubGFiZWwpe2Nhc2UgMDpyZXR1cm4gdGl0bGU9d2luZG93LmRvY3VtZW50LnRpdGxlLF9hPXdpbmRvdy5sb2NhdGlvbixvcmlnaW49X2Eub3JpZ2luLHBhdGhuYW1lPV9hLnBhdGhuYW1lLGhyZWY9X2EuaHJlZixbNCx0aGlzLmFwaS5wYWdlVmlzaXQoe3RpdGxlOnRpdGxlLHVybF9wYXRoOlwiXCIrb3JpZ2luK3BhdGhuYW1lLHVybDpocmVmfSldO2Nhc2UgMTpyZXR1cm4gX2Iuc2VudCgpLFsyXX19KX0pfSxQdXNod29vc2gucHJvdG90eXBlLmlzRW5hYmxlQ2hhbm5lbHM9ZnVuY3Rpb24oKXtyZXR1cm4gX19hd2FpdGVyKHRoaXMsdm9pZCAwLHZvaWQgMCxmdW5jdGlvbigpe3ZhciBmZWF0dXJlcyxjaGFubmVscztyZXR1cm4gX19nZW5lcmF0b3IodGhpcyxmdW5jdGlvbihfYSl7c3dpdGNoKF9hLmxhYmVsKXtjYXNlIDA6cmV0dXJuWzQsdGhpcy5kYXRhLmdldEZlYXR1cmVzKCldO2Nhc2UgMTpyZXR1cm4gZmVhdHVyZXM9X2Euc2VudCgpLGNoYW5uZWxzPWZlYXR1cmVzJiZmZWF0dXJlcy5jaGFubmVscyxbMixBcnJheS5pc0FycmF5KGNoYW5uZWxzKSYmISFjaGFubmVscy5sZW5ndGhdfX0pfSl9LFB1c2h3b29zaC5wcm90b3R5cGUuaW5pdGlhbGl6ZT1mdW5jdGlvbihwYXJhbXMpe3JldHVybiBfX2F3YWl0ZXIodGhpcyx2b2lkIDAsdm9pZCAwLGZ1bmN0aW9uKCl7dmFyIG1hbnVhbERlYnVnLGFwcGxpY2F0aW9uQ29kZSxub3RTYXZlZEFwcGxpY2F0aW9uQ29kZSxpc0NoYW5nZUFwcGxpY2F0aW9uQ29kZSxpZCxjb25maWcsX2EsdXNlcklkV2FzQ2hhbmdlLGluQXBwc0NvbmZpZyxlcnJvcl8yLGVycm9yXzMsZGVsYXllZEV2ZW50LHR5cGUscGF5bG9hZCxoYXNoUmVnLGhhc2g7cmV0dXJuIF9fZ2VuZXJhdG9yKHRoaXMsZnVuY3Rpb24oX2Ipe3N3aXRjaChfYi5sYWJlbCl7Y2FzZSAwOnJldHVybiBtYW51YWxEZWJ1Zz1sb2NhbFN0b3JhZ2UuZ2V0SXRlbShDT05TVEFOVFMuTUFOVUFMX1NFVF9MT0dHRVJfTEVWRUwpLGxvZ2dlcl8xLkxvZ2dlci5zZXRMZXZlbChtYW51YWxEZWJ1Z3x8cGFyYW1zLmxvZ0xldmVsfHxcImVycm9yXCIpLHRoaXMucGxhdGZvcm1DaGVja2VyLmlzQXZhaWxhYmxlTm90aWZpY2F0aW9ucz9bNCx0aGlzLmRhdGEuZ2V0QXBwbGljYXRpb25Db2RlKCldOlsyXTtjYXNlIDE6aWYoYXBwbGljYXRpb25Db2RlPV9iLnNlbnQoKSwhcGFyYW1zLmFwcGxpY2F0aW9uQ29kZSl0aHJvdyBuZXcgRXJyb3IoXCJDYW4ndCBmaW5kIGFwcGxpY2F0aW9uIGNvZGUhXCIpO3JldHVybiBub3RTYXZlZEFwcGxpY2F0aW9uQ29kZT0hYXBwbGljYXRpb25Db2RlLGlzQ2hhbmdlQXBwbGljYXRpb25Db2RlPWFwcGxpY2F0aW9uQ29kZSYmYXBwbGljYXRpb25Db2RlIT09cGFyYW1zLmFwcGxpY2F0aW9uQ29kZSxub3RTYXZlZEFwcGxpY2F0aW9uQ29kZXx8aXNDaGFuZ2VBcHBsaWNhdGlvbkNvZGU/WzQsdGhpcy5kYXRhLmNsZWFyQWxsKCldOlszLDRdO2Nhc2UgMjpyZXR1cm4gX2Iuc2VudCgpLFs0LHRoaXMuZGF0YS5zZXRBcHBsaWNhdGlvbkNvZGUocGFyYW1zLmFwcGxpY2F0aW9uQ29kZSldO2Nhc2UgMzpfYi5zZW50KCksX2IubGFiZWw9NDtjYXNlIDQ6cmV0dXJuWzQsdGhpcy5kYXRhLmdldEh3aWQoKV07Y2FzZSA1OnJldHVybiBfYi5zZW50KCk/WzMsN106KGlkPXBhcmFtcy5hcHBsaWNhdGlvbkNvZGUrXCJfXCIrdXVpZF8xLnY0KCksWzQsdGhpcy5kYXRhLnNldEh3aWQoaWQpXSk7Y2FzZSA2OnJldHVybiBfYi5zZW50KCksWzMsOV07Y2FzZSA3OnJldHVybls0LHRoaXMuYXBpLmNoZWNrRGV2aWNlKCldO2Nhc2UgODpfYi5zZW50KCksX2IubGFiZWw9OTtjYXNlIDk6cmV0dXJuWzQsdGhpcy5kYXRhLnNldERldmljZVR5cGUodGhpcy5wbGF0Zm9ybUNoZWNrZXIuZ2V0UGxhdGZvcm1UeXBlKCkpXTtjYXNlIDEwOnJldHVybiBfYi5zZW50KCksWzQsdGhpcy5kYXRhLnNldERldmljZU1vZGVsKHRoaXMucGxhdGZvcm1DaGVja2VyLmdldEJyb3dzZXJWZXJzaW9uKCkpXTtjYXNlIDExOnJldHVybiBfYi5zZW50KCksWzQsdGhpcy5kYXRhLnNldExhbmd1YWdlKHBhcmFtcy50YWdzJiZwYXJhbXMudGFncy5MYW5ndWFnZXx8bmF2aWdhdG9yLmxhbmd1YWdlKV07Y2FzZSAxMjpyZXR1cm4gX2Iuc2VudCgpLHBhcmFtcy5wdXNod29vc2hVcmw/WzQsdGhpcy5kYXRhLnNldEFwaUVudHJ5cG9pbnQocGFyYW1zLnB1c2h3b29zaFVybCldOlszLDE0XTtjYXNlIDEzOl9iLnNlbnQoKSxfYi5sYWJlbD0xNDtjYXNlIDE0OnJldHVybls0LHRoaXMuZGF0YS5zZXRTZGtWZXJzaW9uKFwiMy4xOS4zXCIpXTtjYXNlIDE1OnJldHVybiBfYi5zZW50KCksWzQsdGhpcy5hcGkuZ2V0Q29uZmlnKFtcInBhZ2VfdmlzaXRcIixcInZhcGlkX2tleVwiLFwid2ViX2luX2FwcHNcIixcImV2ZW50c1wiLFwic3Vic2NyaXB0aW9uX3Byb21wdFwiXSldO2Nhc2UgMTY6cmV0dXJuIGNvbmZpZz1fYi5zZW50KCksdGhpcy5vbkdldENvbmZpZyhjb25maWcmJmNvbmZpZy5mZWF0dXJlcyksdGhpcy5zdWJzY3JpYmVXaWRnZXRDb25maWc9X19hc3NpZ24oe2VuYWJsZTohMX0scGFyYW1zLnN1YnNjcmliZVdpZGdldCksdGhpcy5pbmJveFdpZGdldENvbmZpZz1fX2Fzc2lnbih7ZW5hYmxlOiExfSxwYXJhbXMuaW5ib3hXaWRnZXQpLHRoaXMuc3Vic2NyaWJlUG9wdXBDb25maWc9X19hc3NpZ24oe2VuYWJsZTohMX0scGFyYW1zLnN1YnNjcmliZVBvcHVwKSxfYT10aGlzLFs0LHRoaXMuZGF0YS5nZXRTdGF0dXNDb21tdW5pY2F0aW9uRGlzYWJsZWQoKV07Y2FzZSAxNzpyZXR1cm4gX2EuaXNDb21tdW5pY2F0aW9uRGlzYWJsZWQ9X2Iuc2VudCgpLFs0LHRoaXMub3BlbigpXTtjYXNlIDE4OnJldHVybiBfYi5zZW50KCksWzQsdGhpcy5kYXRhLmdldFN0YXR1c1VzZXJJZFdhc0NoYW5nZWQoKV07Y2FzZSAxOTpyZXR1cm4gdXNlcklkV2FzQ2hhbmdlPV9iLnNlbnQoKSwhcGFyYW1zLnVzZXJJZHx8XCJ1c2VyX2lkXCI9PT1wYXJhbXMudXNlcklkfHx1c2VySWRXYXNDaGFuZ2U/WzMsMjFdOls0LHRoaXMuYXBpLnJlZ2lzdGVyVXNlcihwYXJhbXMudXNlcklkKV07Y2FzZSAyMDpfYi5zZW50KCksX2IubGFiZWw9MjE7Y2FzZSAyMTpyZXR1cm4gcGFyYW1zLnRhZ3MmJnRoaXMuYXBpLnNldFRhZ3MocGFyYW1zLnRhZ3MpLGluQXBwc0NvbmZpZz1fX2Fzc2lnbih7ZW5hYmxlOmNvbmZpZy5mZWF0dXJlcy53ZWJfaW5fYXBwcyYmY29uZmlnLmZlYXR1cmVzLndlYl9pbl9hcHBzLmVuYWJsZWR9LHBhcmFtcy5pbkFwcHMpLFs0LHRoaXMuaW5pdEluQXBwKGluQXBwc0NvbmZpZyldO2Nhc2UgMjI6cmV0dXJuIF9iLnNlbnQoKSx0aGlzLnBsYXRmb3JtQ2hlY2tlci5pc0F2YWlsYWJsZU5vdGlmaWNhdGlvbnM/WzQsdGhpcy5pbml0UHVzaE5vdGlmaWNhdGlvbnMocGFyYW1zKV06WzMsMjRdO2Nhc2UgMjM6X2Iuc2VudCgpLF9iLmxhYmVsPTI0O2Nhc2UgMjQ6cmV0dXJuIF9iLnRyeXMucHVzaChbMjQsMjYsLDI3XSksWzQsdGhpcy5pbmJveE1vZGVsLnVwZGF0ZU1lc3NhZ2VzKCldO2Nhc2UgMjU6cmV0dXJuIF9iLnNlbnQoKSxbMywyN107Y2FzZSAyNjpyZXR1cm4gZXJyb3JfMj1fYi5zZW50KCksbG9nZ2VyXzEuTG9nZ2VyLndyaXRlKFwiZXJyb3JcIixlcnJvcl8yKSxbMywyN107Y2FzZSAyNzpyZXR1cm4gX2IudHJ5cy5wdXNoKFsyNywyOSwsMzBdKSxbNCx0aGlzLmluaXRGYWNlYm9vayhwYXJhbXMpXTtjYXNlIDI4OnJldHVybiBfYi5zZW50KCksWzMsMzBdO2Nhc2UgMjk6cmV0dXJuIGVycm9yXzM9X2Iuc2VudCgpLGxvZ2dlcl8xLkxvZ2dlci53cml0ZShcImVycm9yXCIsZXJyb3JfMyksWzMsMzBdO2Nhc2UgMzA6cmV0dXJuIHRoaXMucmVhZHk9ITAsdGhpcy5ldmVudEJ1cy5kaXNwYXRjaEV2ZW50KFwicmVhZHlcIix7fSksWzQsdGhpcy5kYXRhLmdldERlbGF5ZWRFdmVudCgpXTtjYXNlIDMxOnJldHVybihkZWxheWVkRXZlbnQ9X2Iuc2VudCgpKT8odHlwZT1kZWxheWVkRXZlbnQudHlwZSxwYXlsb2FkPWRlbGF5ZWRFdmVudC5wYXlsb2FkLFs0LHRoaXMuZW1pdExlZ2FjeUV2ZW50c0Zyb21TZXJ2aWNlV29ya2VyKHR5cGUscGF5bG9hZCldKTpbMywzNF07Y2FzZSAzMjpyZXR1cm4gX2Iuc2VudCgpLFs0LHRoaXMuZGF0YS5zZXREZWxheWVkRXZlbnQobnVsbCldO2Nhc2UgMzM6X2Iuc2VudCgpLF9iLmxhYmVsPTM0O2Nhc2UgMzQ6cmV0dXJuXCJzZXJ2aWNlV29ya2VyXCJpbiBuYXZpZ2F0b3ImJihuYXZpZ2F0b3Iuc2VydmljZVdvcmtlci5vbm1lc3NhZ2U9dGhpcy5vblNlcnZpY2VXb3JrZXJNZXNzYWdlKSxsb2NhbFN0b3JhZ2Uuc2V0SXRlbShcInB1c2h3b29zaC13ZWJzZGstc3RhdHVzXCIsXCJpbml0XCIpLGRvY3VtZW50LmRpc3BhdGNoRXZlbnQobmV3IEN1c3RvbUV2ZW50KFwicHVzaHdvb3NoLmluaXRpYWxpemVkXCIse2RldGFpbDp7cHc6dGhpc319KSksdGhpcy5wbGF0Zm9ybUNoZWNrZXIuaXNTYWZhcmkmJihoYXNoUmVnPS8jUCguKikvLGhhc2g9ZGVjb2RlVVJJQ29tcG9uZW50KGRvY3VtZW50LmxvY2F0aW9uLmhhc2gpLGhhc2hSZWcudGVzdChoYXNoKSYmdGhpcy5hcGkucHVzaFN0YXQoaGFzaFJlZy5leGVjKGhhc2gpWzFdKS50aGVuKGZ1bmN0aW9uc18xLmNsZWFyTG9jYXRpb25IYXNoKSksWzJdfX0pfSl9LFB1c2h3b29zaC5wcm90b3R5cGUuZGVmYXVsdFByb2Nlc3M9ZnVuY3Rpb24oaW5pdFBhcmFtcyl7cmV0dXJuIF9fYXdhaXRlcih0aGlzLHZvaWQgMCx2b2lkIDAsZnVuY3Rpb24oKXt2YXIgcGVybWlzc2lvbixpc0NvbW11bmljYXRpb25EaXNhYmxlZCxpc0Ryb3BBbGxEYXRhLGlzTmVlZFJlc3Vic2NyaWJlLGZlYXR1cmVzLGN1cnJlbnRQcm9tcHRVc2VDYXNlLGF1dG9TdWJzY3JpYmUsaXNNYW51YWxVbnN1YnNjcmliZWQsaXNSZWdpc3Rlcix3aWRnZXRDb25maWcsaXNEZWZhdWx0VXNlQ2FzZSxpc05vdFNldFVzZUNhc2UscmVzdWx0O3JldHVybiBfX2dlbmVyYXRvcih0aGlzLGZ1bmN0aW9uKF9iKXtzd2l0Y2goX2IubGFiZWwpe2Nhc2UgMDpyZXR1cm5cImdyYW50ZWRcIiE9PShwZXJtaXNzaW9uPXRoaXMuZHJpdmVyLmdldFBlcm1pc3Npb24oKSk/WzMsMl06WzQsdGhpcy5kYXRhLnNldExhc3RQZXJtaXNzaW9uU3RhdHVzKHBlcm1pc3Npb24pXTtjYXNlIDE6X2Iuc2VudCgpLF9iLmxhYmVsPTI7Y2FzZSAyOnJldHVybls0LHRoaXMuZGF0YS5nZXRTdGF0dXNDb21tdW5pY2F0aW9uRGlzYWJsZWQoKV07Y2FzZSAzOnJldHVybiBpc0NvbW11bmljYXRpb25EaXNhYmxlZD1fYi5zZW50KCksWzQsdGhpcy5kYXRhLmdldFN0YXR1c0Ryb3BBbGxEYXRhKCldO2Nhc2UgNDpyZXR1cm4gaXNEcm9wQWxsRGF0YT1fYi5zZW50KCksWzQsdGhpcy5kcml2ZXIuY2hlY2tJc05lZWRSZXN1YnNjcmliZSgpXTtjYXNlIDU6cmV0dXJuIGlzTmVlZFJlc3Vic2NyaWJlPV9iLnNlbnQoKSxbNCx0aGlzLmRhdGEuZ2V0RmVhdHVyZXMoKV07Y2FzZSA2OnJldHVybiBmZWF0dXJlcz1fYi5zZW50KCksY3VycmVudFByb21wdFVzZUNhc2U9ZmVhdHVyZXMuc3Vic2NyaXB0aW9uX3Byb21wdCYmZmVhdHVyZXMuc3Vic2NyaXB0aW9uX3Byb21wdC51c2VfY2FzZSxpc0NvbW11bmljYXRpb25EaXNhYmxlZHx8aXNEcm9wQWxsRGF0YT9bNCx0aGlzLnVuc3Vic2NyaWJlKCldOlszLDhdO2Nhc2UgNzpyZXR1cm4gX2Iuc2VudCgpLFsyXTtjYXNlIDg6cmV0dXJuIGlzTmVlZFJlc3Vic2NyaWJlP1s0LHRoaXMudW5zdWJzY3JpYmUoKV06WzMsMTFdO2Nhc2UgOTpyZXR1cm4gX2Iuc2VudCgpLFs0LHRoaXMuZGF0YS5zZXRTdGF0dXNNYW51YWxVbnN1YnNjcmliZWQoITEpXTtjYXNlIDEwOl9iLnNlbnQoKSxfYi5sYWJlbD0xMTtjYXNlIDExOnJldHVybiBhdXRvU3Vic2NyaWJlPWluaXRQYXJhbXMuYXV0b1N1YnNjcmliZSxbNCx0aGlzLmRhdGEuZ2V0U3RhdHVzTWFudWFsVW5zdWJzY3JpYmVkKCldO2Nhc2UgMTI6cmV0dXJuIGlzTWFudWFsVW5zdWJzY3JpYmVkPV9iLnNlbnQoKSxbNCx0aGlzLmFwaS5jaGVja0RldmljZVN1YnNjcmliZUZvclB1c2hOb3RpZmljYXRpb25zKCExKV07Y2FzZSAxMzpzd2l0Y2goaXNSZWdpc3Rlcj1fYi5zZW50KCkscGVybWlzc2lvbil7Y2FzZSBDT05TVEFOVFMuUEVSTUlTU0lPTl9QUk9NUFQ6cmV0dXJuWzMsMTRdO2Nhc2UgQ09OU1RBTlRTLlBFUk1JU1NJT05fREVOSUVEOnJldHVyblszLDIyXTtjYXNlIENPTlNUQU5UUy5QRVJNSVNTSU9OX0dSQU5URUQ6cmV0dXJuWzMsMjVdfXJldHVyblszLDMxXTtjYXNlIDE0OnJldHVybiB0aGlzLmV2ZW50QnVzLmRpc3BhdGNoRXZlbnQoXCJwZXJtaXNzaW9uLWRlZmF1bHRcIix7fSksaXNSZWdpc3Rlcj9bNCx0aGlzLnVuc3Vic2NyaWJlKCldOlszLDE2XTtjYXNlIDE1Ol9iLnNlbnQoKSxfYi5sYWJlbD0xNjtjYXNlIDE2OnJldHVybls0LHRoaXMuZ2V0V2lkZ2V0Q29uZmlnKCldO2Nhc2UgMTc6cmV0dXJuIHdpZGdldENvbmZpZz1fYi5zZW50KCksWzQsdGhpcy5jaGVja0NhblNob3dCeUNhcHBpbmcod2lkZ2V0Q29uZmlnKV07Y2FzZSAxODpyZXR1cm4gX2Iuc2VudCgpP2N1cnJlbnRQcm9tcHRVc2VDYXNlPT09Q09OU1RBTlRTLlNVQlNDUklQVElPTl9XSURHRVRfVVNFX0NBU0VfVE9QSUNfQkFTRUQ/WzQsdGhpcy5zdWJzY3JpcHRpb25TZWdtZW50V2lkZ2V0LmluaXQoKV06WzMsMjBdOlszLDMxXTtjYXNlIDE5Ol9iLnNlbnQoKSxfYi5sYWJlbD0yMDtjYXNlIDIwOnJldHVybiBpc0RlZmF1bHRVc2VDYXNlPWN1cnJlbnRQcm9tcHRVc2VDYXNlPT09Q09OU1RBTlRTLlNVQlNDUklQVElPTl9XSURHRVRfVVNFX0NBU0VfREVGQVVMVCxpc05vdFNldFVzZUNhc2U9Y3VycmVudFByb21wdFVzZUNhc2U9PT1DT05TVEFOVFMuU1VCU0NSSVBUSU9OX1dJREdFVF9VU0VfQ0FTRV9OT1RfU0VUJiZhdXRvU3Vic2NyaWJlLChpc0RlZmF1bHRVc2VDYXNlfHxpc05vdFNldFVzZUNhc2UpJiYodGhpcy5zdWJzY3JpcHRpb25Qcm9tcHRXaWRnZXQuaW5pdCh3aWRnZXRDb25maWcpLHRoaXMuc3Vic2NyaXB0aW9uUHJvbXB0V2lkZ2V0LnNob3coKSksWzQsdGhpcy51cGRhdGVDYXBwaW5nUGFyYW1zKCldO2Nhc2UgMjE6cmV0dXJuIF9iLnNlbnQoKSxbMywzMV07Y2FzZSAyMjpyZXR1cm4gdGhpcy5ldmVudEJ1cy5kaXNwYXRjaEV2ZW50KFwicGVybWlzc2lvbi1kZW5pZWRcIix7fSksaXNSZWdpc3Rlcj9bNCx0aGlzLnVuc3Vic2NyaWJlKCldOlszLDI0XTtjYXNlIDIzOl9iLnNlbnQoKSxfYi5sYWJlbD0yNDtjYXNlIDI0OnJldHVyblszLDMxXTtjYXNlIDI1OnJldHVybiB0aGlzLmV2ZW50QnVzLmRpc3BhdGNoRXZlbnQoXCJwZXJtaXNzaW9uLWdyYW50ZWRcIix7fSksaXNNYW51YWxVbnN1YnNjcmliZWQmJmlzUmVnaXN0ZXI/WzQsdGhpcy51bnN1YnNjcmliZSgpXTpbMywyN107Y2FzZSAyNjpfYi5zZW50KCksX2IubGFiZWw9Mjc7Y2FzZSAyNzpyZXR1cm4haXNSZWdpc3RlciYmIWlzTWFudWFsVW5zdWJzY3JpYmVkfHxpc05lZWRSZXN1YnNjcmliZT9bNCx0aGlzLnN1YnNjcmliZSghMCldOlszLDMwXTtjYXNlIDI4OnJldHVybiBfYi5zZW50KCksY3VycmVudFByb21wdFVzZUNhc2U9PT1DT05TVEFOVFMuU1VCU0NSSVBUSU9OX1dJREdFVF9VU0VfQ0FTRV9UT1BJQ19CQVNFRD8ocmVzdWx0PWZlYXR1cmVzLmNoYW5uZWxzLm1hcChmdW5jdGlvbihjaGFubmVsKXtyZXR1cm4gY2hhbm5lbC5jb2RlfSksWzQsdGhpcy5hcGkuc2V0VGFncyh7XCJTdWJzY3JpcHRpb24gU2VnbWVudHNcIjpyZXN1bHR9KV0pOlszLDMwXTtjYXNlIDI5Ol9iLnNlbnQoKSxfYi5sYWJlbD0zMDtjYXNlIDMwOnJldHVyblszLDMxXTtjYXNlIDMxOnJldHVyblsyXX19KX0pfSxQdXNod29vc2gucHJvdG90eXBlLmdldFdpZGdldENvbmZpZz1mdW5jdGlvbigpe3JldHVybiBfX2F3YWl0ZXIodGhpcyx2b2lkIDAsdm9pZCAwLGZ1bmN0aW9uKCl7dmFyIGZlYXR1cmVzLGN1cnJlbnRDb25maWcsY29uZmlnV2l0aERlZmF1bHRDYXBwaW5nO3JldHVybiBfX2dlbmVyYXRvcih0aGlzLGZ1bmN0aW9uKF9hKXtzd2l0Y2goX2EubGFiZWwpe2Nhc2UgMDpyZXR1cm5bNCx0aGlzLmRhdGEuZ2V0RmVhdHVyZXMoKV07Y2FzZSAxOnJldHVybiBmZWF0dXJlcz1fYS5zZW50KCksY3VycmVudENvbmZpZz1mZWF0dXJlcy5zdWJzY3JpcHRpb25fcHJvbXB0X3dpZGdldCYmZmVhdHVyZXMuc3Vic2NyaXB0aW9uX3Byb21wdF93aWRnZXQucGFyYW1zLGNvbmZpZ1dpdGhEZWZhdWx0Q2FwcGluZz1fX2Fzc2lnbih7Y2FwcGluZ0NvdW50OkNPTlNUQU5UUy5TVUJTQ1JJUFRJT05fUFJPTVBUX1dJREdFVF9ERUZBVUxUX0NPTkZJRy5jYXBwaW5nQ291bnQsY2FwcGluZ0RlbGF5OkNPTlNUQU5UUy5TVUJTQ1JJUFRJT05fUFJPTVBUX1dJREdFVF9ERUZBVUxUX0NPTkZJRy5jYXBwaW5nRGVsYXl9LGN1cnJlbnRDb25maWcpLFsyLGN1cnJlbnRDb25maWc/Y29uZmlnV2l0aERlZmF1bHRDYXBwaW5nOkNPTlNUQU5UUy5TVUJTQ1JJUFRJT05fUFJPTVBUX1dJREdFVF9ERUZBVUxUX0NPTkZJR119fSl9KX0sUHVzaHdvb3NoLnByb3RvdHlwZS5jaGVja0NhblNob3dCeUNhcHBpbmc9ZnVuY3Rpb24od2lkZ2V0Q29uZmlnKXtyZXR1cm4gX19hd2FpdGVyKHRoaXMsdm9pZCAwLHZvaWQgMCxmdW5jdGlvbigpe3ZhciBjdXJyZW50VGltZSxkaXNwbGF5Q291bnQsbGFzdFNlZW5UaW1lLGNhblNob3dCeUNhcHBpbmcsY2FuU2hvd0J5TGFzdFRpbWU7cmV0dXJuIF9fZ2VuZXJhdG9yKHRoaXMsZnVuY3Rpb24oX2Epe3N3aXRjaChfYS5sYWJlbCl7Y2FzZSAwOnJldHVybiBjdXJyZW50VGltZT0obmV3IERhdGUpLmdldFRpbWUoKSxbNCx0aGlzLmRhdGEuZ2V0UHJvbXB0RGlzcGxheUNvdW50KCldO2Nhc2UgMTpyZXR1cm4gZGlzcGxheUNvdW50PV9hLnNlbnQoKSxbNCx0aGlzLmRhdGEuZ2V0UHJvbXB0TGFzdFNlZW5UaW1lKCldO2Nhc2UgMjpyZXR1cm4gbGFzdFNlZW5UaW1lPV9hLnNlbnQoKSxjYW5TaG93QnlDYXBwaW5nPXdpZGdldENvbmZpZy5jYXBwaW5nQ291bnQ+ZGlzcGxheUNvdW50LGNhblNob3dCeUxhc3RUaW1lPWN1cnJlbnRUaW1lLWxhc3RTZWVuVGltZT53aWRnZXRDb25maWcuY2FwcGluZ0RlbGF5LFsyLGNhblNob3dCeUNhcHBpbmcmJmNhblNob3dCeUxhc3RUaW1lXX19KX0pfSxQdXNod29vc2gucHJvdG90eXBlLnVwZGF0ZUNhcHBpbmdQYXJhbXM9ZnVuY3Rpb24oKXtyZXR1cm4gX19hd2FpdGVyKHRoaXMsdm9pZCAwLHZvaWQgMCxmdW5jdGlvbigpe3ZhciBkaXNwbGF5Q291bnQsY3VycmVudFRpbWU7cmV0dXJuIF9fZ2VuZXJhdG9yKHRoaXMsZnVuY3Rpb24oX2Epe3N3aXRjaChfYS5sYWJlbCl7Y2FzZSAwOnJldHVybls0LHRoaXMuZGF0YS5nZXRQcm9tcHREaXNwbGF5Q291bnQoKV07Y2FzZSAxOnJldHVybiBkaXNwbGF5Q291bnQ9X2Euc2VudCgpLGN1cnJlbnRUaW1lPShuZXcgRGF0ZSkuZ2V0VGltZSgpLFs0LHRoaXMuZGF0YS5zZXRQcm9tcHREaXNwbGF5Q291bnQoZGlzcGxheUNvdW50KzEpXTtjYXNlIDI6cmV0dXJuIF9hLnNlbnQoKSxbNCx0aGlzLmRhdGEuc2V0UHJvbXB0TGFzdFNlZW5UaW1lKGN1cnJlbnRUaW1lKV07Y2FzZSAzOnJldHVybiBfYS5zZW50KCksWzJdfX0pfSl9LFB1c2h3b29zaC5wcm90b3R5cGUuaW5pdEZhY2Vib29rPWZ1bmN0aW9uKGluaXRQYXJhbXMpe3ZhciBmYWNlYm9vaz1fX2Fzc2lnbih7ZW5hYmxlOiExLHBhZ2VJZDpcIlwiLGNvbnRhaW5lckNsYXNzOlwiXCJ9LGluaXRQYXJhbXMuZmFjZWJvb2spO2lmKGZhY2Vib29rJiZmYWNlYm9vay5lbmFibGUpdHJ5e25ldyBGYWNlYm9va01vZHVsZV8xLmRlZmF1bHQoe3BhZ2VJZDpmYWNlYm9vay5wYWdlSWQsY29udGFpbmVyQ2xhc3M6ZmFjZWJvb2suY29udGFpbmVyQ2xhc3MsYXBwbGljYXRpb25Db2RlOmluaXRQYXJhbXMuYXBwbGljYXRpb25Db2RlLHVzZXJJZDppbml0UGFyYW1zLnVzZXJJZHx8XCJcIn0pfWNhdGNoKGVycm9yKXtsb2dnZXJfMS5Mb2dnZXIuZXJyb3IoZXJyb3IsXCJmYWNlYm9vayBtb2R1bGUgaW5pdGlhbGl6YXRpb24gZmFpbGVkXCIpfX0sUHVzaHdvb3NoLnByb3RvdHlwZS5pbml0SW5BcHA9ZnVuY3Rpb24ocGFyYW1zKXtyZXR1cm4gX19hd2FpdGVyKHRoaXMsdm9pZCAwLHZvaWQgMCxmdW5jdGlvbigpe3ZhciBlcnJvcl80LF90aGlzPXRoaXM7cmV0dXJuIF9fZ2VuZXJhdG9yKHRoaXMsZnVuY3Rpb24oX2Epe3N3aXRjaChfYS5sYWJlbCl7Y2FzZSAwOmlmKCFwYXJhbXN8fCFwYXJhbXMuZW5hYmxlKXJldHVyblszLDRdO19hLmxhYmVsPTE7Y2FzZSAxOnJldHVybiBfYS50cnlzLnB1c2goWzEsMywsNF0pLHRoaXMuSW5BcHBzPW5ldyBJbkFwcHNfMS5JbkFwcHMocGFyYW1zLHRoaXMsdGhpcy5ldmVudEJ1cyx0aGlzLmFwaSksWzQsdGhpcy5JbkFwcHMuaW5pdCgpLnRoZW4oZnVuY3Rpb24oKXtsb2dnZXJfMS5Mb2dnZXIuaW5mbyhcIkluQXBwcyBtb2R1bGUgaGFzIGJlZW4gaW5pdGlhbGl6ZWRcIiksX3RoaXMuZXZlbnRCdXMuZGlzcGF0Y2hFdmVudChcImluaXRpYWxpemUtaW4tYXBwcy1tb2R1bGVcIix7fSl9KS5jYXRjaChmdW5jdGlvbihlcnJvcil7bG9nZ2VyXzEuTG9nZ2VyLmVycm9yKGVycm9yLFwiSW5BcHBzIG1vZHVsZSBpbml0aWFsaXphdGlvbiBoYXMgYmVlbiBmYWlsZWRcIil9KV07Y2FzZSAyOnJldHVybiBfYS5zZW50KCksWzMsNF07Y2FzZSAzOnJldHVybiBlcnJvcl80PV9hLnNlbnQoKSxsb2dnZXJfMS5Mb2dnZXIuZXJyb3IoZXJyb3JfNCxcIkluQXBwIG1vZHVsZSBpbml0aWFsaXphdGlvbiBoYXMgYmVlbiBmYWlsZWRcIiksWzMsNF07Y2FzZSA0OnJldHVyblsyXX19KX0pfSxQdXNod29vc2gucHJvdG90eXBlLm9uU2VydmljZVdvcmtlck1lc3NhZ2U9ZnVuY3Rpb24oZXZlbnQpe3ZhciBfYT0oZXZlbnR8fHt9KS5kYXRhLF9iPSh2b2lkIDA9PT1fYT97fTpfYSl8fHt9LF9jPV9iLnR5cGUsdHlwZT12b2lkIDA9PT1fYz9cIlwiOl9jLF9kPV9iLnBheWxvYWQscGF5bG9hZD12b2lkIDA9PT1fZD97fTpfZDt0aGlzLmVtaXRMZWdhY3lFdmVudHNGcm9tU2VydmljZVdvcmtlcih0eXBlLHBheWxvYWQpfSxQdXNod29vc2gucHJvdG90eXBlLm9wZW49ZnVuY3Rpb24oaXNGb3JjZSl7cmV0dXJuIF9fYXdhaXRlcih0aGlzLHZvaWQgMCx2b2lkIDAsZnVuY3Rpb24oKXt2YXIgbGFzdEFwcGxpY2F0aW9uT3BlblRpbWUsY3VycmVudFRpbWUsaXNTZW5kaW5nUGVyaW9kRXhjZWVkZWQ7cmV0dXJuIF9fZ2VuZXJhdG9yKHRoaXMsZnVuY3Rpb24oX2Epe3N3aXRjaChfYS5sYWJlbCl7Y2FzZSAwOnJldHVybls0LHRoaXMuZGF0YS5nZXRMYXN0T3BlbkFwcGxpY2F0aW9uVGltZSgpXTtjYXNlIDE6cmV0dXJuIGxhc3RBcHBsaWNhdGlvbk9wZW5UaW1lPV9hLnNlbnQoKSxjdXJyZW50VGltZT1EYXRlLm5vdygpLGxhc3RBcHBsaWNhdGlvbk9wZW5UaW1lfHwobGFzdEFwcGxpY2F0aW9uT3BlblRpbWU9MCksaXNTZW5kaW5nUGVyaW9kRXhjZWVkZWQ9Y3VycmVudFRpbWUtbGFzdEFwcGxpY2F0aW9uT3BlblRpbWU8Q09OU1RBTlRTLlBFUklPRF9TRU5EX0FQUF9PUEVOLGlzRm9yY2V8fCFpc1NlbmRpbmdQZXJpb2RFeGNlZWRlZD9bNCx0aGlzLmRhdGEuc2V0TGFzdE9wZW5BcHBsaWNhdGlvblRpbWUoY3VycmVudFRpbWUpXTpbMl07Y2FzZSAyOnJldHVybiBfYS5zZW50KCksWzQsdGhpcy5hcGkuYXBwbGljYXRpb25PcGVuKCldO2Nhc2UgMzpyZXR1cm4gX2Euc2VudCgpLFsyXX19KX0pfSxQdXNod29vc2gucHJvdG90eXBlLm9uR2V0Q29uZmlnPWZ1bmN0aW9uKGZlYXR1cmVzKXtyZXR1cm4gX19hd2FpdGVyKHRoaXMsdm9pZCAwLHZvaWQgMCxmdW5jdGlvbigpe3JldHVybiBfX2dlbmVyYXRvcih0aGlzLGZ1bmN0aW9uKF9hKXtzd2l0Y2goX2EubGFiZWwpe2Nhc2UgMDpyZXR1cm5bNCx0aGlzLmRhdGEuc2V0RmVhdHVyZXMoZmVhdHVyZXMpXTtjYXNlIDE6cmV0dXJuIF9hLnNlbnQoKSxmZWF0dXJlcz9mZWF0dXJlcy5wYWdlX3Zpc2l0JiZmZWF0dXJlcy5wYWdlX3Zpc2l0LmVuYWJsZWQ/WzQsc3RvcmFnZV8xLmtleVZhbHVlLnNldChDT05TVEFOVFMuUEFHRV9WSVNJVEVEX1VSTCxmZWF0dXJlcy5wYWdlX3Zpc2l0LmVudHJ5cG9pbnQpXTpbMywzXTpbMyw1XTtjYXNlIDI6X2Euc2VudCgpLHRoaXMuc2VuZFN0YXRpc3RpY3NWaXNpdGVkUGFnZSgpLF9hLmxhYmVsPTM7Y2FzZSAzOnJldHVybiBmZWF0dXJlcy5ldmVudHMmJmZlYXR1cmVzLmV2ZW50cy5sZW5ndGgmJmZlYXR1cmVzLmV2ZW50cy5zb21lKGZ1bmN0aW9uKGV2ZW50KXtyZXR1cm4gZXZlbnQ9PT1DT05TVEFOVFMuRVZFTlRfUFdfU0lURV9PUEVORUR9KSYmdGhpcy5zZW5kUG9zdEV2ZW50VmlzaXRlZFBhZ2UoKSxmZWF0dXJlcy52YXBpZF9rZXk/WzQsdGhpcy5kYXRhLnNldEFwcGxpY2F0aW9uU2VydmVyS2V5KGZlYXR1cmVzLnZhcGlkX2tleSldOlszLDVdO2Nhc2UgNDpfYS5zZW50KCksX2EubGFiZWw9NTtjYXNlIDU6cmV0dXJuWzJdfX0pfSl9LFB1c2h3b29zaC5wcm90b3R5cGUuaW5pdFB1c2hOb3RpZmljYXRpb25zPWZ1bmN0aW9uKHBhcmFtcyl7cmV0dXJuIF9fYXdhaXRlcih0aGlzLHZvaWQgMCx2b2lkIDAsZnVuY3Rpb24oKXt2YXIgZXJyb3JfNTtyZXR1cm4gX19nZW5lcmF0b3IodGhpcyxmdW5jdGlvbihfYSl7c3dpdGNoKF9hLmxhYmVsKXtjYXNlIDA6cmV0dXJuWzQsdGhpcy5kYXRhLnNldERlZmF1bHROb3RpZmljYXRpb25JbWFnZShwYXJhbXMuZGVmYXVsdE5vdGlmaWNhdGlvbkltYWdlKV07Y2FzZSAxOnJldHVybiBfYS5zZW50KCksWzQsdGhpcy5kYXRhLnNldERlZmF1bHROb3RpZmljYXRpb25UaXRsZShwYXJhbXMuZGVmYXVsdE5vdGlmaWNhdGlvblRpdGxlKV07Y2FzZSAyOnJldHVybiBfYS5zZW50KCksWzQsdGhpcy5kYXRhLnNldFNlcnZpY2VXb3JrZXJVcmwocGFyYW1zLnNlcnZpY2VXb3JrZXJVcmwpXTtjYXNlIDM6cmV0dXJuIF9hLnNlbnQoKSxbNCx0aGlzLmRhdGEuc2V0U2VydmljZVdvcmtlclNjb3BlKHBhcmFtcy5zY29wZSldO2Nhc2UgNDpyZXR1cm4gX2Euc2VudCgpLFs0LHRoaXMuZGF0YS5zZXRJbml0UGFyYW1zKF9fYXNzaWduKHthdXRvU3Vic2NyaWJlOiEwfSxwYXJhbXMpKV07Y2FzZSA1OnJldHVybiBfYS5zZW50KCksWzQsdGhpcy5pbml0RHJpdmVyKCldO2Nhc2UgNjpfYS5zZW50KCksX2EubGFiZWw9NztjYXNlIDc6cmV0dXJuIF9hLnRyeXMucHVzaChbNyw5LCwxMF0pLFs0LHRoaXMuZGVmYXVsdFByb2Nlc3MocGFyYW1zKV07Y2FzZSA4OnJldHVybiBfYS5zZW50KCksWzMsMTBdO2Nhc2UgOTpyZXR1cm4gZXJyb3JfNT1fYS5zZW50KCksbG9nZ2VyXzEuTG9nZ2VyLmVycm9yKGVycm9yXzUsXCJJbnRlcm5hbCBlcnJvcjogZGVmYXVsdFByb2Nlc3MgZmFpbFwiKSxbMywxMF07Y2FzZSAxMDpyZXR1cm5bMl19fSl9KX0sUHVzaHdvb3NoLnByb3RvdHlwZS5pbml0RHJpdmVyPWZ1bmN0aW9uKCl7cmV0dXJuIF9fYXdhaXRlcih0aGlzLHZvaWQgMCx2b2lkIDAsZnVuY3Rpb24oKXt2YXIgd2ViU2l0ZVB1c2hJZDtyZXR1cm4gX19nZW5lcmF0b3IodGhpcyxmdW5jdGlvbihfYSl7c3dpdGNoKF9hLmxhYmVsKXtjYXNlIDA6cmV0dXJuIHRoaXMucGxhdGZvcm1DaGVja2VyLmlzU2FmYXJpP1s0LHRoaXMuZGF0YS5nZXRJbml0UGFyYW1zKCldOlszLDJdO2Nhc2UgMTppZighKHdlYlNpdGVQdXNoSWQ9X2Euc2VudCgpLnNhZmFyaVdlYnNpdGVQdXNoSUQpKXRocm93IG5ldyBFcnJvcihcIkZvciB3b3JrIHdpdGggU2FmYXJpIFB1c2ggTm90aWZpY2F0aW9uIGFkZCBzYWZhcmlXZWJzaXRlUHVzaElEIHRvIGluaXRQYXJhbXMhXCIpO3JldHVybiB0aGlzLmRyaXZlcj1uZXcgUHVzaFNlcnZpY2VfMS5QdXNoU2VydmljZVNhZmFyaSh0aGlzLmFwaSx0aGlzLmRhdGEse3dlYlNpdGVQdXNoSWQ6d2ViU2l0ZVB1c2hJZH0pLFsyXTtjYXNlIDI6cmV0dXJuIHRoaXMucGxhdGZvcm1DaGVja2VyLmlzQXZhaWxhYmxlU2VydmljZVdvcmtlcj8odGhpcy5kcml2ZXI9bmV3IFB1c2hTZXJ2aWNlXzEuUHVzaFNlcnZpY2VEZWZhdWx0KHRoaXMuYXBpLHRoaXMuZGF0YSx7fSksWzJdKTpbMl19fSl9KX0sUHVzaHdvb3NoLnByb3RvdHlwZS5zZW5kUG9zdEV2ZW50VmlzaXRlZFBhZ2U9ZnVuY3Rpb24oKXtyZXR1cm4gX19hd2FpdGVyKHRoaXMsdm9pZCAwLHZvaWQgMCxmdW5jdGlvbigpe3ZhciB0aXRsZSxocmVmO3JldHVybiBfX2dlbmVyYXRvcih0aGlzLGZ1bmN0aW9uKF9hKXtyZXR1cm4gdGl0bGU9d2luZG93LmRvY3VtZW50LnRpdGxlLGhyZWY9d2luZG93LmxvY2F0aW9uLmhyZWYsdGhpcy5hcGkucG9zdEV2ZW50KENPTlNUQU5UUy5FVkVOVF9QV19TSVRFX09QRU5FRCx7dXJsOmhyZWYsdGl0bGU6dGl0bGUsZGV2aWNlX3R5cGU6dGhpcy5wbGF0Zm9ybUNoZWNrZXIucGxhdGZvcm19KSxbMl19KX0pfSxQdXNod29vc2gucHJvdG90eXBlLnN1YnNjcmliZVRvTGVnYWN5RXZlbnRzPWZ1bmN0aW9uKHR5cGUsaGFuZGxlcil7dmFyIF90aGlzPXRoaXM7c3dpdGNoKHR5cGUpe2Nhc2UgQ09OU1RBTlRTLkVWRU5UX09OX0xPQUQ6aGFuZGxlcigpO2JyZWFrO2Nhc2UgQ09OU1RBTlRTLkVWRU5UX09OX1JFQURZOmlmKHRoaXMucmVhZHkpe2hhbmRsZXIodGhpcy5hcGkpO2JyZWFrfXRoaXMuZXZlbnRCdXMuYWRkRXZlbnRIYW5kbGVyKFwicmVhZHlcIixmdW5jdGlvbigpe3JldHVybiBoYW5kbGVyKF90aGlzLmFwaSl9KTticmVhaztjYXNlIENPTlNUQU5UUy5FVkVOVF9PTl9SRUdJU1RFUjp0aGlzLmV2ZW50QnVzLmFkZEV2ZW50SGFuZGxlcihcInJlZ2lzdGVyXCIsZnVuY3Rpb24oKXtyZXR1cm4gaGFuZGxlcihfdGhpcy5hcGkpfSk7YnJlYWs7Y2FzZSBDT05TVEFOVFMuRVZFTlRfT05fU1VCU0NSSUJFOnRoaXMuZXZlbnRCdXMuYWRkRXZlbnRIYW5kbGVyKFwic3Vic2NyaWJlXCIsZnVuY3Rpb24oKXtyZXR1cm4gaGFuZGxlcihfdGhpcy5hcGkpfSk7YnJlYWs7Y2FzZSBDT05TVEFOVFMuRVZFTlRfT05fVU5TVUJTQ1JJQkU6dGhpcy5ldmVudEJ1cy5hZGRFdmVudEhhbmRsZXIoXCJ1bnN1YnNjcmliZVwiLGZ1bmN0aW9uKCl7cmV0dXJuIGhhbmRsZXIoX3RoaXMuYXBpKX0pO2JyZWFrO2Nhc2UgQ09OU1RBTlRTLkVWRU5UX09OX1NXX0lOSVRfRVJST1I6dGhpcy5ldmVudEJ1cy5hZGRFdmVudEhhbmRsZXIoXCJpbml0aWFsaXplLXNlcnZpY2Utd29ya2VyLWVycm9yXCIsZnVuY3Rpb24oX2Epe3ZhciBlcnJvcj1fYS5lcnJvcjtyZXR1cm4gaGFuZGxlcihfdGhpcy5hcGksZXJyb3IpfSk7YnJlYWs7Y2FzZSBDT05TVEFOVFMuRVZFTlRfT05fUFVTSF9ERUxJVkVSWTp0aGlzLmV2ZW50QnVzLmFkZEV2ZW50SGFuZGxlcihcInJlY2VpdmUtcHVzaFwiLGZ1bmN0aW9uKF9hKXt2YXIgbm90aWZpY2F0aW9uPV9hLm5vdGlmaWNhdGlvbjtyZXR1cm4gaGFuZGxlcihfdGhpcy5hcGksbm90aWZpY2F0aW9uKX0pO2JyZWFrO2Nhc2UgQ09OU1RBTlRTLkVWRU5UX09OX05PVElGSUNBVElPTl9DTElDSzp0aGlzLmV2ZW50QnVzLmFkZEV2ZW50SGFuZGxlcihcIm9wZW4tbm90aWZpY2F0aW9uXCIsZnVuY3Rpb24oX2Epe3ZhciBub3RpZmljYXRpb249X2Eubm90aWZpY2F0aW9uO3JldHVybiBoYW5kbGVyKF90aGlzLmFwaSxub3RpZmljYXRpb24pfSk7YnJlYWs7Y2FzZSBDT05TVEFOVFMuRVZFTlRfT05fTk9USUZJQ0FUSU9OX0NMT1NFOnRoaXMuZXZlbnRCdXMuYWRkRXZlbnRIYW5kbGVyKFwiaGlkZS1ub3RpZmljYXRpb25cIixmdW5jdGlvbihfYSl7dmFyIG5vdGlmaWNhdGlvbj1fYS5ub3RpZmljYXRpb247cmV0dXJuIGhhbmRsZXIoX3RoaXMuYXBpLG5vdGlmaWNhdGlvbil9KTticmVhaztjYXNlIENPTlNUQU5UUy5FVkVOVF9PTl9DSEFOR0VfQ09NTVVOSUNBVElPTl9FTkFCTEVEOnRoaXMuZXZlbnRCdXMuYWRkRXZlbnRIYW5kbGVyKFwiY2hhbmdlLWVuYWJsZWQtY29tbXVuaWNhdGlvblwiLGZ1bmN0aW9uKF9hKXt2YXIgaXNFbmFibGVkPV9hLmlzRW5hYmxlZDtyZXR1cm4gaGFuZGxlcihfdGhpcy5hcGksaXNFbmFibGVkKX0pO2JyZWFrO2Nhc2UgQ09OU1RBTlRTLkVWRU5UX09OX1BVVF9ORVdfTUVTU0FHRV9UT19JTkJPWF9TVE9SRTp0aGlzLmV2ZW50QnVzLmFkZEV2ZW50SGFuZGxlcihcInJlY2VpdmUtaW5ib3gtbWVzc2FnZVwiLGZ1bmN0aW9uKF9hKXt2YXIgbWVzc2FnZT1fYS5tZXNzYWdlO3JldHVybiBoYW5kbGVyKF90aGlzLmFwaSxtZXNzYWdlKX0pO2JyZWFrO2Nhc2UgQ09OU1RBTlRTLkVWRU5UX09OX1VQREFURV9JTkJPWF9NRVNTQUdFUzp0aGlzLmV2ZW50QnVzLmFkZEV2ZW50SGFuZGxlcihcInVwZGF0ZS1pbmJveC1tZXNzYWdlc1wiLGZ1bmN0aW9uKF9hKXt2YXIgbWVzc2FnZXM9X2EubWVzc2FnZXM7cmV0dXJuIGhhbmRsZXIoX3RoaXMuYXBpLG1lc3NhZ2VzKX0pO2JyZWFrO2Nhc2UgQ09OU1RBTlRTLkVWRU5UX09OX1NIT1dfTk9USUZJQ0FUSU9OX1BFUk1JU1NJT05fRElBTE9HOnRoaXMuZXZlbnRCdXMuYWRkRXZlbnRIYW5kbGVyKFwic2hvdy1ub3RpZmljYXRpb24tcGVybWlzc2lvbi1kaWFsb2dcIixmdW5jdGlvbigpe3JldHVybiBoYW5kbGVyKF90aGlzLmFwaSl9KTticmVhaztjYXNlIENPTlNUQU5UUy5FVkVOVF9PTl9ISURFX05PVElGSUNBVElPTl9QRVJNSVNTSU9OX0RJQUxPRzp0aGlzLmV2ZW50QnVzLmFkZEV2ZW50SGFuZGxlcihcImhpZGUtbm90aWZpY2F0aW9uLXBlcm1pc3Npb24tZGlhbG9nXCIsZnVuY3Rpb24oX2Epe3ZhciBwZXJtaXNzaW9uPV9hLnBlcm1pc3Npb247cmV0dXJuIGhhbmRsZXIoX3RoaXMuYXBpLHBlcm1pc3Npb24pfSk7YnJlYWs7Y2FzZSBDT05TVEFOVFMuRVZFTlRfT05fU0hPV19TVUJTQ1JJUFRJT05fV0lER0VUOnRoaXMuZXZlbnRCdXMuYWRkRXZlbnRIYW5kbGVyKFwic2hvdy1zdWJzY3JpcHRpb24td2lkZ2V0XCIsZnVuY3Rpb24oKXtyZXR1cm4gaGFuZGxlcihfdGhpcy5hcGkpfSk7YnJlYWs7Y2FzZSBDT05TVEFOVFMuRVZFTlRfT05fSElERV9TVUJTQ1JJUFRJT05fV0lER0VUOnRoaXMuZXZlbnRCdXMuYWRkRXZlbnRIYW5kbGVyKFwiaGlkZS1zdWJzY3JpcHRpb24td2lkZ2V0XCIsZnVuY3Rpb24oKXtyZXR1cm4gaGFuZGxlcihfdGhpcy5hcGkpfSk7YnJlYWs7Y2FzZSBDT05TVEFOVFMuRVZFTlRfT05fUEVSTUlTU0lPTl9ERU5JRUQ6dGhpcy5ldmVudEJ1cy5hZGRFdmVudEhhbmRsZXIoXCJwZXJtaXNzaW9uLWRlbmllZFwiLGZ1bmN0aW9uKCl7cmV0dXJuIGhhbmRsZXIoX3RoaXMuYXBpKX0pO2JyZWFrO2Nhc2UgQ09OU1RBTlRTLkVWRU5UX09OX1BFUk1JU1NJT05fUFJPTVBUOnRoaXMuZXZlbnRCdXMuYWRkRXZlbnRIYW5kbGVyKFwicGVybWlzc2lvbi1kZWZhdWx0XCIsZnVuY3Rpb24oKXtyZXR1cm4gaGFuZGxlcihfdGhpcy5hcGkpfSk7YnJlYWs7Y2FzZSBDT05TVEFOVFMuRVZFTlRfT05fUEVSTUlTU0lPTl9HUkFOVEVEOnRoaXMuZXZlbnRCdXMuYWRkRXZlbnRIYW5kbGVyKFwicGVybWlzc2lvbi1ncmFudGVkXCIsZnVuY3Rpb24oKXtyZXR1cm4gaGFuZGxlcihfdGhpcy5hcGkpfSl9fSxQdXNod29vc2gucHJvdG90eXBlLmVtaXRMZWdhY3lFdmVudHNGcm9tU2VydmljZVdvcmtlcj1mdW5jdGlvbih0eXBlLHBheWxvYWQpe3N3aXRjaCh0eXBlKXtjYXNlIENPTlNUQU5UUy5FVkVOVF9PTl9QVVNIX0RFTElWRVJZOnRoaXMuZXZlbnRCdXMuZGlzcGF0Y2hFdmVudChcInJlY2VpdmUtcHVzaFwiLHtub3RpZmljYXRpb246cGF5bG9hZH0pO2JyZWFrO2Nhc2UgQ09OU1RBTlRTLkVWRU5UX09OX05PVElGSUNBVElPTl9DTElDSzp0aGlzLmV2ZW50QnVzLmRpc3BhdGNoRXZlbnQoXCJvcGVuLW5vdGlmaWNhdGlvblwiLHtub3RpZmljYXRpb246cGF5bG9hZH0pO2JyZWFrO2Nhc2UgQ09OU1RBTlRTLkVWRU5UX09OX05PVElGSUNBVElPTl9DTE9TRTp0aGlzLmV2ZW50QnVzLmRpc3BhdGNoRXZlbnQoXCJoaWRlLW5vdGlmaWNhdGlvblwiLHtub3RpZmljYXRpb246cGF5bG9hZH0pO2JyZWFrO2Nhc2UgQ09OU1RBTlRTLkVWRU5UX09OX1BVVF9ORVdfTUVTU0FHRV9UT19JTkJPWF9TVE9SRTp0aGlzLmV2ZW50QnVzLmRpc3BhdGNoRXZlbnQoXCJyZWNlaXZlLWluYm94LW1lc3NhZ2VcIix7bWVzc2FnZTpwYXlsb2FkfSl9fSxQdXNod29vc2h9KCk7ZXhwb3J0cy5kZWZhdWx0PVB1c2h3b29zaH0sZnVuY3Rpb24obW9kdWxlLGV4cG9ydHMsX193ZWJwYWNrX3JlcXVpcmVfXyl7XCJ1c2Ugc3RyaWN0XCI7T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSk7dmFyIFB1c2hTZXJ2aWNlRGVmYXVsdF8xPV9fd2VicGFja19yZXF1aXJlX18oODApO2V4cG9ydHMuUHVzaFNlcnZpY2VEZWZhdWx0PVB1c2hTZXJ2aWNlRGVmYXVsdF8xLlB1c2hTZXJ2aWNlRGVmYXVsdDt2YXIgUHVzaFNlcnZpY2VTYWZhcmlfMT1fX3dlYnBhY2tfcmVxdWlyZV9fKDgxKTtleHBvcnRzLlB1c2hTZXJ2aWNlU2FmYXJpPVB1c2hTZXJ2aWNlU2FmYXJpXzEuUHVzaFNlcnZpY2VTYWZhcml9LGZ1bmN0aW9uKG1vZHVsZSxleHBvcnRzLF9fd2VicGFja19yZXF1aXJlX18pe1widXNlIHN0cmljdFwiO3ZhciBfX2F3YWl0ZXI9dGhpcyYmdGhpcy5fX2F3YWl0ZXJ8fGZ1bmN0aW9uKHRoaXNBcmcsX2FyZ3VtZW50cyxQLGdlbmVyYXRvcil7cmV0dXJuIG5ldyhQfHwoUD1Qcm9taXNlKSkoZnVuY3Rpb24ocmVzb2x2ZSxyZWplY3Qpe2Z1bmN0aW9uIGZ1bGZpbGxlZCh2YWx1ZSl7dHJ5e3N0ZXAoZ2VuZXJhdG9yLm5leHQodmFsdWUpKX1jYXRjaChlKXtyZWplY3QoZSl9fWZ1bmN0aW9uIHJlamVjdGVkKHZhbHVlKXt0cnl7c3RlcChnZW5lcmF0b3IudGhyb3codmFsdWUpKX1jYXRjaChlKXtyZWplY3QoZSl9fWZ1bmN0aW9uIHN0ZXAocmVzdWx0KXtyZXN1bHQuZG9uZT9yZXNvbHZlKHJlc3VsdC52YWx1ZSk6ZnVuY3Rpb24odmFsdWUpe3JldHVybiB2YWx1ZSBpbnN0YW5jZW9mIFA/dmFsdWU6bmV3IFAoZnVuY3Rpb24ocmVzb2x2ZSl7cmVzb2x2ZSh2YWx1ZSl9KX0ocmVzdWx0LnZhbHVlKS50aGVuKGZ1bGZpbGxlZCxyZWplY3RlZCl9c3RlcCgoZ2VuZXJhdG9yPWdlbmVyYXRvci5hcHBseSh0aGlzQXJnLF9hcmd1bWVudHN8fFtdKSkubmV4dCgpKX0pfSxfX2dlbmVyYXRvcj10aGlzJiZ0aGlzLl9fZ2VuZXJhdG9yfHxmdW5jdGlvbih0aGlzQXJnLGJvZHkpe3ZhciBmLHksdCxnLF89e2xhYmVsOjAsc2VudDpmdW5jdGlvbigpe2lmKDEmdFswXSl0aHJvdyB0WzFdO3JldHVybiB0WzFdfSx0cnlzOltdLG9wczpbXX07cmV0dXJuIGc9e25leHQ6dmVyYigwKSx0aHJvdzp2ZXJiKDEpLHJldHVybjp2ZXJiKDIpfSxcImZ1bmN0aW9uXCI9PXR5cGVvZiBTeW1ib2wmJihnW1N5bWJvbC5pdGVyYXRvcl09ZnVuY3Rpb24oKXtyZXR1cm4gdGhpc30pLGc7ZnVuY3Rpb24gdmVyYihuKXtyZXR1cm4gZnVuY3Rpb24odil7cmV0dXJuIGZ1bmN0aW9uKG9wKXtpZihmKXRocm93IG5ldyBUeXBlRXJyb3IoXCJHZW5lcmF0b3IgaXMgYWxyZWFkeSBleGVjdXRpbmcuXCIpO2Zvcig7XzspdHJ5e2lmKGY9MSx5JiYodD0yJm9wWzBdP3kucmV0dXJuOm9wWzBdP3kudGhyb3d8fCgodD15LnJldHVybikmJnQuY2FsbCh5KSwwKTp5Lm5leHQpJiYhKHQ9dC5jYWxsKHksb3BbMV0pKS5kb25lKXJldHVybiB0O3N3aXRjaCh5PTAsdCYmKG9wPVsyJm9wWzBdLHQudmFsdWVdKSxvcFswXSl7Y2FzZSAwOmNhc2UgMTp0PW9wO2JyZWFrO2Nhc2UgNDpyZXR1cm4gXy5sYWJlbCsrLHt2YWx1ZTpvcFsxXSxkb25lOiExfTtjYXNlIDU6Xy5sYWJlbCsrLHk9b3BbMV0sb3A9WzBdO2NvbnRpbnVlO2Nhc2UgNzpvcD1fLm9wcy5wb3AoKSxfLnRyeXMucG9wKCk7Y29udGludWU7ZGVmYXVsdDppZighKHQ9KHQ9Xy50cnlzKS5sZW5ndGg+MCYmdFt0Lmxlbmd0aC0xXSkmJig2PT09b3BbMF18fDI9PT1vcFswXSkpe189MDtjb250aW51ZX1pZigzPT09b3BbMF0mJighdHx8b3BbMV0+dFswXSYmb3BbMV08dFszXSkpe18ubGFiZWw9b3BbMV07YnJlYWt9aWYoNj09PW9wWzBdJiZfLmxhYmVsPHRbMV0pe18ubGFiZWw9dFsxXSx0PW9wO2JyZWFrfWlmKHQmJl8ubGFiZWw8dFsyXSl7Xy5sYWJlbD10WzJdLF8ub3BzLnB1c2gob3ApO2JyZWFrfXRbMl0mJl8ub3BzLnBvcCgpLF8udHJ5cy5wb3AoKTtjb250aW51ZX1vcD1ib2R5LmNhbGwodGhpc0FyZyxfKX1jYXRjaChlKXtvcD1bNixlXSx5PTB9ZmluYWxseXtmPXQ9MH1pZig1Jm9wWzBdKXRocm93IG9wWzFdO3JldHVybnt2YWx1ZTpvcFswXT9vcFsxXTp2b2lkIDAsZG9uZTohMH19KFtuLHZdKX19fTtPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cyxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KTt2YXIgdXVpZF8xPV9fd2VicGFja19yZXF1aXJlX18oMTUpLGxvZ2dlcl8xPV9fd2VicGFja19yZXF1aXJlX18oNSksQ09OU1RBTlRTPV9fd2VicGFja19yZXF1aXJlX18oMSksUHVzaFNlcnZpY2VEZWZhdWx0PWZ1bmN0aW9uKCl7ZnVuY3Rpb24gUHVzaFNlcnZpY2VEZWZhdWx0KGFwaSxkYXRhLGNvbmZpZyl7dGhpcy5hcGk9YXBpLHRoaXMuZGF0YT1kYXRhLHRoaXMuY29uZmlnPWNvbmZpZ31yZXR1cm4gUHVzaFNlcnZpY2VEZWZhdWx0LnByb3RvdHlwZS5nZXRQZXJtaXNzaW9uPWZ1bmN0aW9uKCl7cmV0dXJuIE5vdGlmaWNhdGlvbi5wZXJtaXNzaW9ufSxQdXNoU2VydmljZURlZmF1bHQucHJvdG90eXBlLmNoZWNrSXNQZXJtaXNzaW9uR3JhbnRlZD1mdW5jdGlvbigpe3JldHVybiB0aGlzLmdldFBlcm1pc3Npb24oKT09PUNPTlNUQU5UUy5QRVJNSVNTSU9OX0dSQU5URUR9LFB1c2hTZXJ2aWNlRGVmYXVsdC5wcm90b3R5cGUuY2hlY2tJc1Blcm1pc3Npb25EZWZhdWx0PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZ2V0UGVybWlzc2lvbigpPT09Q09OU1RBTlRTLlBFUk1JU1NJT05fUFJPTVBUfSxQdXNoU2VydmljZURlZmF1bHQucHJvdG90eXBlLmNoZWNrSXNNYW51YWxVbnN1YnNjcmliZWQ9ZnVuY3Rpb24oKXtyZXR1cm4gX19hd2FpdGVyKHRoaXMsdm9pZCAwLHZvaWQgMCxmdW5jdGlvbigpe3JldHVybiBfX2dlbmVyYXRvcih0aGlzLGZ1bmN0aW9uKF9hKXtyZXR1cm5bMix0aGlzLmRhdGEuZ2V0U3RhdHVzTWFudWFsVW5zdWJzY3JpYmVkKCldfSl9KX0sUHVzaFNlcnZpY2VEZWZhdWx0LnByb3RvdHlwZS5hc2tQZXJtaXNzaW9uPWZ1bmN0aW9uKCl7cmV0dXJuIF9fYXdhaXRlcih0aGlzLHZvaWQgMCx2b2lkIDAsZnVuY3Rpb24oKXtyZXR1cm4gX19nZW5lcmF0b3IodGhpcyxmdW5jdGlvbihfYSl7c3dpdGNoKF9hLmxhYmVsKXtjYXNlIDA6cmV0dXJuWzQsTm90aWZpY2F0aW9uLnJlcXVlc3RQZXJtaXNzaW9uKCldO2Nhc2UgMTpyZXR1cm4gX2Euc2VudCgpLFsyXX19KX0pfSxQdXNoU2VydmljZURlZmF1bHQucHJvdG90eXBlLmdldFRva2Vucz1mdW5jdGlvbigpe3JldHVybiBfX2F3YWl0ZXIodGhpcyx2b2lkIDAsdm9pZCAwLGZ1bmN0aW9uKCl7cmV0dXJuIF9fZ2VuZXJhdG9yKHRoaXMsZnVuY3Rpb24oX2Epe3JldHVyblsyLHRoaXMuZGF0YS5nZXRUb2tlbnMoKV19KX0pfSxQdXNoU2VydmljZURlZmF1bHQucHJvdG90eXBlLnN1YnNjcmliZT1mdW5jdGlvbigpe3JldHVybiBfX2F3YWl0ZXIodGhpcyx2b2lkIDAsdm9pZCAwLGZ1bmN0aW9uKCl7dmFyIHN1YnNjcmlwdGlvbixhcHBsaWNhdGlvblNlcnZlcktleSxzZW5kZXJJZCxwdXNoVG9rZW4sX3AyNTZkbixfYXV0aCxwMjU2ZGgsYXV0aCxfYSx0b2tlbixwdXNoU2V0O3JldHVybiBfX2dlbmVyYXRvcih0aGlzLGZ1bmN0aW9uKF9iKXtzd2l0Y2goX2IubGFiZWwpe2Nhc2UgMDpyZXR1cm4gdGhpcy5jaGVja0lzUGVybWlzc2lvbkdyYW50ZWQoKT9bNCx0aGlzLnRyeVN1YnNjcmliZSgpXToobG9nZ2VyXzEuTG9nZ2VyLmVycm9yKFwiWW91IG11c3QgaGF2ZSBwZXJtaXNzaW9uIGdyYW50ZWQgYmVmb3JlIHN1YnNjcmliZSFcIiksWzJdKTtjYXNlIDE6cmV0dXJuIHN1YnNjcmlwdGlvbj1fYi5zZW50KCksWzQsdGhpcy5nZXRBcHBsaWNhdGlvblNlcnZlcktleSgpXTtjYXNlIDI6cmV0dXJuIGFwcGxpY2F0aW9uU2VydmVyS2V5PV9iLnNlbnQoKSxbNCx0aGlzLmdldFNlbmRlcklkRnJvbU1hbmlmZXN0KCldO2Nhc2UgMzpyZXR1cm4gc2VuZGVySWQ9X2Iuc2VudCgpLFs0LHRoaXMuY2hlY2tJc0NoYW5nZVNlbmRlcklkKHNlbmRlcklkKV07Y2FzZSA0OnJldHVybiBfYi5zZW50KCk/WzQsdGhpcy51bnN1YnNjcmliZSgpXTpbMyw3XTtjYXNlIDU6cmV0dXJuIF9iLnNlbnQoKSxbNCx0aGlzLmRhdGEuc2V0U2VuZGVySWQoc2VuZGVySWQpXTtjYXNlIDY6X2Iuc2VudCgpLF9iLmxhYmVsPTc7Y2FzZSA3OnJldHVybls0LHRoaXMuZ2V0UHVzaFRva2VuKHN1YnNjcmlwdGlvbildO2Nhc2UgODppZihwdXNoVG9rZW49X2Iuc2VudCgpLF9wMjU2ZG49c3Vic2NyaXB0aW9uLmdldEtleShcInAyNTZkaFwiKSxfYXV0aD1zdWJzY3JpcHRpb24uZ2V0S2V5KFwiYXV0aFwiKSwhX3AyNTZkbnx8IV9hdXRoKXRocm93IG5ldyBFcnJvcihcIkNhbid0IGdldCBzdWJzY3JpcHRpb24ga2V5cyFcIik7cmV0dXJuIHAyNTZkaD1idG9hKFN0cmluZy5mcm9tQ2hhckNvZGUuYXBwbHkoU3RyaW5nLG5ldyBVaW50OEFycmF5KF9wMjU2ZG4pKSksYXV0aD1idG9hKFN0cmluZy5mcm9tQ2hhckNvZGUuYXBwbHkoU3RyaW5nLG5ldyBVaW50OEFycmF5KF9hdXRoKSkpLFs0LHRoaXMuZ2V0RmNtS2V5cyh7ZW5kcG9pbnQ6c3Vic2NyaXB0aW9uLmVuZHBvaW50LGFwcGxpY2F0aW9uX3B1Yl9rZXk6YXBwbGljYXRpb25TZXJ2ZXJLZXksZW5jcnlwdGlvbl9rZXk6cDI1NmRoLGVuY3J5cHRpb25fYXV0aDphdXRoLGF1dGhvcml6ZWRfZW50aXR5OnNlbmRlcklkfSldO2Nhc2UgOTpyZXR1cm4gX2E9X2Iuc2VudCgpLHRva2VuPV9hLnRva2VuLHB1c2hTZXQ9X2EucHVzaFNldCxbNCx0aGlzLmRhdGEuc2V0VG9rZW5zKHtwdWJsaWNLZXk6cDI1NmRoLHB1c2hUb2tlbjpwdXNoVG9rZW4sYXV0aFRva2VuOmF1dGgsZmNtUHVzaFNldDpwdXNoU2V0LGZjbVRva2VuOnRva2VuLGVuZHBvaW50OnN1YnNjcmlwdGlvbi5lbmRwb2ludH0pXTtjYXNlIDEwOnJldHVybiBfYi5zZW50KCksWzQsdGhpcy5hcGkucmVnaXN0ZXJEZXZpY2UoKV07Y2FzZSAxMTpyZXR1cm4gX2Iuc2VudCgpLFsyXX19KX0pfSxQdXNoU2VydmljZURlZmF1bHQucHJvdG90eXBlLnVuc3Vic2NyaWJlPWZ1bmN0aW9uKCl7cmV0dXJuIF9fYXdhaXRlcih0aGlzLHZvaWQgMCx2b2lkIDAsZnVuY3Rpb24oKXt2YXIgc3Vic2NyaXB0aW9uO3JldHVybiBfX2dlbmVyYXRvcih0aGlzLGZ1bmN0aW9uKF9hKXtzd2l0Y2goX2EubGFiZWwpe2Nhc2UgMDpyZXR1cm5bNCx0aGlzLmdldFNlcnZpY2VXb3JrZXJSZWdpc3RyYXRpb24oKV07Y2FzZSAxOnJldHVybls0LF9hLnNlbnQoKS5wdXNoTWFuYWdlci5nZXRTdWJzY3JpcHRpb24oKV07Y2FzZSAyOnJldHVybiBzdWJzY3JpcHRpb249X2Euc2VudCgpLFs0LHRoaXMuZGF0YS5zZXRUb2tlbnMoe30pXTtjYXNlIDM6cmV0dXJuIF9hLnNlbnQoKSxbNCx0aGlzLmRhdGEuc2V0U3RhdHVzTWFudWFsVW5zdWJzY3JpYmVkKCEwKV07Y2FzZSA0OnJldHVybiBfYS5zZW50KCksWzQsdGhpcy5hcGkudW5yZWdpc3RlckRldmljZSgpXTtjYXNlIDU6cmV0dXJuIF9hLnNlbnQoKSxzdWJzY3JpcHRpb24/WzQsc3Vic2NyaXB0aW9uLnVuc3Vic2NyaWJlKCldOlsyXTtjYXNlIDY6cmV0dXJuIF9hLnNlbnQoKSxbMl19fSl9KX0sUHVzaFNlcnZpY2VEZWZhdWx0LnByb3RvdHlwZS5jaGVja0lzUmVnaXN0ZXI9ZnVuY3Rpb24oKXtyZXR1cm4gX19hd2FpdGVyKHRoaXMsdm9pZCAwLHZvaWQgMCxmdW5jdGlvbigpe3JldHVybiBfX2dlbmVyYXRvcih0aGlzLGZ1bmN0aW9uKF9hKXtyZXR1cm5bMix0aGlzLmFwaS5jaGVja0RldmljZVN1YnNjcmliZUZvclB1c2hOb3RpZmljYXRpb25zKCldfSl9KX0sUHVzaFNlcnZpY2VEZWZhdWx0LnByb3RvdHlwZS5jaGVja0lzTmVlZFJlc3Vic2NyaWJlPWZ1bmN0aW9uKCl7cmV0dXJuIF9fYXdhaXRlcih0aGlzLHZvaWQgMCx2b2lkIDAsZnVuY3Rpb24oKXt2YXIgc2F2ZWRTZW5kZXJJZCxpc0V4aXN0U2F2ZWRTZW5kZXJJZCxtYW5pZmVzdFNlbmRlcklkLGlzQ2hhbmdlU2VuZGVySUQsbGFzdFBlcm1pc3Npb24scGVybWlzc2lvbixjcmVkZW50aWFscyxwdXNoVG9rZW5Gcm9tU3Vic2NyaXB0aW9uLHB1c2hUb2tlbkZyb21TdG9yZSxpc0VxdWFsUHVzaFRva2VucztyZXR1cm4gX19nZW5lcmF0b3IodGhpcyxmdW5jdGlvbihfYSl7c3dpdGNoKF9hLmxhYmVsKXtjYXNlIDA6cmV0dXJuWzQsdGhpcy5kYXRhLmdldFNlbmRlcklkKCldO2Nhc2UgMTpyZXR1cm4gc2F2ZWRTZW5kZXJJZD1fYS5zZW50KCksaXNFeGlzdFNhdmVkU2VuZGVySWQ9dm9pZCAwIT09c2F2ZWRTZW5kZXJJZCxbNCx0aGlzLmdldFNlbmRlcklkRnJvbU1hbmlmZXN0KCldO2Nhc2UgMjpyZXR1cm4gbWFuaWZlc3RTZW5kZXJJZD1fYS5zZW50KCksaXNDaGFuZ2VTZW5kZXJJRD1pc0V4aXN0U2F2ZWRTZW5kZXJJZCYmbWFuaWZlc3RTZW5kZXJJZCE9PXNhdmVkU2VuZGVySWQsWzQsdGhpcy5kYXRhLnNldFNlbmRlcklkKG1hbmlmZXN0U2VuZGVySWQpXTtjYXNlIDM6cmV0dXJuIF9hLnNlbnQoKSxbNCx0aGlzLmRhdGEuZ2V0TGFzdFBlcm1pc3Npb25TdGF0dXMoKV07Y2FzZSA0OnJldHVybiBsYXN0UGVybWlzc2lvbj1fYS5zZW50KCkscGVybWlzc2lvbj10aGlzLmdldFBlcm1pc3Npb24oKSxpc0V4aXN0U2F2ZWRTZW5kZXJJZCYmbGFzdFBlcm1pc3Npb24hPT1wZXJtaXNzaW9uP1s0LHRoaXMuZGF0YS5zZXRMYXN0UGVybWlzc2lvblN0YXR1cyhwZXJtaXNzaW9uKV06WzMsNl07Y2FzZSA1OnJldHVybiBfYS5zZW50KCksWzIsITBdO2Nhc2UgNjpyZXR1cm5bNCx0aGlzLmdldENyZWRlbnRpYWxzKCldO2Nhc2UgNzpyZXR1cm4gY3JlZGVudGlhbHM9X2Euc2VudCgpLFs0LHRoaXMuZ2V0UHVzaFRva2VuKGNyZWRlbnRpYWxzKV07Y2FzZSA4OnJldHVybiBwdXNoVG9rZW5Gcm9tU3Vic2NyaXB0aW9uPV9hLnNlbnQoKSxbNCx0aGlzLmRhdGEuZ2V0VG9rZW5zKCldO2Nhc2UgOTpyZXR1cm4gcHVzaFRva2VuRnJvbVN0b3JlPV9hLnNlbnQoKSxpc0VxdWFsUHVzaFRva2Vucz1wdXNoVG9rZW5Gcm9tU3Vic2NyaXB0aW9uPT09KHB1c2hUb2tlbkZyb21TdG9yZSYmcHVzaFRva2VuRnJvbVN0b3JlLnB1c2hUb2tlbiksWzIsaXNDaGFuZ2VTZW5kZXJJRHx8IWlzRXF1YWxQdXNoVG9rZW5zXX19KX0pfSxQdXNoU2VydmljZURlZmF1bHQucHJvdG90eXBlLmdldFNlcnZpY2VXb3JrZXJSZWdpc3RyYXRpb249ZnVuY3Rpb24oKXtyZXR1cm4gX19hd2FpdGVyKHRoaXMsdm9pZCAwLHZvaWQgMCxmdW5jdGlvbigpe3ZhciBfYTtyZXR1cm4gX19nZW5lcmF0b3IodGhpcyxmdW5jdGlvbihfYil7c3dpdGNoKF9iLmxhYmVsKXtjYXNlIDA6cmV0dXJuIHRoaXMucmVnaXN0cmF0aW9uP1szLDRdOls0LHRoaXMucmVnaXN0ZXJTZXJ2aWNlV29ya2VyKCldO2Nhc2UgMTpyZXR1cm4gX2Iuc2VudCgpLF9hPXRoaXMsWzQsbmF2aWdhdG9yLnNlcnZpY2VXb3JrZXIuZ2V0UmVnaXN0cmF0aW9uKCldO2Nhc2UgMjpyZXR1cm4gX2EucmVnaXN0cmF0aW9uPV9iLnNlbnQoKSxbNCx0aGlzLnJlZ2lzdHJhdGlvbi51cGRhdGUoKV07Y2FzZSAzOl9iLnNlbnQoKSxfYi5sYWJlbD00O2Nhc2UgNDppZighdGhpcy5yZWdpc3RyYXRpb24pdGhyb3cgbmV3IEVycm9yKFwiSW50ZXJuYWwgRXJyb3I6IENhbid0IHJlZ2lzdGVyIHNlcnZpY2Ugd29ya2VyIVwiKTtyZXR1cm5bMix0aGlzLnJlZ2lzdHJhdGlvbl19fSl9KX0sUHVzaFNlcnZpY2VEZWZhdWx0LnByb3RvdHlwZS5yZWdpc3RlclNlcnZpY2VXb3JrZXI9ZnVuY3Rpb24oKXtyZXR1cm4gX19hd2FpdGVyKHRoaXMsdm9pZCAwLHZvaWQgMCxmdW5jdGlvbigpe3ZhciB1cmwsc2NvcGUsc2RrVmVyc2lvbixzZXJ2aWNlV29ya2VyVmVyc2lvbixjbGVhbkNhY2hlO3JldHVybiBfX2dlbmVyYXRvcih0aGlzLGZ1bmN0aW9uKF9hKXtzd2l0Y2goX2EubGFiZWwpe2Nhc2UgMDpyZXR1cm5bNCx0aGlzLmRhdGEuZ2V0U2VydmljZVdvcmtlclVybCgpXTtjYXNlIDE6cmV0dXJuIHVybD1fYS5zZW50KCksWzQsdGhpcy5kYXRhLmdldFNlcnZpY2VXb3JrZXJTY29wZSgpXTtjYXNlIDI6cmV0dXJuIHNjb3BlPV9hLnNlbnQoKSxbNCx0aGlzLmRhdGEuZ2V0U2RrVmVyc2lvbigpXTtjYXNlIDM6cmV0dXJuIHNka1ZlcnNpb249X2Euc2VudCgpLFs0LHRoaXMuZGF0YS5nZXRTZXJ2aWNlV29ya2VyVmVyc2lvbigpXTtjYXNlIDQ6cmV0dXJuIHNlcnZpY2VXb3JrZXJWZXJzaW9uPV9hLnNlbnQoKSxjbGVhbkNhY2hlPVwiXCIsc2RrVmVyc2lvbiE9PXNlcnZpY2VXb3JrZXJWZXJzaW9uJiYoY2xlYW5DYWNoZT1cIj9jYWNoZV9jbGVhbj1cIit1dWlkXzEudjQoKSksWzQsbmF2aWdhdG9yLnNlcnZpY2VXb3JrZXIucmVnaXN0ZXIoXCJcIit1cmwrY2xlYW5DYWNoZSx7c2NvcGU6c2NvcGV9KV07Y2FzZSA1OnJldHVybiBfYS5zZW50KCksWzJdfX0pfSl9LFB1c2hTZXJ2aWNlRGVmYXVsdC5wcm90b3R5cGUudHJ5U3Vic2NyaWJlPWZ1bmN0aW9uKCl7cmV0dXJuIF9fYXdhaXRlcih0aGlzLHZvaWQgMCx2b2lkIDAsZnVuY3Rpb24oKXtyZXR1cm4gX19nZW5lcmF0b3IodGhpcyxmdW5jdGlvbihfYSl7c3dpdGNoKF9hLmxhYmVsKXtjYXNlIDA6cmV0dXJuIF9hLnRyeXMucHVzaChbMCwyLCw0XSksWzQsdGhpcy5zdWJzY3JpYmVQdXNoTWFuYWdlcigpXTtjYXNlIDE6cmV0dXJuWzIsX2Euc2VudCgpXTtjYXNlIDI6cmV0dXJuIF9hLnNlbnQoKSxbNCx0aGlzLnVuc3Vic2NyaWJlKCldO2Nhc2UgMzpyZXR1cm4gX2Euc2VudCgpLFsyLHRoaXMuc3Vic2NyaWJlUHVzaE1hbmFnZXIoKV07Y2FzZSA0OnJldHVyblsyXX19KX0pfSxQdXNoU2VydmljZURlZmF1bHQucHJvdG90eXBlLnN1YnNjcmliZVB1c2hNYW5hZ2VyPWZ1bmN0aW9uKCl7cmV0dXJuIF9fYXdhaXRlcih0aGlzLHZvaWQgMCx2b2lkIDAsZnVuY3Rpb24oKXt2YXIgcmVnaXN0cmF0aW9uLGFwcGxpY2F0aW9uU2VydmVyS2V5O3JldHVybiBfX2dlbmVyYXRvcih0aGlzLGZ1bmN0aW9uKF9hKXtzd2l0Y2goX2EubGFiZWwpe2Nhc2UgMDpyZXR1cm5bNCx0aGlzLmdldFNlcnZpY2VXb3JrZXJSZWdpc3RyYXRpb24oKV07Y2FzZSAxOnJldHVybiByZWdpc3RyYXRpb249X2Euc2VudCgpLFs0LHRoaXMuZ2V0QXBwbGljYXRpb25TZXJ2ZXJLZXkoKV07Y2FzZSAyOnJldHVybiBhcHBsaWNhdGlvblNlcnZlcktleT1fYS5zZW50KCksWzIscmVnaXN0cmF0aW9uLnB1c2hNYW5hZ2VyLnN1YnNjcmliZSh7dXNlclZpc2libGVPbmx5OiEwLGFwcGxpY2F0aW9uU2VydmVyS2V5OmFwcGxpY2F0aW9uU2VydmVyS2V5fSldfX0pfSl9LFB1c2hTZXJ2aWNlRGVmYXVsdC5wcm90b3R5cGUuZ2V0Q3JlZGVudGlhbHM9ZnVuY3Rpb24oKXtyZXR1cm4gX19hd2FpdGVyKHRoaXMsdm9pZCAwLHZvaWQgMCxmdW5jdGlvbigpe3JldHVybiBfX2dlbmVyYXRvcih0aGlzLGZ1bmN0aW9uKF9hKXtzd2l0Y2goX2EubGFiZWwpe2Nhc2UgMDpyZXR1cm5bNCx0aGlzLmdldFNlcnZpY2VXb3JrZXJSZWdpc3RyYXRpb24oKV07Y2FzZSAxOnJldHVybls0LF9hLnNlbnQoKS5wdXNoTWFuYWdlci5nZXRTdWJzY3JpcHRpb24oKV07Y2FzZSAyOnJldHVyblsyLF9hLnNlbnQoKV19fSl9KX0sUHVzaFNlcnZpY2VEZWZhdWx0LnByb3RvdHlwZS5nZXRGY21LZXlzPWZ1bmN0aW9uKGNvbmZpZyl7cmV0dXJuIF9fYXdhaXRlcih0aGlzLHZvaWQgMCx2b2lkIDAsZnVuY3Rpb24oKXt2YXIgcmVzcG9uc2U7cmV0dXJuIF9fZ2VuZXJhdG9yKHRoaXMsZnVuY3Rpb24oX2Epe3N3aXRjaChfYS5sYWJlbCl7Y2FzZSAwOnJldHVybls0LGZldGNoKHRoaXMuY29uZmlnLmVudHJ5cG9pbnR8fFwiaHR0cHM6Ly9mY20uZ29vZ2xlYXBpcy5jb20vZmNtL2Nvbm5lY3Qvc3Vic2NyaWJlXCIse21ldGhvZDpcIlBPU1RcIixoZWFkZXJzOntcIkNvbnRlbnQtVHlwZVwiOlwidGV4dC9wbGFpbjtjaGFyc2V0PVVURi04XCJ9LGJvZHk6SlNPTi5zdHJpbmdpZnkoY29uZmlnKX0pXTtjYXNlIDE6cmV0dXJuIDIwMCE9PShyZXNwb25zZT1fYS5zZW50KCkpLnN0YXR1cz9bMywzXTpbNCxyZXNwb25zZS5qc29uKCldO2Nhc2UgMjpyZXR1cm5bMixfYS5zZW50KCldO2Nhc2UgMzp0aHJvdyBuZXcgRXJyb3IoXCJJbnRlcm5hbCBlcnJvcjogQ2FuJ3QgcmVnaXN0ZXIgZGV2aWNlIGluIGZjbS4gU3RhdHVzOiBcIityZXNwb25zZS5zdGF0dXMrXCIuIE1lc3NhZ2U6IFwiK3Jlc3BvbnNlLnN0YXR1c1RleHQpfX0pfSl9LFB1c2hTZXJ2aWNlRGVmYXVsdC5wcm90b3R5cGUuZ2V0UHVzaFRva2VuPWZ1bmN0aW9uKHN1YnNjcmlwdGlvbil7cmV0dXJuIF9fYXdhaXRlcih0aGlzLHZvaWQgMCx2b2lkIDAsZnVuY3Rpb24oKXt2YXIgZGV2aWNlVHlwZTtyZXR1cm4gX19nZW5lcmF0b3IodGhpcyxmdW5jdGlvbihfYSl7c3dpdGNoKF9hLmxhYmVsKXtjYXNlIDA6cmV0dXJuWzQsdGhpcy5kYXRhLmdldERldmljZVR5cGUoKV07Y2FzZSAxOnJldHVybiBkZXZpY2VUeXBlPV9hLnNlbnQoKSxzdWJzY3JpcHRpb24/MTI9PT1kZXZpY2VUeXBlP1syLHN1YnNjcmlwdGlvbi5lbmRwb2ludF06WzIsc3Vic2NyaXB0aW9uLmVuZHBvaW50LnNwbGl0KFwiL1wiKS5wb3AoKXx8XCJcIl06WzIsXCJcIl19fSl9KX0sUHVzaFNlcnZpY2VEZWZhdWx0LnByb3RvdHlwZS5nZXRBcHBsaWNhdGlvblNlcnZlcktleT1mdW5jdGlvbigpe3JldHVybiBfX2F3YWl0ZXIodGhpcyx2b2lkIDAsdm9pZCAwLGZ1bmN0aW9uKCl7cmV0dXJuIF9fZ2VuZXJhdG9yKHRoaXMsZnVuY3Rpb24oX2Epe3N3aXRjaChfYS5sYWJlbCl7Y2FzZSAwOnJldHVybls0LHRoaXMuZGF0YS5nZXREZXZpY2VUeXBlKCldO2Nhc2UgMTpyZXR1cm4gMTEhPT1fYS5zZW50KCk/WzJdOls0LHRoaXMuZGF0YS5nZXRBcHBsaWNhdGlvblNlcnZlcktleSgpXTtjYXNlIDI6cmV0dXJuWzIsX2Euc2VudCgpXX19KX0pfSxQdXNoU2VydmljZURlZmF1bHQucHJvdG90eXBlLmdldFNlbmRlcklkRnJvbU1hbmlmZXN0PWZ1bmN0aW9uKCl7cmV0dXJuIF9fYXdhaXRlcih0aGlzLHZvaWQgMCx2b2lkIDAsZnVuY3Rpb24oKXt2YXIgbWFuaWZlc3QsdXJsLHJlc3BvbnNlLGRhdGEsbWF0Y2g7cmV0dXJuIF9fZ2VuZXJhdG9yKHRoaXMsZnVuY3Rpb24oX2Epe3N3aXRjaChfYS5sYWJlbCl7Y2FzZSAwOmlmKCEobWFuaWZlc3Q9ZG9jdW1lbnQucXVlcnlTZWxlY3RvcignbGlua1tyZWw9XCJtYW5pZmVzdFwiXScpKSl0aHJvdyBuZXcgRXJyb3IoXCJFcnJvcjogbWFuaWZlc3QuanNvbiBub3QgZm91bmQhXCIpO2lmKCEodXJsPW1hbmlmZXN0LmdldEF0dHJpYnV0ZShcImhyZWZcIikpKXRocm93IG5ldyBFcnJvcihcIkVycm9yOiBtYW5pZmVzdC5qc29uIHVybCBub3QgZm91bmQhXCIpO3JldHVybls0LGZldGNoKHVybCx7bWV0aG9kOlwiR0VUXCIsaGVhZGVyczp7XCJDb250ZW50LVR5cGVcIjpcImFwcGxpY2F0aW9uL2pzb247Y2hhcnNldD1VVEYtOFwifX0pXTtjYXNlIDE6aWYoMjAwIT09KHJlc3BvbnNlPV9hLnNlbnQoKSkuc3RhdHVzKXRocm93IG5ldyBFcnJvcihcIkVycm9yOiBDYW4ndCBsb2FkIG1hbmlmZXN0Lmpzb24hIFwiK3Jlc3BvbnNlLnN0YXR1c1RleHQpO3JldHVybls0LHJlc3BvbnNlLnRleHQoKV07Y2FzZSAyOmlmKGRhdGE9X2Euc2VudCgpLCEobWF0Y2g9ZGF0YS5tYXRjaCgvKFwifCcpP2djbV9zZW5kZXJfaWQoXCJ8Jyk/OlxccyooXCJ8Jyk/KFxcZCspKFwifCcpPy8pKXx8XCJzdHJpbmdcIiE9dHlwZW9mIG1hdGNoWzRdKXRocm93IG5ldyBFcnJvcihcIkVycm9yOiBDYW4ndCBmaW5kIGdjbV9zZW5kZXJfaWQgaW4gbWFuaWZlc3QuanNvbiFcIik7cmV0dXJuWzIsbWF0Y2hbNF1dfX0pfSl9LFB1c2hTZXJ2aWNlRGVmYXVsdC5wcm90b3R5cGUuY2hlY2tJc0NoYW5nZVNlbmRlcklkPWZ1bmN0aW9uKGN1cnJlbnRTZW5kZXJJZCl7cmV0dXJuIF9fYXdhaXRlcih0aGlzLHZvaWQgMCx2b2lkIDAsZnVuY3Rpb24oKXt2YXIgc2VuZGVySWRGcm9tSW5kZXhlZERCO3JldHVybiBfX2dlbmVyYXRvcih0aGlzLGZ1bmN0aW9uKF9hKXtzd2l0Y2goX2EubGFiZWwpe2Nhc2UgMDpyZXR1cm5bNCx0aGlzLmRhdGEuZ2V0U2VuZGVySWQoKV07Y2FzZSAxOnJldHVybiBzZW5kZXJJZEZyb21JbmRleGVkREI9X2Euc2VudCgpLFsyLGN1cnJlbnRTZW5kZXJJZCE9PXNlbmRlcklkRnJvbUluZGV4ZWREQl19fSl9KX0sUHVzaFNlcnZpY2VEZWZhdWx0fSgpO2V4cG9ydHMuUHVzaFNlcnZpY2VEZWZhdWx0PVB1c2hTZXJ2aWNlRGVmYXVsdH0sZnVuY3Rpb24obW9kdWxlLGV4cG9ydHMsX193ZWJwYWNrX3JlcXVpcmVfXyl7XCJ1c2Ugc3RyaWN0XCI7dmFyIF9fYXdhaXRlcj10aGlzJiZ0aGlzLl9fYXdhaXRlcnx8ZnVuY3Rpb24odGhpc0FyZyxfYXJndW1lbnRzLFAsZ2VuZXJhdG9yKXtyZXR1cm4gbmV3KFB8fChQPVByb21pc2UpKShmdW5jdGlvbihyZXNvbHZlLHJlamVjdCl7ZnVuY3Rpb24gZnVsZmlsbGVkKHZhbHVlKXt0cnl7c3RlcChnZW5lcmF0b3IubmV4dCh2YWx1ZSkpfWNhdGNoKGUpe3JlamVjdChlKX19ZnVuY3Rpb24gcmVqZWN0ZWQodmFsdWUpe3RyeXtzdGVwKGdlbmVyYXRvci50aHJvdyh2YWx1ZSkpfWNhdGNoKGUpe3JlamVjdChlKX19ZnVuY3Rpb24gc3RlcChyZXN1bHQpe3Jlc3VsdC5kb25lP3Jlc29sdmUocmVzdWx0LnZhbHVlKTpmdW5jdGlvbih2YWx1ZSl7cmV0dXJuIHZhbHVlIGluc3RhbmNlb2YgUD92YWx1ZTpuZXcgUChmdW5jdGlvbihyZXNvbHZlKXtyZXNvbHZlKHZhbHVlKX0pfShyZXN1bHQudmFsdWUpLnRoZW4oZnVsZmlsbGVkLHJlamVjdGVkKX1zdGVwKChnZW5lcmF0b3I9Z2VuZXJhdG9yLmFwcGx5KHRoaXNBcmcsX2FyZ3VtZW50c3x8W10pKS5uZXh0KCkpfSl9LF9fZ2VuZXJhdG9yPXRoaXMmJnRoaXMuX19nZW5lcmF0b3J8fGZ1bmN0aW9uKHRoaXNBcmcsYm9keSl7dmFyIGYseSx0LGcsXz17bGFiZWw6MCxzZW50OmZ1bmN0aW9uKCl7aWYoMSZ0WzBdKXRocm93IHRbMV07cmV0dXJuIHRbMV19LHRyeXM6W10sb3BzOltdfTtyZXR1cm4gZz17bmV4dDp2ZXJiKDApLHRocm93OnZlcmIoMSkscmV0dXJuOnZlcmIoMil9LFwiZnVuY3Rpb25cIj09dHlwZW9mIFN5bWJvbCYmKGdbU3ltYm9sLml0ZXJhdG9yXT1mdW5jdGlvbigpe3JldHVybiB0aGlzfSksZztmdW5jdGlvbiB2ZXJiKG4pe3JldHVybiBmdW5jdGlvbih2KXtyZXR1cm4gZnVuY3Rpb24ob3Ape2lmKGYpdGhyb3cgbmV3IFR5cGVFcnJvcihcIkdlbmVyYXRvciBpcyBhbHJlYWR5IGV4ZWN1dGluZy5cIik7Zm9yKDtfOyl0cnl7aWYoZj0xLHkmJih0PTImb3BbMF0/eS5yZXR1cm46b3BbMF0/eS50aHJvd3x8KCh0PXkucmV0dXJuKSYmdC5jYWxsKHkpLDApOnkubmV4dCkmJiEodD10LmNhbGwoeSxvcFsxXSkpLmRvbmUpcmV0dXJuIHQ7c3dpdGNoKHk9MCx0JiYob3A9WzImb3BbMF0sdC52YWx1ZV0pLG9wWzBdKXtjYXNlIDA6Y2FzZSAxOnQ9b3A7YnJlYWs7Y2FzZSA0OnJldHVybiBfLmxhYmVsKysse3ZhbHVlOm9wWzFdLGRvbmU6ITF9O2Nhc2UgNTpfLmxhYmVsKysseT1vcFsxXSxvcD1bMF07Y29udGludWU7Y2FzZSA3Om9wPV8ub3BzLnBvcCgpLF8udHJ5cy5wb3AoKTtjb250aW51ZTtkZWZhdWx0OmlmKCEodD0odD1fLnRyeXMpLmxlbmd0aD4wJiZ0W3QubGVuZ3RoLTFdKSYmKDY9PT1vcFswXXx8Mj09PW9wWzBdKSl7Xz0wO2NvbnRpbnVlfWlmKDM9PT1vcFswXSYmKCF0fHxvcFsxXT50WzBdJiZvcFsxXTx0WzNdKSl7Xy5sYWJlbD1vcFsxXTticmVha31pZig2PT09b3BbMF0mJl8ubGFiZWw8dFsxXSl7Xy5sYWJlbD10WzFdLHQ9b3A7YnJlYWt9aWYodCYmXy5sYWJlbDx0WzJdKXtfLmxhYmVsPXRbMl0sXy5vcHMucHVzaChvcCk7YnJlYWt9dFsyXSYmXy5vcHMucG9wKCksXy50cnlzLnBvcCgpO2NvbnRpbnVlfW9wPWJvZHkuY2FsbCh0aGlzQXJnLF8pfWNhdGNoKGUpe29wPVs2LGVdLHk9MH1maW5hbGx5e2Y9dD0wfWlmKDUmb3BbMF0pdGhyb3cgb3BbMV07cmV0dXJue3ZhbHVlOm9wWzBdP29wWzFdOnZvaWQgMCxkb25lOiEwfX0oW24sdl0pfX19O09iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pO3ZhciBsb2dnZXJfMT1fX3dlYnBhY2tfcmVxdWlyZV9fKDUpLENPTlNUQU5UUz1fX3dlYnBhY2tfcmVxdWlyZV9fKDEpLFB1c2hTZXJ2aWNlU2FmYXJpPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gUHVzaFNlcnZpY2VTYWZhcmkoYXBpLGRhdGEsY29uZmlnKXt0aGlzLmFwaT1hcGksdGhpcy5jb25maWc9Y29uZmlnLHRoaXMuZGF0YT1kYXRhfXJldHVybiBQdXNoU2VydmljZVNhZmFyaS5wcm90b3R5cGUuZ2V0UGVybWlzc2lvbj1mdW5jdGlvbigpe3JldHVybiB0aGlzLmdldFBlcm1pc3Npb25JbmZvKCkucGVybWlzc2lvbn0sUHVzaFNlcnZpY2VTYWZhcmkucHJvdG90eXBlLmNoZWNrSXNQZXJtaXNzaW9uR3JhbnRlZD1mdW5jdGlvbigpe3JldHVybiB0aGlzLmdldFBlcm1pc3Npb24oKT09PUNPTlNUQU5UUy5QRVJNSVNTSU9OX0dSQU5URUR9LFB1c2hTZXJ2aWNlU2FmYXJpLnByb3RvdHlwZS5jaGVja0lzUGVybWlzc2lvbkRlZmF1bHQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5nZXRQZXJtaXNzaW9uKCk9PT1DT05TVEFOVFMuUEVSTUlTU0lPTl9QUk9NUFR9LFB1c2hTZXJ2aWNlU2FmYXJpLnByb3RvdHlwZS5jaGVja0lzTWFudWFsVW5zdWJzY3JpYmVkPWZ1bmN0aW9uKCl7cmV0dXJuIF9fYXdhaXRlcih0aGlzLHZvaWQgMCx2b2lkIDAsZnVuY3Rpb24oKXtyZXR1cm4gX19nZW5lcmF0b3IodGhpcyxmdW5jdGlvbihfYSl7c3dpdGNoKF9hLmxhYmVsKXtjYXNlIDA6cmV0dXJuWzQsdGhpcy5kYXRhLmdldFN0YXR1c01hbnVhbFVuc3Vic2NyaWJlZCgpXTtjYXNlIDE6cmV0dXJuWzIsX2Euc2VudCgpXX19KX0pfSxQdXNoU2VydmljZVNhZmFyaS5wcm90b3R5cGUuYXNrUGVybWlzc2lvbj1mdW5jdGlvbigpe3JldHVybiBfX2F3YWl0ZXIodGhpcyx2b2lkIDAsdm9pZCAwLGZ1bmN0aW9uKCl7dmFyIGFwcGxpY2F0aW9uLGh3aWQscGF5bG9hZCxfdGhpcz10aGlzO3JldHVybiBfX2dlbmVyYXRvcih0aGlzLGZ1bmN0aW9uKF9hKXtzd2l0Y2goX2EubGFiZWwpe2Nhc2UgMDpyZXR1cm5bNCx0aGlzLmRhdGEuZ2V0QXBwbGljYXRpb25Db2RlKCldO2Nhc2UgMTpyZXR1cm4gYXBwbGljYXRpb249X2Euc2VudCgpLFs0LHRoaXMuZGF0YS5nZXRId2lkKCldO2Nhc2UgMjpyZXR1cm4gaHdpZD1fYS5zZW50KCkscGF5bG9hZD17YXBwbGljYXRpb246YXBwbGljYXRpb24saHdpZDpod2lkfSxbMixuZXcgUHJvbWlzZShmdW5jdGlvbihyZXNvbHZlKXtzYWZhcmkucHVzaE5vdGlmaWNhdGlvbi5yZXF1ZXN0UGVybWlzc2lvbihfdGhpcy5jb25maWcuZW50cnlwb2ludHx8XCJodHRwczovL2NwLnB1c2h3b29zaC5jb20vanNvbi8xLjMvc2FmYXJpXCIsX3RoaXMuY29uZmlnLndlYlNpdGVQdXNoSWQscGF5bG9hZCxmdW5jdGlvbigpe3JldHVybiByZXNvbHZlKCl9KX0pXX19KX0pfSxQdXNoU2VydmljZVNhZmFyaS5wcm90b3R5cGUuZ2V0VG9rZW5zPWZ1bmN0aW9uKCl7cmV0dXJuIF9fYXdhaXRlcih0aGlzLHZvaWQgMCx2b2lkIDAsZnVuY3Rpb24oKXtyZXR1cm4gX19nZW5lcmF0b3IodGhpcyxmdW5jdGlvbihfYSl7cmV0dXJuWzIsdGhpcy5kYXRhLmdldFRva2VucygpXX0pfSl9LFB1c2hTZXJ2aWNlU2FmYXJpLnByb3RvdHlwZS5zdWJzY3JpYmU9ZnVuY3Rpb24oKXtyZXR1cm4gX19hd2FpdGVyKHRoaXMsdm9pZCAwLHZvaWQgMCxmdW5jdGlvbigpe3ZhciBkZXZpY2VUb2tlbjtyZXR1cm4gX19nZW5lcmF0b3IodGhpcyxmdW5jdGlvbihfYSl7c3dpdGNoKF9hLmxhYmVsKXtjYXNlIDA6cmV0dXJuIHRoaXMuY2hlY2tJc1Blcm1pc3Npb25HcmFudGVkKCk/WzQsdGhpcy5nZXRQZXJtaXNzaW9uSW5mbygpXToobG9nZ2VyXzEuTG9nZ2VyLmVycm9yKFwiWW91IG11c3QgaGF2ZSBwZXJtaXNzaW9uIGdyYW50ZWQgYmVmb3JlIHN1YnNjcmliZSFcIiksWzJdKTtjYXNlIDE6cmV0dXJuIGRldmljZVRva2VuPV9hLnNlbnQoKS5kZXZpY2VUb2tlbixbNCx0aGlzLmRhdGEuc2V0VG9rZW5zKHtwdXNoVG9rZW46ZGV2aWNlVG9rZW59KV07Y2FzZSAyOnJldHVybiBfYS5zZW50KCksWzQsdGhpcy5hcGkucmVnaXN0ZXJEZXZpY2UoKV07Y2FzZSAzOnJldHVybiBfYS5zZW50KCksWzJdfX0pfSl9LFB1c2hTZXJ2aWNlU2FmYXJpLnByb3RvdHlwZS51bnN1YnNjcmliZT1mdW5jdGlvbigpe3JldHVybiBfX2F3YWl0ZXIodGhpcyx2b2lkIDAsdm9pZCAwLGZ1bmN0aW9uKCl7cmV0dXJuIF9fZ2VuZXJhdG9yKHRoaXMsZnVuY3Rpb24oX2Epe3N3aXRjaChfYS5sYWJlbCl7Y2FzZSAwOnJldHVybls0LHRoaXMuZGF0YS5zZXRUb2tlbnMoe30pXTtjYXNlIDE6cmV0dXJuIF9hLnNlbnQoKSxbNCx0aGlzLmRhdGEuc2V0U3RhdHVzTWFudWFsVW5zdWJzY3JpYmVkKCEwKV07Y2FzZSAyOnJldHVybiBfYS5zZW50KCksWzQsdGhpcy5hcGkudW5yZWdpc3RlckRldmljZSgpXTtjYXNlIDM6cmV0dXJuIF9hLnNlbnQoKSxbMl19fSl9KX0sUHVzaFNlcnZpY2VTYWZhcmkucHJvdG90eXBlLmNoZWNrSXNSZWdpc3Rlcj1mdW5jdGlvbigpe3JldHVybiBfX2F3YWl0ZXIodGhpcyx2b2lkIDAsdm9pZCAwLGZ1bmN0aW9uKCl7cmV0dXJuIF9fZ2VuZXJhdG9yKHRoaXMsZnVuY3Rpb24oX2Epe3JldHVyblsyLHRoaXMuYXBpLmNoZWNrRGV2aWNlU3Vic2NyaWJlRm9yUHVzaE5vdGlmaWNhdGlvbnMoKV19KX0pfSxQdXNoU2VydmljZVNhZmFyaS5wcm90b3R5cGUuY2hlY2tJc05lZWRSZXN1YnNjcmliZT1mdW5jdGlvbigpe3JldHVybiBfX2F3YWl0ZXIodGhpcyx2b2lkIDAsdm9pZCAwLGZ1bmN0aW9uKCl7dmFyIHNhdmVkV2ViU2l0ZVB1c2hJZCxpc0NoYW5nZVdlYlNpdGVQdXNoSWQsbGFzdFBlcm1pc3Npb24scGVybWlzc2lvbjtyZXR1cm4gX19nZW5lcmF0b3IodGhpcyxmdW5jdGlvbihfYSl7c3dpdGNoKF9hLmxhYmVsKXtjYXNlIDA6cmV0dXJuWzQsdGhpcy5kYXRhLmdldFdlYlNpdGVQdXNoSWQoKV07Y2FzZSAxOnJldHVybiBzYXZlZFdlYlNpdGVQdXNoSWQ9X2Euc2VudCgpLGlzQ2hhbmdlV2ViU2l0ZVB1c2hJZD12b2lkIDAhPT1zYXZlZFdlYlNpdGVQdXNoSWQmJnRoaXMuY29uZmlnLndlYlNpdGVQdXNoSWQhPT1zYXZlZFdlYlNpdGVQdXNoSWQsWzQsdGhpcy5kYXRhLnNldFdlYlNpdGVQdXNoSWQodGhpcy5jb25maWcud2ViU2l0ZVB1c2hJZCldO2Nhc2UgMjpyZXR1cm4gX2Euc2VudCgpLFs0LHRoaXMuZGF0YS5nZXRMYXN0UGVybWlzc2lvblN0YXR1cygpXTtjYXNlIDM6cmV0dXJuIGxhc3RQZXJtaXNzaW9uPV9hLnNlbnQoKSxwZXJtaXNzaW9uPXRoaXMuZ2V0UGVybWlzc2lvbigpLGxhc3RQZXJtaXNzaW9uPT09cGVybWlzc2lvbj9bMyw1XTpbNCx0aGlzLmRhdGEuc2V0TGFzdFBlcm1pc3Npb25TdGF0dXMocGVybWlzc2lvbildO2Nhc2UgNDpyZXR1cm4gX2Euc2VudCgpLFsyLCEwXTtjYXNlIDU6cmV0dXJuWzIsaXNDaGFuZ2VXZWJTaXRlUHVzaElkXX19KX0pfSxQdXNoU2VydmljZVNhZmFyaS5wcm90b3R5cGUuZ2V0UGVybWlzc2lvbkluZm89ZnVuY3Rpb24oKXtyZXR1cm4gc2FmYXJpLnB1c2hOb3RpZmljYXRpb24ucGVybWlzc2lvbih0aGlzLmNvbmZpZy53ZWJTaXRlUHVzaElkKX0sUHVzaFNlcnZpY2VTYWZhcml9KCk7ZXhwb3J0cy5QdXNoU2VydmljZVNhZmFyaT1QdXNoU2VydmljZVNhZmFyaX0sZnVuY3Rpb24obW9kdWxlLGV4cG9ydHMsX193ZWJwYWNrX3JlcXVpcmVfXyl7XCJ1c2Ugc3RyaWN0XCI7dmFyIF9fYXNzaWduPXRoaXMmJnRoaXMuX19hc3NpZ258fGZ1bmN0aW9uKCl7cmV0dXJuKF9fYXNzaWduPU9iamVjdC5hc3NpZ258fGZ1bmN0aW9uKHQpe2Zvcih2YXIgcyxpPTEsbj1hcmd1bWVudHMubGVuZ3RoO2k8bjtpKyspZm9yKHZhciBwIGluIHM9YXJndW1lbnRzW2ldKU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzLHApJiYodFtwXT1zW3BdKTtyZXR1cm4gdH0pLmFwcGx5KHRoaXMsYXJndW1lbnRzKX07T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSk7dmFyIFBvcHVwX2hlbHBlcnNfMT1fX3dlYnBhY2tfcmVxdWlyZV9fKDgzKSxQb3B1cD1mdW5jdGlvbigpe2Z1bmN0aW9uIFBvcHVwKG5hbWVzcGFjZSxvbkNsaWNrQ2xvc2UsY29uZmlnKXtpZih0aGlzLm5hbWVzcGFjZT1uYW1lc3BhY2UsdGhpcy5vbkNsaWNrQ2xvc2U9b25DbGlja0Nsb3NlLHRoaXMuY29uZmlnPV9fYXNzaWduKHtwb3NpdGlvbjpcImNlbnRlclwifSxjb25maWcpLCF0aGlzLmdldFJvb3RFbGVtZW50KCkpe3ZhciBodG1sPXRoaXMuY3JlYXRlSFRNTCgpO2RvY3VtZW50LmJvZHkuaW5zZXJ0QWRqYWNlbnRIVE1MKFwiYmVmb3JlZW5kXCIsaHRtbCksdGhpcy5yb290RWxlbWVudD10aGlzLmdldEVsZW1lbnRXaXRoQ2hlY2tFeGlzdChcInJvb3RcIik7dmFyIHN0eWxlcz1Qb3B1cF9oZWxwZXJzXzEuZ2V0U3R5bGVzKHRoaXMubmFtZXNwYWNlKTtkb2N1bWVudC5oZWFkLmFwcGVuZENoaWxkKHN0eWxlcyl9dGhpcy5yb290RWxlbWVudC5jbGFzc0xpc3QuYWRkKFwicHVzaHdvb3NoLVwiK3RoaXMubmFtZXNwYWNlK1wiLXBvcHVwX3Bvc2l0aW9uX1wiK3RoaXMuY29uZmlnLnBvc2l0aW9uKSx0aGlzLndyYXBwZXJFbGVtZW50PXRoaXMuZ2V0RWxlbWVudFdpdGhDaGVja0V4aXN0KFwid3JhcHBlclwiKSx0aGlzLmlubmVyRWxlbWVudD10aGlzLmdldEVsZW1lbnRXaXRoQ2hlY2tFeGlzdChcImlubmVyXCIpLHRoaXMuYm9keUVsZW1lbnQ9dGhpcy5nZXRFbGVtZW50V2l0aENoZWNrRXhpc3QoXCJib2R5XCIpLHRoaXMuY2xvc2VFbGVtZW50PXRoaXMuZ2V0RWxlbWVudFdpdGhDaGVja0V4aXN0KFwiY2xvc2VcIiksdGhpcy5hZGRFdmVudExpc3RlbmVycygpfXJldHVybiBQb3B1cC5wcm90b3R5cGUudXBkYXRlQ29udGVudD1mdW5jdGlvbihodG1sKXt0aGlzLmJvZHlFbGVtZW50LmlubmVySFRNTD1odG1sfSxQb3B1cC5wcm90b3R5cGUucmVtb3ZlQ29udGVudD1mdW5jdGlvbigpe3RoaXMuYm9keUVsZW1lbnQuaW5uZXJIVE1MPVwiXCJ9LFBvcHVwLnByb3RvdHlwZS5zaG93PWZ1bmN0aW9uKCl7ZG9jdW1lbnQuYm9keS5zdHlsZS5vdmVyZmxvdz1cImhpZGRlblwiLHRoaXMucm9vdEVsZW1lbnQuY2xhc3NMaXN0LmFkZChcInB1c2h3b29zaC1cIit0aGlzLm5hbWVzcGFjZStcIi1wb3B1cF9zaG93XCIpfSxQb3B1cC5wcm90b3R5cGUuaGlkZT1mdW5jdGlvbigpe2RvY3VtZW50LmJvZHkuc3R5bGUub3ZlcmZsb3c9XCJhdXRvXCIsdGhpcy5yb290RWxlbWVudC5jbGFzc0xpc3QucmVtb3ZlKFwicHVzaHdvb3NoLVwiK3RoaXMubmFtZXNwYWNlK1wiLXBvcHVwX3Nob3dcIiksdGhpcy5vbkNsaWNrQ2xvc2UoKX0sUG9wdXAucHJvdG90eXBlLmdldFJvb3RFbGVtZW50PWZ1bmN0aW9uKCl7cmV0dXJuIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwicHVzaHdvb3NoLVwiK3RoaXMubmFtZXNwYWNlK1wiLXBvcHVwLXJvb3RcIil9LFBvcHVwLnByb3RvdHlwZS5jcmVhdGVIVE1MPWZ1bmN0aW9uKCl7cmV0dXJuJ1xcbiAgICAgIDxkaXZcXG4gICAgICAgIGlkPVwicHVzaHdvb3NoLScrdGhpcy5uYW1lc3BhY2UrJy1wb3B1cC1yb290XCJcXG4gICAgICAgIGNsYXNzPVwicHVzaHdvb3NoLScrdGhpcy5uYW1lc3BhY2UrJy1wb3B1cFwiXFxuICAgICAgPlxcbiAgICAgICAgPGRpdlxcbiAgICAgICAgICBpZD1cInB1c2h3b29zaC0nK3RoaXMubmFtZXNwYWNlKyctcG9wdXAtd3JhcHBlclwiXFxuICAgICAgICAgIGNsYXNzPVwicHVzaHdvb3NoLScrdGhpcy5uYW1lc3BhY2UrJy1wb3B1cF9fd3JhcHBlclwiXFxuICAgICAgICA+XFxuICAgICAgICAgIDxkaXZcXG4gICAgICAgICAgICBpZD1cInB1c2h3b29zaC0nK3RoaXMubmFtZXNwYWNlKyctcG9wdXAtaW5uZXJcIlxcbiAgICAgICAgICAgIGNsYXNzPVwicHVzaHdvb3NoLScrdGhpcy5uYW1lc3BhY2UrJy1wb3B1cF9faW5uZXJcIlxcbiAgICAgICAgICA+XFxuICAgICAgICAgICAgPGRpdlxcbiAgICAgICAgICAgICAgaWQ9XCJwdXNod29vc2gtJyt0aGlzLm5hbWVzcGFjZSsnLXBvcHVwLWJvZHlcIlxcbiAgICAgICAgICAgICAgY2xhc3M9XCJwdXNod29vc2gtJyt0aGlzLm5hbWVzcGFjZSsnLXBvcHVwX19ib2R5XCJcXG4gICAgICAgICAgICA+XFxuICAgICAgICAgICAgPC9kaXY+XFxuICAgICAgICAgIDwvZGl2PlxcbiAgICAgICAgICA8YnV0dG9uXFxuICAgICAgICAgICAgaWQ9XCJwdXNod29vc2gtJyt0aGlzLm5hbWVzcGFjZSsnLXBvcHVwLWNsb3NlXCJcXG4gICAgICAgICAgICBjbGFzcz1cInB1c2h3b29zaC0nK3RoaXMubmFtZXNwYWNlKyctcG9wdXBfX2Nsb3NlXCJcXG4gICAgICAgICAgICB0eXBlPVwiYnV0dG9uXCJcXG4gICAgICAgICAgPlxcbiAgICAgICAgICA8L2J1dHRvbj5cXG4gICAgICAgIDwvZGl2PlxcbiAgICAgIDwvZGl2PlxcbiAgICAnfSxQb3B1cC5wcm90b3R5cGUuZ2V0RWxlbWVudFdpdGhDaGVja0V4aXN0PWZ1bmN0aW9uKHR5cGUpe3ZhciBlbGVtZW50PWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwicHVzaHdvb3NoLVwiK3RoaXMubmFtZXNwYWNlK1wiLXBvcHVwLVwiK3R5cGUpO2lmKCFlbGVtZW50KXRocm93IG5ldyBFcnJvcihcIkNhbid0IGZpbmQgZWxlbWVudCBieSBpZCBcXFwicHVzaHdvb3NoLVwiK3RoaXMubmFtZXNwYWNlK1wiLXBvcHVwLVwiK3R5cGUrJ1wiJyk7cmV0dXJuIGVsZW1lbnR9LFBvcHVwLnByb3RvdHlwZS5hZGRFdmVudExpc3RlbmVycz1mdW5jdGlvbigpe3ZhciBfdGhpcz10aGlzO3RoaXMuY2xvc2VFbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLGZ1bmN0aW9uKCl7X3RoaXMuaGlkZSgpfSksZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsZnVuY3Rpb24oZXZlbnQpe3ZhciBjbGlja0luSW5uZXI9X3RoaXMuaW5uZXJFbGVtZW50LmNvbnRhaW5zKGV2ZW50LnRhcmdldCksY2xpY2tJbldyYXBwZXI9X3RoaXMud3JhcHBlckVsZW1lbnQuY29udGFpbnMoZXZlbnQudGFyZ2V0KTshY2xpY2tJbklubmVyJiZjbGlja0luV3JhcHBlciYmX3RoaXMuaGlkZSgpfSl9LFBvcHVwfSgpO2V4cG9ydHMuUG9wdXA9UG9wdXB9LGZ1bmN0aW9uKG1vZHVsZSxleHBvcnRzLF9fd2VicGFja19yZXF1aXJlX18pe1widXNlIHN0cmljdFwiO09iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pLGV4cG9ydHMuZ2V0U3R5bGVzPWZ1bmN0aW9uKG5hbWVzcGFjZSl7dmFyIHN0eWxlcz1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwic3R5bGVcIik7cmV0dXJuIHN0eWxlcy5pbm5lckhUTUw9XCJcXG4gICAgLnB1c2h3b29zaC1cIituYW1lc3BhY2UrXCItcG9wdXAge1xcbiAgICAgIHBvc2l0aW9uOiBmaXhlZDtcXG4gICAgICB0b3A6IDA7XFxuICAgICAgbGVmdDogMDtcXG4gICAgICB3aWR0aDogMTAwJTtcXG4gICAgICBoZWlnaHQ6IDEwMCU7XFxuICAgICAgZGlzcGxheTogbm9uZTtcXG4gICAgICB6LWluZGV4OiAyMTQ3NDgzNjQ4O1xcbiAgICAgIG9wYWNpdHk6IDAuOTk7XFxuICAgIH1cXG4gICAgXFxuICAgIC5wdXNod29vc2gtXCIrbmFtZXNwYWNlK1wiLXBvcHVwX3Nob3cge1xcbiAgICAgIGRpc3BsYXk6IGJsb2NrO1xcbiAgICB9XFxuICAgIFxcbiAgICAucHVzaHdvb3NoLVwiK25hbWVzcGFjZStcIi1wb3B1cF9fd3JhcHBlciB7XFxuICAgICAgd2lkdGg6IDEwMCU7XFxuICAgICAgaGVpZ2h0OiAxMDAlO1xcbiAgICAgIGJhY2tncm91bmQ6IHJnYmEoMCwgMCwgMCwgLjIpO1xcbiAgICB9XFxuICAgIFxcbiAgICAucHVzaHdvb3NoLVwiK25hbWVzcGFjZStcIi1wb3B1cF9wb3NpdGlvbl9jZW50ZXIgLnB1c2h3b29zaC1cIituYW1lc3BhY2UrXCItcG9wdXBfX3dyYXBwZXIge1xcbiAgICAgIHRleHQtYWxpZ246IGNlbnRlcjtcXG4gICAgfVxcbiAgICBcXG4gICAgLnB1c2h3b29zaC1cIituYW1lc3BhY2UrXCItcG9wdXBfcG9zaXRpb25fY2VudGVyIC5wdXNod29vc2gtXCIrbmFtZXNwYWNlK1wiLXBvcHVwX193cmFwcGVyOmFmdGVyIHtcXG4gICAgICBjb250ZW50OiAnJztcXG4gICAgICBkaXNwbGF5OiBpbmxpbmUtYmxvY2s7XFxuICAgICAgd2lkdGg6IDFweDtcXG4gICAgICBoZWlnaHQ6IDEwMCU7XFxuICAgICAgdmVydGljYWwtYWxpZ246IG1pZGRsZTtcXG4gICAgfVxcbiAgICBcXG4gICAgLnB1c2h3b29zaC1cIituYW1lc3BhY2UrXCItcG9wdXBfX2lubmVyIHtcXG4gICAgICBtaW4td2lkdGg6IDMyMHB4O1xcbiAgICAgIG1heC13aWR0aDogMzgwcHg7XFxuICAgICAgd2lkdGg6IDEwMCU7XFxuICAgICAgbWFyZ2luOiAwIGF1dG87XFxuICAgIH1cXG4gICAgXFxuICAgIC5wdXNod29vc2gtXCIrbmFtZXNwYWNlK1wiLXBvcHVwX3Bvc2l0aW9uX2NlbnRlciAucHVzaHdvb3NoLVwiK25hbWVzcGFjZStcIi1wb3B1cF9faW5uZXIge1xcbiAgICAgIGRpc3BsYXk6IGlubGluZS1ibG9jaztcXG4gICAgICB2ZXJ0aWNhbC1hbGlnbjogbWlkZGxlO1xcbiAgICB9XFxuICAgIFxcbiAgICAucHVzaHdvb3NoLVwiK25hbWVzcGFjZStcIi1wb3B1cF9fYm9keSB7XFxuICAgICAgYmFja2dyb3VuZDogI2ZmZjtcXG4gICAgICB0ZXh0LWFsaWduOiBsZWZ0O1xcbiAgICAgIHZlcnRpY2FsLWFsaWduOiBiYXNlbGluZTtcXG4gICAgICBib3gtc2hhZG93OiAwcHggMTBweCAxNnB4IHJnYmEoMCwgMCwgMCwgMC4xKSwgMHB4IDBweCA2cHggcmdiYSgwLCAwLCAwLCAwLjA2KTtcXG4gICAgICBib3JkZXItcmFkaXVzOiA0cHg7XFxuICAgIH1cXG4gICAgXFxuICAgIC5wdXNod29vc2gtXCIrbmFtZXNwYWNlK1wiLXBvcHVwX19jbG9zZSB7XFxuICAgICAgYXBwZWFyYW5jZTogbm9uZTtcXG4gICAgICBib3JkZXI6IG5vbmU7XFxuICAgICAgYmFja2dyb3VuZC1jb2xvcjogdHJhbnNwYXJlbnQ7XFxuICAgICAgYm94LXNoYWRvdzogbm9uZTtcXG4gICAgICBwb3NpdGlvbjogYWJzb2x1dGU7XFxuICAgICAgdG9wOiAyNHB4O1xcbiAgICAgIHJpZ2h0OiAyNHB4O1xcbiAgICAgIHdpZHRoOiA0MHB4O1xcbiAgICAgIGhlaWdodDogNDBweDtcXG4gICAgICBjdXJzb3I6IHBvaW50ZXI7XFxuICAgIH1cXG4gICAgXFxuICAgIC5wdXNod29vc2gtXCIrbmFtZXNwYWNlK1wiLXBvcHVwX19jbG9zZTpiZWZvcmUge1xcbiAgICAgIGNvbnRlbnQ6ICcnO1xcbiAgICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcXG4gICAgICB0b3A6IDUwJTtcXG4gICAgICBsZWZ0OiA1MCU7XFxuICAgICAgd2lkdGg6IDMwcHg7XFxuICAgICAgaGVpZ2h0OiAycHg7XFxuICAgICAgYmFja2dyb3VuZC1jb2xvcjogcmdiYSgyNTUsIDI1NSwgMjU1LCAuOCk7XFxuICAgICAgdHJhbnNmb3JtOiB0cmFuc2xhdGVYKC01MCUpIHRyYW5zbGF0ZVkoLTUwJSkgcm90YXRlKDQ1ZGVnKTtcXG4gICAgfVxcbiAgICBcXG4gICAgLnB1c2h3b29zaC1cIituYW1lc3BhY2UrXCItcG9wdXBfX2Nsb3NlOmFmdGVyIHtcXG4gICAgICBjb250ZW50OiAnJztcXG4gICAgICBwb3NpdGlvbjogYWJzb2x1dGU7XFxuICAgICAgdG9wOiA1MCU7XFxuICAgICAgbGVmdDogNTAlO1xcbiAgICAgIHdpZHRoOiAzMHB4O1xcbiAgICAgIGhlaWdodDogMnB4O1xcbiAgICAgIGJhY2tncm91bmQtY29sb3I6IHJnYmEoMjU1LCAyNTUsIDI1NSwgLjgpO1xcbiAgICAgIHRyYW5zZm9ybTogdHJhbnNsYXRlWCgtNTAlKSB0cmFuc2xhdGVZKC01MCUpIHJvdGF0ZSgtNDVkZWcpO1xcbiAgICB9XFxuICBcIixzdHlsZXN9fSxmdW5jdGlvbihtb2R1bGUsZXhwb3J0cyxfX3dlYnBhY2tfcmVxdWlyZV9fKXtcInVzZSBzdHJpY3RcIjt2YXIgX19hd2FpdGVyPXRoaXMmJnRoaXMuX19hd2FpdGVyfHxmdW5jdGlvbih0aGlzQXJnLF9hcmd1bWVudHMsUCxnZW5lcmF0b3Ipe3JldHVybiBuZXcoUHx8KFA9UHJvbWlzZSkpKGZ1bmN0aW9uKHJlc29sdmUscmVqZWN0KXtmdW5jdGlvbiBmdWxmaWxsZWQodmFsdWUpe3RyeXtzdGVwKGdlbmVyYXRvci5uZXh0KHZhbHVlKSl9Y2F0Y2goZSl7cmVqZWN0KGUpfX1mdW5jdGlvbiByZWplY3RlZCh2YWx1ZSl7dHJ5e3N0ZXAoZ2VuZXJhdG9yLnRocm93KHZhbHVlKSl9Y2F0Y2goZSl7cmVqZWN0KGUpfX1mdW5jdGlvbiBzdGVwKHJlc3VsdCl7cmVzdWx0LmRvbmU/cmVzb2x2ZShyZXN1bHQudmFsdWUpOmZ1bmN0aW9uKHZhbHVlKXtyZXR1cm4gdmFsdWUgaW5zdGFuY2VvZiBQP3ZhbHVlOm5ldyBQKGZ1bmN0aW9uKHJlc29sdmUpe3Jlc29sdmUodmFsdWUpfSl9KHJlc3VsdC52YWx1ZSkudGhlbihmdWxmaWxsZWQscmVqZWN0ZWQpfXN0ZXAoKGdlbmVyYXRvcj1nZW5lcmF0b3IuYXBwbHkodGhpc0FyZyxfYXJndW1lbnRzfHxbXSkpLm5leHQoKSl9KX0sX19nZW5lcmF0b3I9dGhpcyYmdGhpcy5fX2dlbmVyYXRvcnx8ZnVuY3Rpb24odGhpc0FyZyxib2R5KXt2YXIgZix5LHQsZyxfPXtsYWJlbDowLHNlbnQ6ZnVuY3Rpb24oKXtpZigxJnRbMF0pdGhyb3cgdFsxXTtyZXR1cm4gdFsxXX0sdHJ5czpbXSxvcHM6W119O3JldHVybiBnPXtuZXh0OnZlcmIoMCksdGhyb3c6dmVyYigxKSxyZXR1cm46dmVyYigyKX0sXCJmdW5jdGlvblwiPT10eXBlb2YgU3ltYm9sJiYoZ1tTeW1ib2wuaXRlcmF0b3JdPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXN9KSxnO2Z1bmN0aW9uIHZlcmIobil7cmV0dXJuIGZ1bmN0aW9uKHYpe3JldHVybiBmdW5jdGlvbihvcCl7aWYoZil0aHJvdyBuZXcgVHlwZUVycm9yKFwiR2VuZXJhdG9yIGlzIGFscmVhZHkgZXhlY3V0aW5nLlwiKTtmb3IoO187KXRyeXtpZihmPTEseSYmKHQ9MiZvcFswXT95LnJldHVybjpvcFswXT95LnRocm93fHwoKHQ9eS5yZXR1cm4pJiZ0LmNhbGwoeSksMCk6eS5uZXh0KSYmISh0PXQuY2FsbCh5LG9wWzFdKSkuZG9uZSlyZXR1cm4gdDtzd2l0Y2goeT0wLHQmJihvcD1bMiZvcFswXSx0LnZhbHVlXSksb3BbMF0pe2Nhc2UgMDpjYXNlIDE6dD1vcDticmVhaztjYXNlIDQ6cmV0dXJuIF8ubGFiZWwrKyx7dmFsdWU6b3BbMV0sZG9uZTohMX07Y2FzZSA1Ol8ubGFiZWwrKyx5PW9wWzFdLG9wPVswXTtjb250aW51ZTtjYXNlIDc6b3A9Xy5vcHMucG9wKCksXy50cnlzLnBvcCgpO2NvbnRpbnVlO2RlZmF1bHQ6aWYoISh0PSh0PV8udHJ5cykubGVuZ3RoPjAmJnRbdC5sZW5ndGgtMV0pJiYoNj09PW9wWzBdfHwyPT09b3BbMF0pKXtfPTA7Y29udGludWV9aWYoMz09PW9wWzBdJiYoIXR8fG9wWzFdPnRbMF0mJm9wWzFdPHRbM10pKXtfLmxhYmVsPW9wWzFdO2JyZWFrfWlmKDY9PT1vcFswXSYmXy5sYWJlbDx0WzFdKXtfLmxhYmVsPXRbMV0sdD1vcDticmVha31pZih0JiZfLmxhYmVsPHRbMl0pe18ubGFiZWw9dFsyXSxfLm9wcy5wdXNoKG9wKTticmVha310WzJdJiZfLm9wcy5wb3AoKSxfLnRyeXMucG9wKCk7Y29udGludWV9b3A9Ym9keS5jYWxsKHRoaXNBcmcsXyl9Y2F0Y2goZSl7b3A9WzYsZV0seT0wfWZpbmFsbHl7Zj10PTB9aWYoNSZvcFswXSl0aHJvdyBvcFsxXTtyZXR1cm57dmFsdWU6b3BbMF0/b3BbMV06dm9pZCAwLGRvbmU6ITB9fShbbix2XSl9fX07T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSk7dmFyIGdldFppcF8xPV9fd2VicGFja19yZXF1aXJlX18oNDkpLGxvZ2dlcl8xPV9fd2VicGFja19yZXF1aXJlX18oNSksU3Vic2NyaXB0aW9uU2VnbWVudHNXaWRnZXRfaGVscGVyc18xPV9fd2VicGFja19yZXF1aXJlX18oMTI0KSxTdWJzY3JpcHRpb25TZWdtZW50c1dpZGdldD1mdW5jdGlvbigpe2Z1bmN0aW9uIFN1YnNjcmlwdGlvblNlZ21lbnRzV2lkZ2V0KGV2ZW50QnVzLGRhdGEsYXBpQ2xpZW50LGFwaSxwb3B1cCxwdyl7dGhpcy5ldmVudEJ1cz1ldmVudEJ1cyx0aGlzLmRhdGE9ZGF0YSx0aGlzLmFwaUNsaWVudD1hcGlDbGllbnQsdGhpcy5hcGk9YXBpLHRoaXMucG9wdXA9cG9wdXAsdGhpcy5wdz1wd31yZXR1cm4gU3Vic2NyaXB0aW9uU2VnbWVudHNXaWRnZXQucHJvdG90eXBlLmluaXQ9ZnVuY3Rpb24oKXtyZXR1cm4gX19hd2FpdGVyKHRoaXMsdm9pZCAwLHZvaWQgMCxmdW5jdGlvbigpe3ZhciBpbkFwcENvZGUscmljaE1lZGlhVXJsLGNvbnRlbnQsc2VnbWVudHMsc29ydGVkU2VnbWVudHMsaHRtbCxzdHlsZXMsZGVueUVsZW1lbnQsYWNjZXB0RWxlbWVudCxfdGhpcz10aGlzO3JldHVybiBfX2dlbmVyYXRvcih0aGlzLGZ1bmN0aW9uKF9hKXtzd2l0Y2goX2EubGFiZWwpe2Nhc2UgMDpyZXR1cm5bNCx0aGlzLmdldEluQXBwQ29kZSgpXTtjYXNlIDE6cmV0dXJuKGluQXBwQ29kZT1fYS5zZW50KCkpP1s0LHRoaXMuZ2V0UmljaE1lZGlhVXJsQnlJbkFwcENvZGUoaW5BcHBDb2RlKV06KGxvZ2dlcl8xLkxvZ2dlci5lcnJvcihcIkludGVybmFsIGVycm9yOiBDYW4ndCBmaW5kIGluLWFwcCBjb2RlIGZvciBidWlsZCBzdWJzY3JpcHRpb24gc2VnbWVudCB3aWRnZXQhXCIpLFsyXSk7Y2FzZSAyOnJldHVybihyaWNoTWVkaWFVcmw9X2Euc2VudCgpKT9bNCx0aGlzLmdldER5bmFtaWNDb250ZW50KHJpY2hNZWRpYVVybCldOihsb2dnZXJfMS5Mb2dnZXIuZXJyb3IoXCJJbnRlcm5hbCBlcnJvcjogQ2FuJ3QgZmluZCByaWNoIG1lZGlhIHVybCBmb3IgYnVpbGQgc3Vic2NyaXB0aW9uIHNlZ21lbnQgd2lkZ2V0IVwiKSxbMl0pO2Nhc2UgMzpyZXR1cm4gY29udGVudD1fYS5zZW50KCksWzQsdGhpcy5nZXRTZWdtZW50cygpXTtjYXNlIDQ6cmV0dXJuIHNlZ21lbnRzPV9hLnNlbnQoKSxjb250ZW50JiZzZWdtZW50cz8oc29ydGVkU2VnbWVudHM9c2VnbWVudHMuc29ydChmdW5jdGlvbihzZWdtZW50MSxzZWdtZW50Mil7cmV0dXJuIHNlZ21lbnQxLnBvc2l0aW9uLXNlZ21lbnQyLnBvc2l0aW9ufSksaHRtbD1TdWJzY3JpcHRpb25TZWdtZW50c1dpZGdldF9oZWxwZXJzXzEuZ2V0SFRNTChjb250ZW50LHNvcnRlZFNlZ21lbnRzKSxzdHlsZXM9U3Vic2NyaXB0aW9uU2VnbWVudHNXaWRnZXRfaGVscGVyc18xLmdldFN0eWxlcyhjb250ZW50KSxkb2N1bWVudC5oZWFkLmFwcGVuZENoaWxkKHN0eWxlcyksdGhpcy5wb3B1cC51cGRhdGVDb250ZW50KGh0bWwpLGRlbnlFbGVtZW50PWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwicHVzaHdvb3NoLXN1YnNjcmlwdGlvbi1zZWdtZW50cy1kZW55XCIpLGFjY2VwdEVsZW1lbnQ9ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJwdXNod29vc2gtc3Vic2NyaXB0aW9uLXNlZ21lbnRzLWFjY2VwdFwiKSxkZW55RWxlbWVudCYmZGVueUVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsZnVuY3Rpb24oKXtfdGhpcy5oaWRlUG9wdXAoKX0pLGFjY2VwdEVsZW1lbnQmJmFjY2VwdEVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsZnVuY3Rpb24oKXt2YXIgcmVzdWx0PVtdLHNlZ21lbnRzPWRvY3VtZW50LmdldEVsZW1lbnRzQnlDbGFzc05hbWUoXCJwdXNod29vc2gtc3Vic2NyaXB0aW9uLXNlZ21lbnRzX19maWVsZFwiKTtpZihfdGhpcy5oaWRlUG9wdXAoKSxzZWdtZW50cyl7Zm9yKHZhciBpbmRleD0wO2luZGV4PHNlZ21lbnRzLmxlbmd0aDtpbmRleCsrKXt2YXIgZmllbGQ9c2VnbWVudHNbaW5kZXhdO2ZpZWxkLmNoZWNrZWQmJnJlc3VsdC5wdXNoKGZpZWxkLnZhbHVlKX1fdGhpcy5hcGkuc2V0VGFncyh7XCJTdWJzY3JpcHRpb24gU2VnbWVudHNcIjpyZXN1bHR9KSxfdGhpcy5wdy5zdWJzY3JpYmUoKX19KSx0aGlzLnNob3dQb3B1cCgpLFsyXSk6KGxvZ2dlcl8xLkxvZ2dlci5lcnJvcihcIkludGVybmFsIGVycm9yOiBDYW4ndCBnZXQgY29udGVudCBvciBzZWdtZW50cyBmb3IgYnVpbGQgc3Vic2NyaXB0aW9uIHNlZ21lbnQgd2lkZ2V0IVwiKSxbMl0pfX0pfSl9LFN1YnNjcmlwdGlvblNlZ21lbnRzV2lkZ2V0LnByb3RvdHlwZS5zaG93UG9wdXA9ZnVuY3Rpb24oKXt0aGlzLmV2ZW50QnVzLmRpc3BhdGNoRXZlbnQoXCJzaG93LXN1YnNjcmlwdGlvbi13aWRnZXRcIix7fSksdGhpcy5wb3B1cC5zaG93KCl9LFN1YnNjcmlwdGlvblNlZ21lbnRzV2lkZ2V0LnByb3RvdHlwZS5oaWRlUG9wdXA9ZnVuY3Rpb24oKXt0aGlzLnBvcHVwLmhpZGUoKX0sU3Vic2NyaXB0aW9uU2VnbWVudHNXaWRnZXQucHJvdG90eXBlLmdldFJpY2hNZWRpYVVybEJ5SW5BcHBDb2RlPWZ1bmN0aW9uKGNvZGUpe3JldHVybiBfX2F3YWl0ZXIodGhpcyx2b2lkIDAsdm9pZCAwLGZ1bmN0aW9uKCl7dmFyIGluQXBwcyxpbkFwcDtyZXR1cm4gX19nZW5lcmF0b3IodGhpcyxmdW5jdGlvbihfYSl7c3dpdGNoKF9hLmxhYmVsKXtjYXNlIDA6cmV0dXJuWzQsdGhpcy5kYXRhLmdldEluQXBwcygpXTtjYXNlIDE6cmV0dXJuKGluQXBwcz1fYS5zZW50KCkpJiYoaW5BcHA9aW5BcHBzLmZpbmQoZnVuY3Rpb24oaW5BcHApe3JldHVybiBpbkFwcC5jb2RlPT09Y29kZX0pKT9bMixpbkFwcC51cmxdOlsyXX19KX0pfSxTdWJzY3JpcHRpb25TZWdtZW50c1dpZGdldC5wcm90b3R5cGUuZ2V0SW5BcHBDb2RlPWZ1bmN0aW9uKCl7cmV0dXJuIF9fYXdhaXRlcih0aGlzLHZvaWQgMCx2b2lkIDAsZnVuY3Rpb24oKXt2YXIgYXBwbGljYXRpb24saHdpZCx1c2VySWQsZGV2aWNlVHlwZSxkZXZpY2VNb2RlbCxsYW5ndWFnZSx2ZXJzaW9uLHRpbWV6b25lLGRhdGUsdGltZSx0aW1lc3RhbXBVVEMsdGltZXN0YW1wQ3VycmVudCxyZXNwb25zZTtyZXR1cm4gX19nZW5lcmF0b3IodGhpcyxmdW5jdGlvbihfYSl7c3dpdGNoKF9hLmxhYmVsKXtjYXNlIDA6cmV0dXJuWzQsdGhpcy5kYXRhLmdldEFwcGxpY2F0aW9uQ29kZSgpXTtjYXNlIDE6cmV0dXJuIGFwcGxpY2F0aW9uPV9hLnNlbnQoKSxbNCx0aGlzLmRhdGEuZ2V0SHdpZCgpXTtjYXNlIDI6cmV0dXJuIGh3aWQ9X2Euc2VudCgpLFs0LHRoaXMuZGF0YS5nZXRVc2VySWQoKV07Y2FzZSAzOnJldHVybiB1c2VySWQ9X2Euc2VudCgpLFs0LHRoaXMuZGF0YS5nZXREZXZpY2VUeXBlKCldO2Nhc2UgNDpyZXR1cm4gZGV2aWNlVHlwZT1fYS5zZW50KCksWzQsdGhpcy5kYXRhLmdldERldmljZU1vZGVsKCldO2Nhc2UgNTpyZXR1cm4gZGV2aWNlTW9kZWw9X2Euc2VudCgpLFs0LHRoaXMuZGF0YS5nZXRMYW5ndWFnZSgpXTtjYXNlIDY6cmV0dXJuIGxhbmd1YWdlPV9hLnNlbnQoKSxbNCx0aGlzLmRhdGEuZ2V0U2RrVmVyc2lvbigpXTtjYXNlIDc6cmV0dXJuIHZlcnNpb249X2Euc2VudCgpLHRpbWV6b25lPTYwKi0obmV3IERhdGUpLmdldFRpbWV6b25lT2Zmc2V0KCksZGF0ZT1uZXcgRGF0ZSx0aW1lPWRhdGUuZ2V0VGltZSgpLHRpbWVzdGFtcFVUQz1NYXRoLmZsb29yKHRpbWUvMWUzKSx0aW1lc3RhbXBDdXJyZW50PXRpbWVzdGFtcFVUQy1kYXRlLmdldFRpbWV6b25lT2Zmc2V0KCkvNjAqMzYwMCxbNCx0aGlzLmFwaUNsaWVudC5wb3N0RXZlbnQoe2FwcGxpY2F0aW9uOmFwcGxpY2F0aW9uLGh3aWQ6aHdpZCx1c2VySWQ6dXNlcklkfHxod2lkLGRldmljZV90eXBlOmRldmljZVR5cGUsZGV2aWNlX21vZGVsOmRldmljZU1vZGVsLGxhbmd1YWdlOmxhbmd1YWdlLHY6dmVyc2lvbix0aW1lem9uZTp0aW1lem9uZSx0aW1lc3RhbXBVVEM6dGltZXN0YW1wVVRDLHRpbWVzdGFtcEN1cnJlbnQ6dGltZXN0YW1wQ3VycmVudCxldmVudDpcIlN1YnNjcmlwdGlvbiBTZWdtZW50c1wiLGF0dHJpYnV0ZXM6e319KV07Y2FzZSA4OnJldHVyblsyLChyZXNwb25zZT1fYS5zZW50KCkpJiZyZXNwb25zZS5jb2RlXX19KX0pfSxTdWJzY3JpcHRpb25TZWdtZW50c1dpZGdldC5wcm90b3R5cGUuZ2V0U2VnbWVudHM9ZnVuY3Rpb24oKXtyZXR1cm4gX19hd2FpdGVyKHRoaXMsdm9pZCAwLHZvaWQgMCxmdW5jdGlvbigpe3ZhciBmZWF0dXJlcztyZXR1cm4gX19nZW5lcmF0b3IodGhpcyxmdW5jdGlvbihfYSl7c3dpdGNoKF9hLmxhYmVsKXtjYXNlIDA6cmV0dXJuWzQsdGhpcy5kYXRhLmdldEZlYXR1cmVzKCldO2Nhc2UgMTpyZXR1cm5bMiwoZmVhdHVyZXM9X2Euc2VudCgpKSYmZmVhdHVyZXMuY2hhbm5lbHNdfX0pfSl9LFN1YnNjcmlwdGlvblNlZ21lbnRzV2lkZ2V0LnByb3RvdHlwZS5nZXREeW5hbWljQ29udGVudD1mdW5jdGlvbih1cmwpe3JldHVybiBfX2F3YWl0ZXIodGhpcyx2b2lkIDAsdm9pZCAwLGZ1bmN0aW9uKCl7dmFyIGpzemlwLGRhdGEsX2EsX2I7cmV0dXJuIF9fZ2VuZXJhdG9yKHRoaXMsZnVuY3Rpb24oX2Mpe3N3aXRjaChfYy5sYWJlbCl7Y2FzZSAwOnJldHVybls0LGdldFppcF8xLmdldFppcCh1cmwpXTtjYXNlIDE6cmV0dXJuIGpzemlwPV9jLnNlbnQoKSxfYj0oX2E9SlNPTikucGFyc2UsWzQsanN6aXAuZmlsZShcInB1c2h3b29zaC5qc29uXCIpLmFzeW5jKFwidGV4dFwiKV07Y2FzZSAyOnJldHVyblsyLChkYXRhPV9iLmFwcGx5KF9hLFtfYy5zZW50KCldKSkmJmRhdGEubG9jYWxpemF0aW9uJiZkYXRhLmRlZmF1bHRfbGFuZ3VhZ2UmJmRhdGEubG9jYWxpemF0aW9uW2RhdGEuZGVmYXVsdF9sYW5ndWFnZV1dfX0pfSl9LFN1YnNjcmlwdGlvblNlZ21lbnRzV2lkZ2V0fSgpO2V4cG9ydHMuU3Vic2NyaXB0aW9uU2VnbWVudHNXaWRnZXQ9U3Vic2NyaXB0aW9uU2VnbWVudHNXaWRnZXR9LGZ1bmN0aW9uKG1vZHVsZSxleHBvcnRzLF9fd2VicGFja19yZXF1aXJlX18pe1widXNlIHN0cmljdFwiO2Z1bmN0aW9uIEpTWmlwKCl7aWYoISh0aGlzIGluc3RhbmNlb2YgSlNaaXApKXJldHVybiBuZXcgSlNaaXA7aWYoYXJndW1lbnRzLmxlbmd0aCl0aHJvdyBuZXcgRXJyb3IoXCJUaGUgY29uc3RydWN0b3Igd2l0aCBwYXJhbWV0ZXJzIGhhcyBiZWVuIHJlbW92ZWQgaW4gSlNaaXAgMy4wLCBwbGVhc2UgY2hlY2sgdGhlIHVwZ3JhZGUgZ3VpZGUuXCIpO3RoaXMuZmlsZXM9e30sdGhpcy5jb21tZW50PW51bGwsdGhpcy5yb290PVwiXCIsdGhpcy5jbG9uZT1mdW5jdGlvbigpe3ZhciBuZXdPYmo9bmV3IEpTWmlwO2Zvcih2YXIgaSBpbiB0aGlzKVwiZnVuY3Rpb25cIiE9dHlwZW9mIHRoaXNbaV0mJihuZXdPYmpbaV09dGhpc1tpXSk7cmV0dXJuIG5ld09ian19SlNaaXAucHJvdG90eXBlPV9fd2VicGFja19yZXF1aXJlX18oODYpLEpTWmlwLnByb3RvdHlwZS5sb2FkQXN5bmM9X193ZWJwYWNrX3JlcXVpcmVfXygxMTkpLEpTWmlwLnN1cHBvcnQ9X193ZWJwYWNrX3JlcXVpcmVfXyg3KSxKU1ppcC5kZWZhdWx0cz1fX3dlYnBhY2tfcmVxdWlyZV9fKDYwKSxKU1ppcC52ZXJzaW9uPVwiMy4yLjBcIixKU1ppcC5sb2FkQXN5bmM9ZnVuY3Rpb24oY29udGVudCxvcHRpb25zKXtyZXR1cm4obmV3IEpTWmlwKS5sb2FkQXN5bmMoY29udGVudCxvcHRpb25zKX0sSlNaaXAuZXh0ZXJuYWw9X193ZWJwYWNrX3JlcXVpcmVfXygyNiksbW9kdWxlLmV4cG9ydHM9SlNaaXB9LGZ1bmN0aW9uKG1vZHVsZSxleHBvcnRzLF9fd2VicGFja19yZXF1aXJlX18pe1widXNlIHN0cmljdFwiO3ZhciB1dGY4PV9fd2VicGFja19yZXF1aXJlX18oMTMpLHV0aWxzPV9fd2VicGFja19yZXF1aXJlX18oMCksR2VuZXJpY1dvcmtlcj1fX3dlYnBhY2tfcmVxdWlyZV9fKDIpLFN0cmVhbUhlbHBlcj1fX3dlYnBhY2tfcmVxdWlyZV9fKDU5KSxkZWZhdWx0cz1fX3dlYnBhY2tfcmVxdWlyZV9fKDYwKSxDb21wcmVzc2VkT2JqZWN0PV9fd2VicGFja19yZXF1aXJlX18oNDMpLFppcE9iamVjdD1fX3dlYnBhY2tfcmVxdWlyZV9fKDEwNSksZ2VuZXJhdGU9X193ZWJwYWNrX3JlcXVpcmVfXygxMDYpLG5vZGVqc1V0aWxzPV9fd2VicGFja19yZXF1aXJlX18oMzEpLE5vZGVqc1N0cmVhbUlucHV0QWRhcHRlcj1fX3dlYnBhY2tfcmVxdWlyZV9fKDExOCksZmlsZUFkZD1mdW5jdGlvbihuYW1lLGRhdGEsb3JpZ2luYWxPcHRpb25zKXt2YXIgcGFyZW50LGRhdGFUeXBlPXV0aWxzLmdldFR5cGVPZihkYXRhKSxvPXV0aWxzLmV4dGVuZChvcmlnaW5hbE9wdGlvbnN8fHt9LGRlZmF1bHRzKTtvLmRhdGU9by5kYXRlfHxuZXcgRGF0ZSxudWxsIT09by5jb21wcmVzc2lvbiYmKG8uY29tcHJlc3Npb249by5jb21wcmVzc2lvbi50b1VwcGVyQ2FzZSgpKSxcInN0cmluZ1wiPT10eXBlb2Ygby51bml4UGVybWlzc2lvbnMmJihvLnVuaXhQZXJtaXNzaW9ucz1wYXJzZUludChvLnVuaXhQZXJtaXNzaW9ucyw4KSksby51bml4UGVybWlzc2lvbnMmJjE2Mzg0Jm8udW5peFBlcm1pc3Npb25zJiYoby5kaXI9ITApLG8uZG9zUGVybWlzc2lvbnMmJjE2Jm8uZG9zUGVybWlzc2lvbnMmJihvLmRpcj0hMCksby5kaXImJihuYW1lPWZvcmNlVHJhaWxpbmdTbGFzaChuYW1lKSksby5jcmVhdGVGb2xkZXJzJiYocGFyZW50PXBhcmVudEZvbGRlcihuYW1lKSkmJmZvbGRlckFkZC5jYWxsKHRoaXMscGFyZW50LCEwKTt2YXIgaXNVbmljb2RlU3RyaW5nPVwic3RyaW5nXCI9PT1kYXRhVHlwZSYmITE9PT1vLmJpbmFyeSYmITE9PT1vLmJhc2U2NDtvcmlnaW5hbE9wdGlvbnMmJnZvaWQgMCE9PW9yaWdpbmFsT3B0aW9ucy5iaW5hcnl8fChvLmJpbmFyeT0haXNVbmljb2RlU3RyaW5nKSwoZGF0YSBpbnN0YW5jZW9mIENvbXByZXNzZWRPYmplY3QmJjA9PT1kYXRhLnVuY29tcHJlc3NlZFNpemV8fG8uZGlyfHwhZGF0YXx8MD09PWRhdGEubGVuZ3RoKSYmKG8uYmFzZTY0PSExLG8uYmluYXJ5PSEwLGRhdGE9XCJcIixvLmNvbXByZXNzaW9uPVwiU1RPUkVcIixkYXRhVHlwZT1cInN0cmluZ1wiKTt2YXIgemlwT2JqZWN0Q29udGVudD1udWxsO3ppcE9iamVjdENvbnRlbnQ9ZGF0YSBpbnN0YW5jZW9mIENvbXByZXNzZWRPYmplY3R8fGRhdGEgaW5zdGFuY2VvZiBHZW5lcmljV29ya2VyP2RhdGE6bm9kZWpzVXRpbHMuaXNOb2RlJiZub2RlanNVdGlscy5pc1N0cmVhbShkYXRhKT9uZXcgTm9kZWpzU3RyZWFtSW5wdXRBZGFwdGVyKG5hbWUsZGF0YSk6dXRpbHMucHJlcGFyZUNvbnRlbnQobmFtZSxkYXRhLG8uYmluYXJ5LG8ub3B0aW1pemVkQmluYXJ5U3RyaW5nLG8uYmFzZTY0KTt2YXIgb2JqZWN0PW5ldyBaaXBPYmplY3QobmFtZSx6aXBPYmplY3RDb250ZW50LG8pO3RoaXMuZmlsZXNbbmFtZV09b2JqZWN0fSxwYXJlbnRGb2xkZXI9ZnVuY3Rpb24ocGF0aCl7XCIvXCI9PT1wYXRoLnNsaWNlKC0xKSYmKHBhdGg9cGF0aC5zdWJzdHJpbmcoMCxwYXRoLmxlbmd0aC0xKSk7dmFyIGxhc3RTbGFzaD1wYXRoLmxhc3RJbmRleE9mKFwiL1wiKTtyZXR1cm4gbGFzdFNsYXNoPjA/cGF0aC5zdWJzdHJpbmcoMCxsYXN0U2xhc2gpOlwiXCJ9LGZvcmNlVHJhaWxpbmdTbGFzaD1mdW5jdGlvbihwYXRoKXtyZXR1cm5cIi9cIiE9PXBhdGguc2xpY2UoLTEpJiYocGF0aCs9XCIvXCIpLHBhdGh9LGZvbGRlckFkZD1mdW5jdGlvbihuYW1lLGNyZWF0ZUZvbGRlcnMpe3JldHVybiBjcmVhdGVGb2xkZXJzPXZvaWQgMCE9PWNyZWF0ZUZvbGRlcnM/Y3JlYXRlRm9sZGVyczpkZWZhdWx0cy5jcmVhdGVGb2xkZXJzLG5hbWU9Zm9yY2VUcmFpbGluZ1NsYXNoKG5hbWUpLHRoaXMuZmlsZXNbbmFtZV18fGZpbGVBZGQuY2FsbCh0aGlzLG5hbWUsbnVsbCx7ZGlyOiEwLGNyZWF0ZUZvbGRlcnM6Y3JlYXRlRm9sZGVyc30pLHRoaXMuZmlsZXNbbmFtZV19O2Z1bmN0aW9uIGlzUmVnRXhwKG9iamVjdCl7cmV0dXJuXCJbb2JqZWN0IFJlZ0V4cF1cIj09PU9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChvYmplY3QpfXZhciBvdXQ9e2xvYWQ6ZnVuY3Rpb24oKXt0aHJvdyBuZXcgRXJyb3IoXCJUaGlzIG1ldGhvZCBoYXMgYmVlbiByZW1vdmVkIGluIEpTWmlwIDMuMCwgcGxlYXNlIGNoZWNrIHRoZSB1cGdyYWRlIGd1aWRlLlwiKX0sZm9yRWFjaDpmdW5jdGlvbihjYil7dmFyIGZpbGVuYW1lLHJlbGF0aXZlUGF0aCxmaWxlO2ZvcihmaWxlbmFtZSBpbiB0aGlzLmZpbGVzKXRoaXMuZmlsZXMuaGFzT3duUHJvcGVydHkoZmlsZW5hbWUpJiYoZmlsZT10aGlzLmZpbGVzW2ZpbGVuYW1lXSwocmVsYXRpdmVQYXRoPWZpbGVuYW1lLnNsaWNlKHRoaXMucm9vdC5sZW5ndGgsZmlsZW5hbWUubGVuZ3RoKSkmJmZpbGVuYW1lLnNsaWNlKDAsdGhpcy5yb290Lmxlbmd0aCk9PT10aGlzLnJvb3QmJmNiKHJlbGF0aXZlUGF0aCxmaWxlKSl9LGZpbHRlcjpmdW5jdGlvbihzZWFyY2gpe3ZhciByZXN1bHQ9W107cmV0dXJuIHRoaXMuZm9yRWFjaChmdW5jdGlvbihyZWxhdGl2ZVBhdGgsZW50cnkpe3NlYXJjaChyZWxhdGl2ZVBhdGgsZW50cnkpJiZyZXN1bHQucHVzaChlbnRyeSl9KSxyZXN1bHR9LGZpbGU6ZnVuY3Rpb24obmFtZSxkYXRhLG8pe2lmKDE9PT1hcmd1bWVudHMubGVuZ3RoKXtpZihpc1JlZ0V4cChuYW1lKSl7dmFyIHJlZ2V4cD1uYW1lO3JldHVybiB0aGlzLmZpbHRlcihmdW5jdGlvbihyZWxhdGl2ZVBhdGgsZmlsZSl7cmV0dXJuIWZpbGUuZGlyJiZyZWdleHAudGVzdChyZWxhdGl2ZVBhdGgpfSl9dmFyIG9iaj10aGlzLmZpbGVzW3RoaXMucm9vdCtuYW1lXTtyZXR1cm4gb2JqJiYhb2JqLmRpcj9vYmo6bnVsbH1yZXR1cm4gbmFtZT10aGlzLnJvb3QrbmFtZSxmaWxlQWRkLmNhbGwodGhpcyxuYW1lLGRhdGEsbyksdGhpc30sZm9sZGVyOmZ1bmN0aW9uKGFyZyl7aWYoIWFyZylyZXR1cm4gdGhpcztpZihpc1JlZ0V4cChhcmcpKXJldHVybiB0aGlzLmZpbHRlcihmdW5jdGlvbihyZWxhdGl2ZVBhdGgsZmlsZSl7cmV0dXJuIGZpbGUuZGlyJiZhcmcudGVzdChyZWxhdGl2ZVBhdGgpfSk7dmFyIG5hbWU9dGhpcy5yb290K2FyZyxuZXdGb2xkZXI9Zm9sZGVyQWRkLmNhbGwodGhpcyxuYW1lKSxyZXQ9dGhpcy5jbG9uZSgpO3JldHVybiByZXQucm9vdD1uZXdGb2xkZXIubmFtZSxyZXR9LHJlbW92ZTpmdW5jdGlvbihuYW1lKXtuYW1lPXRoaXMucm9vdCtuYW1lO3ZhciBmaWxlPXRoaXMuZmlsZXNbbmFtZV07aWYoZmlsZXx8KFwiL1wiIT09bmFtZS5zbGljZSgtMSkmJihuYW1lKz1cIi9cIiksZmlsZT10aGlzLmZpbGVzW25hbWVdKSxmaWxlJiYhZmlsZS5kaXIpZGVsZXRlIHRoaXMuZmlsZXNbbmFtZV07ZWxzZSBmb3IodmFyIGtpZHM9dGhpcy5maWx0ZXIoZnVuY3Rpb24ocmVsYXRpdmVQYXRoLGZpbGUpe3JldHVybiBmaWxlLm5hbWUuc2xpY2UoMCxuYW1lLmxlbmd0aCk9PT1uYW1lfSksaT0wO2k8a2lkcy5sZW5ndGg7aSsrKWRlbGV0ZSB0aGlzLmZpbGVzW2tpZHNbaV0ubmFtZV07cmV0dXJuIHRoaXN9LGdlbmVyYXRlOmZ1bmN0aW9uKG9wdGlvbnMpe3Rocm93IG5ldyBFcnJvcihcIlRoaXMgbWV0aG9kIGhhcyBiZWVuIHJlbW92ZWQgaW4gSlNaaXAgMy4wLCBwbGVhc2UgY2hlY2sgdGhlIHVwZ3JhZGUgZ3VpZGUuXCIpfSxnZW5lcmF0ZUludGVybmFsU3RyZWFtOmZ1bmN0aW9uKG9wdGlvbnMpe3ZhciB3b3JrZXIsb3B0cz17fTt0cnl7aWYoKG9wdHM9dXRpbHMuZXh0ZW5kKG9wdGlvbnN8fHt9LHtzdHJlYW1GaWxlczohMSxjb21wcmVzc2lvbjpcIlNUT1JFXCIsY29tcHJlc3Npb25PcHRpb25zOm51bGwsdHlwZTpcIlwiLHBsYXRmb3JtOlwiRE9TXCIsY29tbWVudDpudWxsLG1pbWVUeXBlOlwiYXBwbGljYXRpb24vemlwXCIsZW5jb2RlRmlsZU5hbWU6dXRmOC51dGY4ZW5jb2RlfSkpLnR5cGU9b3B0cy50eXBlLnRvTG93ZXJDYXNlKCksb3B0cy5jb21wcmVzc2lvbj1vcHRzLmNvbXByZXNzaW9uLnRvVXBwZXJDYXNlKCksXCJiaW5hcnlzdHJpbmdcIj09PW9wdHMudHlwZSYmKG9wdHMudHlwZT1cInN0cmluZ1wiKSwhb3B0cy50eXBlKXRocm93IG5ldyBFcnJvcihcIk5vIG91dHB1dCB0eXBlIHNwZWNpZmllZC5cIik7dXRpbHMuY2hlY2tTdXBwb3J0KG9wdHMudHlwZSksXCJkYXJ3aW5cIiE9PW9wdHMucGxhdGZvcm0mJlwiZnJlZWJzZFwiIT09b3B0cy5wbGF0Zm9ybSYmXCJsaW51eFwiIT09b3B0cy5wbGF0Zm9ybSYmXCJzdW5vc1wiIT09b3B0cy5wbGF0Zm9ybXx8KG9wdHMucGxhdGZvcm09XCJVTklYXCIpLFwid2luMzJcIj09PW9wdHMucGxhdGZvcm0mJihvcHRzLnBsYXRmb3JtPVwiRE9TXCIpO3ZhciBjb21tZW50PW9wdHMuY29tbWVudHx8dGhpcy5jb21tZW50fHxcIlwiO3dvcmtlcj1nZW5lcmF0ZS5nZW5lcmF0ZVdvcmtlcih0aGlzLG9wdHMsY29tbWVudCl9Y2F0Y2goZSl7KHdvcmtlcj1uZXcgR2VuZXJpY1dvcmtlcihcImVycm9yXCIpKS5lcnJvcihlKX1yZXR1cm4gbmV3IFN0cmVhbUhlbHBlcih3b3JrZXIsb3B0cy50eXBlfHxcInN0cmluZ1wiLG9wdHMubWltZVR5cGUpfSxnZW5lcmF0ZUFzeW5jOmZ1bmN0aW9uKG9wdGlvbnMsb25VcGRhdGUpe3JldHVybiB0aGlzLmdlbmVyYXRlSW50ZXJuYWxTdHJlYW0ob3B0aW9ucykuYWNjdW11bGF0ZShvblVwZGF0ZSl9LGdlbmVyYXRlTm9kZVN0cmVhbTpmdW5jdGlvbihvcHRpb25zLG9uVXBkYXRlKXtyZXR1cm4ob3B0aW9ucz1vcHRpb25zfHx7fSkudHlwZXx8KG9wdGlvbnMudHlwZT1cIm5vZGVidWZmZXJcIiksdGhpcy5nZW5lcmF0ZUludGVybmFsU3RyZWFtKG9wdGlvbnMpLnRvTm9kZWpzU3RyZWFtKG9uVXBkYXRlKX19O21vZHVsZS5leHBvcnRzPW91dH0sZnVuY3Rpb24obW9kdWxlLGV4cG9ydHMsX193ZWJwYWNrX3JlcXVpcmVfXyl7XCJ1c2Ugc3RyaWN0XCI7ZXhwb3J0cy5ieXRlTGVuZ3RoPWZ1bmN0aW9uKGI2NCl7dmFyIGxlbnM9Z2V0TGVucyhiNjQpLHZhbGlkTGVuPWxlbnNbMF0scGxhY2VIb2xkZXJzTGVuPWxlbnNbMV07cmV0dXJuIDMqKHZhbGlkTGVuK3BsYWNlSG9sZGVyc0xlbikvNC1wbGFjZUhvbGRlcnNMZW59LGV4cG9ydHMudG9CeXRlQXJyYXk9ZnVuY3Rpb24oYjY0KXt2YXIgdG1wLGksbGVucz1nZXRMZW5zKGI2NCksdmFsaWRMZW49bGVuc1swXSxwbGFjZUhvbGRlcnNMZW49bGVuc1sxXSxhcnI9bmV3IEFycihmdW5jdGlvbihiNjQsdmFsaWRMZW4scGxhY2VIb2xkZXJzTGVuKXtyZXR1cm4gMyoodmFsaWRMZW4rcGxhY2VIb2xkZXJzTGVuKS80LXBsYWNlSG9sZGVyc0xlbn0oMCx2YWxpZExlbixwbGFjZUhvbGRlcnNMZW4pKSxjdXJCeXRlPTAsbGVuPXBsYWNlSG9sZGVyc0xlbj4wP3ZhbGlkTGVuLTQ6dmFsaWRMZW47Zm9yKGk9MDtpPGxlbjtpKz00KXRtcD1yZXZMb29rdXBbYjY0LmNoYXJDb2RlQXQoaSldPDwxOHxyZXZMb29rdXBbYjY0LmNoYXJDb2RlQXQoaSsxKV08PDEyfHJldkxvb2t1cFtiNjQuY2hhckNvZGVBdChpKzIpXTw8NnxyZXZMb29rdXBbYjY0LmNoYXJDb2RlQXQoaSszKV0sYXJyW2N1ckJ5dGUrK109dG1wPj4xNiYyNTUsYXJyW2N1ckJ5dGUrK109dG1wPj44JjI1NSxhcnJbY3VyQnl0ZSsrXT0yNTUmdG1wOzI9PT1wbGFjZUhvbGRlcnNMZW4mJih0bXA9cmV2TG9va3VwW2I2NC5jaGFyQ29kZUF0KGkpXTw8MnxyZXZMb29rdXBbYjY0LmNoYXJDb2RlQXQoaSsxKV0+PjQsYXJyW2N1ckJ5dGUrK109MjU1JnRtcCk7MT09PXBsYWNlSG9sZGVyc0xlbiYmKHRtcD1yZXZMb29rdXBbYjY0LmNoYXJDb2RlQXQoaSldPDwxMHxyZXZMb29rdXBbYjY0LmNoYXJDb2RlQXQoaSsxKV08PDR8cmV2TG9va3VwW2I2NC5jaGFyQ29kZUF0KGkrMildPj4yLGFycltjdXJCeXRlKytdPXRtcD4+OCYyNTUsYXJyW2N1ckJ5dGUrK109MjU1JnRtcCk7cmV0dXJuIGFycn0sZXhwb3J0cy5mcm9tQnl0ZUFycmF5PWZ1bmN0aW9uKHVpbnQ4KXtmb3IodmFyIHRtcCxsZW49dWludDgubGVuZ3RoLGV4dHJhQnl0ZXM9bGVuJTMscGFydHM9W10saT0wLGxlbjI9bGVuLWV4dHJhQnl0ZXM7aTxsZW4yO2krPTE2MzgzKXBhcnRzLnB1c2goZW5jb2RlQ2h1bmsodWludDgsaSxpKzE2MzgzPmxlbjI/bGVuMjppKzE2MzgzKSk7MT09PWV4dHJhQnl0ZXM/KHRtcD11aW50OFtsZW4tMV0scGFydHMucHVzaChsb29rdXBbdG1wPj4yXStsb29rdXBbdG1wPDw0JjYzXStcIj09XCIpKToyPT09ZXh0cmFCeXRlcyYmKHRtcD0odWludDhbbGVuLTJdPDw4KSt1aW50OFtsZW4tMV0scGFydHMucHVzaChsb29rdXBbdG1wPj4xMF0rbG9va3VwW3RtcD4+NCY2M10rbG9va3VwW3RtcDw8MiY2M10rXCI9XCIpKTtyZXR1cm4gcGFydHMuam9pbihcIlwiKX07Zm9yKHZhciBsb29rdXA9W10scmV2TG9va3VwPVtdLEFycj1cInVuZGVmaW5lZFwiIT10eXBlb2YgVWludDhBcnJheT9VaW50OEFycmF5OkFycmF5LGNvZGU9XCJBQkNERUZHSElKS0xNTk9QUVJTVFVWV1hZWmFiY2RlZmdoaWprbG1ub3BxcnN0dXZ3eHl6MDEyMzQ1Njc4OSsvXCIsaT0wLGxlbj1jb2RlLmxlbmd0aDtpPGxlbjsrK2kpbG9va3VwW2ldPWNvZGVbaV0scmV2TG9va3VwW2NvZGUuY2hhckNvZGVBdChpKV09aTtmdW5jdGlvbiBnZXRMZW5zKGI2NCl7dmFyIGxlbj1iNjQubGVuZ3RoO2lmKGxlbiU0PjApdGhyb3cgbmV3IEVycm9yKFwiSW52YWxpZCBzdHJpbmcuIExlbmd0aCBtdXN0IGJlIGEgbXVsdGlwbGUgb2YgNFwiKTt2YXIgdmFsaWRMZW49YjY0LmluZGV4T2YoXCI9XCIpO3JldHVybi0xPT09dmFsaWRMZW4mJih2YWxpZExlbj1sZW4pLFt2YWxpZExlbix2YWxpZExlbj09PWxlbj8wOjQtdmFsaWRMZW4lNF19ZnVuY3Rpb24gdHJpcGxldFRvQmFzZTY0KG51bSl7cmV0dXJuIGxvb2t1cFtudW0+PjE4JjYzXStsb29rdXBbbnVtPj4xMiY2M10rbG9va3VwW251bT4+NiY2M10rbG9va3VwWzYzJm51bV19ZnVuY3Rpb24gZW5jb2RlQ2h1bmsodWludDgsc3RhcnQsZW5kKXtmb3IodmFyIHRtcCxvdXRwdXQ9W10saT1zdGFydDtpPGVuZDtpKz0zKXRtcD0odWludDhbaV08PDE2JjE2NzExNjgwKSsodWludDhbaSsxXTw8OCY2NTI4MCkrKDI1NSZ1aW50OFtpKzJdKSxvdXRwdXQucHVzaCh0cmlwbGV0VG9CYXNlNjQodG1wKSk7cmV0dXJuIG91dHB1dC5qb2luKFwiXCIpfXJldkxvb2t1cFtcIi1cIi5jaGFyQ29kZUF0KDApXT02MixyZXZMb29rdXBbXCJfXCIuY2hhckNvZGVBdCgwKV09NjN9LGZ1bmN0aW9uKG1vZHVsZSxleHBvcnRzKXtcbi8qISBpZWVlNzU0LiBCU0QtMy1DbGF1c2UgTGljZW5zZS4gRmVyb3NzIEFib3VraGFkaWplaCA8aHR0cHM6Ly9mZXJvc3Mub3JnL29wZW5zb3VyY2U+ICovXG5leHBvcnRzLnJlYWQ9ZnVuY3Rpb24oYnVmZmVyLG9mZnNldCxpc0xFLG1MZW4sbkJ5dGVzKXt2YXIgZSxtLGVMZW49OCpuQnl0ZXMtbUxlbi0xLGVNYXg9KDE8PGVMZW4pLTEsZUJpYXM9ZU1heD4+MSxuQml0cz0tNyxpPWlzTEU/bkJ5dGVzLTE6MCxkPWlzTEU/LTE6MSxzPWJ1ZmZlcltvZmZzZXQraV07Zm9yKGkrPWQsZT1zJigxPDwtbkJpdHMpLTEscz4+PS1uQml0cyxuQml0cys9ZUxlbjtuQml0cz4wO2U9MjU2KmUrYnVmZmVyW29mZnNldCtpXSxpKz1kLG5CaXRzLT04KTtmb3IobT1lJigxPDwtbkJpdHMpLTEsZT4+PS1uQml0cyxuQml0cys9bUxlbjtuQml0cz4wO209MjU2Km0rYnVmZmVyW29mZnNldCtpXSxpKz1kLG5CaXRzLT04KTtpZigwPT09ZSllPTEtZUJpYXM7ZWxzZXtpZihlPT09ZU1heClyZXR1cm4gbT9OYU46MS8wKihzPy0xOjEpO20rPU1hdGgucG93KDIsbUxlbiksZS09ZUJpYXN9cmV0dXJuKHM/LTE6MSkqbSpNYXRoLnBvdygyLGUtbUxlbil9LGV4cG9ydHMud3JpdGU9ZnVuY3Rpb24oYnVmZmVyLHZhbHVlLG9mZnNldCxpc0xFLG1MZW4sbkJ5dGVzKXt2YXIgZSxtLGMsZUxlbj04Km5CeXRlcy1tTGVuLTEsZU1heD0oMTw8ZUxlbiktMSxlQmlhcz1lTWF4Pj4xLHJ0PTIzPT09bUxlbj9NYXRoLnBvdygyLC0yNCktTWF0aC5wb3coMiwtNzcpOjAsaT1pc0xFPzA6bkJ5dGVzLTEsZD1pc0xFPzE6LTEscz12YWx1ZTwwfHwwPT09dmFsdWUmJjEvdmFsdWU8MD8xOjA7Zm9yKHZhbHVlPU1hdGguYWJzKHZhbHVlKSxpc05hTih2YWx1ZSl8fHZhbHVlPT09MS8wPyhtPWlzTmFOKHZhbHVlKT8xOjAsZT1lTWF4KTooZT1NYXRoLmZsb29yKE1hdGgubG9nKHZhbHVlKS9NYXRoLkxOMiksdmFsdWUqKGM9TWF0aC5wb3coMiwtZSkpPDEmJihlLS0sYyo9MiksKHZhbHVlKz1lK2VCaWFzPj0xP3J0L2M6cnQqTWF0aC5wb3coMiwxLWVCaWFzKSkqYz49MiYmKGUrKyxjLz0yKSxlK2VCaWFzPj1lTWF4PyhtPTAsZT1lTWF4KTplK2VCaWFzPj0xPyhtPSh2YWx1ZSpjLTEpKk1hdGgucG93KDIsbUxlbiksZSs9ZUJpYXMpOihtPXZhbHVlKk1hdGgucG93KDIsZUJpYXMtMSkqTWF0aC5wb3coMixtTGVuKSxlPTApKTttTGVuPj04O2J1ZmZlcltvZmZzZXQraV09MjU1Jm0saSs9ZCxtLz0yNTYsbUxlbi09OCk7Zm9yKGU9ZTw8bUxlbnxtLGVMZW4rPW1MZW47ZUxlbj4wO2J1ZmZlcltvZmZzZXQraV09MjU1JmUsaSs9ZCxlLz0yNTYsZUxlbi09OCk7YnVmZmVyW29mZnNldCtpLWRdfD0xMjgqc319LGZ1bmN0aW9uKG1vZHVsZSxleHBvcnRzLF9fd2VicGFja19yZXF1aXJlX18pe21vZHVsZS5leHBvcnRzPVN0cmVhbTt2YXIgRUU9X193ZWJwYWNrX3JlcXVpcmVfXyg0MCkuRXZlbnRFbWl0dGVyO2Z1bmN0aW9uIFN0cmVhbSgpe0VFLmNhbGwodGhpcyl9X193ZWJwYWNrX3JlcXVpcmVfXygxNCkoU3RyZWFtLEVFKSxTdHJlYW0uUmVhZGFibGU9X193ZWJwYWNrX3JlcXVpcmVfXyg0MSksU3RyZWFtLldyaXRhYmxlPV9fd2VicGFja19yZXF1aXJlX18oOTYpLFN0cmVhbS5EdXBsZXg9X193ZWJwYWNrX3JlcXVpcmVfXyg5NyksU3RyZWFtLlRyYW5zZm9ybT1fX3dlYnBhY2tfcmVxdWlyZV9fKDk4KSxTdHJlYW0uUGFzc1Rocm91Z2g9X193ZWJwYWNrX3JlcXVpcmVfXyg5OSksU3RyZWFtLlN0cmVhbT1TdHJlYW0sU3RyZWFtLnByb3RvdHlwZS5waXBlPWZ1bmN0aW9uKGRlc3Qsb3B0aW9ucyl7dmFyIHNvdXJjZT10aGlzO2Z1bmN0aW9uIG9uZGF0YShjaHVuayl7ZGVzdC53cml0YWJsZSYmITE9PT1kZXN0LndyaXRlKGNodW5rKSYmc291cmNlLnBhdXNlJiZzb3VyY2UucGF1c2UoKX1mdW5jdGlvbiBvbmRyYWluKCl7c291cmNlLnJlYWRhYmxlJiZzb3VyY2UucmVzdW1lJiZzb3VyY2UucmVzdW1lKCl9c291cmNlLm9uKFwiZGF0YVwiLG9uZGF0YSksZGVzdC5vbihcImRyYWluXCIsb25kcmFpbiksZGVzdC5faXNTdGRpb3x8b3B0aW9ucyYmITE9PT1vcHRpb25zLmVuZHx8KHNvdXJjZS5vbihcImVuZFwiLG9uZW5kKSxzb3VyY2Uub24oXCJjbG9zZVwiLG9uY2xvc2UpKTt2YXIgZGlkT25FbmQ9ITE7ZnVuY3Rpb24gb25lbmQoKXtkaWRPbkVuZHx8KGRpZE9uRW5kPSEwLGRlc3QuZW5kKCkpfWZ1bmN0aW9uIG9uY2xvc2UoKXtkaWRPbkVuZHx8KGRpZE9uRW5kPSEwLFwiZnVuY3Rpb25cIj09dHlwZW9mIGRlc3QuZGVzdHJveSYmZGVzdC5kZXN0cm95KCkpfWZ1bmN0aW9uIG9uZXJyb3IoZXIpe2lmKGNsZWFudXAoKSwwPT09RUUubGlzdGVuZXJDb3VudCh0aGlzLFwiZXJyb3JcIikpdGhyb3cgZXJ9ZnVuY3Rpb24gY2xlYW51cCgpe3NvdXJjZS5yZW1vdmVMaXN0ZW5lcihcImRhdGFcIixvbmRhdGEpLGRlc3QucmVtb3ZlTGlzdGVuZXIoXCJkcmFpblwiLG9uZHJhaW4pLHNvdXJjZS5yZW1vdmVMaXN0ZW5lcihcImVuZFwiLG9uZW5kKSxzb3VyY2UucmVtb3ZlTGlzdGVuZXIoXCJjbG9zZVwiLG9uY2xvc2UpLHNvdXJjZS5yZW1vdmVMaXN0ZW5lcihcImVycm9yXCIsb25lcnJvciksZGVzdC5yZW1vdmVMaXN0ZW5lcihcImVycm9yXCIsb25lcnJvciksc291cmNlLnJlbW92ZUxpc3RlbmVyKFwiZW5kXCIsY2xlYW51cCksc291cmNlLnJlbW92ZUxpc3RlbmVyKFwiY2xvc2VcIixjbGVhbnVwKSxkZXN0LnJlbW92ZUxpc3RlbmVyKFwiY2xvc2VcIixjbGVhbnVwKX1yZXR1cm4gc291cmNlLm9uKFwiZXJyb3JcIixvbmVycm9yKSxkZXN0Lm9uKFwiZXJyb3JcIixvbmVycm9yKSxzb3VyY2Uub24oXCJlbmRcIixjbGVhbnVwKSxzb3VyY2Uub24oXCJjbG9zZVwiLGNsZWFudXApLGRlc3Qub24oXCJjbG9zZVwiLGNsZWFudXApLGRlc3QuZW1pdChcInBpcGVcIixzb3VyY2UpLGRlc3R9fSxmdW5jdGlvbihtb2R1bGUsZXhwb3J0cyl7fSxmdW5jdGlvbihtb2R1bGUsZXhwb3J0cyxfX3dlYnBhY2tfcmVxdWlyZV9fKXtcInVzZSBzdHJpY3RcIjt2YXIgQnVmZmVyPV9fd2VicGFja19yZXF1aXJlX18oMzApLkJ1ZmZlcix1dGlsPV9fd2VicGFja19yZXF1aXJlX18oOTIpO2Z1bmN0aW9uIGNvcHlCdWZmZXIoc3JjLHRhcmdldCxvZmZzZXQpe3NyYy5jb3B5KHRhcmdldCxvZmZzZXQpfW1vZHVsZS5leHBvcnRzPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gQnVmZmVyTGlzdCgpeyFmdW5jdGlvbihpbnN0YW5jZSxDb25zdHJ1Y3Rvcil7aWYoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpfSh0aGlzLEJ1ZmZlckxpc3QpLHRoaXMuaGVhZD1udWxsLHRoaXMudGFpbD1udWxsLHRoaXMubGVuZ3RoPTB9cmV0dXJuIEJ1ZmZlckxpc3QucHJvdG90eXBlLnB1c2g9ZnVuY3Rpb24odil7dmFyIGVudHJ5PXtkYXRhOnYsbmV4dDpudWxsfTt0aGlzLmxlbmd0aD4wP3RoaXMudGFpbC5uZXh0PWVudHJ5OnRoaXMuaGVhZD1lbnRyeSx0aGlzLnRhaWw9ZW50cnksKyt0aGlzLmxlbmd0aH0sQnVmZmVyTGlzdC5wcm90b3R5cGUudW5zaGlmdD1mdW5jdGlvbih2KXt2YXIgZW50cnk9e2RhdGE6dixuZXh0OnRoaXMuaGVhZH07MD09PXRoaXMubGVuZ3RoJiYodGhpcy50YWlsPWVudHJ5KSx0aGlzLmhlYWQ9ZW50cnksKyt0aGlzLmxlbmd0aH0sQnVmZmVyTGlzdC5wcm90b3R5cGUuc2hpZnQ9ZnVuY3Rpb24oKXtpZigwIT09dGhpcy5sZW5ndGgpe3ZhciByZXQ9dGhpcy5oZWFkLmRhdGE7cmV0dXJuIDE9PT10aGlzLmxlbmd0aD90aGlzLmhlYWQ9dGhpcy50YWlsPW51bGw6dGhpcy5oZWFkPXRoaXMuaGVhZC5uZXh0LC0tdGhpcy5sZW5ndGgscmV0fX0sQnVmZmVyTGlzdC5wcm90b3R5cGUuY2xlYXI9ZnVuY3Rpb24oKXt0aGlzLmhlYWQ9dGhpcy50YWlsPW51bGwsdGhpcy5sZW5ndGg9MH0sQnVmZmVyTGlzdC5wcm90b3R5cGUuam9pbj1mdW5jdGlvbihzKXtpZigwPT09dGhpcy5sZW5ndGgpcmV0dXJuXCJcIjtmb3IodmFyIHA9dGhpcy5oZWFkLHJldD1cIlwiK3AuZGF0YTtwPXAubmV4dDspcmV0Kz1zK3AuZGF0YTtyZXR1cm4gcmV0fSxCdWZmZXJMaXN0LnByb3RvdHlwZS5jb25jYXQ9ZnVuY3Rpb24obil7aWYoMD09PXRoaXMubGVuZ3RoKXJldHVybiBCdWZmZXIuYWxsb2MoMCk7aWYoMT09PXRoaXMubGVuZ3RoKXJldHVybiB0aGlzLmhlYWQuZGF0YTtmb3IodmFyIHJldD1CdWZmZXIuYWxsb2NVbnNhZmUobj4+PjApLHA9dGhpcy5oZWFkLGk9MDtwOyljb3B5QnVmZmVyKHAuZGF0YSxyZXQsaSksaSs9cC5kYXRhLmxlbmd0aCxwPXAubmV4dDtyZXR1cm4gcmV0fSxCdWZmZXJMaXN0fSgpLHV0aWwmJnV0aWwuaW5zcGVjdCYmdXRpbC5pbnNwZWN0LmN1c3RvbSYmKG1vZHVsZS5leHBvcnRzLnByb3RvdHlwZVt1dGlsLmluc3BlY3QuY3VzdG9tXT1mdW5jdGlvbigpe3ZhciBvYmo9dXRpbC5pbnNwZWN0KHtsZW5ndGg6dGhpcy5sZW5ndGh9KTtyZXR1cm4gdGhpcy5jb25zdHJ1Y3Rvci5uYW1lK1wiIFwiK29ian0pfSxmdW5jdGlvbihtb2R1bGUsZXhwb3J0cyl7fSxmdW5jdGlvbihtb2R1bGUsZXhwb3J0cyxfX3dlYnBhY2tfcmVxdWlyZV9fKXsoZnVuY3Rpb24oZ2xvYmFsLHByb2Nlc3MpeyFmdW5jdGlvbihnbG9iYWwsdW5kZWZpbmVkKXtcInVzZSBzdHJpY3RcIjtpZighZ2xvYmFsLnNldEltbWVkaWF0ZSl7dmFyIHJlZ2lzdGVySW1tZWRpYXRlLG5leHRIYW5kbGU9MSx0YXNrc0J5SGFuZGxlPXt9LGN1cnJlbnRseVJ1bm5pbmdBVGFzaz0hMSxkb2M9Z2xvYmFsLmRvY3VtZW50LGF0dGFjaFRvPU9iamVjdC5nZXRQcm90b3R5cGVPZiYmT2JqZWN0LmdldFByb3RvdHlwZU9mKGdsb2JhbCk7YXR0YWNoVG89YXR0YWNoVG8mJmF0dGFjaFRvLnNldFRpbWVvdXQ/YXR0YWNoVG86Z2xvYmFsLFwiW29iamVjdCBwcm9jZXNzXVwiPT09e30udG9TdHJpbmcuY2FsbChnbG9iYWwucHJvY2Vzcyk/cmVnaXN0ZXJJbW1lZGlhdGU9ZnVuY3Rpb24oaGFuZGxlKXtwcm9jZXNzLm5leHRUaWNrKGZ1bmN0aW9uKCl7cnVuSWZQcmVzZW50KGhhbmRsZSl9KX06ZnVuY3Rpb24oKXtpZihnbG9iYWwucG9zdE1lc3NhZ2UmJiFnbG9iYWwuaW1wb3J0U2NyaXB0cyl7dmFyIHBvc3RNZXNzYWdlSXNBc3luY2hyb25vdXM9ITAsb2xkT25NZXNzYWdlPWdsb2JhbC5vbm1lc3NhZ2U7cmV0dXJuIGdsb2JhbC5vbm1lc3NhZ2U9ZnVuY3Rpb24oKXtwb3N0TWVzc2FnZUlzQXN5bmNocm9ub3VzPSExfSxnbG9iYWwucG9zdE1lc3NhZ2UoXCJcIixcIipcIiksZ2xvYmFsLm9ubWVzc2FnZT1vbGRPbk1lc3NhZ2UscG9zdE1lc3NhZ2VJc0FzeW5jaHJvbm91c319KCk/ZnVuY3Rpb24oKXt2YXIgbWVzc2FnZVByZWZpeD1cInNldEltbWVkaWF0ZSRcIitNYXRoLnJhbmRvbSgpK1wiJFwiLG9uR2xvYmFsTWVzc2FnZT1mdW5jdGlvbihldmVudCl7ZXZlbnQuc291cmNlPT09Z2xvYmFsJiZcInN0cmluZ1wiPT10eXBlb2YgZXZlbnQuZGF0YSYmMD09PWV2ZW50LmRhdGEuaW5kZXhPZihtZXNzYWdlUHJlZml4KSYmcnVuSWZQcmVzZW50KCtldmVudC5kYXRhLnNsaWNlKG1lc3NhZ2VQcmVmaXgubGVuZ3RoKSl9O2dsb2JhbC5hZGRFdmVudExpc3RlbmVyP2dsb2JhbC5hZGRFdmVudExpc3RlbmVyKFwibWVzc2FnZVwiLG9uR2xvYmFsTWVzc2FnZSwhMSk6Z2xvYmFsLmF0dGFjaEV2ZW50KFwib25tZXNzYWdlXCIsb25HbG9iYWxNZXNzYWdlKSxyZWdpc3RlckltbWVkaWF0ZT1mdW5jdGlvbihoYW5kbGUpe2dsb2JhbC5wb3N0TWVzc2FnZShtZXNzYWdlUHJlZml4K2hhbmRsZSxcIipcIil9fSgpOmdsb2JhbC5NZXNzYWdlQ2hhbm5lbD9mdW5jdGlvbigpe3ZhciBjaGFubmVsPW5ldyBNZXNzYWdlQ2hhbm5lbDtjaGFubmVsLnBvcnQxLm9ubWVzc2FnZT1mdW5jdGlvbihldmVudCl7cnVuSWZQcmVzZW50KGV2ZW50LmRhdGEpfSxyZWdpc3RlckltbWVkaWF0ZT1mdW5jdGlvbihoYW5kbGUpe2NoYW5uZWwucG9ydDIucG9zdE1lc3NhZ2UoaGFuZGxlKX19KCk6ZG9jJiZcIm9ucmVhZHlzdGF0ZWNoYW5nZVwiaW4gZG9jLmNyZWF0ZUVsZW1lbnQoXCJzY3JpcHRcIik/ZnVuY3Rpb24oKXt2YXIgaHRtbD1kb2MuZG9jdW1lbnRFbGVtZW50O3JlZ2lzdGVySW1tZWRpYXRlPWZ1bmN0aW9uKGhhbmRsZSl7dmFyIHNjcmlwdD1kb2MuY3JlYXRlRWxlbWVudChcInNjcmlwdFwiKTtzY3JpcHQub25yZWFkeXN0YXRlY2hhbmdlPWZ1bmN0aW9uKCl7cnVuSWZQcmVzZW50KGhhbmRsZSksc2NyaXB0Lm9ucmVhZHlzdGF0ZWNoYW5nZT1udWxsLGh0bWwucmVtb3ZlQ2hpbGQoc2NyaXB0KSxzY3JpcHQ9bnVsbH0saHRtbC5hcHBlbmRDaGlsZChzY3JpcHQpfX0oKTpyZWdpc3RlckltbWVkaWF0ZT1mdW5jdGlvbihoYW5kbGUpe3NldFRpbWVvdXQocnVuSWZQcmVzZW50LDAsaGFuZGxlKX0sYXR0YWNoVG8uc2V0SW1tZWRpYXRlPWZ1bmN0aW9uKGNhbGxiYWNrKXtcImZ1bmN0aW9uXCIhPXR5cGVvZiBjYWxsYmFjayYmKGNhbGxiYWNrPW5ldyBGdW5jdGlvbihcIlwiK2NhbGxiYWNrKSk7Zm9yKHZhciBhcmdzPW5ldyBBcnJheShhcmd1bWVudHMubGVuZ3RoLTEpLGk9MDtpPGFyZ3MubGVuZ3RoO2krKylhcmdzW2ldPWFyZ3VtZW50c1tpKzFdO3ZhciB0YXNrPXtjYWxsYmFjazpjYWxsYmFjayxhcmdzOmFyZ3N9O3JldHVybiB0YXNrc0J5SGFuZGxlW25leHRIYW5kbGVdPXRhc2sscmVnaXN0ZXJJbW1lZGlhdGUobmV4dEhhbmRsZSksbmV4dEhhbmRsZSsrfSxhdHRhY2hUby5jbGVhckltbWVkaWF0ZT1jbGVhckltbWVkaWF0ZX1mdW5jdGlvbiBjbGVhckltbWVkaWF0ZShoYW5kbGUpe2RlbGV0ZSB0YXNrc0J5SGFuZGxlW2hhbmRsZV19ZnVuY3Rpb24gcnVuSWZQcmVzZW50KGhhbmRsZSl7aWYoY3VycmVudGx5UnVubmluZ0FUYXNrKXNldFRpbWVvdXQocnVuSWZQcmVzZW50LDAsaGFuZGxlKTtlbHNle3ZhciB0YXNrPXRhc2tzQnlIYW5kbGVbaGFuZGxlXTtpZih0YXNrKXtjdXJyZW50bHlSdW5uaW5nQVRhc2s9ITA7dHJ5eyFmdW5jdGlvbih0YXNrKXt2YXIgY2FsbGJhY2s9dGFzay5jYWxsYmFjayxhcmdzPXRhc2suYXJncztzd2l0Y2goYXJncy5sZW5ndGgpe2Nhc2UgMDpjYWxsYmFjaygpO2JyZWFrO2Nhc2UgMTpjYWxsYmFjayhhcmdzWzBdKTticmVhaztjYXNlIDI6Y2FsbGJhY2soYXJnc1swXSxhcmdzWzFdKTticmVhaztjYXNlIDM6Y2FsbGJhY2soYXJnc1swXSxhcmdzWzFdLGFyZ3NbMl0pO2JyZWFrO2RlZmF1bHQ6Y2FsbGJhY2suYXBwbHkodW5kZWZpbmVkLGFyZ3MpfX0odGFzayl9ZmluYWxseXtjbGVhckltbWVkaWF0ZShoYW5kbGUpLGN1cnJlbnRseVJ1bm5pbmdBVGFzaz0hMX19fX19KFwidW5kZWZpbmVkXCI9PXR5cGVvZiBzZWxmP3ZvaWQgMD09PWdsb2JhbD90aGlzOmdsb2JhbDpzZWxmKX0pLmNhbGwodGhpcyxfX3dlYnBhY2tfcmVxdWlyZV9fKDExKSxfX3dlYnBhY2tfcmVxdWlyZV9fKDI0KSl9LGZ1bmN0aW9uKG1vZHVsZSxleHBvcnRzLF9fd2VicGFja19yZXF1aXJlX18peyhmdW5jdGlvbihnbG9iYWwpe2Z1bmN0aW9uIGNvbmZpZyhuYW1lKXt0cnl7aWYoIWdsb2JhbC5sb2NhbFN0b3JhZ2UpcmV0dXJuITF9Y2F0Y2goXyl7cmV0dXJuITF9dmFyIHZhbD1nbG9iYWwubG9jYWxTdG9yYWdlW25hbWVdO3JldHVybiBudWxsIT12YWwmJlwidHJ1ZVwiPT09U3RyaW5nKHZhbCkudG9Mb3dlckNhc2UoKX1tb2R1bGUuZXhwb3J0cz1mdW5jdGlvbihmbixtc2cpe2lmKGNvbmZpZyhcIm5vRGVwcmVjYXRpb25cIikpcmV0dXJuIGZuO3ZhciB3YXJuZWQ9ITE7cmV0dXJuIGZ1bmN0aW9uKCl7aWYoIXdhcm5lZCl7aWYoY29uZmlnKFwidGhyb3dEZXByZWNhdGlvblwiKSl0aHJvdyBuZXcgRXJyb3IobXNnKTtjb25maWcoXCJ0cmFjZURlcHJlY2F0aW9uXCIpP2NvbnNvbGUudHJhY2UobXNnKTpjb25zb2xlLndhcm4obXNnKSx3YXJuZWQ9ITB9cmV0dXJuIGZuLmFwcGx5KHRoaXMsYXJndW1lbnRzKX19fSkuY2FsbCh0aGlzLF9fd2VicGFja19yZXF1aXJlX18oMTEpKX0sZnVuY3Rpb24obW9kdWxlLGV4cG9ydHMsX193ZWJwYWNrX3JlcXVpcmVfXyl7XCJ1c2Ugc3RyaWN0XCI7bW9kdWxlLmV4cG9ydHM9UGFzc1Rocm91Z2g7dmFyIFRyYW5zZm9ybT1fX3dlYnBhY2tfcmVxdWlyZV9fKDU3KSx1dGlsPU9iamVjdC5jcmVhdGUoX193ZWJwYWNrX3JlcXVpcmVfXygyNSkpO2Z1bmN0aW9uIFBhc3NUaHJvdWdoKG9wdGlvbnMpe2lmKCEodGhpcyBpbnN0YW5jZW9mIFBhc3NUaHJvdWdoKSlyZXR1cm4gbmV3IFBhc3NUaHJvdWdoKG9wdGlvbnMpO1RyYW5zZm9ybS5jYWxsKHRoaXMsb3B0aW9ucyl9dXRpbC5pbmhlcml0cz1fX3dlYnBhY2tfcmVxdWlyZV9fKDE0KSx1dGlsLmluaGVyaXRzKFBhc3NUaHJvdWdoLFRyYW5zZm9ybSksUGFzc1Rocm91Z2gucHJvdG90eXBlLl90cmFuc2Zvcm09ZnVuY3Rpb24oY2h1bmssZW5jb2RpbmcsY2Ipe2NiKG51bGwsY2h1bmspfX0sZnVuY3Rpb24obW9kdWxlLGV4cG9ydHMsX193ZWJwYWNrX3JlcXVpcmVfXyl7bW9kdWxlLmV4cG9ydHM9X193ZWJwYWNrX3JlcXVpcmVfXyg0Mil9LGZ1bmN0aW9uKG1vZHVsZSxleHBvcnRzLF9fd2VicGFja19yZXF1aXJlX18pe21vZHVsZS5leHBvcnRzPV9fd2VicGFja19yZXF1aXJlX18oMTIpfSxmdW5jdGlvbihtb2R1bGUsZXhwb3J0cyxfX3dlYnBhY2tfcmVxdWlyZV9fKXttb2R1bGUuZXhwb3J0cz1fX3dlYnBhY2tfcmVxdWlyZV9fKDQxKS5UcmFuc2Zvcm19LGZ1bmN0aW9uKG1vZHVsZSxleHBvcnRzLF9fd2VicGFja19yZXF1aXJlX18pe21vZHVsZS5leHBvcnRzPV9fd2VicGFja19yZXF1aXJlX18oNDEpLlBhc3NUaHJvdWdofSxmdW5jdGlvbihtb2R1bGUsZXhwb3J0cyxfX3dlYnBhY2tfcmVxdWlyZV9fKXtcInVzZSBzdHJpY3RcIjsoZnVuY3Rpb24oc2V0SW1tZWRpYXRlKXttb2R1bGUuZXhwb3J0cz1cImZ1bmN0aW9uXCI9PXR5cGVvZiBzZXRJbW1lZGlhdGU/c2V0SW1tZWRpYXRlOmZ1bmN0aW9uKCl7dmFyIGFyZ3M9W10uc2xpY2UuYXBwbHkoYXJndW1lbnRzKTthcmdzLnNwbGljZSgxLDAsMCksc2V0VGltZW91dC5hcHBseShudWxsLGFyZ3MpfX0pLmNhbGwodGhpcyxfX3dlYnBhY2tfcmVxdWlyZV9fKDU1KS5zZXRJbW1lZGlhdGUpfSxmdW5jdGlvbihtb2R1bGUsZXhwb3J0cyxfX3dlYnBhY2tfcmVxdWlyZV9fKXtcInVzZSBzdHJpY3RcIjt2YXIgaW1tZWRpYXRlPV9fd2VicGFja19yZXF1aXJlX18oMTAyKTtmdW5jdGlvbiBJTlRFUk5BTCgpe312YXIgaGFuZGxlcnM9e30sUkVKRUNURUQ9W1wiUkVKRUNURURcIl0sRlVMRklMTEVEPVtcIkZVTEZJTExFRFwiXSxQRU5ESU5HPVtcIlBFTkRJTkdcIl07ZnVuY3Rpb24gUHJvbWlzZShyZXNvbHZlcil7aWYoXCJmdW5jdGlvblwiIT10eXBlb2YgcmVzb2x2ZXIpdGhyb3cgbmV3IFR5cGVFcnJvcihcInJlc29sdmVyIG11c3QgYmUgYSBmdW5jdGlvblwiKTt0aGlzLnN0YXRlPVBFTkRJTkcsdGhpcy5xdWV1ZT1bXSx0aGlzLm91dGNvbWU9dm9pZCAwLHJlc29sdmVyIT09SU5URVJOQUwmJnNhZmVseVJlc29sdmVUaGVuYWJsZSh0aGlzLHJlc29sdmVyKX1mdW5jdGlvbiBRdWV1ZUl0ZW0ocHJvbWlzZSxvbkZ1bGZpbGxlZCxvblJlamVjdGVkKXt0aGlzLnByb21pc2U9cHJvbWlzZSxcImZ1bmN0aW9uXCI9PXR5cGVvZiBvbkZ1bGZpbGxlZCYmKHRoaXMub25GdWxmaWxsZWQ9b25GdWxmaWxsZWQsdGhpcy5jYWxsRnVsZmlsbGVkPXRoaXMub3RoZXJDYWxsRnVsZmlsbGVkKSxcImZ1bmN0aW9uXCI9PXR5cGVvZiBvblJlamVjdGVkJiYodGhpcy5vblJlamVjdGVkPW9uUmVqZWN0ZWQsdGhpcy5jYWxsUmVqZWN0ZWQ9dGhpcy5vdGhlckNhbGxSZWplY3RlZCl9ZnVuY3Rpb24gdW53cmFwKHByb21pc2UsZnVuYyx2YWx1ZSl7aW1tZWRpYXRlKGZ1bmN0aW9uKCl7dmFyIHJldHVyblZhbHVlO3RyeXtyZXR1cm5WYWx1ZT1mdW5jKHZhbHVlKX1jYXRjaChlKXtyZXR1cm4gaGFuZGxlcnMucmVqZWN0KHByb21pc2UsZSl9cmV0dXJuVmFsdWU9PT1wcm9taXNlP2hhbmRsZXJzLnJlamVjdChwcm9taXNlLG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgcmVzb2x2ZSBwcm9taXNlIHdpdGggaXRzZWxmXCIpKTpoYW5kbGVycy5yZXNvbHZlKHByb21pc2UscmV0dXJuVmFsdWUpfSl9ZnVuY3Rpb24gZ2V0VGhlbihvYmope3ZhciB0aGVuPW9iaiYmb2JqLnRoZW47aWYob2JqJiYoXCJvYmplY3RcIj09dHlwZW9mIG9ianx8XCJmdW5jdGlvblwiPT10eXBlb2Ygb2JqKSYmXCJmdW5jdGlvblwiPT10eXBlb2YgdGhlbilyZXR1cm4gZnVuY3Rpb24oKXt0aGVuLmFwcGx5KG9iaixhcmd1bWVudHMpfX1mdW5jdGlvbiBzYWZlbHlSZXNvbHZlVGhlbmFibGUoc2VsZix0aGVuYWJsZSl7dmFyIGNhbGxlZD0hMTtmdW5jdGlvbiBvbkVycm9yKHZhbHVlKXtjYWxsZWR8fChjYWxsZWQ9ITAsaGFuZGxlcnMucmVqZWN0KHNlbGYsdmFsdWUpKX1mdW5jdGlvbiBvblN1Y2Nlc3ModmFsdWUpe2NhbGxlZHx8KGNhbGxlZD0hMCxoYW5kbGVycy5yZXNvbHZlKHNlbGYsdmFsdWUpKX12YXIgcmVzdWx0PXRyeUNhdGNoKGZ1bmN0aW9uKCl7dGhlbmFibGUob25TdWNjZXNzLG9uRXJyb3IpfSk7XCJlcnJvclwiPT09cmVzdWx0LnN0YXR1cyYmb25FcnJvcihyZXN1bHQudmFsdWUpfWZ1bmN0aW9uIHRyeUNhdGNoKGZ1bmMsdmFsdWUpe3ZhciBvdXQ9e307dHJ5e291dC52YWx1ZT1mdW5jKHZhbHVlKSxvdXQuc3RhdHVzPVwic3VjY2Vzc1wifWNhdGNoKGUpe291dC5zdGF0dXM9XCJlcnJvclwiLG91dC52YWx1ZT1lfXJldHVybiBvdXR9bW9kdWxlLmV4cG9ydHM9UHJvbWlzZSxQcm9taXNlLnByb3RvdHlwZS5maW5hbGx5PWZ1bmN0aW9uKGNhbGxiYWNrKXtpZihcImZ1bmN0aW9uXCIhPXR5cGVvZiBjYWxsYmFjaylyZXR1cm4gdGhpczt2YXIgcD10aGlzLmNvbnN0cnVjdG9yO3JldHVybiB0aGlzLnRoZW4oZnVuY3Rpb24odmFsdWUpe3JldHVybiBwLnJlc29sdmUoY2FsbGJhY2soKSkudGhlbihmdW5jdGlvbigpe3JldHVybiB2YWx1ZX0pfSxmdW5jdGlvbihyZWFzb24pe3JldHVybiBwLnJlc29sdmUoY2FsbGJhY2soKSkudGhlbihmdW5jdGlvbigpe3Rocm93IHJlYXNvbn0pfSl9LFByb21pc2UucHJvdG90eXBlLmNhdGNoPWZ1bmN0aW9uKG9uUmVqZWN0ZWQpe3JldHVybiB0aGlzLnRoZW4obnVsbCxvblJlamVjdGVkKX0sUHJvbWlzZS5wcm90b3R5cGUudGhlbj1mdW5jdGlvbihvbkZ1bGZpbGxlZCxvblJlamVjdGVkKXtpZihcImZ1bmN0aW9uXCIhPXR5cGVvZiBvbkZ1bGZpbGxlZCYmdGhpcy5zdGF0ZT09PUZVTEZJTExFRHx8XCJmdW5jdGlvblwiIT10eXBlb2Ygb25SZWplY3RlZCYmdGhpcy5zdGF0ZT09PVJFSkVDVEVEKXJldHVybiB0aGlzO3ZhciBwcm9taXNlPW5ldyB0aGlzLmNvbnN0cnVjdG9yKElOVEVSTkFMKTt0aGlzLnN0YXRlIT09UEVORElORz91bndyYXAocHJvbWlzZSx0aGlzLnN0YXRlPT09RlVMRklMTEVEP29uRnVsZmlsbGVkOm9uUmVqZWN0ZWQsdGhpcy5vdXRjb21lKTp0aGlzLnF1ZXVlLnB1c2gobmV3IFF1ZXVlSXRlbShwcm9taXNlLG9uRnVsZmlsbGVkLG9uUmVqZWN0ZWQpKTtyZXR1cm4gcHJvbWlzZX0sUXVldWVJdGVtLnByb3RvdHlwZS5jYWxsRnVsZmlsbGVkPWZ1bmN0aW9uKHZhbHVlKXtoYW5kbGVycy5yZXNvbHZlKHRoaXMucHJvbWlzZSx2YWx1ZSl9LFF1ZXVlSXRlbS5wcm90b3R5cGUub3RoZXJDYWxsRnVsZmlsbGVkPWZ1bmN0aW9uKHZhbHVlKXt1bndyYXAodGhpcy5wcm9taXNlLHRoaXMub25GdWxmaWxsZWQsdmFsdWUpfSxRdWV1ZUl0ZW0ucHJvdG90eXBlLmNhbGxSZWplY3RlZD1mdW5jdGlvbih2YWx1ZSl7aGFuZGxlcnMucmVqZWN0KHRoaXMucHJvbWlzZSx2YWx1ZSl9LFF1ZXVlSXRlbS5wcm90b3R5cGUub3RoZXJDYWxsUmVqZWN0ZWQ9ZnVuY3Rpb24odmFsdWUpe3Vud3JhcCh0aGlzLnByb21pc2UsdGhpcy5vblJlamVjdGVkLHZhbHVlKX0saGFuZGxlcnMucmVzb2x2ZT1mdW5jdGlvbihzZWxmLHZhbHVlKXt2YXIgcmVzdWx0PXRyeUNhdGNoKGdldFRoZW4sdmFsdWUpO2lmKFwiZXJyb3JcIj09PXJlc3VsdC5zdGF0dXMpcmV0dXJuIGhhbmRsZXJzLnJlamVjdChzZWxmLHJlc3VsdC52YWx1ZSk7dmFyIHRoZW5hYmxlPXJlc3VsdC52YWx1ZTtpZih0aGVuYWJsZSlzYWZlbHlSZXNvbHZlVGhlbmFibGUoc2VsZix0aGVuYWJsZSk7ZWxzZXtzZWxmLnN0YXRlPUZVTEZJTExFRCxzZWxmLm91dGNvbWU9dmFsdWU7Zm9yKHZhciBpPS0xLGxlbj1zZWxmLnF1ZXVlLmxlbmd0aDsrK2k8bGVuOylzZWxmLnF1ZXVlW2ldLmNhbGxGdWxmaWxsZWQodmFsdWUpfXJldHVybiBzZWxmfSxoYW5kbGVycy5yZWplY3Q9ZnVuY3Rpb24oc2VsZixlcnJvcil7c2VsZi5zdGF0ZT1SRUpFQ1RFRCxzZWxmLm91dGNvbWU9ZXJyb3I7Zm9yKHZhciBpPS0xLGxlbj1zZWxmLnF1ZXVlLmxlbmd0aDsrK2k8bGVuOylzZWxmLnF1ZXVlW2ldLmNhbGxSZWplY3RlZChlcnJvcik7cmV0dXJuIHNlbGZ9LFByb21pc2UucmVzb2x2ZT1mdW5jdGlvbih2YWx1ZSl7aWYodmFsdWUgaW5zdGFuY2VvZiB0aGlzKXJldHVybiB2YWx1ZTtyZXR1cm4gaGFuZGxlcnMucmVzb2x2ZShuZXcgdGhpcyhJTlRFUk5BTCksdmFsdWUpfSxQcm9taXNlLnJlamVjdD1mdW5jdGlvbihyZWFzb24pe3ZhciBwcm9taXNlPW5ldyB0aGlzKElOVEVSTkFMKTtyZXR1cm4gaGFuZGxlcnMucmVqZWN0KHByb21pc2UscmVhc29uKX0sUHJvbWlzZS5hbGw9ZnVuY3Rpb24oaXRlcmFibGUpe3ZhciBzZWxmPXRoaXM7aWYoXCJbb2JqZWN0IEFycmF5XVwiIT09T2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKGl0ZXJhYmxlKSlyZXR1cm4gdGhpcy5yZWplY3QobmV3IFR5cGVFcnJvcihcIm11c3QgYmUgYW4gYXJyYXlcIikpO3ZhciBsZW49aXRlcmFibGUubGVuZ3RoLGNhbGxlZD0hMTtpZighbGVuKXJldHVybiB0aGlzLnJlc29sdmUoW10pO3ZhciB2YWx1ZXM9bmV3IEFycmF5KGxlbikscmVzb2x2ZWQ9MCxpPS0xLHByb21pc2U9bmV3IHRoaXMoSU5URVJOQUwpO2Zvcig7KytpPGxlbjspYWxsUmVzb2x2ZXIoaXRlcmFibGVbaV0saSk7cmV0dXJuIHByb21pc2U7ZnVuY3Rpb24gYWxsUmVzb2x2ZXIodmFsdWUsaSl7c2VsZi5yZXNvbHZlKHZhbHVlKS50aGVuKGZ1bmN0aW9uKG91dFZhbHVlKXt2YWx1ZXNbaV09b3V0VmFsdWUsKytyZXNvbHZlZCE9PWxlbnx8Y2FsbGVkfHwoY2FsbGVkPSEwLGhhbmRsZXJzLnJlc29sdmUocHJvbWlzZSx2YWx1ZXMpKX0sZnVuY3Rpb24oZXJyb3Ipe2NhbGxlZHx8KGNhbGxlZD0hMCxoYW5kbGVycy5yZWplY3QocHJvbWlzZSxlcnJvcikpfSl9fSxQcm9taXNlLnJhY2U9ZnVuY3Rpb24oaXRlcmFibGUpe3ZhciBzZWxmPXRoaXM7aWYoXCJbb2JqZWN0IEFycmF5XVwiIT09T2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKGl0ZXJhYmxlKSlyZXR1cm4gdGhpcy5yZWplY3QobmV3IFR5cGVFcnJvcihcIm11c3QgYmUgYW4gYXJyYXlcIikpO3ZhciBsZW49aXRlcmFibGUubGVuZ3RoLGNhbGxlZD0hMTtpZighbGVuKXJldHVybiB0aGlzLnJlc29sdmUoW10pO3ZhciBpPS0xLHByb21pc2U9bmV3IHRoaXMoSU5URVJOQUwpO2Zvcig7KytpPGxlbjspcmVzb2x2ZXIoaXRlcmFibGVbaV0pO3JldHVybiBwcm9taXNlO2Z1bmN0aW9uIHJlc29sdmVyKHZhbHVlKXtzZWxmLnJlc29sdmUodmFsdWUpLnRoZW4oZnVuY3Rpb24ocmVzcG9uc2Upe2NhbGxlZHx8KGNhbGxlZD0hMCxoYW5kbGVycy5yZXNvbHZlKHByb21pc2UscmVzcG9uc2UpKX0sZnVuY3Rpb24oZXJyb3Ipe2NhbGxlZHx8KGNhbGxlZD0hMCxoYW5kbGVycy5yZWplY3QocHJvbWlzZSxlcnJvcikpfSl9fX0sZnVuY3Rpb24obW9kdWxlLGV4cG9ydHMsX193ZWJwYWNrX3JlcXVpcmVfXyl7XCJ1c2Ugc3RyaWN0XCI7KGZ1bmN0aW9uKGdsb2JhbCl7dmFyIHNjaGVkdWxlRHJhaW4sZHJhaW5pbmcsTXV0YXRpb249Z2xvYmFsLk11dGF0aW9uT2JzZXJ2ZXJ8fGdsb2JhbC5XZWJLaXRNdXRhdGlvbk9ic2VydmVyO2lmKE11dGF0aW9uKXt2YXIgY2FsbGVkPTAsb2JzZXJ2ZXI9bmV3IE11dGF0aW9uKG5leHRUaWNrKSxlbGVtZW50PWdsb2JhbC5kb2N1bWVudC5jcmVhdGVUZXh0Tm9kZShcIlwiKTtvYnNlcnZlci5vYnNlcnZlKGVsZW1lbnQse2NoYXJhY3RlckRhdGE6ITB9KSxzY2hlZHVsZURyYWluPWZ1bmN0aW9uKCl7ZWxlbWVudC5kYXRhPWNhbGxlZD0rK2NhbGxlZCUyfX1lbHNlIGlmKGdsb2JhbC5zZXRJbW1lZGlhdGV8fHZvaWQgMD09PWdsb2JhbC5NZXNzYWdlQ2hhbm5lbClzY2hlZHVsZURyYWluPVwiZG9jdW1lbnRcImluIGdsb2JhbCYmXCJvbnJlYWR5c3RhdGVjaGFuZ2VcImluIGdsb2JhbC5kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwic2NyaXB0XCIpP2Z1bmN0aW9uKCl7dmFyIHNjcmlwdEVsPWdsb2JhbC5kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwic2NyaXB0XCIpO3NjcmlwdEVsLm9ucmVhZHlzdGF0ZWNoYW5nZT1mdW5jdGlvbigpe25leHRUaWNrKCksc2NyaXB0RWwub25yZWFkeXN0YXRlY2hhbmdlPW51bGwsc2NyaXB0RWwucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChzY3JpcHRFbCksc2NyaXB0RWw9bnVsbH0sZ2xvYmFsLmRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5hcHBlbmRDaGlsZChzY3JpcHRFbCl9OmZ1bmN0aW9uKCl7c2V0VGltZW91dChuZXh0VGljaywwKX07ZWxzZXt2YXIgY2hhbm5lbD1uZXcgZ2xvYmFsLk1lc3NhZ2VDaGFubmVsO2NoYW5uZWwucG9ydDEub25tZXNzYWdlPW5leHRUaWNrLHNjaGVkdWxlRHJhaW49ZnVuY3Rpb24oKXtjaGFubmVsLnBvcnQyLnBvc3RNZXNzYWdlKDApfX12YXIgcXVldWU9W107ZnVuY3Rpb24gbmV4dFRpY2soKXt2YXIgaSxvbGRRdWV1ZTtkcmFpbmluZz0hMDtmb3IodmFyIGxlbj1xdWV1ZS5sZW5ndGg7bGVuOyl7Zm9yKG9sZFF1ZXVlPXF1ZXVlLHF1ZXVlPVtdLGk9LTE7KytpPGxlbjspb2xkUXVldWVbaV0oKTtsZW49cXVldWUubGVuZ3RofWRyYWluaW5nPSExfW1vZHVsZS5leHBvcnRzPWZ1bmN0aW9uKHRhc2spezEhPT1xdWV1ZS5wdXNoKHRhc2spfHxkcmFpbmluZ3x8c2NoZWR1bGVEcmFpbigpfX0pLmNhbGwodGhpcyxfX3dlYnBhY2tfcmVxdWlyZV9fKDExKSl9LGZ1bmN0aW9uKG1vZHVsZSxleHBvcnRzLF9fd2VicGFja19yZXF1aXJlX18pe1widXNlIHN0cmljdFwiO3ZhciBHZW5lcmljV29ya2VyPV9fd2VicGFja19yZXF1aXJlX18oMiksdXRpbHM9X193ZWJwYWNrX3JlcXVpcmVfXygwKTtmdW5jdGlvbiBDb252ZXJ0V29ya2VyKGRlc3RUeXBlKXtHZW5lcmljV29ya2VyLmNhbGwodGhpcyxcIkNvbnZlcnRXb3JrZXIgdG8gXCIrZGVzdFR5cGUpLHRoaXMuZGVzdFR5cGU9ZGVzdFR5cGV9dXRpbHMuaW5oZXJpdHMoQ29udmVydFdvcmtlcixHZW5lcmljV29ya2VyKSxDb252ZXJ0V29ya2VyLnByb3RvdHlwZS5wcm9jZXNzQ2h1bms9ZnVuY3Rpb24oY2h1bmspe3RoaXMucHVzaCh7ZGF0YTp1dGlscy50cmFuc2Zvcm1Ubyh0aGlzLmRlc3RUeXBlLGNodW5rLmRhdGEpLG1ldGE6Y2h1bmsubWV0YX0pfSxtb2R1bGUuZXhwb3J0cz1Db252ZXJ0V29ya2VyfSxmdW5jdGlvbihtb2R1bGUsZXhwb3J0cyxfX3dlYnBhY2tfcmVxdWlyZV9fKXtcInVzZSBzdHJpY3RcIjt2YXIgUmVhZGFibGU9X193ZWJwYWNrX3JlcXVpcmVfXyg1MSkuUmVhZGFibGU7ZnVuY3Rpb24gTm9kZWpzU3RyZWFtT3V0cHV0QWRhcHRlcihoZWxwZXIsb3B0aW9ucyx1cGRhdGVDYil7UmVhZGFibGUuY2FsbCh0aGlzLG9wdGlvbnMpLHRoaXMuX2hlbHBlcj1oZWxwZXI7dmFyIHNlbGY9dGhpcztoZWxwZXIub24oXCJkYXRhXCIsZnVuY3Rpb24oZGF0YSxtZXRhKXtzZWxmLnB1c2goZGF0YSl8fHNlbGYuX2hlbHBlci5wYXVzZSgpLHVwZGF0ZUNiJiZ1cGRhdGVDYihtZXRhKX0pLm9uKFwiZXJyb3JcIixmdW5jdGlvbihlKXtzZWxmLmVtaXQoXCJlcnJvclwiLGUpfSkub24oXCJlbmRcIixmdW5jdGlvbigpe3NlbGYucHVzaChudWxsKX0pfV9fd2VicGFja19yZXF1aXJlX18oMCkuaW5oZXJpdHMoTm9kZWpzU3RyZWFtT3V0cHV0QWRhcHRlcixSZWFkYWJsZSksTm9kZWpzU3RyZWFtT3V0cHV0QWRhcHRlci5wcm90b3R5cGUuX3JlYWQ9ZnVuY3Rpb24oKXt0aGlzLl9oZWxwZXIucmVzdW1lKCl9LG1vZHVsZS5leHBvcnRzPU5vZGVqc1N0cmVhbU91dHB1dEFkYXB0ZXJ9LGZ1bmN0aW9uKG1vZHVsZSxleHBvcnRzLF9fd2VicGFja19yZXF1aXJlX18pe1widXNlIHN0cmljdFwiO3ZhciBTdHJlYW1IZWxwZXI9X193ZWJwYWNrX3JlcXVpcmVfXyg1OSksRGF0YVdvcmtlcj1fX3dlYnBhY2tfcmVxdWlyZV9fKDYxKSx1dGY4PV9fd2VicGFja19yZXF1aXJlX18oMTMpLENvbXByZXNzZWRPYmplY3Q9X193ZWJwYWNrX3JlcXVpcmVfXyg0MyksR2VuZXJpY1dvcmtlcj1fX3dlYnBhY2tfcmVxdWlyZV9fKDIpLFppcE9iamVjdD1mdW5jdGlvbihuYW1lLGRhdGEsb3B0aW9ucyl7dGhpcy5uYW1lPW5hbWUsdGhpcy5kaXI9b3B0aW9ucy5kaXIsdGhpcy5kYXRlPW9wdGlvbnMuZGF0ZSx0aGlzLmNvbW1lbnQ9b3B0aW9ucy5jb21tZW50LHRoaXMudW5peFBlcm1pc3Npb25zPW9wdGlvbnMudW5peFBlcm1pc3Npb25zLHRoaXMuZG9zUGVybWlzc2lvbnM9b3B0aW9ucy5kb3NQZXJtaXNzaW9ucyx0aGlzLl9kYXRhPWRhdGEsdGhpcy5fZGF0YUJpbmFyeT1vcHRpb25zLmJpbmFyeSx0aGlzLm9wdGlvbnM9e2NvbXByZXNzaW9uOm9wdGlvbnMuY29tcHJlc3Npb24sY29tcHJlc3Npb25PcHRpb25zOm9wdGlvbnMuY29tcHJlc3Npb25PcHRpb25zfX07WmlwT2JqZWN0LnByb3RvdHlwZT17aW50ZXJuYWxTdHJlYW06ZnVuY3Rpb24odHlwZSl7dmFyIHJlc3VsdD1udWxsLG91dHB1dFR5cGU9XCJzdHJpbmdcIjt0cnl7aWYoIXR5cGUpdGhyb3cgbmV3IEVycm9yKFwiTm8gb3V0cHV0IHR5cGUgc3BlY2lmaWVkLlwiKTt2YXIgYXNrVW5pY29kZVN0cmluZz1cInN0cmluZ1wiPT09KG91dHB1dFR5cGU9dHlwZS50b0xvd2VyQ2FzZSgpKXx8XCJ0ZXh0XCI9PT1vdXRwdXRUeXBlO1wiYmluYXJ5c3RyaW5nXCIhPT1vdXRwdXRUeXBlJiZcInRleHRcIiE9PW91dHB1dFR5cGV8fChvdXRwdXRUeXBlPVwic3RyaW5nXCIpLHJlc3VsdD10aGlzLl9kZWNvbXByZXNzV29ya2VyKCk7dmFyIGlzVW5pY29kZVN0cmluZz0hdGhpcy5fZGF0YUJpbmFyeTtpc1VuaWNvZGVTdHJpbmcmJiFhc2tVbmljb2RlU3RyaW5nJiYocmVzdWx0PXJlc3VsdC5waXBlKG5ldyB1dGY4LlV0ZjhFbmNvZGVXb3JrZXIpKSwhaXNVbmljb2RlU3RyaW5nJiZhc2tVbmljb2RlU3RyaW5nJiYocmVzdWx0PXJlc3VsdC5waXBlKG5ldyB1dGY4LlV0ZjhEZWNvZGVXb3JrZXIpKX1jYXRjaChlKXsocmVzdWx0PW5ldyBHZW5lcmljV29ya2VyKFwiZXJyb3JcIikpLmVycm9yKGUpfXJldHVybiBuZXcgU3RyZWFtSGVscGVyKHJlc3VsdCxvdXRwdXRUeXBlLFwiXCIpfSxhc3luYzpmdW5jdGlvbih0eXBlLG9uVXBkYXRlKXtyZXR1cm4gdGhpcy5pbnRlcm5hbFN0cmVhbSh0eXBlKS5hY2N1bXVsYXRlKG9uVXBkYXRlKX0sbm9kZVN0cmVhbTpmdW5jdGlvbih0eXBlLG9uVXBkYXRlKXtyZXR1cm4gdGhpcy5pbnRlcm5hbFN0cmVhbSh0eXBlfHxcIm5vZGVidWZmZXJcIikudG9Ob2RlanNTdHJlYW0ob25VcGRhdGUpfSxfY29tcHJlc3NXb3JrZXI6ZnVuY3Rpb24oY29tcHJlc3Npb24sY29tcHJlc3Npb25PcHRpb25zKXtpZih0aGlzLl9kYXRhIGluc3RhbmNlb2YgQ29tcHJlc3NlZE9iamVjdCYmdGhpcy5fZGF0YS5jb21wcmVzc2lvbi5tYWdpYz09PWNvbXByZXNzaW9uLm1hZ2ljKXJldHVybiB0aGlzLl9kYXRhLmdldENvbXByZXNzZWRXb3JrZXIoKTt2YXIgcmVzdWx0PXRoaXMuX2RlY29tcHJlc3NXb3JrZXIoKTtyZXR1cm4gdGhpcy5fZGF0YUJpbmFyeXx8KHJlc3VsdD1yZXN1bHQucGlwZShuZXcgdXRmOC5VdGY4RW5jb2RlV29ya2VyKSksQ29tcHJlc3NlZE9iamVjdC5jcmVhdGVXb3JrZXJGcm9tKHJlc3VsdCxjb21wcmVzc2lvbixjb21wcmVzc2lvbk9wdGlvbnMpfSxfZGVjb21wcmVzc1dvcmtlcjpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9kYXRhIGluc3RhbmNlb2YgQ29tcHJlc3NlZE9iamVjdD90aGlzLl9kYXRhLmdldENvbnRlbnRXb3JrZXIoKTp0aGlzLl9kYXRhIGluc3RhbmNlb2YgR2VuZXJpY1dvcmtlcj90aGlzLl9kYXRhOm5ldyBEYXRhV29ya2VyKHRoaXMuX2RhdGEpfX07Zm9yKHZhciByZW1vdmVkTWV0aG9kcz1bXCJhc1RleHRcIixcImFzQmluYXJ5XCIsXCJhc05vZGVCdWZmZXJcIixcImFzVWludDhBcnJheVwiLFwiYXNBcnJheUJ1ZmZlclwiXSxyZW1vdmVkRm49ZnVuY3Rpb24oKXt0aHJvdyBuZXcgRXJyb3IoXCJUaGlzIG1ldGhvZCBoYXMgYmVlbiByZW1vdmVkIGluIEpTWmlwIDMuMCwgcGxlYXNlIGNoZWNrIHRoZSB1cGdyYWRlIGd1aWRlLlwiKX0saT0wO2k8cmVtb3ZlZE1ldGhvZHMubGVuZ3RoO2krKylaaXBPYmplY3QucHJvdG90eXBlW3JlbW92ZWRNZXRob2RzW2ldXT1yZW1vdmVkRm47bW9kdWxlLmV4cG9ydHM9WmlwT2JqZWN0fSxmdW5jdGlvbihtb2R1bGUsZXhwb3J0cyxfX3dlYnBhY2tfcmVxdWlyZV9fKXtcInVzZSBzdHJpY3RcIjt2YXIgY29tcHJlc3Npb25zPV9fd2VicGFja19yZXF1aXJlX18oNjQpLFppcEZpbGVXb3JrZXI9X193ZWJwYWNrX3JlcXVpcmVfXygxMTcpO2V4cG9ydHMuZ2VuZXJhdGVXb3JrZXI9ZnVuY3Rpb24oemlwLG9wdGlvbnMsY29tbWVudCl7dmFyIHppcEZpbGVXb3JrZXI9bmV3IFppcEZpbGVXb3JrZXIob3B0aW9ucy5zdHJlYW1GaWxlcyxjb21tZW50LG9wdGlvbnMucGxhdGZvcm0sb3B0aW9ucy5lbmNvZGVGaWxlTmFtZSksZW50cmllc0NvdW50PTA7dHJ5e3ppcC5mb3JFYWNoKGZ1bmN0aW9uKHJlbGF0aXZlUGF0aCxmaWxlKXtlbnRyaWVzQ291bnQrKzt2YXIgY29tcHJlc3Npb249ZnVuY3Rpb24oZmlsZUNvbXByZXNzaW9uLHppcENvbXByZXNzaW9uKXt2YXIgY29tcHJlc3Npb25OYW1lPWZpbGVDb21wcmVzc2lvbnx8emlwQ29tcHJlc3Npb24sY29tcHJlc3Npb249Y29tcHJlc3Npb25zW2NvbXByZXNzaW9uTmFtZV07aWYoIWNvbXByZXNzaW9uKXRocm93IG5ldyBFcnJvcihjb21wcmVzc2lvbk5hbWUrXCIgaXMgbm90IGEgdmFsaWQgY29tcHJlc3Npb24gbWV0aG9kICFcIik7cmV0dXJuIGNvbXByZXNzaW9ufShmaWxlLm9wdGlvbnMuY29tcHJlc3Npb24sb3B0aW9ucy5jb21wcmVzc2lvbiksY29tcHJlc3Npb25PcHRpb25zPWZpbGUub3B0aW9ucy5jb21wcmVzc2lvbk9wdGlvbnN8fG9wdGlvbnMuY29tcHJlc3Npb25PcHRpb25zfHx7fSxkaXI9ZmlsZS5kaXIsZGF0ZT1maWxlLmRhdGU7ZmlsZS5fY29tcHJlc3NXb3JrZXIoY29tcHJlc3Npb24sY29tcHJlc3Npb25PcHRpb25zKS53aXRoU3RyZWFtSW5mbyhcImZpbGVcIix7bmFtZTpyZWxhdGl2ZVBhdGgsZGlyOmRpcixkYXRlOmRhdGUsY29tbWVudDpmaWxlLmNvbW1lbnR8fFwiXCIsdW5peFBlcm1pc3Npb25zOmZpbGUudW5peFBlcm1pc3Npb25zLGRvc1Blcm1pc3Npb25zOmZpbGUuZG9zUGVybWlzc2lvbnN9KS5waXBlKHppcEZpbGVXb3JrZXIpfSksemlwRmlsZVdvcmtlci5lbnRyaWVzQ291bnQ9ZW50cmllc0NvdW50fWNhdGNoKGUpe3ppcEZpbGVXb3JrZXIuZXJyb3IoZSl9cmV0dXJuIHppcEZpbGVXb3JrZXJ9fSxmdW5jdGlvbihtb2R1bGUsZXhwb3J0cyxfX3dlYnBhY2tfcmVxdWlyZV9fKXtcInVzZSBzdHJpY3RcIjt2YXIgVVNFX1RZUEVEQVJSQVk9XCJ1bmRlZmluZWRcIiE9dHlwZW9mIFVpbnQ4QXJyYXkmJlwidW5kZWZpbmVkXCIhPXR5cGVvZiBVaW50MTZBcnJheSYmXCJ1bmRlZmluZWRcIiE9dHlwZW9mIFVpbnQzMkFycmF5LHBha289X193ZWJwYWNrX3JlcXVpcmVfXygxMDgpLHV0aWxzPV9fd2VicGFja19yZXF1aXJlX18oMCksR2VuZXJpY1dvcmtlcj1fX3dlYnBhY2tfcmVxdWlyZV9fKDIpLEFSUkFZX1RZUEU9VVNFX1RZUEVEQVJSQVk/XCJ1aW50OGFycmF5XCI6XCJhcnJheVwiO2Z1bmN0aW9uIEZsYXRlV29ya2VyKGFjdGlvbixvcHRpb25zKXtHZW5lcmljV29ya2VyLmNhbGwodGhpcyxcIkZsYXRlV29ya2VyL1wiK2FjdGlvbiksdGhpcy5fcGFrbz1udWxsLHRoaXMuX3Bha29BY3Rpb249YWN0aW9uLHRoaXMuX3Bha29PcHRpb25zPW9wdGlvbnMsdGhpcy5tZXRhPXt9fWV4cG9ydHMubWFnaWM9XCJcXGJcXDBcIix1dGlscy5pbmhlcml0cyhGbGF0ZVdvcmtlcixHZW5lcmljV29ya2VyKSxGbGF0ZVdvcmtlci5wcm90b3R5cGUucHJvY2Vzc0NodW5rPWZ1bmN0aW9uKGNodW5rKXt0aGlzLm1ldGE9Y2h1bmsubWV0YSxudWxsPT09dGhpcy5fcGFrbyYmdGhpcy5fY3JlYXRlUGFrbygpLHRoaXMuX3Bha28ucHVzaCh1dGlscy50cmFuc2Zvcm1UbyhBUlJBWV9UWVBFLGNodW5rLmRhdGEpLCExKX0sRmxhdGVXb3JrZXIucHJvdG90eXBlLmZsdXNoPWZ1bmN0aW9uKCl7R2VuZXJpY1dvcmtlci5wcm90b3R5cGUuZmx1c2guY2FsbCh0aGlzKSxudWxsPT09dGhpcy5fcGFrbyYmdGhpcy5fY3JlYXRlUGFrbygpLHRoaXMuX3Bha28ucHVzaChbXSwhMCl9LEZsYXRlV29ya2VyLnByb3RvdHlwZS5jbGVhblVwPWZ1bmN0aW9uKCl7R2VuZXJpY1dvcmtlci5wcm90b3R5cGUuY2xlYW5VcC5jYWxsKHRoaXMpLHRoaXMuX3Bha289bnVsbH0sRmxhdGVXb3JrZXIucHJvdG90eXBlLl9jcmVhdGVQYWtvPWZ1bmN0aW9uKCl7dGhpcy5fcGFrbz1uZXcgcGFrb1t0aGlzLl9wYWtvQWN0aW9uXSh7cmF3OiEwLGxldmVsOnRoaXMuX3Bha29PcHRpb25zLmxldmVsfHwtMX0pO3ZhciBzZWxmPXRoaXM7dGhpcy5fcGFrby5vbkRhdGE9ZnVuY3Rpb24oZGF0YSl7c2VsZi5wdXNoKHtkYXRhOmRhdGEsbWV0YTpzZWxmLm1ldGF9KX19LGV4cG9ydHMuY29tcHJlc3NXb3JrZXI9ZnVuY3Rpb24oY29tcHJlc3Npb25PcHRpb25zKXtyZXR1cm4gbmV3IEZsYXRlV29ya2VyKFwiRGVmbGF0ZVwiLGNvbXByZXNzaW9uT3B0aW9ucyl9LGV4cG9ydHMudW5jb21wcmVzc1dvcmtlcj1mdW5jdGlvbigpe3JldHVybiBuZXcgRmxhdGVXb3JrZXIoXCJJbmZsYXRlXCIse30pfX0sZnVuY3Rpb24obW9kdWxlLGV4cG9ydHMsX193ZWJwYWNrX3JlcXVpcmVfXyl7XCJ1c2Ugc3RyaWN0XCI7dmFyIHBha289e307KDAsX193ZWJwYWNrX3JlcXVpcmVfXyg4KS5hc3NpZ24pKHBha28sX193ZWJwYWNrX3JlcXVpcmVfXygxMDkpLF9fd2VicGFja19yZXF1aXJlX18oMTEyKSxfX3dlYnBhY2tfcmVxdWlyZV9fKDY5KSksbW9kdWxlLmV4cG9ydHM9cGFrb30sZnVuY3Rpb24obW9kdWxlLGV4cG9ydHMsX193ZWJwYWNrX3JlcXVpcmVfXyl7XCJ1c2Ugc3RyaWN0XCI7dmFyIHpsaWJfZGVmbGF0ZT1fX3dlYnBhY2tfcmVxdWlyZV9fKDExMCksdXRpbHM9X193ZWJwYWNrX3JlcXVpcmVfXyg4KSxzdHJpbmdzPV9fd2VicGFja19yZXF1aXJlX18oNjcpLG1zZz1fX3dlYnBhY2tfcmVxdWlyZV9fKDQ1KSxaU3RyZWFtPV9fd2VicGFja19yZXF1aXJlX18oNjgpLHRvU3RyaW5nPU9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcsWl9PSz0wLFpfREVGQVVMVF9DT01QUkVTU0lPTj0tMSxaX0RFRkFVTFRfU1RSQVRFR1k9MCxaX0RFRkxBVEVEPTg7ZnVuY3Rpb24gRGVmbGF0ZShvcHRpb25zKXtpZighKHRoaXMgaW5zdGFuY2VvZiBEZWZsYXRlKSlyZXR1cm4gbmV3IERlZmxhdGUob3B0aW9ucyk7dGhpcy5vcHRpb25zPXV0aWxzLmFzc2lnbih7bGV2ZWw6Wl9ERUZBVUxUX0NPTVBSRVNTSU9OLG1ldGhvZDpaX0RFRkxBVEVELGNodW5rU2l6ZToxNjM4NCx3aW5kb3dCaXRzOjE1LG1lbUxldmVsOjgsc3RyYXRlZ3k6Wl9ERUZBVUxUX1NUUkFURUdZLHRvOlwiXCJ9LG9wdGlvbnN8fHt9KTt2YXIgb3B0PXRoaXMub3B0aW9ucztvcHQucmF3JiZvcHQud2luZG93Qml0cz4wP29wdC53aW5kb3dCaXRzPS1vcHQud2luZG93Qml0czpvcHQuZ3ppcCYmb3B0LndpbmRvd0JpdHM+MCYmb3B0LndpbmRvd0JpdHM8MTYmJihvcHQud2luZG93Qml0cys9MTYpLHRoaXMuZXJyPTAsdGhpcy5tc2c9XCJcIix0aGlzLmVuZGVkPSExLHRoaXMuY2h1bmtzPVtdLHRoaXMuc3RybT1uZXcgWlN0cmVhbSx0aGlzLnN0cm0uYXZhaWxfb3V0PTA7dmFyIHN0YXR1cz16bGliX2RlZmxhdGUuZGVmbGF0ZUluaXQyKHRoaXMuc3RybSxvcHQubGV2ZWwsb3B0Lm1ldGhvZCxvcHQud2luZG93Qml0cyxvcHQubWVtTGV2ZWwsb3B0LnN0cmF0ZWd5KTtpZihzdGF0dXMhPT1aX09LKXRocm93IG5ldyBFcnJvcihtc2dbc3RhdHVzXSk7aWYob3B0LmhlYWRlciYmemxpYl9kZWZsYXRlLmRlZmxhdGVTZXRIZWFkZXIodGhpcy5zdHJtLG9wdC5oZWFkZXIpLG9wdC5kaWN0aW9uYXJ5KXt2YXIgZGljdDtpZihkaWN0PVwic3RyaW5nXCI9PXR5cGVvZiBvcHQuZGljdGlvbmFyeT9zdHJpbmdzLnN0cmluZzJidWYob3B0LmRpY3Rpb25hcnkpOlwiW29iamVjdCBBcnJheUJ1ZmZlcl1cIj09PXRvU3RyaW5nLmNhbGwob3B0LmRpY3Rpb25hcnkpP25ldyBVaW50OEFycmF5KG9wdC5kaWN0aW9uYXJ5KTpvcHQuZGljdGlvbmFyeSwoc3RhdHVzPXpsaWJfZGVmbGF0ZS5kZWZsYXRlU2V0RGljdGlvbmFyeSh0aGlzLnN0cm0sZGljdCkpIT09Wl9PSyl0aHJvdyBuZXcgRXJyb3IobXNnW3N0YXR1c10pO3RoaXMuX2RpY3Rfc2V0PSEwfX1mdW5jdGlvbiBkZWZsYXRlKGlucHV0LG9wdGlvbnMpe3ZhciBkZWZsYXRvcj1uZXcgRGVmbGF0ZShvcHRpb25zKTtpZihkZWZsYXRvci5wdXNoKGlucHV0LCEwKSxkZWZsYXRvci5lcnIpdGhyb3cgZGVmbGF0b3IubXNnfHxtc2dbZGVmbGF0b3IuZXJyXTtyZXR1cm4gZGVmbGF0b3IucmVzdWx0fURlZmxhdGUucHJvdG90eXBlLnB1c2g9ZnVuY3Rpb24oZGF0YSxtb2RlKXt2YXIgc3RhdHVzLF9tb2RlLHN0cm09dGhpcy5zdHJtLGNodW5rU2l6ZT10aGlzLm9wdGlvbnMuY2h1bmtTaXplO2lmKHRoaXMuZW5kZWQpcmV0dXJuITE7X21vZGU9bW9kZT09PX5+bW9kZT9tb2RlOiEwPT09bW9kZT80OjAsXCJzdHJpbmdcIj09dHlwZW9mIGRhdGE/c3RybS5pbnB1dD1zdHJpbmdzLnN0cmluZzJidWYoZGF0YSk6XCJbb2JqZWN0IEFycmF5QnVmZmVyXVwiPT09dG9TdHJpbmcuY2FsbChkYXRhKT9zdHJtLmlucHV0PW5ldyBVaW50OEFycmF5KGRhdGEpOnN0cm0uaW5wdXQ9ZGF0YSxzdHJtLm5leHRfaW49MCxzdHJtLmF2YWlsX2luPXN0cm0uaW5wdXQubGVuZ3RoO2Rve2lmKDA9PT1zdHJtLmF2YWlsX291dCYmKHN0cm0ub3V0cHV0PW5ldyB1dGlscy5CdWY4KGNodW5rU2l6ZSksc3RybS5uZXh0X291dD0wLHN0cm0uYXZhaWxfb3V0PWNodW5rU2l6ZSksMSE9PShzdGF0dXM9emxpYl9kZWZsYXRlLmRlZmxhdGUoc3RybSxfbW9kZSkpJiZzdGF0dXMhPT1aX09LKXJldHVybiB0aGlzLm9uRW5kKHN0YXR1cyksdGhpcy5lbmRlZD0hMCwhMTswIT09c3RybS5hdmFpbF9vdXQmJigwIT09c3RybS5hdmFpbF9pbnx8NCE9PV9tb2RlJiYyIT09X21vZGUpfHwoXCJzdHJpbmdcIj09PXRoaXMub3B0aW9ucy50bz90aGlzLm9uRGF0YShzdHJpbmdzLmJ1ZjJiaW5zdHJpbmcodXRpbHMuc2hyaW5rQnVmKHN0cm0ub3V0cHV0LHN0cm0ubmV4dF9vdXQpKSk6dGhpcy5vbkRhdGEodXRpbHMuc2hyaW5rQnVmKHN0cm0ub3V0cHV0LHN0cm0ubmV4dF9vdXQpKSl9d2hpbGUoKHN0cm0uYXZhaWxfaW4+MHx8MD09PXN0cm0uYXZhaWxfb3V0KSYmMSE9PXN0YXR1cyk7cmV0dXJuIDQ9PT1fbW9kZT8oc3RhdHVzPXpsaWJfZGVmbGF0ZS5kZWZsYXRlRW5kKHRoaXMuc3RybSksdGhpcy5vbkVuZChzdGF0dXMpLHRoaXMuZW5kZWQ9ITAsc3RhdHVzPT09Wl9PSyk6MiE9PV9tb2RlfHwodGhpcy5vbkVuZChaX09LKSxzdHJtLmF2YWlsX291dD0wLCEwKX0sRGVmbGF0ZS5wcm90b3R5cGUub25EYXRhPWZ1bmN0aW9uKGNodW5rKXt0aGlzLmNodW5rcy5wdXNoKGNodW5rKX0sRGVmbGF0ZS5wcm90b3R5cGUub25FbmQ9ZnVuY3Rpb24oc3RhdHVzKXtzdGF0dXM9PT1aX09LJiYoXCJzdHJpbmdcIj09PXRoaXMub3B0aW9ucy50bz90aGlzLnJlc3VsdD10aGlzLmNodW5rcy5qb2luKFwiXCIpOnRoaXMucmVzdWx0PXV0aWxzLmZsYXR0ZW5DaHVua3ModGhpcy5jaHVua3MpKSx0aGlzLmNodW5rcz1bXSx0aGlzLmVycj1zdGF0dXMsdGhpcy5tc2c9dGhpcy5zdHJtLm1zZ30sZXhwb3J0cy5EZWZsYXRlPURlZmxhdGUsZXhwb3J0cy5kZWZsYXRlPWRlZmxhdGUsZXhwb3J0cy5kZWZsYXRlUmF3PWZ1bmN0aW9uKGlucHV0LG9wdGlvbnMpe3JldHVybihvcHRpb25zPW9wdGlvbnN8fHt9KS5yYXc9ITAsZGVmbGF0ZShpbnB1dCxvcHRpb25zKX0sZXhwb3J0cy5nemlwPWZ1bmN0aW9uKGlucHV0LG9wdGlvbnMpe3JldHVybihvcHRpb25zPW9wdGlvbnN8fHt9KS5nemlwPSEwLGRlZmxhdGUoaW5wdXQsb3B0aW9ucyl9fSxmdW5jdGlvbihtb2R1bGUsZXhwb3J0cyxfX3dlYnBhY2tfcmVxdWlyZV9fKXtcInVzZSBzdHJpY3RcIjt2YXIgY29uZmlndXJhdGlvbl90YWJsZSx1dGlscz1fX3dlYnBhY2tfcmVxdWlyZV9fKDgpLHRyZWVzPV9fd2VicGFja19yZXF1aXJlX18oMTExKSxhZGxlcjMyPV9fd2VicGFja19yZXF1aXJlX18oNjUpLGNyYzMyPV9fd2VicGFja19yZXF1aXJlX18oNjYpLG1zZz1fX3dlYnBhY2tfcmVxdWlyZV9fKDQ1KSxaX05PX0ZMVVNIPTAsWl9QQVJUSUFMX0ZMVVNIPTEsWl9GVUxMX0ZMVVNIPTMsWl9GSU5JU0g9NCxaX0JMT0NLPTUsWl9PSz0wLFpfU1RSRUFNX0VORD0xLFpfU1RSRUFNX0VSUk9SPS0yLFpfREFUQV9FUlJPUj0tMyxaX0JVRl9FUlJPUj0tNSxaX0RFRkFVTFRfQ09NUFJFU1NJT049LTEsWl9GSUxURVJFRD0xLFpfSFVGRk1BTl9PTkxZPTIsWl9STEU9MyxaX0ZJWEVEPTQsWl9ERUZBVUxUX1NUUkFURUdZPTAsWl9VTktOT1dOPTIsWl9ERUZMQVRFRD04LE1BWF9NRU1fTEVWRUw9OSxNQVhfV0JJVFM9MTUsREVGX01FTV9MRVZFTD04LExfQ09ERVM9Mjg2LERfQ09ERVM9MzAsQkxfQ09ERVM9MTksSEVBUF9TSVpFPTIqTF9DT0RFUysxLE1BWF9CSVRTPTE1LE1JTl9NQVRDSD0zLE1BWF9NQVRDSD0yNTgsTUlOX0xPT0tBSEVBRD1NQVhfTUFUQ0grTUlOX01BVENIKzEsUFJFU0VUX0RJQ1Q9MzIsSU5JVF9TVEFURT00MixFWFRSQV9TVEFURT02OSxOQU1FX1NUQVRFPTczLENPTU1FTlRfU1RBVEU9OTEsSENSQ19TVEFURT0xMDMsQlVTWV9TVEFURT0xMTMsRklOSVNIX1NUQVRFPTY2NixCU19ORUVEX01PUkU9MSxCU19CTE9DS19ET05FPTIsQlNfRklOSVNIX1NUQVJURUQ9MyxCU19GSU5JU0hfRE9ORT00LE9TX0NPREU9MztmdW5jdGlvbiBlcnIoc3RybSxlcnJvckNvZGUpe3JldHVybiBzdHJtLm1zZz1tc2dbZXJyb3JDb2RlXSxlcnJvckNvZGV9ZnVuY3Rpb24gcmFuayhmKXtyZXR1cm4oZjw8MSktKGY+ND85OjApfWZ1bmN0aW9uIHplcm8oYnVmKXtmb3IodmFyIGxlbj1idWYubGVuZ3RoOy0tbGVuPj0wOylidWZbbGVuXT0wfWZ1bmN0aW9uIGZsdXNoX3BlbmRpbmcoc3RybSl7dmFyIHM9c3RybS5zdGF0ZSxsZW49cy5wZW5kaW5nO2xlbj5zdHJtLmF2YWlsX291dCYmKGxlbj1zdHJtLmF2YWlsX291dCksMCE9PWxlbiYmKHV0aWxzLmFycmF5U2V0KHN0cm0ub3V0cHV0LHMucGVuZGluZ19idWYscy5wZW5kaW5nX291dCxsZW4sc3RybS5uZXh0X291dCksc3RybS5uZXh0X291dCs9bGVuLHMucGVuZGluZ19vdXQrPWxlbixzdHJtLnRvdGFsX291dCs9bGVuLHN0cm0uYXZhaWxfb3V0LT1sZW4scy5wZW5kaW5nLT1sZW4sMD09PXMucGVuZGluZyYmKHMucGVuZGluZ19vdXQ9MCkpfWZ1bmN0aW9uIGZsdXNoX2Jsb2NrX29ubHkocyxsYXN0KXt0cmVlcy5fdHJfZmx1c2hfYmxvY2socyxzLmJsb2NrX3N0YXJ0Pj0wP3MuYmxvY2tfc3RhcnQ6LTEscy5zdHJzdGFydC1zLmJsb2NrX3N0YXJ0LGxhc3QpLHMuYmxvY2tfc3RhcnQ9cy5zdHJzdGFydCxmbHVzaF9wZW5kaW5nKHMuc3RybSl9ZnVuY3Rpb24gcHV0X2J5dGUocyxiKXtzLnBlbmRpbmdfYnVmW3MucGVuZGluZysrXT1ifWZ1bmN0aW9uIHB1dFNob3J0TVNCKHMsYil7cy5wZW5kaW5nX2J1ZltzLnBlbmRpbmcrK109Yj4+PjgmMjU1LHMucGVuZGluZ19idWZbcy5wZW5kaW5nKytdPTI1NSZifWZ1bmN0aW9uIHJlYWRfYnVmKHN0cm0sYnVmLHN0YXJ0LHNpemUpe3ZhciBsZW49c3RybS5hdmFpbF9pbjtyZXR1cm4gbGVuPnNpemUmJihsZW49c2l6ZSksMD09PWxlbj8wOihzdHJtLmF2YWlsX2luLT1sZW4sdXRpbHMuYXJyYXlTZXQoYnVmLHN0cm0uaW5wdXQsc3RybS5uZXh0X2luLGxlbixzdGFydCksMT09PXN0cm0uc3RhdGUud3JhcD9zdHJtLmFkbGVyPWFkbGVyMzIoc3RybS5hZGxlcixidWYsbGVuLHN0YXJ0KToyPT09c3RybS5zdGF0ZS53cmFwJiYoc3RybS5hZGxlcj1jcmMzMihzdHJtLmFkbGVyLGJ1ZixsZW4sc3RhcnQpKSxzdHJtLm5leHRfaW4rPWxlbixzdHJtLnRvdGFsX2luKz1sZW4sbGVuKX1mdW5jdGlvbiBsb25nZXN0X21hdGNoKHMsY3VyX21hdGNoKXt2YXIgbWF0Y2gsbGVuLGNoYWluX2xlbmd0aD1zLm1heF9jaGFpbl9sZW5ndGgsc2Nhbj1zLnN0cnN0YXJ0LGJlc3RfbGVuPXMucHJldl9sZW5ndGgsbmljZV9tYXRjaD1zLm5pY2VfbWF0Y2gsbGltaXQ9cy5zdHJzdGFydD5zLndfc2l6ZS1NSU5fTE9PS0FIRUFEP3Muc3Ryc3RhcnQtKHMud19zaXplLU1JTl9MT09LQUhFQUQpOjAsX3dpbj1zLndpbmRvdyx3bWFzaz1zLndfbWFzayxwcmV2PXMucHJldixzdHJlbmQ9cy5zdHJzdGFydCtNQVhfTUFUQ0gsc2Nhbl9lbmQxPV93aW5bc2NhbitiZXN0X2xlbi0xXSxzY2FuX2VuZD1fd2luW3NjYW4rYmVzdF9sZW5dO3MucHJldl9sZW5ndGg+PXMuZ29vZF9tYXRjaCYmKGNoYWluX2xlbmd0aD4+PTIpLG5pY2VfbWF0Y2g+cy5sb29rYWhlYWQmJihuaWNlX21hdGNoPXMubG9va2FoZWFkKTtkb3tpZihfd2luWyhtYXRjaD1jdXJfbWF0Y2gpK2Jlc3RfbGVuXT09PXNjYW5fZW5kJiZfd2luW21hdGNoK2Jlc3RfbGVuLTFdPT09c2Nhbl9lbmQxJiZfd2luW21hdGNoXT09PV93aW5bc2Nhbl0mJl93aW5bKyttYXRjaF09PT1fd2luW3NjYW4rMV0pe3NjYW4rPTIsbWF0Y2grKztkb3t9d2hpbGUoX3dpblsrK3NjYW5dPT09X3dpblsrK21hdGNoXSYmX3dpblsrK3NjYW5dPT09X3dpblsrK21hdGNoXSYmX3dpblsrK3NjYW5dPT09X3dpblsrK21hdGNoXSYmX3dpblsrK3NjYW5dPT09X3dpblsrK21hdGNoXSYmX3dpblsrK3NjYW5dPT09X3dpblsrK21hdGNoXSYmX3dpblsrK3NjYW5dPT09X3dpblsrK21hdGNoXSYmX3dpblsrK3NjYW5dPT09X3dpblsrK21hdGNoXSYmX3dpblsrK3NjYW5dPT09X3dpblsrK21hdGNoXSYmc2NhbjxzdHJlbmQpO2lmKGxlbj1NQVhfTUFUQ0gtKHN0cmVuZC1zY2FuKSxzY2FuPXN0cmVuZC1NQVhfTUFUQ0gsbGVuPmJlc3RfbGVuKXtpZihzLm1hdGNoX3N0YXJ0PWN1cl9tYXRjaCxiZXN0X2xlbj1sZW4sbGVuPj1uaWNlX21hdGNoKWJyZWFrO3NjYW5fZW5kMT1fd2luW3NjYW4rYmVzdF9sZW4tMV0sc2Nhbl9lbmQ9X3dpbltzY2FuK2Jlc3RfbGVuXX19fXdoaWxlKChjdXJfbWF0Y2g9cHJldltjdXJfbWF0Y2gmd21hc2tdKT5saW1pdCYmMCE9LS1jaGFpbl9sZW5ndGgpO3JldHVybiBiZXN0X2xlbjw9cy5sb29rYWhlYWQ/YmVzdF9sZW46cy5sb29rYWhlYWR9ZnVuY3Rpb24gZmlsbF93aW5kb3cocyl7dmFyIHAsbixtLG1vcmUsc3RyLF93X3NpemU9cy53X3NpemU7ZG97aWYobW9yZT1zLndpbmRvd19zaXplLXMubG9va2FoZWFkLXMuc3Ryc3RhcnQscy5zdHJzdGFydD49X3dfc2l6ZSsoX3dfc2l6ZS1NSU5fTE9PS0FIRUFEKSl7dXRpbHMuYXJyYXlTZXQocy53aW5kb3cscy53aW5kb3csX3dfc2l6ZSxfd19zaXplLDApLHMubWF0Y2hfc3RhcnQtPV93X3NpemUscy5zdHJzdGFydC09X3dfc2l6ZSxzLmJsb2NrX3N0YXJ0LT1fd19zaXplLHA9bj1zLmhhc2hfc2l6ZTtkb3ttPXMuaGVhZFstLXBdLHMuaGVhZFtwXT1tPj1fd19zaXplP20tX3dfc2l6ZTowfXdoaWxlKC0tbik7cD1uPV93X3NpemU7ZG97bT1zLnByZXZbLS1wXSxzLnByZXZbcF09bT49X3dfc2l6ZT9tLV93X3NpemU6MH13aGlsZSgtLW4pO21vcmUrPV93X3NpemV9aWYoMD09PXMuc3RybS5hdmFpbF9pbilicmVhaztpZihuPXJlYWRfYnVmKHMuc3RybSxzLndpbmRvdyxzLnN0cnN0YXJ0K3MubG9va2FoZWFkLG1vcmUpLHMubG9va2FoZWFkKz1uLHMubG9va2FoZWFkK3MuaW5zZXJ0Pj1NSU5fTUFUQ0gpZm9yKHN0cj1zLnN0cnN0YXJ0LXMuaW5zZXJ0LHMuaW5zX2g9cy53aW5kb3dbc3RyXSxzLmluc19oPShzLmluc19oPDxzLmhhc2hfc2hpZnRecy53aW5kb3dbc3RyKzFdKSZzLmhhc2hfbWFzaztzLmluc2VydCYmKHMuaW5zX2g9KHMuaW5zX2g8PHMuaGFzaF9zaGlmdF5zLndpbmRvd1tzdHIrTUlOX01BVENILTFdKSZzLmhhc2hfbWFzayxzLnByZXZbc3RyJnMud19tYXNrXT1zLmhlYWRbcy5pbnNfaF0scy5oZWFkW3MuaW5zX2hdPXN0cixzdHIrKyxzLmluc2VydC0tLCEocy5sb29rYWhlYWQrcy5pbnNlcnQ8TUlOX01BVENIKSk7KTt9d2hpbGUocy5sb29rYWhlYWQ8TUlOX0xPT0tBSEVBRCYmMCE9PXMuc3RybS5hdmFpbF9pbil9ZnVuY3Rpb24gZGVmbGF0ZV9mYXN0KHMsZmx1c2gpe2Zvcih2YXIgaGFzaF9oZWFkLGJmbHVzaDs7KXtpZihzLmxvb2thaGVhZDxNSU5fTE9PS0FIRUFEKXtpZihmaWxsX3dpbmRvdyhzKSxzLmxvb2thaGVhZDxNSU5fTE9PS0FIRUFEJiZmbHVzaD09PVpfTk9fRkxVU0gpcmV0dXJuIEJTX05FRURfTU9SRTtpZigwPT09cy5sb29rYWhlYWQpYnJlYWt9aWYoaGFzaF9oZWFkPTAscy5sb29rYWhlYWQ+PU1JTl9NQVRDSCYmKHMuaW5zX2g9KHMuaW5zX2g8PHMuaGFzaF9zaGlmdF5zLndpbmRvd1tzLnN0cnN0YXJ0K01JTl9NQVRDSC0xXSkmcy5oYXNoX21hc2ssaGFzaF9oZWFkPXMucHJldltzLnN0cnN0YXJ0JnMud19tYXNrXT1zLmhlYWRbcy5pbnNfaF0scy5oZWFkW3MuaW5zX2hdPXMuc3Ryc3RhcnQpLDAhPT1oYXNoX2hlYWQmJnMuc3Ryc3RhcnQtaGFzaF9oZWFkPD1zLndfc2l6ZS1NSU5fTE9PS0FIRUFEJiYocy5tYXRjaF9sZW5ndGg9bG9uZ2VzdF9tYXRjaChzLGhhc2hfaGVhZCkpLHMubWF0Y2hfbGVuZ3RoPj1NSU5fTUFUQ0gpaWYoYmZsdXNoPXRyZWVzLl90cl90YWxseShzLHMuc3Ryc3RhcnQtcy5tYXRjaF9zdGFydCxzLm1hdGNoX2xlbmd0aC1NSU5fTUFUQ0gpLHMubG9va2FoZWFkLT1zLm1hdGNoX2xlbmd0aCxzLm1hdGNoX2xlbmd0aDw9cy5tYXhfbGF6eV9tYXRjaCYmcy5sb29rYWhlYWQ+PU1JTl9NQVRDSCl7cy5tYXRjaF9sZW5ndGgtLTtkb3tzLnN0cnN0YXJ0Kysscy5pbnNfaD0ocy5pbnNfaDw8cy5oYXNoX3NoaWZ0XnMud2luZG93W3Muc3Ryc3RhcnQrTUlOX01BVENILTFdKSZzLmhhc2hfbWFzayxoYXNoX2hlYWQ9cy5wcmV2W3Muc3Ryc3RhcnQmcy53X21hc2tdPXMuaGVhZFtzLmluc19oXSxzLmhlYWRbcy5pbnNfaF09cy5zdHJzdGFydH13aGlsZSgwIT0tLXMubWF0Y2hfbGVuZ3RoKTtzLnN0cnN0YXJ0Kyt9ZWxzZSBzLnN0cnN0YXJ0Kz1zLm1hdGNoX2xlbmd0aCxzLm1hdGNoX2xlbmd0aD0wLHMuaW5zX2g9cy53aW5kb3dbcy5zdHJzdGFydF0scy5pbnNfaD0ocy5pbnNfaDw8cy5oYXNoX3NoaWZ0XnMud2luZG93W3Muc3Ryc3RhcnQrMV0pJnMuaGFzaF9tYXNrO2Vsc2UgYmZsdXNoPXRyZWVzLl90cl90YWxseShzLDAscy53aW5kb3dbcy5zdHJzdGFydF0pLHMubG9va2FoZWFkLS0scy5zdHJzdGFydCsrO2lmKGJmbHVzaCYmKGZsdXNoX2Jsb2NrX29ubHkocywhMSksMD09PXMuc3RybS5hdmFpbF9vdXQpKXJldHVybiBCU19ORUVEX01PUkV9cmV0dXJuIHMuaW5zZXJ0PXMuc3Ryc3RhcnQ8TUlOX01BVENILTE/cy5zdHJzdGFydDpNSU5fTUFUQ0gtMSxmbHVzaD09PVpfRklOSVNIPyhmbHVzaF9ibG9ja19vbmx5KHMsITApLDA9PT1zLnN0cm0uYXZhaWxfb3V0P0JTX0ZJTklTSF9TVEFSVEVEOkJTX0ZJTklTSF9ET05FKTpzLmxhc3RfbGl0JiYoZmx1c2hfYmxvY2tfb25seShzLCExKSwwPT09cy5zdHJtLmF2YWlsX291dCk/QlNfTkVFRF9NT1JFOkJTX0JMT0NLX0RPTkV9ZnVuY3Rpb24gZGVmbGF0ZV9zbG93KHMsZmx1c2gpe2Zvcih2YXIgaGFzaF9oZWFkLGJmbHVzaCxtYXhfaW5zZXJ0Ozspe2lmKHMubG9va2FoZWFkPE1JTl9MT09LQUhFQUQpe2lmKGZpbGxfd2luZG93KHMpLHMubG9va2FoZWFkPE1JTl9MT09LQUhFQUQmJmZsdXNoPT09Wl9OT19GTFVTSClyZXR1cm4gQlNfTkVFRF9NT1JFO2lmKDA9PT1zLmxvb2thaGVhZClicmVha31pZihoYXNoX2hlYWQ9MCxzLmxvb2thaGVhZD49TUlOX01BVENIJiYocy5pbnNfaD0ocy5pbnNfaDw8cy5oYXNoX3NoaWZ0XnMud2luZG93W3Muc3Ryc3RhcnQrTUlOX01BVENILTFdKSZzLmhhc2hfbWFzayxoYXNoX2hlYWQ9cy5wcmV2W3Muc3Ryc3RhcnQmcy53X21hc2tdPXMuaGVhZFtzLmluc19oXSxzLmhlYWRbcy5pbnNfaF09cy5zdHJzdGFydCkscy5wcmV2X2xlbmd0aD1zLm1hdGNoX2xlbmd0aCxzLnByZXZfbWF0Y2g9cy5tYXRjaF9zdGFydCxzLm1hdGNoX2xlbmd0aD1NSU5fTUFUQ0gtMSwwIT09aGFzaF9oZWFkJiZzLnByZXZfbGVuZ3RoPHMubWF4X2xhenlfbWF0Y2gmJnMuc3Ryc3RhcnQtaGFzaF9oZWFkPD1zLndfc2l6ZS1NSU5fTE9PS0FIRUFEJiYocy5tYXRjaF9sZW5ndGg9bG9uZ2VzdF9tYXRjaChzLGhhc2hfaGVhZCkscy5tYXRjaF9sZW5ndGg8PTUmJihzLnN0cmF0ZWd5PT09Wl9GSUxURVJFRHx8cy5tYXRjaF9sZW5ndGg9PT1NSU5fTUFUQ0gmJnMuc3Ryc3RhcnQtcy5tYXRjaF9zdGFydD40MDk2KSYmKHMubWF0Y2hfbGVuZ3RoPU1JTl9NQVRDSC0xKSkscy5wcmV2X2xlbmd0aD49TUlOX01BVENIJiZzLm1hdGNoX2xlbmd0aDw9cy5wcmV2X2xlbmd0aCl7bWF4X2luc2VydD1zLnN0cnN0YXJ0K3MubG9va2FoZWFkLU1JTl9NQVRDSCxiZmx1c2g9dHJlZXMuX3RyX3RhbGx5KHMscy5zdHJzdGFydC0xLXMucHJldl9tYXRjaCxzLnByZXZfbGVuZ3RoLU1JTl9NQVRDSCkscy5sb29rYWhlYWQtPXMucHJldl9sZW5ndGgtMSxzLnByZXZfbGVuZ3RoLT0yO2Rveysrcy5zdHJzdGFydDw9bWF4X2luc2VydCYmKHMuaW5zX2g9KHMuaW5zX2g8PHMuaGFzaF9zaGlmdF5zLndpbmRvd1tzLnN0cnN0YXJ0K01JTl9NQVRDSC0xXSkmcy5oYXNoX21hc2ssaGFzaF9oZWFkPXMucHJldltzLnN0cnN0YXJ0JnMud19tYXNrXT1zLmhlYWRbcy5pbnNfaF0scy5oZWFkW3MuaW5zX2hdPXMuc3Ryc3RhcnQpfXdoaWxlKDAhPS0tcy5wcmV2X2xlbmd0aCk7aWYocy5tYXRjaF9hdmFpbGFibGU9MCxzLm1hdGNoX2xlbmd0aD1NSU5fTUFUQ0gtMSxzLnN0cnN0YXJ0KyssYmZsdXNoJiYoZmx1c2hfYmxvY2tfb25seShzLCExKSwwPT09cy5zdHJtLmF2YWlsX291dCkpcmV0dXJuIEJTX05FRURfTU9SRX1lbHNlIGlmKHMubWF0Y2hfYXZhaWxhYmxlKXtpZigoYmZsdXNoPXRyZWVzLl90cl90YWxseShzLDAscy53aW5kb3dbcy5zdHJzdGFydC0xXSkpJiZmbHVzaF9ibG9ja19vbmx5KHMsITEpLHMuc3Ryc3RhcnQrKyxzLmxvb2thaGVhZC0tLDA9PT1zLnN0cm0uYXZhaWxfb3V0KXJldHVybiBCU19ORUVEX01PUkV9ZWxzZSBzLm1hdGNoX2F2YWlsYWJsZT0xLHMuc3Ryc3RhcnQrKyxzLmxvb2thaGVhZC0tfXJldHVybiBzLm1hdGNoX2F2YWlsYWJsZSYmKGJmbHVzaD10cmVlcy5fdHJfdGFsbHkocywwLHMud2luZG93W3Muc3Ryc3RhcnQtMV0pLHMubWF0Y2hfYXZhaWxhYmxlPTApLHMuaW5zZXJ0PXMuc3Ryc3RhcnQ8TUlOX01BVENILTE/cy5zdHJzdGFydDpNSU5fTUFUQ0gtMSxmbHVzaD09PVpfRklOSVNIPyhmbHVzaF9ibG9ja19vbmx5KHMsITApLDA9PT1zLnN0cm0uYXZhaWxfb3V0P0JTX0ZJTklTSF9TVEFSVEVEOkJTX0ZJTklTSF9ET05FKTpzLmxhc3RfbGl0JiYoZmx1c2hfYmxvY2tfb25seShzLCExKSwwPT09cy5zdHJtLmF2YWlsX291dCk/QlNfTkVFRF9NT1JFOkJTX0JMT0NLX0RPTkV9ZnVuY3Rpb24gQ29uZmlnKGdvb2RfbGVuZ3RoLG1heF9sYXp5LG5pY2VfbGVuZ3RoLG1heF9jaGFpbixmdW5jKXt0aGlzLmdvb2RfbGVuZ3RoPWdvb2RfbGVuZ3RoLHRoaXMubWF4X2xhenk9bWF4X2xhenksdGhpcy5uaWNlX2xlbmd0aD1uaWNlX2xlbmd0aCx0aGlzLm1heF9jaGFpbj1tYXhfY2hhaW4sdGhpcy5mdW5jPWZ1bmN9ZnVuY3Rpb24gZGVmbGF0ZVJlc2V0S2VlcChzdHJtKXt2YXIgcztyZXR1cm4gc3RybSYmc3RybS5zdGF0ZT8oc3RybS50b3RhbF9pbj1zdHJtLnRvdGFsX291dD0wLHN0cm0uZGF0YV90eXBlPVpfVU5LTk9XTiwocz1zdHJtLnN0YXRlKS5wZW5kaW5nPTAscy5wZW5kaW5nX291dD0wLHMud3JhcDwwJiYocy53cmFwPS1zLndyYXApLHMuc3RhdHVzPXMud3JhcD9JTklUX1NUQVRFOkJVU1lfU1RBVEUsc3RybS5hZGxlcj0yPT09cy53cmFwPzA6MSxzLmxhc3RfZmx1c2g9Wl9OT19GTFVTSCx0cmVlcy5fdHJfaW5pdChzKSxaX09LKTplcnIoc3RybSxaX1NUUkVBTV9FUlJPUil9ZnVuY3Rpb24gZGVmbGF0ZVJlc2V0KHN0cm0pe3ZhciByZXQ9ZGVmbGF0ZVJlc2V0S2VlcChzdHJtKTtyZXR1cm4gcmV0PT09Wl9PSyYmZnVuY3Rpb24ocyl7cy53aW5kb3dfc2l6ZT0yKnMud19zaXplLHplcm8ocy5oZWFkKSxzLm1heF9sYXp5X21hdGNoPWNvbmZpZ3VyYXRpb25fdGFibGVbcy5sZXZlbF0ubWF4X2xhenkscy5nb29kX21hdGNoPWNvbmZpZ3VyYXRpb25fdGFibGVbcy5sZXZlbF0uZ29vZF9sZW5ndGgscy5uaWNlX21hdGNoPWNvbmZpZ3VyYXRpb25fdGFibGVbcy5sZXZlbF0ubmljZV9sZW5ndGgscy5tYXhfY2hhaW5fbGVuZ3RoPWNvbmZpZ3VyYXRpb25fdGFibGVbcy5sZXZlbF0ubWF4X2NoYWluLHMuc3Ryc3RhcnQ9MCxzLmJsb2NrX3N0YXJ0PTAscy5sb29rYWhlYWQ9MCxzLmluc2VydD0wLHMubWF0Y2hfbGVuZ3RoPXMucHJldl9sZW5ndGg9TUlOX01BVENILTEscy5tYXRjaF9hdmFpbGFibGU9MCxzLmluc19oPTB9KHN0cm0uc3RhdGUpLHJldH1mdW5jdGlvbiBkZWZsYXRlSW5pdDIoc3RybSxsZXZlbCxtZXRob2Qsd2luZG93Qml0cyxtZW1MZXZlbCxzdHJhdGVneSl7aWYoIXN0cm0pcmV0dXJuIFpfU1RSRUFNX0VSUk9SO3ZhciB3cmFwPTE7aWYobGV2ZWw9PT1aX0RFRkFVTFRfQ09NUFJFU1NJT04mJihsZXZlbD02KSx3aW5kb3dCaXRzPDA/KHdyYXA9MCx3aW5kb3dCaXRzPS13aW5kb3dCaXRzKTp3aW5kb3dCaXRzPjE1JiYod3JhcD0yLHdpbmRvd0JpdHMtPTE2KSxtZW1MZXZlbDwxfHxtZW1MZXZlbD5NQVhfTUVNX0xFVkVMfHxtZXRob2QhPT1aX0RFRkxBVEVEfHx3aW5kb3dCaXRzPDh8fHdpbmRvd0JpdHM+MTV8fGxldmVsPDB8fGxldmVsPjl8fHN0cmF0ZWd5PDB8fHN0cmF0ZWd5PlpfRklYRUQpcmV0dXJuIGVycihzdHJtLFpfU1RSRUFNX0VSUk9SKTs4PT09d2luZG93Qml0cyYmKHdpbmRvd0JpdHM9OSk7dmFyIHM9bmV3IGZ1bmN0aW9uKCl7dGhpcy5zdHJtPW51bGwsdGhpcy5zdGF0dXM9MCx0aGlzLnBlbmRpbmdfYnVmPW51bGwsdGhpcy5wZW5kaW5nX2J1Zl9zaXplPTAsdGhpcy5wZW5kaW5nX291dD0wLHRoaXMucGVuZGluZz0wLHRoaXMud3JhcD0wLHRoaXMuZ3poZWFkPW51bGwsdGhpcy5nemluZGV4PTAsdGhpcy5tZXRob2Q9Wl9ERUZMQVRFRCx0aGlzLmxhc3RfZmx1c2g9LTEsdGhpcy53X3NpemU9MCx0aGlzLndfYml0cz0wLHRoaXMud19tYXNrPTAsdGhpcy53aW5kb3c9bnVsbCx0aGlzLndpbmRvd19zaXplPTAsdGhpcy5wcmV2PW51bGwsdGhpcy5oZWFkPW51bGwsdGhpcy5pbnNfaD0wLHRoaXMuaGFzaF9zaXplPTAsdGhpcy5oYXNoX2JpdHM9MCx0aGlzLmhhc2hfbWFzaz0wLHRoaXMuaGFzaF9zaGlmdD0wLHRoaXMuYmxvY2tfc3RhcnQ9MCx0aGlzLm1hdGNoX2xlbmd0aD0wLHRoaXMucHJldl9tYXRjaD0wLHRoaXMubWF0Y2hfYXZhaWxhYmxlPTAsdGhpcy5zdHJzdGFydD0wLHRoaXMubWF0Y2hfc3RhcnQ9MCx0aGlzLmxvb2thaGVhZD0wLHRoaXMucHJldl9sZW5ndGg9MCx0aGlzLm1heF9jaGFpbl9sZW5ndGg9MCx0aGlzLm1heF9sYXp5X21hdGNoPTAsdGhpcy5sZXZlbD0wLHRoaXMuc3RyYXRlZ3k9MCx0aGlzLmdvb2RfbWF0Y2g9MCx0aGlzLm5pY2VfbWF0Y2g9MCx0aGlzLmR5bl9sdHJlZT1uZXcgdXRpbHMuQnVmMTYoMipIRUFQX1NJWkUpLHRoaXMuZHluX2R0cmVlPW5ldyB1dGlscy5CdWYxNigyKigyKkRfQ09ERVMrMSkpLHRoaXMuYmxfdHJlZT1uZXcgdXRpbHMuQnVmMTYoMiooMipCTF9DT0RFUysxKSksemVybyh0aGlzLmR5bl9sdHJlZSksemVybyh0aGlzLmR5bl9kdHJlZSksemVybyh0aGlzLmJsX3RyZWUpLHRoaXMubF9kZXNjPW51bGwsdGhpcy5kX2Rlc2M9bnVsbCx0aGlzLmJsX2Rlc2M9bnVsbCx0aGlzLmJsX2NvdW50PW5ldyB1dGlscy5CdWYxNihNQVhfQklUUysxKSx0aGlzLmhlYXA9bmV3IHV0aWxzLkJ1ZjE2KDIqTF9DT0RFUysxKSx6ZXJvKHRoaXMuaGVhcCksdGhpcy5oZWFwX2xlbj0wLHRoaXMuaGVhcF9tYXg9MCx0aGlzLmRlcHRoPW5ldyB1dGlscy5CdWYxNigyKkxfQ09ERVMrMSksemVybyh0aGlzLmRlcHRoKSx0aGlzLmxfYnVmPTAsdGhpcy5saXRfYnVmc2l6ZT0wLHRoaXMubGFzdF9saXQ9MCx0aGlzLmRfYnVmPTAsdGhpcy5vcHRfbGVuPTAsdGhpcy5zdGF0aWNfbGVuPTAsdGhpcy5tYXRjaGVzPTAsdGhpcy5pbnNlcnQ9MCx0aGlzLmJpX2J1Zj0wLHRoaXMuYmlfdmFsaWQ9MH07cmV0dXJuIHN0cm0uc3RhdGU9cyxzLnN0cm09c3RybSxzLndyYXA9d3JhcCxzLmd6aGVhZD1udWxsLHMud19iaXRzPXdpbmRvd0JpdHMscy53X3NpemU9MTw8cy53X2JpdHMscy53X21hc2s9cy53X3NpemUtMSxzLmhhc2hfYml0cz1tZW1MZXZlbCs3LHMuaGFzaF9zaXplPTE8PHMuaGFzaF9iaXRzLHMuaGFzaF9tYXNrPXMuaGFzaF9zaXplLTEscy5oYXNoX3NoaWZ0PX5+KChzLmhhc2hfYml0cytNSU5fTUFUQ0gtMSkvTUlOX01BVENIKSxzLndpbmRvdz1uZXcgdXRpbHMuQnVmOCgyKnMud19zaXplKSxzLmhlYWQ9bmV3IHV0aWxzLkJ1ZjE2KHMuaGFzaF9zaXplKSxzLnByZXY9bmV3IHV0aWxzLkJ1ZjE2KHMud19zaXplKSxzLmxpdF9idWZzaXplPTE8PG1lbUxldmVsKzYscy5wZW5kaW5nX2J1Zl9zaXplPTQqcy5saXRfYnVmc2l6ZSxzLnBlbmRpbmdfYnVmPW5ldyB1dGlscy5CdWY4KHMucGVuZGluZ19idWZfc2l6ZSkscy5kX2J1Zj0xKnMubGl0X2J1ZnNpemUscy5sX2J1Zj0zKnMubGl0X2J1ZnNpemUscy5sZXZlbD1sZXZlbCxzLnN0cmF0ZWd5PXN0cmF0ZWd5LHMubWV0aG9kPW1ldGhvZCxkZWZsYXRlUmVzZXQoc3RybSl9Y29uZmlndXJhdGlvbl90YWJsZT1bbmV3IENvbmZpZygwLDAsMCwwLGZ1bmN0aW9uKHMsZmx1c2gpe3ZhciBtYXhfYmxvY2tfc2l6ZT02NTUzNTtmb3IobWF4X2Jsb2NrX3NpemU+cy5wZW5kaW5nX2J1Zl9zaXplLTUmJihtYXhfYmxvY2tfc2l6ZT1zLnBlbmRpbmdfYnVmX3NpemUtNSk7Oyl7aWYocy5sb29rYWhlYWQ8PTEpe2lmKGZpbGxfd2luZG93KHMpLDA9PT1zLmxvb2thaGVhZCYmZmx1c2g9PT1aX05PX0ZMVVNIKXJldHVybiBCU19ORUVEX01PUkU7aWYoMD09PXMubG9va2FoZWFkKWJyZWFrfXMuc3Ryc3RhcnQrPXMubG9va2FoZWFkLHMubG9va2FoZWFkPTA7dmFyIG1heF9zdGFydD1zLmJsb2NrX3N0YXJ0K21heF9ibG9ja19zaXplO2lmKCgwPT09cy5zdHJzdGFydHx8cy5zdHJzdGFydD49bWF4X3N0YXJ0KSYmKHMubG9va2FoZWFkPXMuc3Ryc3RhcnQtbWF4X3N0YXJ0LHMuc3Ryc3RhcnQ9bWF4X3N0YXJ0LGZsdXNoX2Jsb2NrX29ubHkocywhMSksMD09PXMuc3RybS5hdmFpbF9vdXQpKXJldHVybiBCU19ORUVEX01PUkU7aWYocy5zdHJzdGFydC1zLmJsb2NrX3N0YXJ0Pj1zLndfc2l6ZS1NSU5fTE9PS0FIRUFEJiYoZmx1c2hfYmxvY2tfb25seShzLCExKSwwPT09cy5zdHJtLmF2YWlsX291dCkpcmV0dXJuIEJTX05FRURfTU9SRX1yZXR1cm4gcy5pbnNlcnQ9MCxmbHVzaD09PVpfRklOSVNIPyhmbHVzaF9ibG9ja19vbmx5KHMsITApLDA9PT1zLnN0cm0uYXZhaWxfb3V0P0JTX0ZJTklTSF9TVEFSVEVEOkJTX0ZJTklTSF9ET05FKToocy5zdHJzdGFydD5zLmJsb2NrX3N0YXJ0JiYoZmx1c2hfYmxvY2tfb25seShzLCExKSxzLnN0cm0uYXZhaWxfb3V0KSxCU19ORUVEX01PUkUpfSksbmV3IENvbmZpZyg0LDQsOCw0LGRlZmxhdGVfZmFzdCksbmV3IENvbmZpZyg0LDUsMTYsOCxkZWZsYXRlX2Zhc3QpLG5ldyBDb25maWcoNCw2LDMyLDMyLGRlZmxhdGVfZmFzdCksbmV3IENvbmZpZyg0LDQsMTYsMTYsZGVmbGF0ZV9zbG93KSxuZXcgQ29uZmlnKDgsMTYsMzIsMzIsZGVmbGF0ZV9zbG93KSxuZXcgQ29uZmlnKDgsMTYsMTI4LDEyOCxkZWZsYXRlX3Nsb3cpLG5ldyBDb25maWcoOCwzMiwxMjgsMjU2LGRlZmxhdGVfc2xvdyksbmV3IENvbmZpZygzMiwxMjgsMjU4LDEwMjQsZGVmbGF0ZV9zbG93KSxuZXcgQ29uZmlnKDMyLDI1OCwyNTgsNDA5NixkZWZsYXRlX3Nsb3cpXSxleHBvcnRzLmRlZmxhdGVJbml0PWZ1bmN0aW9uKHN0cm0sbGV2ZWwpe3JldHVybiBkZWZsYXRlSW5pdDIoc3RybSxsZXZlbCxaX0RFRkxBVEVELE1BWF9XQklUUyxERUZfTUVNX0xFVkVMLFpfREVGQVVMVF9TVFJBVEVHWSl9LGV4cG9ydHMuZGVmbGF0ZUluaXQyPWRlZmxhdGVJbml0MixleHBvcnRzLmRlZmxhdGVSZXNldD1kZWZsYXRlUmVzZXQsZXhwb3J0cy5kZWZsYXRlUmVzZXRLZWVwPWRlZmxhdGVSZXNldEtlZXAsZXhwb3J0cy5kZWZsYXRlU2V0SGVhZGVyPWZ1bmN0aW9uKHN0cm0saGVhZCl7cmV0dXJuIHN0cm0mJnN0cm0uc3RhdGU/MiE9PXN0cm0uc3RhdGUud3JhcD9aX1NUUkVBTV9FUlJPUjooc3RybS5zdGF0ZS5nemhlYWQ9aGVhZCxaX09LKTpaX1NUUkVBTV9FUlJPUn0sZXhwb3J0cy5kZWZsYXRlPWZ1bmN0aW9uKHN0cm0sZmx1c2gpe3ZhciBvbGRfZmx1c2gscyxiZWcsdmFsO2lmKCFzdHJtfHwhc3RybS5zdGF0ZXx8Zmx1c2g+Wl9CTE9DS3x8Zmx1c2g8MClyZXR1cm4gc3RybT9lcnIoc3RybSxaX1NUUkVBTV9FUlJPUik6Wl9TVFJFQU1fRVJST1I7aWYocz1zdHJtLnN0YXRlLCFzdHJtLm91dHB1dHx8IXN0cm0uaW5wdXQmJjAhPT1zdHJtLmF2YWlsX2lufHxzLnN0YXR1cz09PUZJTklTSF9TVEFURSYmZmx1c2ghPT1aX0ZJTklTSClyZXR1cm4gZXJyKHN0cm0sMD09PXN0cm0uYXZhaWxfb3V0P1pfQlVGX0VSUk9SOlpfU1RSRUFNX0VSUk9SKTtpZihzLnN0cm09c3RybSxvbGRfZmx1c2g9cy5sYXN0X2ZsdXNoLHMubGFzdF9mbHVzaD1mbHVzaCxzLnN0YXR1cz09PUlOSVRfU1RBVEUpaWYoMj09PXMud3JhcClzdHJtLmFkbGVyPTAscHV0X2J5dGUocywzMSkscHV0X2J5dGUocywxMzkpLHB1dF9ieXRlKHMsOCkscy5nemhlYWQ/KHB1dF9ieXRlKHMsKHMuZ3poZWFkLnRleHQ/MTowKSsocy5nemhlYWQuaGNyYz8yOjApKyhzLmd6aGVhZC5leHRyYT80OjApKyhzLmd6aGVhZC5uYW1lPzg6MCkrKHMuZ3poZWFkLmNvbW1lbnQ/MTY6MCkpLHB1dF9ieXRlKHMsMjU1JnMuZ3poZWFkLnRpbWUpLHB1dF9ieXRlKHMscy5nemhlYWQudGltZT4+OCYyNTUpLHB1dF9ieXRlKHMscy5nemhlYWQudGltZT4+MTYmMjU1KSxwdXRfYnl0ZShzLHMuZ3poZWFkLnRpbWU+PjI0JjI1NSkscHV0X2J5dGUocyw5PT09cy5sZXZlbD8yOnMuc3RyYXRlZ3k+PVpfSFVGRk1BTl9PTkxZfHxzLmxldmVsPDI/NDowKSxwdXRfYnl0ZShzLDI1NSZzLmd6aGVhZC5vcykscy5nemhlYWQuZXh0cmEmJnMuZ3poZWFkLmV4dHJhLmxlbmd0aCYmKHB1dF9ieXRlKHMsMjU1JnMuZ3poZWFkLmV4dHJhLmxlbmd0aCkscHV0X2J5dGUocyxzLmd6aGVhZC5leHRyYS5sZW5ndGg+PjgmMjU1KSkscy5nemhlYWQuaGNyYyYmKHN0cm0uYWRsZXI9Y3JjMzIoc3RybS5hZGxlcixzLnBlbmRpbmdfYnVmLHMucGVuZGluZywwKSkscy5nemluZGV4PTAscy5zdGF0dXM9RVhUUkFfU1RBVEUpOihwdXRfYnl0ZShzLDApLHB1dF9ieXRlKHMsMCkscHV0X2J5dGUocywwKSxwdXRfYnl0ZShzLDApLHB1dF9ieXRlKHMsMCkscHV0X2J5dGUocyw5PT09cy5sZXZlbD8yOnMuc3RyYXRlZ3k+PVpfSFVGRk1BTl9PTkxZfHxzLmxldmVsPDI/NDowKSxwdXRfYnl0ZShzLE9TX0NPREUpLHMuc3RhdHVzPUJVU1lfU1RBVEUpO2Vsc2V7dmFyIGhlYWRlcj1aX0RFRkxBVEVEKyhzLndfYml0cy04PDw0KTw8ODtoZWFkZXJ8PShzLnN0cmF0ZWd5Pj1aX0hVRkZNQU5fT05MWXx8cy5sZXZlbDwyPzA6cy5sZXZlbDw2PzE6Nj09PXMubGV2ZWw/MjozKTw8NiwwIT09cy5zdHJzdGFydCYmKGhlYWRlcnw9UFJFU0VUX0RJQ1QpLGhlYWRlcis9MzEtaGVhZGVyJTMxLHMuc3RhdHVzPUJVU1lfU1RBVEUscHV0U2hvcnRNU0IocyxoZWFkZXIpLDAhPT1zLnN0cnN0YXJ0JiYocHV0U2hvcnRNU0IocyxzdHJtLmFkbGVyPj4+MTYpLHB1dFNob3J0TVNCKHMsNjU1MzUmc3RybS5hZGxlcikpLHN0cm0uYWRsZXI9MX1pZihzLnN0YXR1cz09PUVYVFJBX1NUQVRFKWlmKHMuZ3poZWFkLmV4dHJhKXtmb3IoYmVnPXMucGVuZGluZztzLmd6aW5kZXg8KDY1NTM1JnMuZ3poZWFkLmV4dHJhLmxlbmd0aCkmJihzLnBlbmRpbmchPT1zLnBlbmRpbmdfYnVmX3NpemV8fChzLmd6aGVhZC5oY3JjJiZzLnBlbmRpbmc+YmVnJiYoc3RybS5hZGxlcj1jcmMzMihzdHJtLmFkbGVyLHMucGVuZGluZ19idWYscy5wZW5kaW5nLWJlZyxiZWcpKSxmbHVzaF9wZW5kaW5nKHN0cm0pLGJlZz1zLnBlbmRpbmcscy5wZW5kaW5nIT09cy5wZW5kaW5nX2J1Zl9zaXplKSk7KXB1dF9ieXRlKHMsMjU1JnMuZ3poZWFkLmV4dHJhW3MuZ3ppbmRleF0pLHMuZ3ppbmRleCsrO3MuZ3poZWFkLmhjcmMmJnMucGVuZGluZz5iZWcmJihzdHJtLmFkbGVyPWNyYzMyKHN0cm0uYWRsZXIscy5wZW5kaW5nX2J1ZixzLnBlbmRpbmctYmVnLGJlZykpLHMuZ3ppbmRleD09PXMuZ3poZWFkLmV4dHJhLmxlbmd0aCYmKHMuZ3ppbmRleD0wLHMuc3RhdHVzPU5BTUVfU1RBVEUpfWVsc2Ugcy5zdGF0dXM9TkFNRV9TVEFURTtpZihzLnN0YXR1cz09PU5BTUVfU1RBVEUpaWYocy5nemhlYWQubmFtZSl7YmVnPXMucGVuZGluZztkb3tpZihzLnBlbmRpbmc9PT1zLnBlbmRpbmdfYnVmX3NpemUmJihzLmd6aGVhZC5oY3JjJiZzLnBlbmRpbmc+YmVnJiYoc3RybS5hZGxlcj1jcmMzMihzdHJtLmFkbGVyLHMucGVuZGluZ19idWYscy5wZW5kaW5nLWJlZyxiZWcpKSxmbHVzaF9wZW5kaW5nKHN0cm0pLGJlZz1zLnBlbmRpbmcscy5wZW5kaW5nPT09cy5wZW5kaW5nX2J1Zl9zaXplKSl7dmFsPTE7YnJlYWt9dmFsPXMuZ3ppbmRleDxzLmd6aGVhZC5uYW1lLmxlbmd0aD8yNTUmcy5nemhlYWQubmFtZS5jaGFyQ29kZUF0KHMuZ3ppbmRleCsrKTowLHB1dF9ieXRlKHMsdmFsKX13aGlsZSgwIT09dmFsKTtzLmd6aGVhZC5oY3JjJiZzLnBlbmRpbmc+YmVnJiYoc3RybS5hZGxlcj1jcmMzMihzdHJtLmFkbGVyLHMucGVuZGluZ19idWYscy5wZW5kaW5nLWJlZyxiZWcpKSwwPT09dmFsJiYocy5nemluZGV4PTAscy5zdGF0dXM9Q09NTUVOVF9TVEFURSl9ZWxzZSBzLnN0YXR1cz1DT01NRU5UX1NUQVRFO2lmKHMuc3RhdHVzPT09Q09NTUVOVF9TVEFURSlpZihzLmd6aGVhZC5jb21tZW50KXtiZWc9cy5wZW5kaW5nO2Rve2lmKHMucGVuZGluZz09PXMucGVuZGluZ19idWZfc2l6ZSYmKHMuZ3poZWFkLmhjcmMmJnMucGVuZGluZz5iZWcmJihzdHJtLmFkbGVyPWNyYzMyKHN0cm0uYWRsZXIscy5wZW5kaW5nX2J1ZixzLnBlbmRpbmctYmVnLGJlZykpLGZsdXNoX3BlbmRpbmcoc3RybSksYmVnPXMucGVuZGluZyxzLnBlbmRpbmc9PT1zLnBlbmRpbmdfYnVmX3NpemUpKXt2YWw9MTticmVha312YWw9cy5nemluZGV4PHMuZ3poZWFkLmNvbW1lbnQubGVuZ3RoPzI1NSZzLmd6aGVhZC5jb21tZW50LmNoYXJDb2RlQXQocy5nemluZGV4KyspOjAscHV0X2J5dGUocyx2YWwpfXdoaWxlKDAhPT12YWwpO3MuZ3poZWFkLmhjcmMmJnMucGVuZGluZz5iZWcmJihzdHJtLmFkbGVyPWNyYzMyKHN0cm0uYWRsZXIscy5wZW5kaW5nX2J1ZixzLnBlbmRpbmctYmVnLGJlZykpLDA9PT12YWwmJihzLnN0YXR1cz1IQ1JDX1NUQVRFKX1lbHNlIHMuc3RhdHVzPUhDUkNfU1RBVEU7aWYocy5zdGF0dXM9PT1IQ1JDX1NUQVRFJiYocy5nemhlYWQuaGNyYz8ocy5wZW5kaW5nKzI+cy5wZW5kaW5nX2J1Zl9zaXplJiZmbHVzaF9wZW5kaW5nKHN0cm0pLHMucGVuZGluZysyPD1zLnBlbmRpbmdfYnVmX3NpemUmJihwdXRfYnl0ZShzLDI1NSZzdHJtLmFkbGVyKSxwdXRfYnl0ZShzLHN0cm0uYWRsZXI+PjgmMjU1KSxzdHJtLmFkbGVyPTAscy5zdGF0dXM9QlVTWV9TVEFURSkpOnMuc3RhdHVzPUJVU1lfU1RBVEUpLDAhPT1zLnBlbmRpbmcpe2lmKGZsdXNoX3BlbmRpbmcoc3RybSksMD09PXN0cm0uYXZhaWxfb3V0KXJldHVybiBzLmxhc3RfZmx1c2g9LTEsWl9PS31lbHNlIGlmKDA9PT1zdHJtLmF2YWlsX2luJiZyYW5rKGZsdXNoKTw9cmFuayhvbGRfZmx1c2gpJiZmbHVzaCE9PVpfRklOSVNIKXJldHVybiBlcnIoc3RybSxaX0JVRl9FUlJPUik7aWYocy5zdGF0dXM9PT1GSU5JU0hfU1RBVEUmJjAhPT1zdHJtLmF2YWlsX2luKXJldHVybiBlcnIoc3RybSxaX0JVRl9FUlJPUik7aWYoMCE9PXN0cm0uYXZhaWxfaW58fDAhPT1zLmxvb2thaGVhZHx8Zmx1c2ghPT1aX05PX0ZMVVNIJiZzLnN0YXR1cyE9PUZJTklTSF9TVEFURSl7dmFyIGJzdGF0ZT1zLnN0cmF0ZWd5PT09Wl9IVUZGTUFOX09OTFk/ZnVuY3Rpb24ocyxmbHVzaCl7Zm9yKHZhciBiZmx1c2g7Oyl7aWYoMD09PXMubG9va2FoZWFkJiYoZmlsbF93aW5kb3cocyksMD09PXMubG9va2FoZWFkKSl7aWYoZmx1c2g9PT1aX05PX0ZMVVNIKXJldHVybiBCU19ORUVEX01PUkU7YnJlYWt9aWYocy5tYXRjaF9sZW5ndGg9MCxiZmx1c2g9dHJlZXMuX3RyX3RhbGx5KHMsMCxzLndpbmRvd1tzLnN0cnN0YXJ0XSkscy5sb29rYWhlYWQtLSxzLnN0cnN0YXJ0KyssYmZsdXNoJiYoZmx1c2hfYmxvY2tfb25seShzLCExKSwwPT09cy5zdHJtLmF2YWlsX291dCkpcmV0dXJuIEJTX05FRURfTU9SRX1yZXR1cm4gcy5pbnNlcnQ9MCxmbHVzaD09PVpfRklOSVNIPyhmbHVzaF9ibG9ja19vbmx5KHMsITApLDA9PT1zLnN0cm0uYXZhaWxfb3V0P0JTX0ZJTklTSF9TVEFSVEVEOkJTX0ZJTklTSF9ET05FKTpzLmxhc3RfbGl0JiYoZmx1c2hfYmxvY2tfb25seShzLCExKSwwPT09cy5zdHJtLmF2YWlsX291dCk/QlNfTkVFRF9NT1JFOkJTX0JMT0NLX0RPTkV9KHMsZmx1c2gpOnMuc3RyYXRlZ3k9PT1aX1JMRT9mdW5jdGlvbihzLGZsdXNoKXtmb3IodmFyIGJmbHVzaCxwcmV2LHNjYW4sc3RyZW5kLF93aW49cy53aW5kb3c7Oyl7aWYocy5sb29rYWhlYWQ8PU1BWF9NQVRDSCl7aWYoZmlsbF93aW5kb3cocykscy5sb29rYWhlYWQ8PU1BWF9NQVRDSCYmZmx1c2g9PT1aX05PX0ZMVVNIKXJldHVybiBCU19ORUVEX01PUkU7aWYoMD09PXMubG9va2FoZWFkKWJyZWFrfWlmKHMubWF0Y2hfbGVuZ3RoPTAscy5sb29rYWhlYWQ+PU1JTl9NQVRDSCYmcy5zdHJzdGFydD4wJiYocHJldj1fd2luW3NjYW49cy5zdHJzdGFydC0xXSk9PT1fd2luWysrc2Nhbl0mJnByZXY9PT1fd2luWysrc2Nhbl0mJnByZXY9PT1fd2luWysrc2Nhbl0pe3N0cmVuZD1zLnN0cnN0YXJ0K01BWF9NQVRDSDtkb3t9d2hpbGUocHJldj09PV93aW5bKytzY2FuXSYmcHJldj09PV93aW5bKytzY2FuXSYmcHJldj09PV93aW5bKytzY2FuXSYmcHJldj09PV93aW5bKytzY2FuXSYmcHJldj09PV93aW5bKytzY2FuXSYmcHJldj09PV93aW5bKytzY2FuXSYmcHJldj09PV93aW5bKytzY2FuXSYmcHJldj09PV93aW5bKytzY2FuXSYmc2NhbjxzdHJlbmQpO3MubWF0Y2hfbGVuZ3RoPU1BWF9NQVRDSC0oc3RyZW5kLXNjYW4pLHMubWF0Y2hfbGVuZ3RoPnMubG9va2FoZWFkJiYocy5tYXRjaF9sZW5ndGg9cy5sb29rYWhlYWQpfWlmKHMubWF0Y2hfbGVuZ3RoPj1NSU5fTUFUQ0g/KGJmbHVzaD10cmVlcy5fdHJfdGFsbHkocywxLHMubWF0Y2hfbGVuZ3RoLU1JTl9NQVRDSCkscy5sb29rYWhlYWQtPXMubWF0Y2hfbGVuZ3RoLHMuc3Ryc3RhcnQrPXMubWF0Y2hfbGVuZ3RoLHMubWF0Y2hfbGVuZ3RoPTApOihiZmx1c2g9dHJlZXMuX3RyX3RhbGx5KHMsMCxzLndpbmRvd1tzLnN0cnN0YXJ0XSkscy5sb29rYWhlYWQtLSxzLnN0cnN0YXJ0KyspLGJmbHVzaCYmKGZsdXNoX2Jsb2NrX29ubHkocywhMSksMD09PXMuc3RybS5hdmFpbF9vdXQpKXJldHVybiBCU19ORUVEX01PUkV9cmV0dXJuIHMuaW5zZXJ0PTAsZmx1c2g9PT1aX0ZJTklTSD8oZmx1c2hfYmxvY2tfb25seShzLCEwKSwwPT09cy5zdHJtLmF2YWlsX291dD9CU19GSU5JU0hfU1RBUlRFRDpCU19GSU5JU0hfRE9ORSk6cy5sYXN0X2xpdCYmKGZsdXNoX2Jsb2NrX29ubHkocywhMSksMD09PXMuc3RybS5hdmFpbF9vdXQpP0JTX05FRURfTU9SRTpCU19CTE9DS19ET05FfShzLGZsdXNoKTpjb25maWd1cmF0aW9uX3RhYmxlW3MubGV2ZWxdLmZ1bmMocyxmbHVzaCk7aWYoYnN0YXRlIT09QlNfRklOSVNIX1NUQVJURUQmJmJzdGF0ZSE9PUJTX0ZJTklTSF9ET05FfHwocy5zdGF0dXM9RklOSVNIX1NUQVRFKSxic3RhdGU9PT1CU19ORUVEX01PUkV8fGJzdGF0ZT09PUJTX0ZJTklTSF9TVEFSVEVEKXJldHVybiAwPT09c3RybS5hdmFpbF9vdXQmJihzLmxhc3RfZmx1c2g9LTEpLFpfT0s7aWYoYnN0YXRlPT09QlNfQkxPQ0tfRE9ORSYmKGZsdXNoPT09Wl9QQVJUSUFMX0ZMVVNIP3RyZWVzLl90cl9hbGlnbihzKTpmbHVzaCE9PVpfQkxPQ0smJih0cmVlcy5fdHJfc3RvcmVkX2Jsb2NrKHMsMCwwLCExKSxmbHVzaD09PVpfRlVMTF9GTFVTSCYmKHplcm8ocy5oZWFkKSwwPT09cy5sb29rYWhlYWQmJihzLnN0cnN0YXJ0PTAscy5ibG9ja19zdGFydD0wLHMuaW5zZXJ0PTApKSksZmx1c2hfcGVuZGluZyhzdHJtKSwwPT09c3RybS5hdmFpbF9vdXQpKXJldHVybiBzLmxhc3RfZmx1c2g9LTEsWl9PS31yZXR1cm4gZmx1c2ghPT1aX0ZJTklTSD9aX09LOnMud3JhcDw9MD9aX1NUUkVBTV9FTkQ6KDI9PT1zLndyYXA/KHB1dF9ieXRlKHMsMjU1JnN0cm0uYWRsZXIpLHB1dF9ieXRlKHMsc3RybS5hZGxlcj4+OCYyNTUpLHB1dF9ieXRlKHMsc3RybS5hZGxlcj4+MTYmMjU1KSxwdXRfYnl0ZShzLHN0cm0uYWRsZXI+PjI0JjI1NSkscHV0X2J5dGUocywyNTUmc3RybS50b3RhbF9pbikscHV0X2J5dGUocyxzdHJtLnRvdGFsX2luPj44JjI1NSkscHV0X2J5dGUocyxzdHJtLnRvdGFsX2luPj4xNiYyNTUpLHB1dF9ieXRlKHMsc3RybS50b3RhbF9pbj4+MjQmMjU1KSk6KHB1dFNob3J0TVNCKHMsc3RybS5hZGxlcj4+PjE2KSxwdXRTaG9ydE1TQihzLDY1NTM1JnN0cm0uYWRsZXIpKSxmbHVzaF9wZW5kaW5nKHN0cm0pLHMud3JhcD4wJiYocy53cmFwPS1zLndyYXApLDAhPT1zLnBlbmRpbmc/Wl9PSzpaX1NUUkVBTV9FTkQpfSxleHBvcnRzLmRlZmxhdGVFbmQ9ZnVuY3Rpb24oc3RybSl7dmFyIHN0YXR1cztyZXR1cm4gc3RybSYmc3RybS5zdGF0ZT8oc3RhdHVzPXN0cm0uc3RhdGUuc3RhdHVzKSE9PUlOSVRfU1RBVEUmJnN0YXR1cyE9PUVYVFJBX1NUQVRFJiZzdGF0dXMhPT1OQU1FX1NUQVRFJiZzdGF0dXMhPT1DT01NRU5UX1NUQVRFJiZzdGF0dXMhPT1IQ1JDX1NUQVRFJiZzdGF0dXMhPT1CVVNZX1NUQVRFJiZzdGF0dXMhPT1GSU5JU0hfU1RBVEU/ZXJyKHN0cm0sWl9TVFJFQU1fRVJST1IpOihzdHJtLnN0YXRlPW51bGwsc3RhdHVzPT09QlVTWV9TVEFURT9lcnIoc3RybSxaX0RBVEFfRVJST1IpOlpfT0spOlpfU1RSRUFNX0VSUk9SfSxleHBvcnRzLmRlZmxhdGVTZXREaWN0aW9uYXJ5PWZ1bmN0aW9uKHN0cm0sZGljdGlvbmFyeSl7dmFyIHMsc3RyLG4sd3JhcCxhdmFpbCxuZXh0LGlucHV0LHRtcERpY3QsZGljdExlbmd0aD1kaWN0aW9uYXJ5Lmxlbmd0aDtpZighc3RybXx8IXN0cm0uc3RhdGUpcmV0dXJuIFpfU1RSRUFNX0VSUk9SO2lmKDI9PT0od3JhcD0ocz1zdHJtLnN0YXRlKS53cmFwKXx8MT09PXdyYXAmJnMuc3RhdHVzIT09SU5JVF9TVEFURXx8cy5sb29rYWhlYWQpcmV0dXJuIFpfU1RSRUFNX0VSUk9SO2ZvcigxPT09d3JhcCYmKHN0cm0uYWRsZXI9YWRsZXIzMihzdHJtLmFkbGVyLGRpY3Rpb25hcnksZGljdExlbmd0aCwwKSkscy53cmFwPTAsZGljdExlbmd0aD49cy53X3NpemUmJigwPT09d3JhcCYmKHplcm8ocy5oZWFkKSxzLnN0cnN0YXJ0PTAscy5ibG9ja19zdGFydD0wLHMuaW5zZXJ0PTApLHRtcERpY3Q9bmV3IHV0aWxzLkJ1Zjgocy53X3NpemUpLHV0aWxzLmFycmF5U2V0KHRtcERpY3QsZGljdGlvbmFyeSxkaWN0TGVuZ3RoLXMud19zaXplLHMud19zaXplLDApLGRpY3Rpb25hcnk9dG1wRGljdCxkaWN0TGVuZ3RoPXMud19zaXplKSxhdmFpbD1zdHJtLmF2YWlsX2luLG5leHQ9c3RybS5uZXh0X2luLGlucHV0PXN0cm0uaW5wdXQsc3RybS5hdmFpbF9pbj1kaWN0TGVuZ3RoLHN0cm0ubmV4dF9pbj0wLHN0cm0uaW5wdXQ9ZGljdGlvbmFyeSxmaWxsX3dpbmRvdyhzKTtzLmxvb2thaGVhZD49TUlOX01BVENIOyl7c3RyPXMuc3Ryc3RhcnQsbj1zLmxvb2thaGVhZC0oTUlOX01BVENILTEpO2Rve3MuaW5zX2g9KHMuaW5zX2g8PHMuaGFzaF9zaGlmdF5zLndpbmRvd1tzdHIrTUlOX01BVENILTFdKSZzLmhhc2hfbWFzayxzLnByZXZbc3RyJnMud19tYXNrXT1zLmhlYWRbcy5pbnNfaF0scy5oZWFkW3MuaW5zX2hdPXN0cixzdHIrK313aGlsZSgtLW4pO3Muc3Ryc3RhcnQ9c3RyLHMubG9va2FoZWFkPU1JTl9NQVRDSC0xLGZpbGxfd2luZG93KHMpfXJldHVybiBzLnN0cnN0YXJ0Kz1zLmxvb2thaGVhZCxzLmJsb2NrX3N0YXJ0PXMuc3Ryc3RhcnQscy5pbnNlcnQ9cy5sb29rYWhlYWQscy5sb29rYWhlYWQ9MCxzLm1hdGNoX2xlbmd0aD1zLnByZXZfbGVuZ3RoPU1JTl9NQVRDSC0xLHMubWF0Y2hfYXZhaWxhYmxlPTAsc3RybS5uZXh0X2luPW5leHQsc3RybS5pbnB1dD1pbnB1dCxzdHJtLmF2YWlsX2luPWF2YWlsLHMud3JhcD13cmFwLFpfT0t9LGV4cG9ydHMuZGVmbGF0ZUluZm89XCJwYWtvIGRlZmxhdGUgKGZyb20gTm9kZWNhIHByb2plY3QpXCJ9LGZ1bmN0aW9uKG1vZHVsZSxleHBvcnRzLF9fd2VicGFja19yZXF1aXJlX18pe1widXNlIHN0cmljdFwiO3ZhciB1dGlscz1fX3dlYnBhY2tfcmVxdWlyZV9fKDgpLFpfRklYRUQ9NCxaX0JJTkFSWT0wLFpfVEVYVD0xLFpfVU5LTk9XTj0yO2Z1bmN0aW9uIHplcm8oYnVmKXtmb3IodmFyIGxlbj1idWYubGVuZ3RoOy0tbGVuPj0wOylidWZbbGVuXT0wfXZhciBTVE9SRURfQkxPQ0s9MCxTVEFUSUNfVFJFRVM9MSxEWU5fVFJFRVM9MixMRU5HVEhfQ09ERVM9MjksTElURVJBTFM9MjU2LExfQ09ERVM9TElURVJBTFMrMStMRU5HVEhfQ09ERVMsRF9DT0RFUz0zMCxCTF9DT0RFUz0xOSxIRUFQX1NJWkU9MipMX0NPREVTKzEsTUFYX0JJVFM9MTUsQnVmX3NpemU9MTYsTUFYX0JMX0JJVFM9NyxFTkRfQkxPQ0s9MjU2LFJFUF8zXzY9MTYsUkVQWl8zXzEwPTE3LFJFUFpfMTFfMTM4PTE4LGV4dHJhX2xiaXRzPVswLDAsMCwwLDAsMCwwLDAsMSwxLDEsMSwyLDIsMiwyLDMsMywzLDMsNCw0LDQsNCw1LDUsNSw1LDBdLGV4dHJhX2RiaXRzPVswLDAsMCwwLDEsMSwyLDIsMywzLDQsNCw1LDUsNiw2LDcsNyw4LDgsOSw5LDEwLDEwLDExLDExLDEyLDEyLDEzLDEzXSxleHRyYV9ibGJpdHM9WzAsMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDAsMiwzLDddLGJsX29yZGVyPVsxNiwxNywxOCwwLDgsNyw5LDYsMTAsNSwxMSw0LDEyLDMsMTMsMiwxNCwxLDE1XSxzdGF0aWNfbHRyZWU9bmV3IEFycmF5KDIqKExfQ09ERVMrMikpO3plcm8oc3RhdGljX2x0cmVlKTt2YXIgc3RhdGljX2R0cmVlPW5ldyBBcnJheSgyKkRfQ09ERVMpO3plcm8oc3RhdGljX2R0cmVlKTt2YXIgX2Rpc3RfY29kZT1uZXcgQXJyYXkoNTEyKTt6ZXJvKF9kaXN0X2NvZGUpO3ZhciBfbGVuZ3RoX2NvZGU9bmV3IEFycmF5KDI1Nik7emVybyhfbGVuZ3RoX2NvZGUpO3ZhciBiYXNlX2xlbmd0aD1uZXcgQXJyYXkoTEVOR1RIX0NPREVTKTt6ZXJvKGJhc2VfbGVuZ3RoKTt2YXIgc3RhdGljX2xfZGVzYyxzdGF0aWNfZF9kZXNjLHN0YXRpY19ibF9kZXNjLGJhc2VfZGlzdD1uZXcgQXJyYXkoRF9DT0RFUyk7ZnVuY3Rpb24gU3RhdGljVHJlZURlc2Moc3RhdGljX3RyZWUsZXh0cmFfYml0cyxleHRyYV9iYXNlLGVsZW1zLG1heF9sZW5ndGgpe3RoaXMuc3RhdGljX3RyZWU9c3RhdGljX3RyZWUsdGhpcy5leHRyYV9iaXRzPWV4dHJhX2JpdHMsdGhpcy5leHRyYV9iYXNlPWV4dHJhX2Jhc2UsdGhpcy5lbGVtcz1lbGVtcyx0aGlzLm1heF9sZW5ndGg9bWF4X2xlbmd0aCx0aGlzLmhhc19zdHJlZT1zdGF0aWNfdHJlZSYmc3RhdGljX3RyZWUubGVuZ3RofWZ1bmN0aW9uIFRyZWVEZXNjKGR5bl90cmVlLHN0YXRfZGVzYyl7dGhpcy5keW5fdHJlZT1keW5fdHJlZSx0aGlzLm1heF9jb2RlPTAsdGhpcy5zdGF0X2Rlc2M9c3RhdF9kZXNjfWZ1bmN0aW9uIGRfY29kZShkaXN0KXtyZXR1cm4gZGlzdDwyNTY/X2Rpc3RfY29kZVtkaXN0XTpfZGlzdF9jb2RlWzI1NisoZGlzdD4+PjcpXX1mdW5jdGlvbiBwdXRfc2hvcnQocyx3KXtzLnBlbmRpbmdfYnVmW3MucGVuZGluZysrXT0yNTUmdyxzLnBlbmRpbmdfYnVmW3MucGVuZGluZysrXT13Pj4+OCYyNTV9ZnVuY3Rpb24gc2VuZF9iaXRzKHMsdmFsdWUsbGVuZ3RoKXtzLmJpX3ZhbGlkPkJ1Zl9zaXplLWxlbmd0aD8ocy5iaV9idWZ8PXZhbHVlPDxzLmJpX3ZhbGlkJjY1NTM1LHB1dF9zaG9ydChzLHMuYmlfYnVmKSxzLmJpX2J1Zj12YWx1ZT4+QnVmX3NpemUtcy5iaV92YWxpZCxzLmJpX3ZhbGlkKz1sZW5ndGgtQnVmX3NpemUpOihzLmJpX2J1Znw9dmFsdWU8PHMuYmlfdmFsaWQmNjU1MzUscy5iaV92YWxpZCs9bGVuZ3RoKX1mdW5jdGlvbiBzZW5kX2NvZGUocyxjLHRyZWUpe3NlbmRfYml0cyhzLHRyZWVbMipjXSx0cmVlWzIqYysxXSl9ZnVuY3Rpb24gYmlfcmV2ZXJzZShjb2RlLGxlbil7dmFyIHJlcz0wO2Rve3Jlc3w9MSZjb2RlLGNvZGU+Pj49MSxyZXM8PD0xfXdoaWxlKC0tbGVuPjApO3JldHVybiByZXM+Pj4xfWZ1bmN0aW9uIGdlbl9jb2Rlcyh0cmVlLG1heF9jb2RlLGJsX2NvdW50KXt2YXIgYml0cyxuLG5leHRfY29kZT1uZXcgQXJyYXkoTUFYX0JJVFMrMSksY29kZT0wO2ZvcihiaXRzPTE7Yml0czw9TUFYX0JJVFM7Yml0cysrKW5leHRfY29kZVtiaXRzXT1jb2RlPWNvZGUrYmxfY291bnRbYml0cy0xXTw8MTtmb3Iobj0wO248PW1heF9jb2RlO24rKyl7dmFyIGxlbj10cmVlWzIqbisxXTswIT09bGVuJiYodHJlZVsyKm5dPWJpX3JldmVyc2UobmV4dF9jb2RlW2xlbl0rKyxsZW4pKX19ZnVuY3Rpb24gaW5pdF9ibG9jayhzKXt2YXIgbjtmb3Iobj0wO248TF9DT0RFUztuKyspcy5keW5fbHRyZWVbMipuXT0wO2ZvcihuPTA7bjxEX0NPREVTO24rKylzLmR5bl9kdHJlZVsyKm5dPTA7Zm9yKG49MDtuPEJMX0NPREVTO24rKylzLmJsX3RyZWVbMipuXT0wO3MuZHluX2x0cmVlWzIqRU5EX0JMT0NLXT0xLHMub3B0X2xlbj1zLnN0YXRpY19sZW49MCxzLmxhc3RfbGl0PXMubWF0Y2hlcz0wfWZ1bmN0aW9uIGJpX3dpbmR1cChzKXtzLmJpX3ZhbGlkPjg/cHV0X3Nob3J0KHMscy5iaV9idWYpOnMuYmlfdmFsaWQ+MCYmKHMucGVuZGluZ19idWZbcy5wZW5kaW5nKytdPXMuYmlfYnVmKSxzLmJpX2J1Zj0wLHMuYmlfdmFsaWQ9MH1mdW5jdGlvbiBzbWFsbGVyKHRyZWUsbixtLGRlcHRoKXt2YXIgX24yPTIqbixfbTI9MiptO3JldHVybiB0cmVlW19uMl08dHJlZVtfbTJdfHx0cmVlW19uMl09PT10cmVlW19tMl0mJmRlcHRoW25dPD1kZXB0aFttXX1mdW5jdGlvbiBwcWRvd25oZWFwKHMsdHJlZSxrKXtmb3IodmFyIHY9cy5oZWFwW2tdLGo9azw8MTtqPD1zLmhlYXBfbGVuJiYoajxzLmhlYXBfbGVuJiZzbWFsbGVyKHRyZWUscy5oZWFwW2orMV0scy5oZWFwW2pdLHMuZGVwdGgpJiZqKyssIXNtYWxsZXIodHJlZSx2LHMuaGVhcFtqXSxzLmRlcHRoKSk7KXMuaGVhcFtrXT1zLmhlYXBbal0saz1qLGo8PD0xO3MuaGVhcFtrXT12fWZ1bmN0aW9uIGNvbXByZXNzX2Jsb2NrKHMsbHRyZWUsZHRyZWUpe3ZhciBkaXN0LGxjLGNvZGUsZXh0cmEsbHg9MDtpZigwIT09cy5sYXN0X2xpdClkb3tkaXN0PXMucGVuZGluZ19idWZbcy5kX2J1ZisyKmx4XTw8OHxzLnBlbmRpbmdfYnVmW3MuZF9idWYrMipseCsxXSxsYz1zLnBlbmRpbmdfYnVmW3MubF9idWYrbHhdLGx4KyssMD09PWRpc3Q/c2VuZF9jb2RlKHMsbGMsbHRyZWUpOihzZW5kX2NvZGUocywoY29kZT1fbGVuZ3RoX2NvZGVbbGNdKStMSVRFUkFMUysxLGx0cmVlKSwwIT09KGV4dHJhPWV4dHJhX2xiaXRzW2NvZGVdKSYmc2VuZF9iaXRzKHMsbGMtPWJhc2VfbGVuZ3RoW2NvZGVdLGV4dHJhKSxzZW5kX2NvZGUocyxjb2RlPWRfY29kZSgtLWRpc3QpLGR0cmVlKSwwIT09KGV4dHJhPWV4dHJhX2RiaXRzW2NvZGVdKSYmc2VuZF9iaXRzKHMsZGlzdC09YmFzZV9kaXN0W2NvZGVdLGV4dHJhKSl9d2hpbGUobHg8cy5sYXN0X2xpdCk7c2VuZF9jb2RlKHMsRU5EX0JMT0NLLGx0cmVlKX1mdW5jdGlvbiBidWlsZF90cmVlKHMsZGVzYyl7dmFyIG4sbSxub2RlLHRyZWU9ZGVzYy5keW5fdHJlZSxzdHJlZT1kZXNjLnN0YXRfZGVzYy5zdGF0aWNfdHJlZSxoYXNfc3RyZWU9ZGVzYy5zdGF0X2Rlc2MuaGFzX3N0cmVlLGVsZW1zPWRlc2Muc3RhdF9kZXNjLmVsZW1zLG1heF9jb2RlPS0xO2ZvcihzLmhlYXBfbGVuPTAscy5oZWFwX21heD1IRUFQX1NJWkUsbj0wO248ZWxlbXM7bisrKTAhPT10cmVlWzIqbl0/KHMuaGVhcFsrK3MuaGVhcF9sZW5dPW1heF9jb2RlPW4scy5kZXB0aFtuXT0wKTp0cmVlWzIqbisxXT0wO2Zvcig7cy5oZWFwX2xlbjwyOyl0cmVlWzIqKG5vZGU9cy5oZWFwWysrcy5oZWFwX2xlbl09bWF4X2NvZGU8Mj8rK21heF9jb2RlOjApXT0xLHMuZGVwdGhbbm9kZV09MCxzLm9wdF9sZW4tLSxoYXNfc3RyZWUmJihzLnN0YXRpY19sZW4tPXN0cmVlWzIqbm9kZSsxXSk7Zm9yKGRlc2MubWF4X2NvZGU9bWF4X2NvZGUsbj1zLmhlYXBfbGVuPj4xO24+PTE7bi0tKXBxZG93bmhlYXAocyx0cmVlLG4pO25vZGU9ZWxlbXM7ZG97bj1zLmhlYXBbMV0scy5oZWFwWzFdPXMuaGVhcFtzLmhlYXBfbGVuLS1dLHBxZG93bmhlYXAocyx0cmVlLDEpLG09cy5oZWFwWzFdLHMuaGVhcFstLXMuaGVhcF9tYXhdPW4scy5oZWFwWy0tcy5oZWFwX21heF09bSx0cmVlWzIqbm9kZV09dHJlZVsyKm5dK3RyZWVbMiptXSxzLmRlcHRoW25vZGVdPShzLmRlcHRoW25dPj1zLmRlcHRoW21dP3MuZGVwdGhbbl06cy5kZXB0aFttXSkrMSx0cmVlWzIqbisxXT10cmVlWzIqbSsxXT1ub2RlLHMuaGVhcFsxXT1ub2RlKysscHFkb3duaGVhcChzLHRyZWUsMSl9d2hpbGUocy5oZWFwX2xlbj49Mik7cy5oZWFwWy0tcy5oZWFwX21heF09cy5oZWFwWzFdLGZ1bmN0aW9uKHMsZGVzYyl7dmFyIGgsbixtLGJpdHMseGJpdHMsZix0cmVlPWRlc2MuZHluX3RyZWUsbWF4X2NvZGU9ZGVzYy5tYXhfY29kZSxzdHJlZT1kZXNjLnN0YXRfZGVzYy5zdGF0aWNfdHJlZSxoYXNfc3RyZWU9ZGVzYy5zdGF0X2Rlc2MuaGFzX3N0cmVlLGV4dHJhPWRlc2Muc3RhdF9kZXNjLmV4dHJhX2JpdHMsYmFzZT1kZXNjLnN0YXRfZGVzYy5leHRyYV9iYXNlLG1heF9sZW5ndGg9ZGVzYy5zdGF0X2Rlc2MubWF4X2xlbmd0aCxvdmVyZmxvdz0wO2ZvcihiaXRzPTA7Yml0czw9TUFYX0JJVFM7Yml0cysrKXMuYmxfY291bnRbYml0c109MDtmb3IodHJlZVsyKnMuaGVhcFtzLmhlYXBfbWF4XSsxXT0wLGg9cy5oZWFwX21heCsxO2g8SEVBUF9TSVpFO2grKykoYml0cz10cmVlWzIqdHJlZVsyKihuPXMuaGVhcFtoXSkrMV0rMV0rMSk+bWF4X2xlbmd0aCYmKGJpdHM9bWF4X2xlbmd0aCxvdmVyZmxvdysrKSx0cmVlWzIqbisxXT1iaXRzLG4+bWF4X2NvZGV8fChzLmJsX2NvdW50W2JpdHNdKysseGJpdHM9MCxuPj1iYXNlJiYoeGJpdHM9ZXh0cmFbbi1iYXNlXSksZj10cmVlWzIqbl0scy5vcHRfbGVuKz1mKihiaXRzK3hiaXRzKSxoYXNfc3RyZWUmJihzLnN0YXRpY19sZW4rPWYqKHN0cmVlWzIqbisxXSt4Yml0cykpKTtpZigwIT09b3ZlcmZsb3cpe2Rve2ZvcihiaXRzPW1heF9sZW5ndGgtMTswPT09cy5ibF9jb3VudFtiaXRzXTspYml0cy0tO3MuYmxfY291bnRbYml0c10tLSxzLmJsX2NvdW50W2JpdHMrMV0rPTIscy5ibF9jb3VudFttYXhfbGVuZ3RoXS0tLG92ZXJmbG93LT0yfXdoaWxlKG92ZXJmbG93PjApO2ZvcihiaXRzPW1heF9sZW5ndGg7MCE9PWJpdHM7Yml0cy0tKWZvcihuPXMuYmxfY291bnRbYml0c107MCE9PW47KShtPXMuaGVhcFstLWhdKT5tYXhfY29kZXx8KHRyZWVbMiptKzFdIT09Yml0cyYmKHMub3B0X2xlbis9KGJpdHMtdHJlZVsyKm0rMV0pKnRyZWVbMiptXSx0cmVlWzIqbSsxXT1iaXRzKSxuLS0pfX0ocyxkZXNjKSxnZW5fY29kZXModHJlZSxtYXhfY29kZSxzLmJsX2NvdW50KX1mdW5jdGlvbiBzY2FuX3RyZWUocyx0cmVlLG1heF9jb2RlKXt2YXIgbixjdXJsZW4scHJldmxlbj0tMSxuZXh0bGVuPXRyZWVbMV0sY291bnQ9MCxtYXhfY291bnQ9NyxtaW5fY291bnQ9NDtmb3IoMD09PW5leHRsZW4mJihtYXhfY291bnQ9MTM4LG1pbl9jb3VudD0zKSx0cmVlWzIqKG1heF9jb2RlKzEpKzFdPTY1NTM1LG49MDtuPD1tYXhfY29kZTtuKyspY3VybGVuPW5leHRsZW4sbmV4dGxlbj10cmVlWzIqKG4rMSkrMV0sKytjb3VudDxtYXhfY291bnQmJmN1cmxlbj09PW5leHRsZW58fChjb3VudDxtaW5fY291bnQ/cy5ibF90cmVlWzIqY3VybGVuXSs9Y291bnQ6MCE9PWN1cmxlbj8oY3VybGVuIT09cHJldmxlbiYmcy5ibF90cmVlWzIqY3VybGVuXSsrLHMuYmxfdHJlZVsyKlJFUF8zXzZdKyspOmNvdW50PD0xMD9zLmJsX3RyZWVbMipSRVBaXzNfMTBdKys6cy5ibF90cmVlWzIqUkVQWl8xMV8xMzhdKyssY291bnQ9MCxwcmV2bGVuPWN1cmxlbiwwPT09bmV4dGxlbj8obWF4X2NvdW50PTEzOCxtaW5fY291bnQ9Myk6Y3VybGVuPT09bmV4dGxlbj8obWF4X2NvdW50PTYsbWluX2NvdW50PTMpOihtYXhfY291bnQ9NyxtaW5fY291bnQ9NCkpfWZ1bmN0aW9uIHNlbmRfdHJlZShzLHRyZWUsbWF4X2NvZGUpe3ZhciBuLGN1cmxlbixwcmV2bGVuPS0xLG5leHRsZW49dHJlZVsxXSxjb3VudD0wLG1heF9jb3VudD03LG1pbl9jb3VudD00O2ZvcigwPT09bmV4dGxlbiYmKG1heF9jb3VudD0xMzgsbWluX2NvdW50PTMpLG49MDtuPD1tYXhfY29kZTtuKyspaWYoY3VybGVuPW5leHRsZW4sbmV4dGxlbj10cmVlWzIqKG4rMSkrMV0sISgrK2NvdW50PG1heF9jb3VudCYmY3VybGVuPT09bmV4dGxlbikpe2lmKGNvdW50PG1pbl9jb3VudClkb3tzZW5kX2NvZGUocyxjdXJsZW4scy5ibF90cmVlKX13aGlsZSgwIT0tLWNvdW50KTtlbHNlIDAhPT1jdXJsZW4/KGN1cmxlbiE9PXByZXZsZW4mJihzZW5kX2NvZGUocyxjdXJsZW4scy5ibF90cmVlKSxjb3VudC0tKSxzZW5kX2NvZGUocyxSRVBfM182LHMuYmxfdHJlZSksc2VuZF9iaXRzKHMsY291bnQtMywyKSk6Y291bnQ8PTEwPyhzZW5kX2NvZGUocyxSRVBaXzNfMTAscy5ibF90cmVlKSxzZW5kX2JpdHMocyxjb3VudC0zLDMpKTooc2VuZF9jb2RlKHMsUkVQWl8xMV8xMzgscy5ibF90cmVlKSxzZW5kX2JpdHMocyxjb3VudC0xMSw3KSk7Y291bnQ9MCxwcmV2bGVuPWN1cmxlbiwwPT09bmV4dGxlbj8obWF4X2NvdW50PTEzOCxtaW5fY291bnQ9Myk6Y3VybGVuPT09bmV4dGxlbj8obWF4X2NvdW50PTYsbWluX2NvdW50PTMpOihtYXhfY291bnQ9NyxtaW5fY291bnQ9NCl9fXplcm8oYmFzZV9kaXN0KTt2YXIgc3RhdGljX2luaXRfZG9uZT0hMTtmdW5jdGlvbiBfdHJfc3RvcmVkX2Jsb2NrKHMsYnVmLHN0b3JlZF9sZW4sbGFzdCl7c2VuZF9iaXRzKHMsKFNUT1JFRF9CTE9DSzw8MSkrKGxhc3Q/MTowKSwzKSxmdW5jdGlvbihzLGJ1ZixsZW4saGVhZGVyKXtiaV93aW5kdXAocyksaGVhZGVyJiYocHV0X3Nob3J0KHMsbGVuKSxwdXRfc2hvcnQocyx+bGVuKSksdXRpbHMuYXJyYXlTZXQocy5wZW5kaW5nX2J1ZixzLndpbmRvdyxidWYsbGVuLHMucGVuZGluZykscy5wZW5kaW5nKz1sZW59KHMsYnVmLHN0b3JlZF9sZW4sITApfWV4cG9ydHMuX3RyX2luaXQ9ZnVuY3Rpb24ocyl7c3RhdGljX2luaXRfZG9uZXx8KGZ1bmN0aW9uKCl7dmFyIG4sYml0cyxsZW5ndGgsY29kZSxkaXN0LGJsX2NvdW50PW5ldyBBcnJheShNQVhfQklUUysxKTtmb3IobGVuZ3RoPTAsY29kZT0wO2NvZGU8TEVOR1RIX0NPREVTLTE7Y29kZSsrKWZvcihiYXNlX2xlbmd0aFtjb2RlXT1sZW5ndGgsbj0wO248MTw8ZXh0cmFfbGJpdHNbY29kZV07bisrKV9sZW5ndGhfY29kZVtsZW5ndGgrK109Y29kZTtmb3IoX2xlbmd0aF9jb2RlW2xlbmd0aC0xXT1jb2RlLGRpc3Q9MCxjb2RlPTA7Y29kZTwxNjtjb2RlKyspZm9yKGJhc2VfZGlzdFtjb2RlXT1kaXN0LG49MDtuPDE8PGV4dHJhX2RiaXRzW2NvZGVdO24rKylfZGlzdF9jb2RlW2Rpc3QrK109Y29kZTtmb3IoZGlzdD4+PTc7Y29kZTxEX0NPREVTO2NvZGUrKylmb3IoYmFzZV9kaXN0W2NvZGVdPWRpc3Q8PDcsbj0wO248MTw8ZXh0cmFfZGJpdHNbY29kZV0tNztuKyspX2Rpc3RfY29kZVsyNTYrZGlzdCsrXT1jb2RlO2ZvcihiaXRzPTA7Yml0czw9TUFYX0JJVFM7Yml0cysrKWJsX2NvdW50W2JpdHNdPTA7Zm9yKG49MDtuPD0xNDM7KXN0YXRpY19sdHJlZVsyKm4rMV09OCxuKyssYmxfY291bnRbOF0rKztmb3IoO248PTI1NTspc3RhdGljX2x0cmVlWzIqbisxXT05LG4rKyxibF9jb3VudFs5XSsrO2Zvcig7bjw9Mjc5OylzdGF0aWNfbHRyZWVbMipuKzFdPTcsbisrLGJsX2NvdW50WzddKys7Zm9yKDtuPD0yODc7KXN0YXRpY19sdHJlZVsyKm4rMV09OCxuKyssYmxfY291bnRbOF0rKztmb3IoZ2VuX2NvZGVzKHN0YXRpY19sdHJlZSxMX0NPREVTKzEsYmxfY291bnQpLG49MDtuPERfQ09ERVM7bisrKXN0YXRpY19kdHJlZVsyKm4rMV09NSxzdGF0aWNfZHRyZWVbMipuXT1iaV9yZXZlcnNlKG4sNSk7c3RhdGljX2xfZGVzYz1uZXcgU3RhdGljVHJlZURlc2Moc3RhdGljX2x0cmVlLGV4dHJhX2xiaXRzLExJVEVSQUxTKzEsTF9DT0RFUyxNQVhfQklUUyksc3RhdGljX2RfZGVzYz1uZXcgU3RhdGljVHJlZURlc2Moc3RhdGljX2R0cmVlLGV4dHJhX2RiaXRzLDAsRF9DT0RFUyxNQVhfQklUUyksc3RhdGljX2JsX2Rlc2M9bmV3IFN0YXRpY1RyZWVEZXNjKG5ldyBBcnJheSgwKSxleHRyYV9ibGJpdHMsMCxCTF9DT0RFUyxNQVhfQkxfQklUUyl9KCksc3RhdGljX2luaXRfZG9uZT0hMCkscy5sX2Rlc2M9bmV3IFRyZWVEZXNjKHMuZHluX2x0cmVlLHN0YXRpY19sX2Rlc2MpLHMuZF9kZXNjPW5ldyBUcmVlRGVzYyhzLmR5bl9kdHJlZSxzdGF0aWNfZF9kZXNjKSxzLmJsX2Rlc2M9bmV3IFRyZWVEZXNjKHMuYmxfdHJlZSxzdGF0aWNfYmxfZGVzYykscy5iaV9idWY9MCxzLmJpX3ZhbGlkPTAsaW5pdF9ibG9jayhzKX0sZXhwb3J0cy5fdHJfc3RvcmVkX2Jsb2NrPV90cl9zdG9yZWRfYmxvY2ssZXhwb3J0cy5fdHJfZmx1c2hfYmxvY2s9ZnVuY3Rpb24ocyxidWYsc3RvcmVkX2xlbixsYXN0KXt2YXIgb3B0X2xlbmIsc3RhdGljX2xlbmIsbWF4X2JsaW5kZXg9MDtzLmxldmVsPjA/KHMuc3RybS5kYXRhX3R5cGU9PT1aX1VOS05PV04mJihzLnN0cm0uZGF0YV90eXBlPWZ1bmN0aW9uKHMpe3ZhciBuLGJsYWNrX21hc2s9NDA5MzYyNDQ0Nztmb3Iobj0wO248PTMxO24rKyxibGFja19tYXNrPj4+PTEpaWYoMSZibGFja19tYXNrJiYwIT09cy5keW5fbHRyZWVbMipuXSlyZXR1cm4gWl9CSU5BUlk7aWYoMCE9PXMuZHluX2x0cmVlWzE4XXx8MCE9PXMuZHluX2x0cmVlWzIwXXx8MCE9PXMuZHluX2x0cmVlWzI2XSlyZXR1cm4gWl9URVhUO2ZvcihuPTMyO248TElURVJBTFM7bisrKWlmKDAhPT1zLmR5bl9sdHJlZVsyKm5dKXJldHVybiBaX1RFWFQ7cmV0dXJuIFpfQklOQVJZfShzKSksYnVpbGRfdHJlZShzLHMubF9kZXNjKSxidWlsZF90cmVlKHMscy5kX2Rlc2MpLG1heF9ibGluZGV4PWZ1bmN0aW9uKHMpe3ZhciBtYXhfYmxpbmRleDtmb3Ioc2Nhbl90cmVlKHMscy5keW5fbHRyZWUscy5sX2Rlc2MubWF4X2NvZGUpLHNjYW5fdHJlZShzLHMuZHluX2R0cmVlLHMuZF9kZXNjLm1heF9jb2RlKSxidWlsZF90cmVlKHMscy5ibF9kZXNjKSxtYXhfYmxpbmRleD1CTF9DT0RFUy0xO21heF9ibGluZGV4Pj0zJiYwPT09cy5ibF90cmVlWzIqYmxfb3JkZXJbbWF4X2JsaW5kZXhdKzFdO21heF9ibGluZGV4LS0pO3JldHVybiBzLm9wdF9sZW4rPTMqKG1heF9ibGluZGV4KzEpKzUrNSs0LG1heF9ibGluZGV4fShzKSxvcHRfbGVuYj1zLm9wdF9sZW4rMys3Pj4+Mywoc3RhdGljX2xlbmI9cy5zdGF0aWNfbGVuKzMrNz4+PjMpPD1vcHRfbGVuYiYmKG9wdF9sZW5iPXN0YXRpY19sZW5iKSk6b3B0X2xlbmI9c3RhdGljX2xlbmI9c3RvcmVkX2xlbis1LHN0b3JlZF9sZW4rNDw9b3B0X2xlbmImJi0xIT09YnVmP190cl9zdG9yZWRfYmxvY2socyxidWYsc3RvcmVkX2xlbixsYXN0KTpzLnN0cmF0ZWd5PT09Wl9GSVhFRHx8c3RhdGljX2xlbmI9PT1vcHRfbGVuYj8oc2VuZF9iaXRzKHMsKFNUQVRJQ19UUkVFUzw8MSkrKGxhc3Q/MTowKSwzKSxjb21wcmVzc19ibG9jayhzLHN0YXRpY19sdHJlZSxzdGF0aWNfZHRyZWUpKTooc2VuZF9iaXRzKHMsKERZTl9UUkVFUzw8MSkrKGxhc3Q/MTowKSwzKSxmdW5jdGlvbihzLGxjb2RlcyxkY29kZXMsYmxjb2Rlcyl7dmFyIHJhbms7Zm9yKHNlbmRfYml0cyhzLGxjb2Rlcy0yNTcsNSksc2VuZF9iaXRzKHMsZGNvZGVzLTEsNSksc2VuZF9iaXRzKHMsYmxjb2Rlcy00LDQpLHJhbms9MDtyYW5rPGJsY29kZXM7cmFuaysrKXNlbmRfYml0cyhzLHMuYmxfdHJlZVsyKmJsX29yZGVyW3JhbmtdKzFdLDMpO3NlbmRfdHJlZShzLHMuZHluX2x0cmVlLGxjb2Rlcy0xKSxzZW5kX3RyZWUocyxzLmR5bl9kdHJlZSxkY29kZXMtMSl9KHMscy5sX2Rlc2MubWF4X2NvZGUrMSxzLmRfZGVzYy5tYXhfY29kZSsxLG1heF9ibGluZGV4KzEpLGNvbXByZXNzX2Jsb2NrKHMscy5keW5fbHRyZWUscy5keW5fZHRyZWUpKSxpbml0X2Jsb2NrKHMpLGxhc3QmJmJpX3dpbmR1cChzKX0sZXhwb3J0cy5fdHJfdGFsbHk9ZnVuY3Rpb24ocyxkaXN0LGxjKXtyZXR1cm4gcy5wZW5kaW5nX2J1ZltzLmRfYnVmKzIqcy5sYXN0X2xpdF09ZGlzdD4+PjgmMjU1LHMucGVuZGluZ19idWZbcy5kX2J1ZisyKnMubGFzdF9saXQrMV09MjU1JmRpc3Qscy5wZW5kaW5nX2J1ZltzLmxfYnVmK3MubGFzdF9saXRdPTI1NSZsYyxzLmxhc3RfbGl0KyssMD09PWRpc3Q/cy5keW5fbHRyZWVbMipsY10rKzoocy5tYXRjaGVzKyssZGlzdC0tLHMuZHluX2x0cmVlWzIqKF9sZW5ndGhfY29kZVtsY10rTElURVJBTFMrMSldKysscy5keW5fZHRyZWVbMipkX2NvZGUoZGlzdCldKyspLHMubGFzdF9saXQ9PT1zLmxpdF9idWZzaXplLTF9LGV4cG9ydHMuX3RyX2FsaWduPWZ1bmN0aW9uKHMpe3NlbmRfYml0cyhzLFNUQVRJQ19UUkVFUzw8MSwzKSxzZW5kX2NvZGUocyxFTkRfQkxPQ0ssc3RhdGljX2x0cmVlKSxmdW5jdGlvbihzKXsxNj09PXMuYmlfdmFsaWQ/KHB1dF9zaG9ydChzLHMuYmlfYnVmKSxzLmJpX2J1Zj0wLHMuYmlfdmFsaWQ9MCk6cy5iaV92YWxpZD49OCYmKHMucGVuZGluZ19idWZbcy5wZW5kaW5nKytdPTI1NSZzLmJpX2J1ZixzLmJpX2J1Zj4+PTgscy5iaV92YWxpZC09OCl9KHMpfX0sZnVuY3Rpb24obW9kdWxlLGV4cG9ydHMsX193ZWJwYWNrX3JlcXVpcmVfXyl7XCJ1c2Ugc3RyaWN0XCI7dmFyIHpsaWJfaW5mbGF0ZT1fX3dlYnBhY2tfcmVxdWlyZV9fKDExMyksdXRpbHM9X193ZWJwYWNrX3JlcXVpcmVfXyg4KSxzdHJpbmdzPV9fd2VicGFja19yZXF1aXJlX18oNjcpLGM9X193ZWJwYWNrX3JlcXVpcmVfXyg2OSksbXNnPV9fd2VicGFja19yZXF1aXJlX18oNDUpLFpTdHJlYW09X193ZWJwYWNrX3JlcXVpcmVfXyg2OCksR1poZWFkZXI9X193ZWJwYWNrX3JlcXVpcmVfXygxMTYpLHRvU3RyaW5nPU9iamVjdC5wcm90b3R5cGUudG9TdHJpbmc7ZnVuY3Rpb24gSW5mbGF0ZShvcHRpb25zKXtpZighKHRoaXMgaW5zdGFuY2VvZiBJbmZsYXRlKSlyZXR1cm4gbmV3IEluZmxhdGUob3B0aW9ucyk7dGhpcy5vcHRpb25zPXV0aWxzLmFzc2lnbih7Y2h1bmtTaXplOjE2Mzg0LHdpbmRvd0JpdHM6MCx0bzpcIlwifSxvcHRpb25zfHx7fSk7dmFyIG9wdD10aGlzLm9wdGlvbnM7b3B0LnJhdyYmb3B0LndpbmRvd0JpdHM+PTAmJm9wdC53aW5kb3dCaXRzPDE2JiYob3B0LndpbmRvd0JpdHM9LW9wdC53aW5kb3dCaXRzLDA9PT1vcHQud2luZG93Qml0cyYmKG9wdC53aW5kb3dCaXRzPS0xNSkpLCEob3B0LndpbmRvd0JpdHM+PTAmJm9wdC53aW5kb3dCaXRzPDE2KXx8b3B0aW9ucyYmb3B0aW9ucy53aW5kb3dCaXRzfHwob3B0LndpbmRvd0JpdHMrPTMyKSxvcHQud2luZG93Qml0cz4xNSYmb3B0LndpbmRvd0JpdHM8NDgmJjA9PSgxNSZvcHQud2luZG93Qml0cykmJihvcHQud2luZG93Qml0c3w9MTUpLHRoaXMuZXJyPTAsdGhpcy5tc2c9XCJcIix0aGlzLmVuZGVkPSExLHRoaXMuY2h1bmtzPVtdLHRoaXMuc3RybT1uZXcgWlN0cmVhbSx0aGlzLnN0cm0uYXZhaWxfb3V0PTA7dmFyIHN0YXR1cz16bGliX2luZmxhdGUuaW5mbGF0ZUluaXQyKHRoaXMuc3RybSxvcHQud2luZG93Qml0cyk7aWYoc3RhdHVzIT09Yy5aX09LKXRocm93IG5ldyBFcnJvcihtc2dbc3RhdHVzXSk7aWYodGhpcy5oZWFkZXI9bmV3IEdaaGVhZGVyLHpsaWJfaW5mbGF0ZS5pbmZsYXRlR2V0SGVhZGVyKHRoaXMuc3RybSx0aGlzLmhlYWRlciksb3B0LmRpY3Rpb25hcnkmJihcInN0cmluZ1wiPT10eXBlb2Ygb3B0LmRpY3Rpb25hcnk/b3B0LmRpY3Rpb25hcnk9c3RyaW5ncy5zdHJpbmcyYnVmKG9wdC5kaWN0aW9uYXJ5KTpcIltvYmplY3QgQXJyYXlCdWZmZXJdXCI9PT10b1N0cmluZy5jYWxsKG9wdC5kaWN0aW9uYXJ5KSYmKG9wdC5kaWN0aW9uYXJ5PW5ldyBVaW50OEFycmF5KG9wdC5kaWN0aW9uYXJ5KSksb3B0LnJhdyYmKHN0YXR1cz16bGliX2luZmxhdGUuaW5mbGF0ZVNldERpY3Rpb25hcnkodGhpcy5zdHJtLG9wdC5kaWN0aW9uYXJ5KSkhPT1jLlpfT0spKXRocm93IG5ldyBFcnJvcihtc2dbc3RhdHVzXSl9ZnVuY3Rpb24gaW5mbGF0ZShpbnB1dCxvcHRpb25zKXt2YXIgaW5mbGF0b3I9bmV3IEluZmxhdGUob3B0aW9ucyk7aWYoaW5mbGF0b3IucHVzaChpbnB1dCwhMCksaW5mbGF0b3IuZXJyKXRocm93IGluZmxhdG9yLm1zZ3x8bXNnW2luZmxhdG9yLmVycl07cmV0dXJuIGluZmxhdG9yLnJlc3VsdH1JbmZsYXRlLnByb3RvdHlwZS5wdXNoPWZ1bmN0aW9uKGRhdGEsbW9kZSl7dmFyIHN0YXR1cyxfbW9kZSxuZXh0X291dF91dGY4LHRhaWwsdXRmOHN0cixzdHJtPXRoaXMuc3RybSxjaHVua1NpemU9dGhpcy5vcHRpb25zLmNodW5rU2l6ZSxkaWN0aW9uYXJ5PXRoaXMub3B0aW9ucy5kaWN0aW9uYXJ5LGFsbG93QnVmRXJyb3I9ITE7aWYodGhpcy5lbmRlZClyZXR1cm4hMTtfbW9kZT1tb2RlPT09fn5tb2RlP21vZGU6ITA9PT1tb2RlP2MuWl9GSU5JU0g6Yy5aX05PX0ZMVVNILFwic3RyaW5nXCI9PXR5cGVvZiBkYXRhP3N0cm0uaW5wdXQ9c3RyaW5ncy5iaW5zdHJpbmcyYnVmKGRhdGEpOlwiW29iamVjdCBBcnJheUJ1ZmZlcl1cIj09PXRvU3RyaW5nLmNhbGwoZGF0YSk/c3RybS5pbnB1dD1uZXcgVWludDhBcnJheShkYXRhKTpzdHJtLmlucHV0PWRhdGEsc3RybS5uZXh0X2luPTAsc3RybS5hdmFpbF9pbj1zdHJtLmlucHV0Lmxlbmd0aDtkb3tpZigwPT09c3RybS5hdmFpbF9vdXQmJihzdHJtLm91dHB1dD1uZXcgdXRpbHMuQnVmOChjaHVua1NpemUpLHN0cm0ubmV4dF9vdXQ9MCxzdHJtLmF2YWlsX291dD1jaHVua1NpemUpLChzdGF0dXM9emxpYl9pbmZsYXRlLmluZmxhdGUoc3RybSxjLlpfTk9fRkxVU0gpKT09PWMuWl9ORUVEX0RJQ1QmJmRpY3Rpb25hcnkmJihzdGF0dXM9emxpYl9pbmZsYXRlLmluZmxhdGVTZXREaWN0aW9uYXJ5KHRoaXMuc3RybSxkaWN0aW9uYXJ5KSksc3RhdHVzPT09Yy5aX0JVRl9FUlJPUiYmITA9PT1hbGxvd0J1ZkVycm9yJiYoc3RhdHVzPWMuWl9PSyxhbGxvd0J1ZkVycm9yPSExKSxzdGF0dXMhPT1jLlpfU1RSRUFNX0VORCYmc3RhdHVzIT09Yy5aX09LKXJldHVybiB0aGlzLm9uRW5kKHN0YXR1cyksdGhpcy5lbmRlZD0hMCwhMTtzdHJtLm5leHRfb3V0JiYoMCE9PXN0cm0uYXZhaWxfb3V0JiZzdGF0dXMhPT1jLlpfU1RSRUFNX0VORCYmKDAhPT1zdHJtLmF2YWlsX2lufHxfbW9kZSE9PWMuWl9GSU5JU0gmJl9tb2RlIT09Yy5aX1NZTkNfRkxVU0gpfHwoXCJzdHJpbmdcIj09PXRoaXMub3B0aW9ucy50bz8obmV4dF9vdXRfdXRmOD1zdHJpbmdzLnV0Zjhib3JkZXIoc3RybS5vdXRwdXQsc3RybS5uZXh0X291dCksdGFpbD1zdHJtLm5leHRfb3V0LW5leHRfb3V0X3V0ZjgsdXRmOHN0cj1zdHJpbmdzLmJ1ZjJzdHJpbmcoc3RybS5vdXRwdXQsbmV4dF9vdXRfdXRmOCksc3RybS5uZXh0X291dD10YWlsLHN0cm0uYXZhaWxfb3V0PWNodW5rU2l6ZS10YWlsLHRhaWwmJnV0aWxzLmFycmF5U2V0KHN0cm0ub3V0cHV0LHN0cm0ub3V0cHV0LG5leHRfb3V0X3V0ZjgsdGFpbCwwKSx0aGlzLm9uRGF0YSh1dGY4c3RyKSk6dGhpcy5vbkRhdGEodXRpbHMuc2hyaW5rQnVmKHN0cm0ub3V0cHV0LHN0cm0ubmV4dF9vdXQpKSkpLDA9PT1zdHJtLmF2YWlsX2luJiYwPT09c3RybS5hdmFpbF9vdXQmJihhbGxvd0J1ZkVycm9yPSEwKX13aGlsZSgoc3RybS5hdmFpbF9pbj4wfHwwPT09c3RybS5hdmFpbF9vdXQpJiZzdGF0dXMhPT1jLlpfU1RSRUFNX0VORCk7cmV0dXJuIHN0YXR1cz09PWMuWl9TVFJFQU1fRU5EJiYoX21vZGU9Yy5aX0ZJTklTSCksX21vZGU9PT1jLlpfRklOSVNIPyhzdGF0dXM9emxpYl9pbmZsYXRlLmluZmxhdGVFbmQodGhpcy5zdHJtKSx0aGlzLm9uRW5kKHN0YXR1cyksdGhpcy5lbmRlZD0hMCxzdGF0dXM9PT1jLlpfT0spOl9tb2RlIT09Yy5aX1NZTkNfRkxVU0h8fCh0aGlzLm9uRW5kKGMuWl9PSyksc3RybS5hdmFpbF9vdXQ9MCwhMCl9LEluZmxhdGUucHJvdG90eXBlLm9uRGF0YT1mdW5jdGlvbihjaHVuayl7dGhpcy5jaHVua3MucHVzaChjaHVuayl9LEluZmxhdGUucHJvdG90eXBlLm9uRW5kPWZ1bmN0aW9uKHN0YXR1cyl7c3RhdHVzPT09Yy5aX09LJiYoXCJzdHJpbmdcIj09PXRoaXMub3B0aW9ucy50bz90aGlzLnJlc3VsdD10aGlzLmNodW5rcy5qb2luKFwiXCIpOnRoaXMucmVzdWx0PXV0aWxzLmZsYXR0ZW5DaHVua3ModGhpcy5jaHVua3MpKSx0aGlzLmNodW5rcz1bXSx0aGlzLmVycj1zdGF0dXMsdGhpcy5tc2c9dGhpcy5zdHJtLm1zZ30sZXhwb3J0cy5JbmZsYXRlPUluZmxhdGUsZXhwb3J0cy5pbmZsYXRlPWluZmxhdGUsZXhwb3J0cy5pbmZsYXRlUmF3PWZ1bmN0aW9uKGlucHV0LG9wdGlvbnMpe3JldHVybihvcHRpb25zPW9wdGlvbnN8fHt9KS5yYXc9ITAsaW5mbGF0ZShpbnB1dCxvcHRpb25zKX0sZXhwb3J0cy51bmd6aXA9aW5mbGF0ZX0sZnVuY3Rpb24obW9kdWxlLGV4cG9ydHMsX193ZWJwYWNrX3JlcXVpcmVfXyl7XCJ1c2Ugc3RyaWN0XCI7dmFyIHV0aWxzPV9fd2VicGFja19yZXF1aXJlX18oOCksYWRsZXIzMj1fX3dlYnBhY2tfcmVxdWlyZV9fKDY1KSxjcmMzMj1fX3dlYnBhY2tfcmVxdWlyZV9fKDY2KSxpbmZsYXRlX2Zhc3Q9X193ZWJwYWNrX3JlcXVpcmVfXygxMTQpLGluZmxhdGVfdGFibGU9X193ZWJwYWNrX3JlcXVpcmVfXygxMTUpLENPREVTPTAsTEVOUz0xLERJU1RTPTIsWl9GSU5JU0g9NCxaX0JMT0NLPTUsWl9UUkVFUz02LFpfT0s9MCxaX1NUUkVBTV9FTkQ9MSxaX05FRURfRElDVD0yLFpfU1RSRUFNX0VSUk9SPS0yLFpfREFUQV9FUlJPUj0tMyxaX01FTV9FUlJPUj0tNCxaX0JVRl9FUlJPUj0tNSxaX0RFRkxBVEVEPTgsSEVBRD0xLEZMQUdTPTIsVElNRT0zLE9TPTQsRVhMRU49NSxFWFRSQT02LE5BTUU9NyxDT01NRU5UPTgsSENSQz05LERJQ1RJRD0xMCxESUNUPTExLFRZUEU9MTIsVFlQRURPPTEzLFNUT1JFRD0xNCxDT1BZXz0xNSxDT1BZPTE2LFRBQkxFPTE3LExFTkxFTlM9MTgsQ09ERUxFTlM9MTksTEVOXz0yMCxMRU49MjEsTEVORVhUPTIyLERJU1Q9MjMsRElTVEVYVD0yNCxNQVRDSD0yNSxMSVQ9MjYsQ0hFQ0s9MjcsTEVOR1RIPTI4LERPTkU9MjksQkFEPTMwLE1FTT0zMSxTWU5DPTMyLEVOT1VHSF9MRU5TPTg1MixFTk9VR0hfRElTVFM9NTkyLERFRl9XQklUUz0xNTtmdW5jdGlvbiB6c3dhcDMyKHEpe3JldHVybihxPj4+MjQmMjU1KSsocT4+PjgmNjUyODApKygoNjUyODAmcSk8PDgpKygoMjU1JnEpPDwyNCl9ZnVuY3Rpb24gaW5mbGF0ZVJlc2V0S2VlcChzdHJtKXt2YXIgc3RhdGU7cmV0dXJuIHN0cm0mJnN0cm0uc3RhdGU/KHN0YXRlPXN0cm0uc3RhdGUsc3RybS50b3RhbF9pbj1zdHJtLnRvdGFsX291dD1zdGF0ZS50b3RhbD0wLHN0cm0ubXNnPVwiXCIsc3RhdGUud3JhcCYmKHN0cm0uYWRsZXI9MSZzdGF0ZS53cmFwKSxzdGF0ZS5tb2RlPUhFQUQsc3RhdGUubGFzdD0wLHN0YXRlLmhhdmVkaWN0PTAsc3RhdGUuZG1heD0zMjc2OCxzdGF0ZS5oZWFkPW51bGwsc3RhdGUuaG9sZD0wLHN0YXRlLmJpdHM9MCxzdGF0ZS5sZW5jb2RlPXN0YXRlLmxlbmR5bj1uZXcgdXRpbHMuQnVmMzIoRU5PVUdIX0xFTlMpLHN0YXRlLmRpc3Rjb2RlPXN0YXRlLmRpc3RkeW49bmV3IHV0aWxzLkJ1ZjMyKEVOT1VHSF9ESVNUUyksc3RhdGUuc2FuZT0xLHN0YXRlLmJhY2s9LTEsWl9PSyk6Wl9TVFJFQU1fRVJST1J9ZnVuY3Rpb24gaW5mbGF0ZVJlc2V0KHN0cm0pe3ZhciBzdGF0ZTtyZXR1cm4gc3RybSYmc3RybS5zdGF0ZT8oKHN0YXRlPXN0cm0uc3RhdGUpLndzaXplPTAsc3RhdGUud2hhdmU9MCxzdGF0ZS53bmV4dD0wLGluZmxhdGVSZXNldEtlZXAoc3RybSkpOlpfU1RSRUFNX0VSUk9SfWZ1bmN0aW9uIGluZmxhdGVSZXNldDIoc3RybSx3aW5kb3dCaXRzKXt2YXIgd3JhcCxzdGF0ZTtyZXR1cm4gc3RybSYmc3RybS5zdGF0ZT8oc3RhdGU9c3RybS5zdGF0ZSx3aW5kb3dCaXRzPDA/KHdyYXA9MCx3aW5kb3dCaXRzPS13aW5kb3dCaXRzKTood3JhcD0xKyh3aW5kb3dCaXRzPj40KSx3aW5kb3dCaXRzPDQ4JiYod2luZG93Qml0cyY9MTUpKSx3aW5kb3dCaXRzJiYod2luZG93Qml0czw4fHx3aW5kb3dCaXRzPjE1KT9aX1NUUkVBTV9FUlJPUjoobnVsbCE9PXN0YXRlLndpbmRvdyYmc3RhdGUud2JpdHMhPT13aW5kb3dCaXRzJiYoc3RhdGUud2luZG93PW51bGwpLHN0YXRlLndyYXA9d3JhcCxzdGF0ZS53Yml0cz13aW5kb3dCaXRzLGluZmxhdGVSZXNldChzdHJtKSkpOlpfU1RSRUFNX0VSUk9SfWZ1bmN0aW9uIGluZmxhdGVJbml0MihzdHJtLHdpbmRvd0JpdHMpe3ZhciByZXQsc3RhdGU7cmV0dXJuIHN0cm0/KHN0YXRlPW5ldyBmdW5jdGlvbigpe3RoaXMubW9kZT0wLHRoaXMubGFzdD0hMSx0aGlzLndyYXA9MCx0aGlzLmhhdmVkaWN0PSExLHRoaXMuZmxhZ3M9MCx0aGlzLmRtYXg9MCx0aGlzLmNoZWNrPTAsdGhpcy50b3RhbD0wLHRoaXMuaGVhZD1udWxsLHRoaXMud2JpdHM9MCx0aGlzLndzaXplPTAsdGhpcy53aGF2ZT0wLHRoaXMud25leHQ9MCx0aGlzLndpbmRvdz1udWxsLHRoaXMuaG9sZD0wLHRoaXMuYml0cz0wLHRoaXMubGVuZ3RoPTAsdGhpcy5vZmZzZXQ9MCx0aGlzLmV4dHJhPTAsdGhpcy5sZW5jb2RlPW51bGwsdGhpcy5kaXN0Y29kZT1udWxsLHRoaXMubGVuYml0cz0wLHRoaXMuZGlzdGJpdHM9MCx0aGlzLm5jb2RlPTAsdGhpcy5ubGVuPTAsdGhpcy5uZGlzdD0wLHRoaXMuaGF2ZT0wLHRoaXMubmV4dD1udWxsLHRoaXMubGVucz1uZXcgdXRpbHMuQnVmMTYoMzIwKSx0aGlzLndvcms9bmV3IHV0aWxzLkJ1ZjE2KDI4OCksdGhpcy5sZW5keW49bnVsbCx0aGlzLmRpc3RkeW49bnVsbCx0aGlzLnNhbmU9MCx0aGlzLmJhY2s9MCx0aGlzLndhcz0wfSxzdHJtLnN0YXRlPXN0YXRlLHN0YXRlLndpbmRvdz1udWxsLChyZXQ9aW5mbGF0ZVJlc2V0MihzdHJtLHdpbmRvd0JpdHMpKSE9PVpfT0smJihzdHJtLnN0YXRlPW51bGwpLHJldCk6Wl9TVFJFQU1fRVJST1J9dmFyIGxlbmZpeCxkaXN0Zml4LHZpcmdpbj0hMDtmdW5jdGlvbiBmaXhlZHRhYmxlcyhzdGF0ZSl7aWYodmlyZ2luKXt2YXIgc3ltO2ZvcihsZW5maXg9bmV3IHV0aWxzLkJ1ZjMyKDUxMiksZGlzdGZpeD1uZXcgdXRpbHMuQnVmMzIoMzIpLHN5bT0wO3N5bTwxNDQ7KXN0YXRlLmxlbnNbc3ltKytdPTg7Zm9yKDtzeW08MjU2OylzdGF0ZS5sZW5zW3N5bSsrXT05O2Zvcig7c3ltPDI4MDspc3RhdGUubGVuc1tzeW0rK109Nztmb3IoO3N5bTwyODg7KXN0YXRlLmxlbnNbc3ltKytdPTg7Zm9yKGluZmxhdGVfdGFibGUoTEVOUyxzdGF0ZS5sZW5zLDAsMjg4LGxlbmZpeCwwLHN0YXRlLndvcmsse2JpdHM6OX0pLHN5bT0wO3N5bTwzMjspc3RhdGUubGVuc1tzeW0rK109NTtpbmZsYXRlX3RhYmxlKERJU1RTLHN0YXRlLmxlbnMsMCwzMixkaXN0Zml4LDAsc3RhdGUud29yayx7Yml0czo1fSksdmlyZ2luPSExfXN0YXRlLmxlbmNvZGU9bGVuZml4LHN0YXRlLmxlbmJpdHM9OSxzdGF0ZS5kaXN0Y29kZT1kaXN0Zml4LHN0YXRlLmRpc3RiaXRzPTV9ZnVuY3Rpb24gdXBkYXRld2luZG93KHN0cm0sc3JjLGVuZCxjb3B5KXt2YXIgZGlzdCxzdGF0ZT1zdHJtLnN0YXRlO3JldHVybiBudWxsPT09c3RhdGUud2luZG93JiYoc3RhdGUud3NpemU9MTw8c3RhdGUud2JpdHMsc3RhdGUud25leHQ9MCxzdGF0ZS53aGF2ZT0wLHN0YXRlLndpbmRvdz1uZXcgdXRpbHMuQnVmOChzdGF0ZS53c2l6ZSkpLGNvcHk+PXN0YXRlLndzaXplPyh1dGlscy5hcnJheVNldChzdGF0ZS53aW5kb3csc3JjLGVuZC1zdGF0ZS53c2l6ZSxzdGF0ZS53c2l6ZSwwKSxzdGF0ZS53bmV4dD0wLHN0YXRlLndoYXZlPXN0YXRlLndzaXplKTooKGRpc3Q9c3RhdGUud3NpemUtc3RhdGUud25leHQpPmNvcHkmJihkaXN0PWNvcHkpLHV0aWxzLmFycmF5U2V0KHN0YXRlLndpbmRvdyxzcmMsZW5kLWNvcHksZGlzdCxzdGF0ZS53bmV4dCksKGNvcHktPWRpc3QpPyh1dGlscy5hcnJheVNldChzdGF0ZS53aW5kb3csc3JjLGVuZC1jb3B5LGNvcHksMCksc3RhdGUud25leHQ9Y29weSxzdGF0ZS53aGF2ZT1zdGF0ZS53c2l6ZSk6KHN0YXRlLnduZXh0Kz1kaXN0LHN0YXRlLnduZXh0PT09c3RhdGUud3NpemUmJihzdGF0ZS53bmV4dD0wKSxzdGF0ZS53aGF2ZTxzdGF0ZS53c2l6ZSYmKHN0YXRlLndoYXZlKz1kaXN0KSkpLDB9ZXhwb3J0cy5pbmZsYXRlUmVzZXQ9aW5mbGF0ZVJlc2V0LGV4cG9ydHMuaW5mbGF0ZVJlc2V0Mj1pbmZsYXRlUmVzZXQyLGV4cG9ydHMuaW5mbGF0ZVJlc2V0S2VlcD1pbmZsYXRlUmVzZXRLZWVwLGV4cG9ydHMuaW5mbGF0ZUluaXQ9ZnVuY3Rpb24oc3RybSl7cmV0dXJuIGluZmxhdGVJbml0MihzdHJtLERFRl9XQklUUyl9LGV4cG9ydHMuaW5mbGF0ZUluaXQyPWluZmxhdGVJbml0MixleHBvcnRzLmluZmxhdGU9ZnVuY3Rpb24oc3RybSxmbHVzaCl7dmFyIHN0YXRlLGlucHV0LG91dHB1dCxuZXh0LHB1dCxoYXZlLGxlZnQsaG9sZCxiaXRzLF9pbixfb3V0LGNvcHksZnJvbSxmcm9tX3NvdXJjZSxoZXJlX2JpdHMsaGVyZV9vcCxoZXJlX3ZhbCxsYXN0X2JpdHMsbGFzdF9vcCxsYXN0X3ZhbCxsZW4scmV0LG9wdHMsbixoZXJlPTAsaGJ1Zj1uZXcgdXRpbHMuQnVmOCg0KSxvcmRlcj1bMTYsMTcsMTgsMCw4LDcsOSw2LDEwLDUsMTEsNCwxMiwzLDEzLDIsMTQsMSwxNV07aWYoIXN0cm18fCFzdHJtLnN0YXRlfHwhc3RybS5vdXRwdXR8fCFzdHJtLmlucHV0JiYwIT09c3RybS5hdmFpbF9pbilyZXR1cm4gWl9TVFJFQU1fRVJST1I7KHN0YXRlPXN0cm0uc3RhdGUpLm1vZGU9PT1UWVBFJiYoc3RhdGUubW9kZT1UWVBFRE8pLHB1dD1zdHJtLm5leHRfb3V0LG91dHB1dD1zdHJtLm91dHB1dCxsZWZ0PXN0cm0uYXZhaWxfb3V0LG5leHQ9c3RybS5uZXh0X2luLGlucHV0PXN0cm0uaW5wdXQsaGF2ZT1zdHJtLmF2YWlsX2luLGhvbGQ9c3RhdGUuaG9sZCxiaXRzPXN0YXRlLmJpdHMsX2luPWhhdmUsX291dD1sZWZ0LHJldD1aX09LO2luZl9sZWF2ZTpmb3IoOzspc3dpdGNoKHN0YXRlLm1vZGUpe2Nhc2UgSEVBRDppZigwPT09c3RhdGUud3JhcCl7c3RhdGUubW9kZT1UWVBFRE87YnJlYWt9Zm9yKDtiaXRzPDE2Oyl7aWYoMD09PWhhdmUpYnJlYWsgaW5mX2xlYXZlO2hhdmUtLSxob2xkKz1pbnB1dFtuZXh0KytdPDxiaXRzLGJpdHMrPTh9aWYoMiZzdGF0ZS53cmFwJiYzNTYxNT09PWhvbGQpe3N0YXRlLmNoZWNrPTAsaGJ1ZlswXT0yNTUmaG9sZCxoYnVmWzFdPWhvbGQ+Pj44JjI1NSxzdGF0ZS5jaGVjaz1jcmMzMihzdGF0ZS5jaGVjayxoYnVmLDIsMCksaG9sZD0wLGJpdHM9MCxzdGF0ZS5tb2RlPUZMQUdTO2JyZWFrfWlmKHN0YXRlLmZsYWdzPTAsc3RhdGUuaGVhZCYmKHN0YXRlLmhlYWQuZG9uZT0hMSksISgxJnN0YXRlLndyYXApfHwoKCgyNTUmaG9sZCk8PDgpKyhob2xkPj44KSklMzEpe3N0cm0ubXNnPVwiaW5jb3JyZWN0IGhlYWRlciBjaGVja1wiLHN0YXRlLm1vZGU9QkFEO2JyZWFrfWlmKCgxNSZob2xkKSE9PVpfREVGTEFURUQpe3N0cm0ubXNnPVwidW5rbm93biBjb21wcmVzc2lvbiBtZXRob2RcIixzdGF0ZS5tb2RlPUJBRDticmVha31pZihiaXRzLT00LGxlbj04KygxNSYoaG9sZD4+Pj00KSksMD09PXN0YXRlLndiaXRzKXN0YXRlLndiaXRzPWxlbjtlbHNlIGlmKGxlbj5zdGF0ZS53Yml0cyl7c3RybS5tc2c9XCJpbnZhbGlkIHdpbmRvdyBzaXplXCIsc3RhdGUubW9kZT1CQUQ7YnJlYWt9c3RhdGUuZG1heD0xPDxsZW4sc3RybS5hZGxlcj1zdGF0ZS5jaGVjaz0xLHN0YXRlLm1vZGU9NTEyJmhvbGQ/RElDVElEOlRZUEUsaG9sZD0wLGJpdHM9MDticmVhaztjYXNlIEZMQUdTOmZvcig7Yml0czwxNjspe2lmKDA9PT1oYXZlKWJyZWFrIGluZl9sZWF2ZTtoYXZlLS0saG9sZCs9aW5wdXRbbmV4dCsrXTw8Yml0cyxiaXRzKz04fWlmKHN0YXRlLmZsYWdzPWhvbGQsKDI1NSZzdGF0ZS5mbGFncykhPT1aX0RFRkxBVEVEKXtzdHJtLm1zZz1cInVua25vd24gY29tcHJlc3Npb24gbWV0aG9kXCIsc3RhdGUubW9kZT1CQUQ7YnJlYWt9aWYoNTczNDQmc3RhdGUuZmxhZ3Mpe3N0cm0ubXNnPVwidW5rbm93biBoZWFkZXIgZmxhZ3Mgc2V0XCIsc3RhdGUubW9kZT1CQUQ7YnJlYWt9c3RhdGUuaGVhZCYmKHN0YXRlLmhlYWQudGV4dD1ob2xkPj44JjEpLDUxMiZzdGF0ZS5mbGFncyYmKGhidWZbMF09MjU1JmhvbGQsaGJ1ZlsxXT1ob2xkPj4+OCYyNTUsc3RhdGUuY2hlY2s9Y3JjMzIoc3RhdGUuY2hlY2ssaGJ1ZiwyLDApKSxob2xkPTAsYml0cz0wLHN0YXRlLm1vZGU9VElNRTtjYXNlIFRJTUU6Zm9yKDtiaXRzPDMyOyl7aWYoMD09PWhhdmUpYnJlYWsgaW5mX2xlYXZlO2hhdmUtLSxob2xkKz1pbnB1dFtuZXh0KytdPDxiaXRzLGJpdHMrPTh9c3RhdGUuaGVhZCYmKHN0YXRlLmhlYWQudGltZT1ob2xkKSw1MTImc3RhdGUuZmxhZ3MmJihoYnVmWzBdPTI1NSZob2xkLGhidWZbMV09aG9sZD4+PjgmMjU1LGhidWZbMl09aG9sZD4+PjE2JjI1NSxoYnVmWzNdPWhvbGQ+Pj4yNCYyNTUsc3RhdGUuY2hlY2s9Y3JjMzIoc3RhdGUuY2hlY2ssaGJ1Ziw0LDApKSxob2xkPTAsYml0cz0wLHN0YXRlLm1vZGU9T1M7Y2FzZSBPUzpmb3IoO2JpdHM8MTY7KXtpZigwPT09aGF2ZSlicmVhayBpbmZfbGVhdmU7aGF2ZS0tLGhvbGQrPWlucHV0W25leHQrK108PGJpdHMsYml0cys9OH1zdGF0ZS5oZWFkJiYoc3RhdGUuaGVhZC54ZmxhZ3M9MjU1JmhvbGQsc3RhdGUuaGVhZC5vcz1ob2xkPj44KSw1MTImc3RhdGUuZmxhZ3MmJihoYnVmWzBdPTI1NSZob2xkLGhidWZbMV09aG9sZD4+PjgmMjU1LHN0YXRlLmNoZWNrPWNyYzMyKHN0YXRlLmNoZWNrLGhidWYsMiwwKSksaG9sZD0wLGJpdHM9MCxzdGF0ZS5tb2RlPUVYTEVOO2Nhc2UgRVhMRU46aWYoMTAyNCZzdGF0ZS5mbGFncyl7Zm9yKDtiaXRzPDE2Oyl7aWYoMD09PWhhdmUpYnJlYWsgaW5mX2xlYXZlO2hhdmUtLSxob2xkKz1pbnB1dFtuZXh0KytdPDxiaXRzLGJpdHMrPTh9c3RhdGUubGVuZ3RoPWhvbGQsc3RhdGUuaGVhZCYmKHN0YXRlLmhlYWQuZXh0cmFfbGVuPWhvbGQpLDUxMiZzdGF0ZS5mbGFncyYmKGhidWZbMF09MjU1JmhvbGQsaGJ1ZlsxXT1ob2xkPj4+OCYyNTUsc3RhdGUuY2hlY2s9Y3JjMzIoc3RhdGUuY2hlY2ssaGJ1ZiwyLDApKSxob2xkPTAsYml0cz0wfWVsc2Ugc3RhdGUuaGVhZCYmKHN0YXRlLmhlYWQuZXh0cmE9bnVsbCk7c3RhdGUubW9kZT1FWFRSQTtjYXNlIEVYVFJBOmlmKDEwMjQmc3RhdGUuZmxhZ3MmJigoY29weT1zdGF0ZS5sZW5ndGgpPmhhdmUmJihjb3B5PWhhdmUpLGNvcHkmJihzdGF0ZS5oZWFkJiYobGVuPXN0YXRlLmhlYWQuZXh0cmFfbGVuLXN0YXRlLmxlbmd0aCxzdGF0ZS5oZWFkLmV4dHJhfHwoc3RhdGUuaGVhZC5leHRyYT1uZXcgQXJyYXkoc3RhdGUuaGVhZC5leHRyYV9sZW4pKSx1dGlscy5hcnJheVNldChzdGF0ZS5oZWFkLmV4dHJhLGlucHV0LG5leHQsY29weSxsZW4pKSw1MTImc3RhdGUuZmxhZ3MmJihzdGF0ZS5jaGVjaz1jcmMzMihzdGF0ZS5jaGVjayxpbnB1dCxjb3B5LG5leHQpKSxoYXZlLT1jb3B5LG5leHQrPWNvcHksc3RhdGUubGVuZ3RoLT1jb3B5KSxzdGF0ZS5sZW5ndGgpKWJyZWFrIGluZl9sZWF2ZTtzdGF0ZS5sZW5ndGg9MCxzdGF0ZS5tb2RlPU5BTUU7Y2FzZSBOQU1FOmlmKDIwNDgmc3RhdGUuZmxhZ3Mpe2lmKDA9PT1oYXZlKWJyZWFrIGluZl9sZWF2ZTtjb3B5PTA7ZG97bGVuPWlucHV0W25leHQrY29weSsrXSxzdGF0ZS5oZWFkJiZsZW4mJnN0YXRlLmxlbmd0aDw2NTUzNiYmKHN0YXRlLmhlYWQubmFtZSs9U3RyaW5nLmZyb21DaGFyQ29kZShsZW4pKX13aGlsZShsZW4mJmNvcHk8aGF2ZSk7aWYoNTEyJnN0YXRlLmZsYWdzJiYoc3RhdGUuY2hlY2s9Y3JjMzIoc3RhdGUuY2hlY2ssaW5wdXQsY29weSxuZXh0KSksaGF2ZS09Y29weSxuZXh0Kz1jb3B5LGxlbilicmVhayBpbmZfbGVhdmV9ZWxzZSBzdGF0ZS5oZWFkJiYoc3RhdGUuaGVhZC5uYW1lPW51bGwpO3N0YXRlLmxlbmd0aD0wLHN0YXRlLm1vZGU9Q09NTUVOVDtjYXNlIENPTU1FTlQ6aWYoNDA5NiZzdGF0ZS5mbGFncyl7aWYoMD09PWhhdmUpYnJlYWsgaW5mX2xlYXZlO2NvcHk9MDtkb3tsZW49aW5wdXRbbmV4dCtjb3B5KytdLHN0YXRlLmhlYWQmJmxlbiYmc3RhdGUubGVuZ3RoPDY1NTM2JiYoc3RhdGUuaGVhZC5jb21tZW50Kz1TdHJpbmcuZnJvbUNoYXJDb2RlKGxlbikpfXdoaWxlKGxlbiYmY29weTxoYXZlKTtpZig1MTImc3RhdGUuZmxhZ3MmJihzdGF0ZS5jaGVjaz1jcmMzMihzdGF0ZS5jaGVjayxpbnB1dCxjb3B5LG5leHQpKSxoYXZlLT1jb3B5LG5leHQrPWNvcHksbGVuKWJyZWFrIGluZl9sZWF2ZX1lbHNlIHN0YXRlLmhlYWQmJihzdGF0ZS5oZWFkLmNvbW1lbnQ9bnVsbCk7c3RhdGUubW9kZT1IQ1JDO2Nhc2UgSENSQzppZig1MTImc3RhdGUuZmxhZ3Mpe2Zvcig7Yml0czwxNjspe2lmKDA9PT1oYXZlKWJyZWFrIGluZl9sZWF2ZTtoYXZlLS0saG9sZCs9aW5wdXRbbmV4dCsrXTw8Yml0cyxiaXRzKz04fWlmKGhvbGQhPT0oNjU1MzUmc3RhdGUuY2hlY2spKXtzdHJtLm1zZz1cImhlYWRlciBjcmMgbWlzbWF0Y2hcIixzdGF0ZS5tb2RlPUJBRDticmVha31ob2xkPTAsYml0cz0wfXN0YXRlLmhlYWQmJihzdGF0ZS5oZWFkLmhjcmM9c3RhdGUuZmxhZ3M+PjkmMSxzdGF0ZS5oZWFkLmRvbmU9ITApLHN0cm0uYWRsZXI9c3RhdGUuY2hlY2s9MCxzdGF0ZS5tb2RlPVRZUEU7YnJlYWs7Y2FzZSBESUNUSUQ6Zm9yKDtiaXRzPDMyOyl7aWYoMD09PWhhdmUpYnJlYWsgaW5mX2xlYXZlO2hhdmUtLSxob2xkKz1pbnB1dFtuZXh0KytdPDxiaXRzLGJpdHMrPTh9c3RybS5hZGxlcj1zdGF0ZS5jaGVjaz16c3dhcDMyKGhvbGQpLGhvbGQ9MCxiaXRzPTAsc3RhdGUubW9kZT1ESUNUO2Nhc2UgRElDVDppZigwPT09c3RhdGUuaGF2ZWRpY3QpcmV0dXJuIHN0cm0ubmV4dF9vdXQ9cHV0LHN0cm0uYXZhaWxfb3V0PWxlZnQsc3RybS5uZXh0X2luPW5leHQsc3RybS5hdmFpbF9pbj1oYXZlLHN0YXRlLmhvbGQ9aG9sZCxzdGF0ZS5iaXRzPWJpdHMsWl9ORUVEX0RJQ1Q7c3RybS5hZGxlcj1zdGF0ZS5jaGVjaz0xLHN0YXRlLm1vZGU9VFlQRTtjYXNlIFRZUEU6aWYoZmx1c2g9PT1aX0JMT0NLfHxmbHVzaD09PVpfVFJFRVMpYnJlYWsgaW5mX2xlYXZlO2Nhc2UgVFlQRURPOmlmKHN0YXRlLmxhc3Qpe2hvbGQ+Pj49NyZiaXRzLGJpdHMtPTcmYml0cyxzdGF0ZS5tb2RlPUNIRUNLO2JyZWFrfWZvcig7Yml0czwzOyl7aWYoMD09PWhhdmUpYnJlYWsgaW5mX2xlYXZlO2hhdmUtLSxob2xkKz1pbnB1dFtuZXh0KytdPDxiaXRzLGJpdHMrPTh9c3dpdGNoKHN0YXRlLmxhc3Q9MSZob2xkLGJpdHMtPTEsMyYoaG9sZD4+Pj0xKSl7Y2FzZSAwOnN0YXRlLm1vZGU9U1RPUkVEO2JyZWFrO2Nhc2UgMTppZihmaXhlZHRhYmxlcyhzdGF0ZSksc3RhdGUubW9kZT1MRU5fLGZsdXNoPT09Wl9UUkVFUyl7aG9sZD4+Pj0yLGJpdHMtPTI7YnJlYWsgaW5mX2xlYXZlfWJyZWFrO2Nhc2UgMjpzdGF0ZS5tb2RlPVRBQkxFO2JyZWFrO2Nhc2UgMzpzdHJtLm1zZz1cImludmFsaWQgYmxvY2sgdHlwZVwiLHN0YXRlLm1vZGU9QkFEfWhvbGQ+Pj49MixiaXRzLT0yO2JyZWFrO2Nhc2UgU1RPUkVEOmZvcihob2xkPj4+PTcmYml0cyxiaXRzLT03JmJpdHM7Yml0czwzMjspe2lmKDA9PT1oYXZlKWJyZWFrIGluZl9sZWF2ZTtoYXZlLS0saG9sZCs9aW5wdXRbbmV4dCsrXTw8Yml0cyxiaXRzKz04fWlmKCg2NTUzNSZob2xkKSE9KGhvbGQ+Pj4xNl42NTUzNSkpe3N0cm0ubXNnPVwiaW52YWxpZCBzdG9yZWQgYmxvY2sgbGVuZ3Roc1wiLHN0YXRlLm1vZGU9QkFEO2JyZWFrfWlmKHN0YXRlLmxlbmd0aD02NTUzNSZob2xkLGhvbGQ9MCxiaXRzPTAsc3RhdGUubW9kZT1DT1BZXyxmbHVzaD09PVpfVFJFRVMpYnJlYWsgaW5mX2xlYXZlO2Nhc2UgQ09QWV86c3RhdGUubW9kZT1DT1BZO2Nhc2UgQ09QWTppZihjb3B5PXN0YXRlLmxlbmd0aCl7aWYoY29weT5oYXZlJiYoY29weT1oYXZlKSxjb3B5PmxlZnQmJihjb3B5PWxlZnQpLDA9PT1jb3B5KWJyZWFrIGluZl9sZWF2ZTt1dGlscy5hcnJheVNldChvdXRwdXQsaW5wdXQsbmV4dCxjb3B5LHB1dCksaGF2ZS09Y29weSxuZXh0Kz1jb3B5LGxlZnQtPWNvcHkscHV0Kz1jb3B5LHN0YXRlLmxlbmd0aC09Y29weTticmVha31zdGF0ZS5tb2RlPVRZUEU7YnJlYWs7Y2FzZSBUQUJMRTpmb3IoO2JpdHM8MTQ7KXtpZigwPT09aGF2ZSlicmVhayBpbmZfbGVhdmU7aGF2ZS0tLGhvbGQrPWlucHV0W25leHQrK108PGJpdHMsYml0cys9OH1pZihzdGF0ZS5ubGVuPTI1NysoMzEmaG9sZCksaG9sZD4+Pj01LGJpdHMtPTUsc3RhdGUubmRpc3Q9MSsoMzEmaG9sZCksaG9sZD4+Pj01LGJpdHMtPTUsc3RhdGUubmNvZGU9NCsoMTUmaG9sZCksaG9sZD4+Pj00LGJpdHMtPTQsc3RhdGUubmxlbj4yODZ8fHN0YXRlLm5kaXN0PjMwKXtzdHJtLm1zZz1cInRvbyBtYW55IGxlbmd0aCBvciBkaXN0YW5jZSBzeW1ib2xzXCIsc3RhdGUubW9kZT1CQUQ7YnJlYWt9c3RhdGUuaGF2ZT0wLHN0YXRlLm1vZGU9TEVOTEVOUztjYXNlIExFTkxFTlM6Zm9yKDtzdGF0ZS5oYXZlPHN0YXRlLm5jb2RlOyl7Zm9yKDtiaXRzPDM7KXtpZigwPT09aGF2ZSlicmVhayBpbmZfbGVhdmU7aGF2ZS0tLGhvbGQrPWlucHV0W25leHQrK108PGJpdHMsYml0cys9OH1zdGF0ZS5sZW5zW29yZGVyW3N0YXRlLmhhdmUrK11dPTcmaG9sZCxob2xkPj4+PTMsYml0cy09M31mb3IoO3N0YXRlLmhhdmU8MTk7KXN0YXRlLmxlbnNbb3JkZXJbc3RhdGUuaGF2ZSsrXV09MDtpZihzdGF0ZS5sZW5jb2RlPXN0YXRlLmxlbmR5bixzdGF0ZS5sZW5iaXRzPTcsb3B0cz17Yml0czpzdGF0ZS5sZW5iaXRzfSxyZXQ9aW5mbGF0ZV90YWJsZShDT0RFUyxzdGF0ZS5sZW5zLDAsMTksc3RhdGUubGVuY29kZSwwLHN0YXRlLndvcmssb3B0cyksc3RhdGUubGVuYml0cz1vcHRzLmJpdHMscmV0KXtzdHJtLm1zZz1cImludmFsaWQgY29kZSBsZW5ndGhzIHNldFwiLHN0YXRlLm1vZGU9QkFEO2JyZWFrfXN0YXRlLmhhdmU9MCxzdGF0ZS5tb2RlPUNPREVMRU5TO2Nhc2UgQ09ERUxFTlM6Zm9yKDtzdGF0ZS5oYXZlPHN0YXRlLm5sZW4rc3RhdGUubmRpc3Q7KXtmb3IoO2hlcmVfb3A9KGhlcmU9c3RhdGUubGVuY29kZVtob2xkJigxPDxzdGF0ZS5sZW5iaXRzKS0xXSk+Pj4xNiYyNTUsaGVyZV92YWw9NjU1MzUmaGVyZSwhKChoZXJlX2JpdHM9aGVyZT4+PjI0KTw9Yml0cyk7KXtpZigwPT09aGF2ZSlicmVhayBpbmZfbGVhdmU7aGF2ZS0tLGhvbGQrPWlucHV0W25leHQrK108PGJpdHMsYml0cys9OH1pZihoZXJlX3ZhbDwxNilob2xkPj4+PWhlcmVfYml0cyxiaXRzLT1oZXJlX2JpdHMsc3RhdGUubGVuc1tzdGF0ZS5oYXZlKytdPWhlcmVfdmFsO2Vsc2V7aWYoMTY9PT1oZXJlX3ZhbCl7Zm9yKG49aGVyZV9iaXRzKzI7Yml0czxuOyl7aWYoMD09PWhhdmUpYnJlYWsgaW5mX2xlYXZlO2hhdmUtLSxob2xkKz1pbnB1dFtuZXh0KytdPDxiaXRzLGJpdHMrPTh9aWYoaG9sZD4+Pj1oZXJlX2JpdHMsYml0cy09aGVyZV9iaXRzLDA9PT1zdGF0ZS5oYXZlKXtzdHJtLm1zZz1cImludmFsaWQgYml0IGxlbmd0aCByZXBlYXRcIixzdGF0ZS5tb2RlPUJBRDticmVha31sZW49c3RhdGUubGVuc1tzdGF0ZS5oYXZlLTFdLGNvcHk9MysoMyZob2xkKSxob2xkPj4+PTIsYml0cy09Mn1lbHNlIGlmKDE3PT09aGVyZV92YWwpe2ZvcihuPWhlcmVfYml0cyszO2JpdHM8bjspe2lmKDA9PT1oYXZlKWJyZWFrIGluZl9sZWF2ZTtoYXZlLS0saG9sZCs9aW5wdXRbbmV4dCsrXTw8Yml0cyxiaXRzKz04fWJpdHMtPWhlcmVfYml0cyxsZW49MCxjb3B5PTMrKDcmKGhvbGQ+Pj49aGVyZV9iaXRzKSksaG9sZD4+Pj0zLGJpdHMtPTN9ZWxzZXtmb3Iobj1oZXJlX2JpdHMrNztiaXRzPG47KXtpZigwPT09aGF2ZSlicmVhayBpbmZfbGVhdmU7aGF2ZS0tLGhvbGQrPWlucHV0W25leHQrK108PGJpdHMsYml0cys9OH1iaXRzLT1oZXJlX2JpdHMsbGVuPTAsY29weT0xMSsoMTI3Jihob2xkPj4+PWhlcmVfYml0cykpLGhvbGQ+Pj49NyxiaXRzLT03fWlmKHN0YXRlLmhhdmUrY29weT5zdGF0ZS5ubGVuK3N0YXRlLm5kaXN0KXtzdHJtLm1zZz1cImludmFsaWQgYml0IGxlbmd0aCByZXBlYXRcIixzdGF0ZS5tb2RlPUJBRDticmVha31mb3IoO2NvcHktLTspc3RhdGUubGVuc1tzdGF0ZS5oYXZlKytdPWxlbn19aWYoc3RhdGUubW9kZT09PUJBRClicmVhaztpZigwPT09c3RhdGUubGVuc1syNTZdKXtzdHJtLm1zZz1cImludmFsaWQgY29kZSAtLSBtaXNzaW5nIGVuZC1vZi1ibG9ja1wiLHN0YXRlLm1vZGU9QkFEO2JyZWFrfWlmKHN0YXRlLmxlbmJpdHM9OSxvcHRzPXtiaXRzOnN0YXRlLmxlbmJpdHN9LHJldD1pbmZsYXRlX3RhYmxlKExFTlMsc3RhdGUubGVucywwLHN0YXRlLm5sZW4sc3RhdGUubGVuY29kZSwwLHN0YXRlLndvcmssb3B0cyksc3RhdGUubGVuYml0cz1vcHRzLmJpdHMscmV0KXtzdHJtLm1zZz1cImludmFsaWQgbGl0ZXJhbC9sZW5ndGhzIHNldFwiLHN0YXRlLm1vZGU9QkFEO2JyZWFrfWlmKHN0YXRlLmRpc3RiaXRzPTYsc3RhdGUuZGlzdGNvZGU9c3RhdGUuZGlzdGR5bixvcHRzPXtiaXRzOnN0YXRlLmRpc3RiaXRzfSxyZXQ9aW5mbGF0ZV90YWJsZShESVNUUyxzdGF0ZS5sZW5zLHN0YXRlLm5sZW4sc3RhdGUubmRpc3Qsc3RhdGUuZGlzdGNvZGUsMCxzdGF0ZS53b3JrLG9wdHMpLHN0YXRlLmRpc3RiaXRzPW9wdHMuYml0cyxyZXQpe3N0cm0ubXNnPVwiaW52YWxpZCBkaXN0YW5jZXMgc2V0XCIsc3RhdGUubW9kZT1CQUQ7YnJlYWt9aWYoc3RhdGUubW9kZT1MRU5fLGZsdXNoPT09Wl9UUkVFUylicmVhayBpbmZfbGVhdmU7Y2FzZSBMRU5fOnN0YXRlLm1vZGU9TEVOO2Nhc2UgTEVOOmlmKGhhdmU+PTYmJmxlZnQ+PTI1OCl7c3RybS5uZXh0X291dD1wdXQsc3RybS5hdmFpbF9vdXQ9bGVmdCxzdHJtLm5leHRfaW49bmV4dCxzdHJtLmF2YWlsX2luPWhhdmUsc3RhdGUuaG9sZD1ob2xkLHN0YXRlLmJpdHM9Yml0cyxpbmZsYXRlX2Zhc3Qoc3RybSxfb3V0KSxwdXQ9c3RybS5uZXh0X291dCxvdXRwdXQ9c3RybS5vdXRwdXQsbGVmdD1zdHJtLmF2YWlsX291dCxuZXh0PXN0cm0ubmV4dF9pbixpbnB1dD1zdHJtLmlucHV0LGhhdmU9c3RybS5hdmFpbF9pbixob2xkPXN0YXRlLmhvbGQsYml0cz1zdGF0ZS5iaXRzLHN0YXRlLm1vZGU9PT1UWVBFJiYoc3RhdGUuYmFjaz0tMSk7YnJlYWt9Zm9yKHN0YXRlLmJhY2s9MDtoZXJlX29wPShoZXJlPXN0YXRlLmxlbmNvZGVbaG9sZCYoMTw8c3RhdGUubGVuYml0cyktMV0pPj4+MTYmMjU1LGhlcmVfdmFsPTY1NTM1JmhlcmUsISgoaGVyZV9iaXRzPWhlcmU+Pj4yNCk8PWJpdHMpOyl7aWYoMD09PWhhdmUpYnJlYWsgaW5mX2xlYXZlO2hhdmUtLSxob2xkKz1pbnB1dFtuZXh0KytdPDxiaXRzLGJpdHMrPTh9aWYoaGVyZV9vcCYmMD09KDI0MCZoZXJlX29wKSl7Zm9yKGxhc3RfYml0cz1oZXJlX2JpdHMsbGFzdF9vcD1oZXJlX29wLGxhc3RfdmFsPWhlcmVfdmFsO2hlcmVfb3A9KGhlcmU9c3RhdGUubGVuY29kZVtsYXN0X3ZhbCsoKGhvbGQmKDE8PGxhc3RfYml0cytsYXN0X29wKS0xKT4+bGFzdF9iaXRzKV0pPj4+MTYmMjU1LGhlcmVfdmFsPTY1NTM1JmhlcmUsIShsYXN0X2JpdHMrKGhlcmVfYml0cz1oZXJlPj4+MjQpPD1iaXRzKTspe2lmKDA9PT1oYXZlKWJyZWFrIGluZl9sZWF2ZTtoYXZlLS0saG9sZCs9aW5wdXRbbmV4dCsrXTw8Yml0cyxiaXRzKz04fWhvbGQ+Pj49bGFzdF9iaXRzLGJpdHMtPWxhc3RfYml0cyxzdGF0ZS5iYWNrKz1sYXN0X2JpdHN9aWYoaG9sZD4+Pj1oZXJlX2JpdHMsYml0cy09aGVyZV9iaXRzLHN0YXRlLmJhY2srPWhlcmVfYml0cyxzdGF0ZS5sZW5ndGg9aGVyZV92YWwsMD09PWhlcmVfb3Ape3N0YXRlLm1vZGU9TElUO2JyZWFrfWlmKDMyJmhlcmVfb3Ape3N0YXRlLmJhY2s9LTEsc3RhdGUubW9kZT1UWVBFO2JyZWFrfWlmKDY0JmhlcmVfb3Ape3N0cm0ubXNnPVwiaW52YWxpZCBsaXRlcmFsL2xlbmd0aCBjb2RlXCIsc3RhdGUubW9kZT1CQUQ7YnJlYWt9c3RhdGUuZXh0cmE9MTUmaGVyZV9vcCxzdGF0ZS5tb2RlPUxFTkVYVDtjYXNlIExFTkVYVDppZihzdGF0ZS5leHRyYSl7Zm9yKG49c3RhdGUuZXh0cmE7Yml0czxuOyl7aWYoMD09PWhhdmUpYnJlYWsgaW5mX2xlYXZlO2hhdmUtLSxob2xkKz1pbnB1dFtuZXh0KytdPDxiaXRzLGJpdHMrPTh9c3RhdGUubGVuZ3RoKz1ob2xkJigxPDxzdGF0ZS5leHRyYSktMSxob2xkPj4+PXN0YXRlLmV4dHJhLGJpdHMtPXN0YXRlLmV4dHJhLHN0YXRlLmJhY2srPXN0YXRlLmV4dHJhfXN0YXRlLndhcz1zdGF0ZS5sZW5ndGgsc3RhdGUubW9kZT1ESVNUO2Nhc2UgRElTVDpmb3IoO2hlcmVfb3A9KGhlcmU9c3RhdGUuZGlzdGNvZGVbaG9sZCYoMTw8c3RhdGUuZGlzdGJpdHMpLTFdKT4+PjE2JjI1NSxoZXJlX3ZhbD02NTUzNSZoZXJlLCEoKGhlcmVfYml0cz1oZXJlPj4+MjQpPD1iaXRzKTspe2lmKDA9PT1oYXZlKWJyZWFrIGluZl9sZWF2ZTtoYXZlLS0saG9sZCs9aW5wdXRbbmV4dCsrXTw8Yml0cyxiaXRzKz04fWlmKDA9PSgyNDAmaGVyZV9vcCkpe2ZvcihsYXN0X2JpdHM9aGVyZV9iaXRzLGxhc3Rfb3A9aGVyZV9vcCxsYXN0X3ZhbD1oZXJlX3ZhbDtoZXJlX29wPShoZXJlPXN0YXRlLmRpc3Rjb2RlW2xhc3RfdmFsKygoaG9sZCYoMTw8bGFzdF9iaXRzK2xhc3Rfb3ApLTEpPj5sYXN0X2JpdHMpXSk+Pj4xNiYyNTUsaGVyZV92YWw9NjU1MzUmaGVyZSwhKGxhc3RfYml0cysoaGVyZV9iaXRzPWhlcmU+Pj4yNCk8PWJpdHMpOyl7aWYoMD09PWhhdmUpYnJlYWsgaW5mX2xlYXZlO2hhdmUtLSxob2xkKz1pbnB1dFtuZXh0KytdPDxiaXRzLGJpdHMrPTh9aG9sZD4+Pj1sYXN0X2JpdHMsYml0cy09bGFzdF9iaXRzLHN0YXRlLmJhY2srPWxhc3RfYml0c31pZihob2xkPj4+PWhlcmVfYml0cyxiaXRzLT1oZXJlX2JpdHMsc3RhdGUuYmFjays9aGVyZV9iaXRzLDY0JmhlcmVfb3Ape3N0cm0ubXNnPVwiaW52YWxpZCBkaXN0YW5jZSBjb2RlXCIsc3RhdGUubW9kZT1CQUQ7YnJlYWt9c3RhdGUub2Zmc2V0PWhlcmVfdmFsLHN0YXRlLmV4dHJhPTE1JmhlcmVfb3Asc3RhdGUubW9kZT1ESVNURVhUO2Nhc2UgRElTVEVYVDppZihzdGF0ZS5leHRyYSl7Zm9yKG49c3RhdGUuZXh0cmE7Yml0czxuOyl7aWYoMD09PWhhdmUpYnJlYWsgaW5mX2xlYXZlO2hhdmUtLSxob2xkKz1pbnB1dFtuZXh0KytdPDxiaXRzLGJpdHMrPTh9c3RhdGUub2Zmc2V0Kz1ob2xkJigxPDxzdGF0ZS5leHRyYSktMSxob2xkPj4+PXN0YXRlLmV4dHJhLGJpdHMtPXN0YXRlLmV4dHJhLHN0YXRlLmJhY2srPXN0YXRlLmV4dHJhfWlmKHN0YXRlLm9mZnNldD5zdGF0ZS5kbWF4KXtzdHJtLm1zZz1cImludmFsaWQgZGlzdGFuY2UgdG9vIGZhciBiYWNrXCIsc3RhdGUubW9kZT1CQUQ7YnJlYWt9c3RhdGUubW9kZT1NQVRDSDtjYXNlIE1BVENIOmlmKDA9PT1sZWZ0KWJyZWFrIGluZl9sZWF2ZTtpZihjb3B5PV9vdXQtbGVmdCxzdGF0ZS5vZmZzZXQ+Y29weSl7aWYoKGNvcHk9c3RhdGUub2Zmc2V0LWNvcHkpPnN0YXRlLndoYXZlJiZzdGF0ZS5zYW5lKXtzdHJtLm1zZz1cImludmFsaWQgZGlzdGFuY2UgdG9vIGZhciBiYWNrXCIsc3RhdGUubW9kZT1CQUQ7YnJlYWt9Y29weT5zdGF0ZS53bmV4dD8oY29weS09c3RhdGUud25leHQsZnJvbT1zdGF0ZS53c2l6ZS1jb3B5KTpmcm9tPXN0YXRlLnduZXh0LWNvcHksY29weT5zdGF0ZS5sZW5ndGgmJihjb3B5PXN0YXRlLmxlbmd0aCksZnJvbV9zb3VyY2U9c3RhdGUud2luZG93fWVsc2UgZnJvbV9zb3VyY2U9b3V0cHV0LGZyb209cHV0LXN0YXRlLm9mZnNldCxjb3B5PXN0YXRlLmxlbmd0aDtjb3B5PmxlZnQmJihjb3B5PWxlZnQpLGxlZnQtPWNvcHksc3RhdGUubGVuZ3RoLT1jb3B5O2Rve291dHB1dFtwdXQrK109ZnJvbV9zb3VyY2VbZnJvbSsrXX13aGlsZSgtLWNvcHkpOzA9PT1zdGF0ZS5sZW5ndGgmJihzdGF0ZS5tb2RlPUxFTik7YnJlYWs7Y2FzZSBMSVQ6aWYoMD09PWxlZnQpYnJlYWsgaW5mX2xlYXZlO291dHB1dFtwdXQrK109c3RhdGUubGVuZ3RoLGxlZnQtLSxzdGF0ZS5tb2RlPUxFTjticmVhaztjYXNlIENIRUNLOmlmKHN0YXRlLndyYXApe2Zvcig7Yml0czwzMjspe2lmKDA9PT1oYXZlKWJyZWFrIGluZl9sZWF2ZTtoYXZlLS0saG9sZHw9aW5wdXRbbmV4dCsrXTw8Yml0cyxiaXRzKz04fWlmKF9vdXQtPWxlZnQsc3RybS50b3RhbF9vdXQrPV9vdXQsc3RhdGUudG90YWwrPV9vdXQsX291dCYmKHN0cm0uYWRsZXI9c3RhdGUuY2hlY2s9c3RhdGUuZmxhZ3M/Y3JjMzIoc3RhdGUuY2hlY2ssb3V0cHV0LF9vdXQscHV0LV9vdXQpOmFkbGVyMzIoc3RhdGUuY2hlY2ssb3V0cHV0LF9vdXQscHV0LV9vdXQpKSxfb3V0PWxlZnQsKHN0YXRlLmZsYWdzP2hvbGQ6enN3YXAzMihob2xkKSkhPT1zdGF0ZS5jaGVjayl7c3RybS5tc2c9XCJpbmNvcnJlY3QgZGF0YSBjaGVja1wiLHN0YXRlLm1vZGU9QkFEO2JyZWFrfWhvbGQ9MCxiaXRzPTB9c3RhdGUubW9kZT1MRU5HVEg7Y2FzZSBMRU5HVEg6aWYoc3RhdGUud3JhcCYmc3RhdGUuZmxhZ3Mpe2Zvcig7Yml0czwzMjspe2lmKDA9PT1oYXZlKWJyZWFrIGluZl9sZWF2ZTtoYXZlLS0saG9sZCs9aW5wdXRbbmV4dCsrXTw8Yml0cyxiaXRzKz04fWlmKGhvbGQhPT0oNDI5NDk2NzI5NSZzdGF0ZS50b3RhbCkpe3N0cm0ubXNnPVwiaW5jb3JyZWN0IGxlbmd0aCBjaGVja1wiLHN0YXRlLm1vZGU9QkFEO2JyZWFrfWhvbGQ9MCxiaXRzPTB9c3RhdGUubW9kZT1ET05FO2Nhc2UgRE9ORTpyZXQ9Wl9TVFJFQU1fRU5EO2JyZWFrIGluZl9sZWF2ZTtjYXNlIEJBRDpyZXQ9Wl9EQVRBX0VSUk9SO2JyZWFrIGluZl9sZWF2ZTtjYXNlIE1FTTpyZXR1cm4gWl9NRU1fRVJST1I7Y2FzZSBTWU5DOmRlZmF1bHQ6cmV0dXJuIFpfU1RSRUFNX0VSUk9SfXJldHVybiBzdHJtLm5leHRfb3V0PXB1dCxzdHJtLmF2YWlsX291dD1sZWZ0LHN0cm0ubmV4dF9pbj1uZXh0LHN0cm0uYXZhaWxfaW49aGF2ZSxzdGF0ZS5ob2xkPWhvbGQsc3RhdGUuYml0cz1iaXRzLChzdGF0ZS53c2l6ZXx8X291dCE9PXN0cm0uYXZhaWxfb3V0JiZzdGF0ZS5tb2RlPEJBRCYmKHN0YXRlLm1vZGU8Q0hFQ0t8fGZsdXNoIT09Wl9GSU5JU0gpKSYmdXBkYXRld2luZG93KHN0cm0sc3RybS5vdXRwdXQsc3RybS5uZXh0X291dCxfb3V0LXN0cm0uYXZhaWxfb3V0KT8oc3RhdGUubW9kZT1NRU0sWl9NRU1fRVJST1IpOihfaW4tPXN0cm0uYXZhaWxfaW4sX291dC09c3RybS5hdmFpbF9vdXQsc3RybS50b3RhbF9pbis9X2luLHN0cm0udG90YWxfb3V0Kz1fb3V0LHN0YXRlLnRvdGFsKz1fb3V0LHN0YXRlLndyYXAmJl9vdXQmJihzdHJtLmFkbGVyPXN0YXRlLmNoZWNrPXN0YXRlLmZsYWdzP2NyYzMyKHN0YXRlLmNoZWNrLG91dHB1dCxfb3V0LHN0cm0ubmV4dF9vdXQtX291dCk6YWRsZXIzMihzdGF0ZS5jaGVjayxvdXRwdXQsX291dCxzdHJtLm5leHRfb3V0LV9vdXQpKSxzdHJtLmRhdGFfdHlwZT1zdGF0ZS5iaXRzKyhzdGF0ZS5sYXN0PzY0OjApKyhzdGF0ZS5tb2RlPT09VFlQRT8xMjg6MCkrKHN0YXRlLm1vZGU9PT1MRU5ffHxzdGF0ZS5tb2RlPT09Q09QWV8/MjU2OjApLCgwPT09X2luJiYwPT09X291dHx8Zmx1c2g9PT1aX0ZJTklTSCkmJnJldD09PVpfT0smJihyZXQ9Wl9CVUZfRVJST1IpLHJldCl9LGV4cG9ydHMuaW5mbGF0ZUVuZD1mdW5jdGlvbihzdHJtKXtpZighc3RybXx8IXN0cm0uc3RhdGUpcmV0dXJuIFpfU1RSRUFNX0VSUk9SO3ZhciBzdGF0ZT1zdHJtLnN0YXRlO3JldHVybiBzdGF0ZS53aW5kb3cmJihzdGF0ZS53aW5kb3c9bnVsbCksc3RybS5zdGF0ZT1udWxsLFpfT0t9LGV4cG9ydHMuaW5mbGF0ZUdldEhlYWRlcj1mdW5jdGlvbihzdHJtLGhlYWQpe3ZhciBzdGF0ZTtyZXR1cm4gc3RybSYmc3RybS5zdGF0ZT8wPT0oMiYoc3RhdGU9c3RybS5zdGF0ZSkud3JhcCk/Wl9TVFJFQU1fRVJST1I6KHN0YXRlLmhlYWQ9aGVhZCxoZWFkLmRvbmU9ITEsWl9PSyk6Wl9TVFJFQU1fRVJST1J9LGV4cG9ydHMuaW5mbGF0ZVNldERpY3Rpb25hcnk9ZnVuY3Rpb24oc3RybSxkaWN0aW9uYXJ5KXt2YXIgc3RhdGUsZGljdExlbmd0aD1kaWN0aW9uYXJ5Lmxlbmd0aDtyZXR1cm4gc3RybSYmc3RybS5zdGF0ZT8wIT09KHN0YXRlPXN0cm0uc3RhdGUpLndyYXAmJnN0YXRlLm1vZGUhPT1ESUNUP1pfU1RSRUFNX0VSUk9SOnN0YXRlLm1vZGU9PT1ESUNUJiZhZGxlcjMyKDEsZGljdGlvbmFyeSxkaWN0TGVuZ3RoLDApIT09c3RhdGUuY2hlY2s/Wl9EQVRBX0VSUk9SOnVwZGF0ZXdpbmRvdyhzdHJtLGRpY3Rpb25hcnksZGljdExlbmd0aCxkaWN0TGVuZ3RoKT8oc3RhdGUubW9kZT1NRU0sWl9NRU1fRVJST1IpOihzdGF0ZS5oYXZlZGljdD0xLFpfT0spOlpfU1RSRUFNX0VSUk9SfSxleHBvcnRzLmluZmxhdGVJbmZvPVwicGFrbyBpbmZsYXRlIChmcm9tIE5vZGVjYSBwcm9qZWN0KVwifSxmdW5jdGlvbihtb2R1bGUsZXhwb3J0cyxfX3dlYnBhY2tfcmVxdWlyZV9fKXtcInVzZSBzdHJpY3RcIjttb2R1bGUuZXhwb3J0cz1mdW5jdGlvbihzdHJtLHN0YXJ0KXt2YXIgc3RhdGUsX2luLGxhc3QsX291dCxiZWcsZW5kLGRtYXgsd3NpemUsd2hhdmUsd25leHQsc193aW5kb3csaG9sZCxiaXRzLGxjb2RlLGRjb2RlLGxtYXNrLGRtYXNrLGhlcmUsb3AsbGVuLGRpc3QsZnJvbSxmcm9tX3NvdXJjZSxpbnB1dCxvdXRwdXQ7c3RhdGU9c3RybS5zdGF0ZSxfaW49c3RybS5uZXh0X2luLGlucHV0PXN0cm0uaW5wdXQsbGFzdD1faW4rKHN0cm0uYXZhaWxfaW4tNSksX291dD1zdHJtLm5leHRfb3V0LG91dHB1dD1zdHJtLm91dHB1dCxiZWc9X291dC0oc3RhcnQtc3RybS5hdmFpbF9vdXQpLGVuZD1fb3V0KyhzdHJtLmF2YWlsX291dC0yNTcpLGRtYXg9c3RhdGUuZG1heCx3c2l6ZT1zdGF0ZS53c2l6ZSx3aGF2ZT1zdGF0ZS53aGF2ZSx3bmV4dD1zdGF0ZS53bmV4dCxzX3dpbmRvdz1zdGF0ZS53aW5kb3csaG9sZD1zdGF0ZS5ob2xkLGJpdHM9c3RhdGUuYml0cyxsY29kZT1zdGF0ZS5sZW5jb2RlLGRjb2RlPXN0YXRlLmRpc3Rjb2RlLGxtYXNrPSgxPDxzdGF0ZS5sZW5iaXRzKS0xLGRtYXNrPSgxPDxzdGF0ZS5kaXN0Yml0cyktMTt0b3A6ZG97Yml0czwxNSYmKGhvbGQrPWlucHV0W19pbisrXTw8Yml0cyxiaXRzKz04LGhvbGQrPWlucHV0W19pbisrXTw8Yml0cyxiaXRzKz04KSxoZXJlPWxjb2RlW2hvbGQmbG1hc2tdO2RvbGVuOmZvcig7Oyl7aWYoaG9sZD4+Pj1vcD1oZXJlPj4+MjQsYml0cy09b3AsMD09PShvcD1oZXJlPj4+MTYmMjU1KSlvdXRwdXRbX291dCsrXT02NTUzNSZoZXJlO2Vsc2V7aWYoISgxNiZvcCkpe2lmKDA9PSg2NCZvcCkpe2hlcmU9bGNvZGVbKDY1NTM1JmhlcmUpKyhob2xkJigxPDxvcCktMSldO2NvbnRpbnVlIGRvbGVufWlmKDMyJm9wKXtzdGF0ZS5tb2RlPTEyO2JyZWFrIHRvcH1zdHJtLm1zZz1cImludmFsaWQgbGl0ZXJhbC9sZW5ndGggY29kZVwiLHN0YXRlLm1vZGU9MzA7YnJlYWsgdG9wfWxlbj02NTUzNSZoZXJlLChvcCY9MTUpJiYoYml0czxvcCYmKGhvbGQrPWlucHV0W19pbisrXTw8Yml0cyxiaXRzKz04KSxsZW4rPWhvbGQmKDE8PG9wKS0xLGhvbGQ+Pj49b3AsYml0cy09b3ApLGJpdHM8MTUmJihob2xkKz1pbnB1dFtfaW4rK108PGJpdHMsYml0cys9OCxob2xkKz1pbnB1dFtfaW4rK108PGJpdHMsYml0cys9OCksaGVyZT1kY29kZVtob2xkJmRtYXNrXTtkb2Rpc3Q6Zm9yKDs7KXtpZihob2xkPj4+PW9wPWhlcmU+Pj4yNCxiaXRzLT1vcCwhKDE2JihvcD1oZXJlPj4+MTYmMjU1KSkpe2lmKDA9PSg2NCZvcCkpe2hlcmU9ZGNvZGVbKDY1NTM1JmhlcmUpKyhob2xkJigxPDxvcCktMSldO2NvbnRpbnVlIGRvZGlzdH1zdHJtLm1zZz1cImludmFsaWQgZGlzdGFuY2UgY29kZVwiLHN0YXRlLm1vZGU9MzA7YnJlYWsgdG9wfWlmKGRpc3Q9NjU1MzUmaGVyZSxiaXRzPChvcCY9MTUpJiYoaG9sZCs9aW5wdXRbX2luKytdPDxiaXRzLChiaXRzKz04KTxvcCYmKGhvbGQrPWlucHV0W19pbisrXTw8Yml0cyxiaXRzKz04KSksKGRpc3QrPWhvbGQmKDE8PG9wKS0xKT5kbWF4KXtzdHJtLm1zZz1cImludmFsaWQgZGlzdGFuY2UgdG9vIGZhciBiYWNrXCIsc3RhdGUubW9kZT0zMDticmVhayB0b3B9aWYoaG9sZD4+Pj1vcCxiaXRzLT1vcCxkaXN0PihvcD1fb3V0LWJlZykpe2lmKChvcD1kaXN0LW9wKT53aGF2ZSYmc3RhdGUuc2FuZSl7c3RybS5tc2c9XCJpbnZhbGlkIGRpc3RhbmNlIHRvbyBmYXIgYmFja1wiLHN0YXRlLm1vZGU9MzA7YnJlYWsgdG9wfWlmKGZyb209MCxmcm9tX3NvdXJjZT1zX3dpbmRvdywwPT09d25leHQpe2lmKGZyb20rPXdzaXplLW9wLG9wPGxlbil7bGVuLT1vcDtkb3tvdXRwdXRbX291dCsrXT1zX3dpbmRvd1tmcm9tKytdfXdoaWxlKC0tb3ApO2Zyb209X291dC1kaXN0LGZyb21fc291cmNlPW91dHB1dH19ZWxzZSBpZih3bmV4dDxvcCl7aWYoZnJvbSs9d3NpemUrd25leHQtb3AsKG9wLT13bmV4dCk8bGVuKXtsZW4tPW9wO2Rve291dHB1dFtfb3V0KytdPXNfd2luZG93W2Zyb20rK119d2hpbGUoLS1vcCk7aWYoZnJvbT0wLHduZXh0PGxlbil7bGVuLT1vcD13bmV4dDtkb3tvdXRwdXRbX291dCsrXT1zX3dpbmRvd1tmcm9tKytdfXdoaWxlKC0tb3ApO2Zyb209X291dC1kaXN0LGZyb21fc291cmNlPW91dHB1dH19fWVsc2UgaWYoZnJvbSs9d25leHQtb3Asb3A8bGVuKXtsZW4tPW9wO2Rve291dHB1dFtfb3V0KytdPXNfd2luZG93W2Zyb20rK119d2hpbGUoLS1vcCk7ZnJvbT1fb3V0LWRpc3QsZnJvbV9zb3VyY2U9b3V0cHV0fWZvcig7bGVuPjI7KW91dHB1dFtfb3V0KytdPWZyb21fc291cmNlW2Zyb20rK10sb3V0cHV0W19vdXQrK109ZnJvbV9zb3VyY2VbZnJvbSsrXSxvdXRwdXRbX291dCsrXT1mcm9tX3NvdXJjZVtmcm9tKytdLGxlbi09MztsZW4mJihvdXRwdXRbX291dCsrXT1mcm9tX3NvdXJjZVtmcm9tKytdLGxlbj4xJiYob3V0cHV0W19vdXQrK109ZnJvbV9zb3VyY2VbZnJvbSsrXSkpfWVsc2V7ZnJvbT1fb3V0LWRpc3Q7ZG97b3V0cHV0W19vdXQrK109b3V0cHV0W2Zyb20rK10sb3V0cHV0W19vdXQrK109b3V0cHV0W2Zyb20rK10sb3V0cHV0W19vdXQrK109b3V0cHV0W2Zyb20rK10sbGVuLT0zfXdoaWxlKGxlbj4yKTtsZW4mJihvdXRwdXRbX291dCsrXT1vdXRwdXRbZnJvbSsrXSxsZW4+MSYmKG91dHB1dFtfb3V0KytdPW91dHB1dFtmcm9tKytdKSl9YnJlYWt9fWJyZWFrfX13aGlsZShfaW48bGFzdCYmX291dDxlbmQpO19pbi09bGVuPWJpdHM+PjMsaG9sZCY9KDE8PChiaXRzLT1sZW48PDMpKS0xLHN0cm0ubmV4dF9pbj1faW4sc3RybS5uZXh0X291dD1fb3V0LHN0cm0uYXZhaWxfaW49X2luPGxhc3Q/bGFzdC1faW4rNTo1LShfaW4tbGFzdCksc3RybS5hdmFpbF9vdXQ9X291dDxlbmQ/ZW5kLV9vdXQrMjU3OjI1Ny0oX291dC1lbmQpLHN0YXRlLmhvbGQ9aG9sZCxzdGF0ZS5iaXRzPWJpdHN9fSxmdW5jdGlvbihtb2R1bGUsZXhwb3J0cyxfX3dlYnBhY2tfcmVxdWlyZV9fKXtcInVzZSBzdHJpY3RcIjt2YXIgdXRpbHM9X193ZWJwYWNrX3JlcXVpcmVfXyg4KSxsYmFzZT1bMyw0LDUsNiw3LDgsOSwxMCwxMSwxMywxNSwxNywxOSwyMywyNywzMSwzNSw0Myw1MSw1OSw2Nyw4Myw5OSwxMTUsMTMxLDE2MywxOTUsMjI3LDI1OCwwLDBdLGxleHQ9WzE2LDE2LDE2LDE2LDE2LDE2LDE2LDE2LDE3LDE3LDE3LDE3LDE4LDE4LDE4LDE4LDE5LDE5LDE5LDE5LDIwLDIwLDIwLDIwLDIxLDIxLDIxLDIxLDE2LDcyLDc4XSxkYmFzZT1bMSwyLDMsNCw1LDcsOSwxMywxNywyNSwzMyw0OSw2NSw5NywxMjksMTkzLDI1NywzODUsNTEzLDc2OSwxMDI1LDE1MzcsMjA0OSwzMDczLDQwOTcsNjE0NSw4MTkzLDEyMjg5LDE2Mzg1LDI0NTc3LDAsMF0sZGV4dD1bMTYsMTYsMTYsMTYsMTcsMTcsMTgsMTgsMTksMTksMjAsMjAsMjEsMjEsMjIsMjIsMjMsMjMsMjQsMjQsMjUsMjUsMjYsMjYsMjcsMjcsMjgsMjgsMjksMjksNjQsNjRdO21vZHVsZS5leHBvcnRzPWZ1bmN0aW9uKHR5cGUsbGVucyxsZW5zX2luZGV4LGNvZGVzLHRhYmxlLHRhYmxlX2luZGV4LHdvcmssb3B0cyl7dmFyIGluY3IsZmlsbCxsb3csbWFzayxuZXh0LGVuZCxoZXJlX2JpdHMsaGVyZV9vcCxoZXJlX3ZhbCxiaXRzPW9wdHMuYml0cyxsZW49MCxzeW09MCxtaW49MCxtYXg9MCxyb290PTAsY3Vycj0wLGRyb3A9MCxsZWZ0PTAsdXNlZD0wLGh1ZmY9MCxiYXNlPW51bGwsYmFzZV9pbmRleD0wLGNvdW50PW5ldyB1dGlscy5CdWYxNigxNiksb2Zmcz1uZXcgdXRpbHMuQnVmMTYoMTYpLGV4dHJhPW51bGwsZXh0cmFfaW5kZXg9MDtmb3IobGVuPTA7bGVuPD0xNTtsZW4rKyljb3VudFtsZW5dPTA7Zm9yKHN5bT0wO3N5bTxjb2RlcztzeW0rKyljb3VudFtsZW5zW2xlbnNfaW5kZXgrc3ltXV0rKztmb3Iocm9vdD1iaXRzLG1heD0xNTttYXg+PTEmJjA9PT1jb3VudFttYXhdO21heC0tKTtpZihyb290Pm1heCYmKHJvb3Q9bWF4KSwwPT09bWF4KXJldHVybiB0YWJsZVt0YWJsZV9pbmRleCsrXT0yMDk3MTUyMCx0YWJsZVt0YWJsZV9pbmRleCsrXT0yMDk3MTUyMCxvcHRzLmJpdHM9MSwwO2ZvcihtaW49MTttaW48bWF4JiYwPT09Y291bnRbbWluXTttaW4rKyk7Zm9yKHJvb3Q8bWluJiYocm9vdD1taW4pLGxlZnQ9MSxsZW49MTtsZW48PTE1O2xlbisrKWlmKGxlZnQ8PD0xLChsZWZ0LT1jb3VudFtsZW5dKTwwKXJldHVybi0xO2lmKGxlZnQ+MCYmKDA9PT10eXBlfHwxIT09bWF4KSlyZXR1cm4tMTtmb3Iob2Zmc1sxXT0wLGxlbj0xO2xlbjwxNTtsZW4rKylvZmZzW2xlbisxXT1vZmZzW2xlbl0rY291bnRbbGVuXTtmb3Ioc3ltPTA7c3ltPGNvZGVzO3N5bSsrKTAhPT1sZW5zW2xlbnNfaW5kZXgrc3ltXSYmKHdvcmtbb2Zmc1tsZW5zW2xlbnNfaW5kZXgrc3ltXV0rK109c3ltKTtpZigwPT09dHlwZT8oYmFzZT1leHRyYT13b3JrLGVuZD0xOSk6MT09PXR5cGU/KGJhc2U9bGJhc2UsYmFzZV9pbmRleC09MjU3LGV4dHJhPWxleHQsZXh0cmFfaW5kZXgtPTI1NyxlbmQ9MjU2KTooYmFzZT1kYmFzZSxleHRyYT1kZXh0LGVuZD0tMSksaHVmZj0wLHN5bT0wLGxlbj1taW4sbmV4dD10YWJsZV9pbmRleCxjdXJyPXJvb3QsZHJvcD0wLGxvdz0tMSxtYXNrPSh1c2VkPTE8PHJvb3QpLTEsMT09PXR5cGUmJnVzZWQ+ODUyfHwyPT09dHlwZSYmdXNlZD41OTIpcmV0dXJuIDE7Zm9yKDs7KXtoZXJlX2JpdHM9bGVuLWRyb3Asd29ya1tzeW1dPGVuZD8oaGVyZV9vcD0wLGhlcmVfdmFsPXdvcmtbc3ltXSk6d29ya1tzeW1dPmVuZD8oaGVyZV9vcD1leHRyYVtleHRyYV9pbmRleCt3b3JrW3N5bV1dLGhlcmVfdmFsPWJhc2VbYmFzZV9pbmRleCt3b3JrW3N5bV1dKTooaGVyZV9vcD05NixoZXJlX3ZhbD0wKSxpbmNyPTE8PGxlbi1kcm9wLG1pbj1maWxsPTE8PGN1cnI7ZG97dGFibGVbbmV4dCsoaHVmZj4+ZHJvcCkrKGZpbGwtPWluY3IpXT1oZXJlX2JpdHM8PDI0fGhlcmVfb3A8PDE2fGhlcmVfdmFsfDB9d2hpbGUoMCE9PWZpbGwpO2ZvcihpbmNyPTE8PGxlbi0xO2h1ZmYmaW5jcjspaW5jcj4+PTE7aWYoMCE9PWluY3I/KGh1ZmYmPWluY3ItMSxodWZmKz1pbmNyKTpodWZmPTAsc3ltKyssMD09LS1jb3VudFtsZW5dKXtpZihsZW49PT1tYXgpYnJlYWs7bGVuPWxlbnNbbGVuc19pbmRleCt3b3JrW3N5bV1dfWlmKGxlbj5yb290JiYoaHVmZiZtYXNrKSE9PWxvdyl7Zm9yKDA9PT1kcm9wJiYoZHJvcD1yb290KSxuZXh0Kz1taW4sbGVmdD0xPDwoY3Vycj1sZW4tZHJvcCk7Y3Vycitkcm9wPG1heCYmISgobGVmdC09Y291bnRbY3Vycitkcm9wXSk8PTApOyljdXJyKyssbGVmdDw8PTE7aWYodXNlZCs9MTw8Y3VyciwxPT09dHlwZSYmdXNlZD44NTJ8fDI9PT10eXBlJiZ1c2VkPjU5MilyZXR1cm4gMTt0YWJsZVtsb3c9aHVmZiZtYXNrXT1yb290PDwyNHxjdXJyPDwxNnxuZXh0LXRhYmxlX2luZGV4fDB9fXJldHVybiAwIT09aHVmZiYmKHRhYmxlW25leHQraHVmZl09bGVuLWRyb3A8PDI0fDY0PDwxNnwwKSxvcHRzLmJpdHM9cm9vdCwwfX0sZnVuY3Rpb24obW9kdWxlLGV4cG9ydHMsX193ZWJwYWNrX3JlcXVpcmVfXyl7XCJ1c2Ugc3RyaWN0XCI7bW9kdWxlLmV4cG9ydHM9ZnVuY3Rpb24oKXt0aGlzLnRleHQ9MCx0aGlzLnRpbWU9MCx0aGlzLnhmbGFncz0wLHRoaXMub3M9MCx0aGlzLmV4dHJhPW51bGwsdGhpcy5leHRyYV9sZW49MCx0aGlzLm5hbWU9XCJcIix0aGlzLmNvbW1lbnQ9XCJcIix0aGlzLmhjcmM9MCx0aGlzLmRvbmU9ITF9fSxmdW5jdGlvbihtb2R1bGUsZXhwb3J0cyxfX3dlYnBhY2tfcmVxdWlyZV9fKXtcInVzZSBzdHJpY3RcIjt2YXIgdXRpbHM9X193ZWJwYWNrX3JlcXVpcmVfXygwKSxHZW5lcmljV29ya2VyPV9fd2VicGFja19yZXF1aXJlX18oMiksdXRmOD1fX3dlYnBhY2tfcmVxdWlyZV9fKDEzKSxjcmMzMj1fX3dlYnBhY2tfcmVxdWlyZV9fKDQ0KSxzaWduYXR1cmU9X193ZWJwYWNrX3JlcXVpcmVfXyg3MCksZGVjVG9IZXg9ZnVuY3Rpb24oZGVjLGJ5dGVzKXt2YXIgaSxoZXg9XCJcIjtmb3IoaT0wO2k8Ynl0ZXM7aSsrKWhleCs9U3RyaW5nLmZyb21DaGFyQ29kZSgyNTUmZGVjKSxkZWM+Pj49ODtyZXR1cm4gaGV4fSxnZW5lcmF0ZVppcFBhcnRzPWZ1bmN0aW9uKHN0cmVhbUluZm8sc3RyZWFtZWRDb250ZW50LHN0cmVhbWluZ0VuZGVkLG9mZnNldCxwbGF0Zm9ybSxlbmNvZGVGaWxlTmFtZSl7dmFyIGRvc1RpbWUsZG9zRGF0ZSxmaWxlPXN0cmVhbUluZm8uZmlsZSxjb21wcmVzc2lvbj1zdHJlYW1JbmZvLmNvbXByZXNzaW9uLHVzZUN1c3RvbUVuY29kaW5nPWVuY29kZUZpbGVOYW1lIT09dXRmOC51dGY4ZW5jb2RlLGVuY29kZWRGaWxlTmFtZT11dGlscy50cmFuc2Zvcm1UbyhcInN0cmluZ1wiLGVuY29kZUZpbGVOYW1lKGZpbGUubmFtZSkpLHV0ZkVuY29kZWRGaWxlTmFtZT11dGlscy50cmFuc2Zvcm1UbyhcInN0cmluZ1wiLHV0ZjgudXRmOGVuY29kZShmaWxlLm5hbWUpKSxjb21tZW50PWZpbGUuY29tbWVudCxlbmNvZGVkQ29tbWVudD11dGlscy50cmFuc2Zvcm1UbyhcInN0cmluZ1wiLGVuY29kZUZpbGVOYW1lKGNvbW1lbnQpKSx1dGZFbmNvZGVkQ29tbWVudD11dGlscy50cmFuc2Zvcm1UbyhcInN0cmluZ1wiLHV0ZjgudXRmOGVuY29kZShjb21tZW50KSksdXNlVVRGOEZvckZpbGVOYW1lPXV0ZkVuY29kZWRGaWxlTmFtZS5sZW5ndGghPT1maWxlLm5hbWUubGVuZ3RoLHVzZVVURjhGb3JDb21tZW50PXV0ZkVuY29kZWRDb21tZW50Lmxlbmd0aCE9PWNvbW1lbnQubGVuZ3RoLGV4dHJhRmllbGRzPVwiXCIsdW5pY29kZVBhdGhFeHRyYUZpZWxkPVwiXCIsdW5pY29kZUNvbW1lbnRFeHRyYUZpZWxkPVwiXCIsZGlyPWZpbGUuZGlyLGRhdGU9ZmlsZS5kYXRlLGRhdGFJbmZvPXtjcmMzMjowLGNvbXByZXNzZWRTaXplOjAsdW5jb21wcmVzc2VkU2l6ZTowfTtzdHJlYW1lZENvbnRlbnQmJiFzdHJlYW1pbmdFbmRlZHx8KGRhdGFJbmZvLmNyYzMyPXN0cmVhbUluZm8uY3JjMzIsZGF0YUluZm8uY29tcHJlc3NlZFNpemU9c3RyZWFtSW5mby5jb21wcmVzc2VkU2l6ZSxkYXRhSW5mby51bmNvbXByZXNzZWRTaXplPXN0cmVhbUluZm8udW5jb21wcmVzc2VkU2l6ZSk7dmFyIGJpdGZsYWc9MDtzdHJlYW1lZENvbnRlbnQmJihiaXRmbGFnfD04KSx1c2VDdXN0b21FbmNvZGluZ3x8IXVzZVVURjhGb3JGaWxlTmFtZSYmIXVzZVVURjhGb3JDb21tZW50fHwoYml0ZmxhZ3w9MjA0OCk7dmFyIGV4dEZpbGVBdHRyPTAsdmVyc2lvbk1hZGVCeT0wO2RpciYmKGV4dEZpbGVBdHRyfD0xNiksXCJVTklYXCI9PT1wbGF0Zm9ybT8odmVyc2lvbk1hZGVCeT03OTgsZXh0RmlsZUF0dHJ8PWZ1bmN0aW9uKHVuaXhQZXJtaXNzaW9ucyxpc0Rpcil7dmFyIHJlc3VsdD11bml4UGVybWlzc2lvbnM7cmV0dXJuIHVuaXhQZXJtaXNzaW9uc3x8KHJlc3VsdD1pc0Rpcj8xNjg5MzozMzIwNCksKDY1NTM1JnJlc3VsdCk8PDE2fShmaWxlLnVuaXhQZXJtaXNzaW9ucyxkaXIpKToodmVyc2lvbk1hZGVCeT0yMCxleHRGaWxlQXR0cnw9ZnVuY3Rpb24oZG9zUGVybWlzc2lvbnMsaXNEaXIpe3JldHVybiA2MyYoZG9zUGVybWlzc2lvbnN8fDApfShmaWxlLmRvc1Blcm1pc3Npb25zKSksZG9zVGltZT1kYXRlLmdldFVUQ0hvdXJzKCksZG9zVGltZTw8PTYsZG9zVGltZXw9ZGF0ZS5nZXRVVENNaW51dGVzKCksZG9zVGltZTw8PTUsZG9zVGltZXw9ZGF0ZS5nZXRVVENTZWNvbmRzKCkvMixkb3NEYXRlPWRhdGUuZ2V0VVRDRnVsbFllYXIoKS0xOTgwLGRvc0RhdGU8PD00LGRvc0RhdGV8PWRhdGUuZ2V0VVRDTW9udGgoKSsxLGRvc0RhdGU8PD01LGRvc0RhdGV8PWRhdGUuZ2V0VVRDRGF0ZSgpLHVzZVVURjhGb3JGaWxlTmFtZSYmKHVuaWNvZGVQYXRoRXh0cmFGaWVsZD1kZWNUb0hleCgxLDEpK2RlY1RvSGV4KGNyYzMyKGVuY29kZWRGaWxlTmFtZSksNCkrdXRmRW5jb2RlZEZpbGVOYW1lLGV4dHJhRmllbGRzKz1cInVwXCIrZGVjVG9IZXgodW5pY29kZVBhdGhFeHRyYUZpZWxkLmxlbmd0aCwyKSt1bmljb2RlUGF0aEV4dHJhRmllbGQpLHVzZVVURjhGb3JDb21tZW50JiYodW5pY29kZUNvbW1lbnRFeHRyYUZpZWxkPWRlY1RvSGV4KDEsMSkrZGVjVG9IZXgoY3JjMzIoZW5jb2RlZENvbW1lbnQpLDQpK3V0ZkVuY29kZWRDb21tZW50LGV4dHJhRmllbGRzKz1cInVjXCIrZGVjVG9IZXgodW5pY29kZUNvbW1lbnRFeHRyYUZpZWxkLmxlbmd0aCwyKSt1bmljb2RlQ29tbWVudEV4dHJhRmllbGQpO3ZhciBoZWFkZXI9XCJcIjtyZXR1cm4gaGVhZGVyKz1cIlxcblxcMFwiLGhlYWRlcis9ZGVjVG9IZXgoYml0ZmxhZywyKSxoZWFkZXIrPWNvbXByZXNzaW9uLm1hZ2ljLGhlYWRlcis9ZGVjVG9IZXgoZG9zVGltZSwyKSxoZWFkZXIrPWRlY1RvSGV4KGRvc0RhdGUsMiksaGVhZGVyKz1kZWNUb0hleChkYXRhSW5mby5jcmMzMiw0KSxoZWFkZXIrPWRlY1RvSGV4KGRhdGFJbmZvLmNvbXByZXNzZWRTaXplLDQpLGhlYWRlcis9ZGVjVG9IZXgoZGF0YUluZm8udW5jb21wcmVzc2VkU2l6ZSw0KSxoZWFkZXIrPWRlY1RvSGV4KGVuY29kZWRGaWxlTmFtZS5sZW5ndGgsMiksaGVhZGVyKz1kZWNUb0hleChleHRyYUZpZWxkcy5sZW5ndGgsMikse2ZpbGVSZWNvcmQ6c2lnbmF0dXJlLkxPQ0FMX0ZJTEVfSEVBREVSK2hlYWRlcitlbmNvZGVkRmlsZU5hbWUrZXh0cmFGaWVsZHMsZGlyUmVjb3JkOnNpZ25hdHVyZS5DRU5UUkFMX0ZJTEVfSEVBREVSK2RlY1RvSGV4KHZlcnNpb25NYWRlQnksMikraGVhZGVyK2RlY1RvSGV4KGVuY29kZWRDb21tZW50Lmxlbmd0aCwyKStcIlxcMFxcMFxcMFxcMFwiK2RlY1RvSGV4KGV4dEZpbGVBdHRyLDQpK2RlY1RvSGV4KG9mZnNldCw0KStlbmNvZGVkRmlsZU5hbWUrZXh0cmFGaWVsZHMrZW5jb2RlZENvbW1lbnR9fTtmdW5jdGlvbiBaaXBGaWxlV29ya2VyKHN0cmVhbUZpbGVzLGNvbW1lbnQscGxhdGZvcm0sZW5jb2RlRmlsZU5hbWUpe0dlbmVyaWNXb3JrZXIuY2FsbCh0aGlzLFwiWmlwRmlsZVdvcmtlclwiKSx0aGlzLmJ5dGVzV3JpdHRlbj0wLHRoaXMuemlwQ29tbWVudD1jb21tZW50LHRoaXMuemlwUGxhdGZvcm09cGxhdGZvcm0sdGhpcy5lbmNvZGVGaWxlTmFtZT1lbmNvZGVGaWxlTmFtZSx0aGlzLnN0cmVhbUZpbGVzPXN0cmVhbUZpbGVzLHRoaXMuYWNjdW11bGF0ZT0hMSx0aGlzLmNvbnRlbnRCdWZmZXI9W10sdGhpcy5kaXJSZWNvcmRzPVtdLHRoaXMuY3VycmVudFNvdXJjZU9mZnNldD0wLHRoaXMuZW50cmllc0NvdW50PTAsdGhpcy5jdXJyZW50RmlsZT1udWxsLHRoaXMuX3NvdXJjZXM9W119dXRpbHMuaW5oZXJpdHMoWmlwRmlsZVdvcmtlcixHZW5lcmljV29ya2VyKSxaaXBGaWxlV29ya2VyLnByb3RvdHlwZS5wdXNoPWZ1bmN0aW9uKGNodW5rKXt2YXIgY3VycmVudEZpbGVQZXJjZW50PWNodW5rLm1ldGEucGVyY2VudHx8MCxlbnRyaWVzQ291bnQ9dGhpcy5lbnRyaWVzQ291bnQscmVtYWluaW5nRmlsZXM9dGhpcy5fc291cmNlcy5sZW5ndGg7dGhpcy5hY2N1bXVsYXRlP3RoaXMuY29udGVudEJ1ZmZlci5wdXNoKGNodW5rKToodGhpcy5ieXRlc1dyaXR0ZW4rPWNodW5rLmRhdGEubGVuZ3RoLEdlbmVyaWNXb3JrZXIucHJvdG90eXBlLnB1c2guY2FsbCh0aGlzLHtkYXRhOmNodW5rLmRhdGEsbWV0YTp7Y3VycmVudEZpbGU6dGhpcy5jdXJyZW50RmlsZSxwZXJjZW50OmVudHJpZXNDb3VudD8oY3VycmVudEZpbGVQZXJjZW50KzEwMCooZW50cmllc0NvdW50LXJlbWFpbmluZ0ZpbGVzLTEpKS9lbnRyaWVzQ291bnQ6MTAwfX0pKX0sWmlwRmlsZVdvcmtlci5wcm90b3R5cGUub3BlbmVkU291cmNlPWZ1bmN0aW9uKHN0cmVhbUluZm8pe3RoaXMuY3VycmVudFNvdXJjZU9mZnNldD10aGlzLmJ5dGVzV3JpdHRlbix0aGlzLmN1cnJlbnRGaWxlPXN0cmVhbUluZm8uZmlsZS5uYW1lO3ZhciBzdHJlYW1lZENvbnRlbnQ9dGhpcy5zdHJlYW1GaWxlcyYmIXN0cmVhbUluZm8uZmlsZS5kaXI7aWYoc3RyZWFtZWRDb250ZW50KXt2YXIgcmVjb3JkPWdlbmVyYXRlWmlwUGFydHMoc3RyZWFtSW5mbyxzdHJlYW1lZENvbnRlbnQsITEsdGhpcy5jdXJyZW50U291cmNlT2Zmc2V0LHRoaXMuemlwUGxhdGZvcm0sdGhpcy5lbmNvZGVGaWxlTmFtZSk7dGhpcy5wdXNoKHtkYXRhOnJlY29yZC5maWxlUmVjb3JkLG1ldGE6e3BlcmNlbnQ6MH19KX1lbHNlIHRoaXMuYWNjdW11bGF0ZT0hMH0sWmlwRmlsZVdvcmtlci5wcm90b3R5cGUuY2xvc2VkU291cmNlPWZ1bmN0aW9uKHN0cmVhbUluZm8pe3RoaXMuYWNjdW11bGF0ZT0hMTt2YXIgc3RyZWFtZWRDb250ZW50PXRoaXMuc3RyZWFtRmlsZXMmJiFzdHJlYW1JbmZvLmZpbGUuZGlyLHJlY29yZD1nZW5lcmF0ZVppcFBhcnRzKHN0cmVhbUluZm8sc3RyZWFtZWRDb250ZW50LCEwLHRoaXMuY3VycmVudFNvdXJjZU9mZnNldCx0aGlzLnppcFBsYXRmb3JtLHRoaXMuZW5jb2RlRmlsZU5hbWUpO2lmKHRoaXMuZGlyUmVjb3Jkcy5wdXNoKHJlY29yZC5kaXJSZWNvcmQpLHN0cmVhbWVkQ29udGVudCl0aGlzLnB1c2goe2RhdGE6ZnVuY3Rpb24oc3RyZWFtSW5mbyl7cmV0dXJuIHNpZ25hdHVyZS5EQVRBX0RFU0NSSVBUT1IrZGVjVG9IZXgoc3RyZWFtSW5mby5jcmMzMiw0KStkZWNUb0hleChzdHJlYW1JbmZvLmNvbXByZXNzZWRTaXplLDQpK2RlY1RvSGV4KHN0cmVhbUluZm8udW5jb21wcmVzc2VkU2l6ZSw0KX0oc3RyZWFtSW5mbyksbWV0YTp7cGVyY2VudDoxMDB9fSk7ZWxzZSBmb3IodGhpcy5wdXNoKHtkYXRhOnJlY29yZC5maWxlUmVjb3JkLG1ldGE6e3BlcmNlbnQ6MH19KTt0aGlzLmNvbnRlbnRCdWZmZXIubGVuZ3RoOyl0aGlzLnB1c2godGhpcy5jb250ZW50QnVmZmVyLnNoaWZ0KCkpO3RoaXMuY3VycmVudEZpbGU9bnVsbH0sWmlwRmlsZVdvcmtlci5wcm90b3R5cGUuZmx1c2g9ZnVuY3Rpb24oKXtmb3IodmFyIGxvY2FsRGlyTGVuZ3RoPXRoaXMuYnl0ZXNXcml0dGVuLGk9MDtpPHRoaXMuZGlyUmVjb3Jkcy5sZW5ndGg7aSsrKXRoaXMucHVzaCh7ZGF0YTp0aGlzLmRpclJlY29yZHNbaV0sbWV0YTp7cGVyY2VudDoxMDB9fSk7dmFyIGNlbnRyYWxEaXJMZW5ndGg9dGhpcy5ieXRlc1dyaXR0ZW4tbG9jYWxEaXJMZW5ndGgsZGlyRW5kPWZ1bmN0aW9uKGVudHJpZXNDb3VudCxjZW50cmFsRGlyTGVuZ3RoLGxvY2FsRGlyTGVuZ3RoLGNvbW1lbnQsZW5jb2RlRmlsZU5hbWUpe3ZhciBlbmNvZGVkQ29tbWVudD11dGlscy50cmFuc2Zvcm1UbyhcInN0cmluZ1wiLGVuY29kZUZpbGVOYW1lKGNvbW1lbnQpKTtyZXR1cm4gc2lnbmF0dXJlLkNFTlRSQUxfRElSRUNUT1JZX0VORCtcIlxcMFxcMFxcMFxcMFwiK2RlY1RvSGV4KGVudHJpZXNDb3VudCwyKStkZWNUb0hleChlbnRyaWVzQ291bnQsMikrZGVjVG9IZXgoY2VudHJhbERpckxlbmd0aCw0KStkZWNUb0hleChsb2NhbERpckxlbmd0aCw0KStkZWNUb0hleChlbmNvZGVkQ29tbWVudC5sZW5ndGgsMikrZW5jb2RlZENvbW1lbnR9KHRoaXMuZGlyUmVjb3Jkcy5sZW5ndGgsY2VudHJhbERpckxlbmd0aCxsb2NhbERpckxlbmd0aCx0aGlzLnppcENvbW1lbnQsdGhpcy5lbmNvZGVGaWxlTmFtZSk7dGhpcy5wdXNoKHtkYXRhOmRpckVuZCxtZXRhOntwZXJjZW50OjEwMH19KX0sWmlwRmlsZVdvcmtlci5wcm90b3R5cGUucHJlcGFyZU5leHRTb3VyY2U9ZnVuY3Rpb24oKXt0aGlzLnByZXZpb3VzPXRoaXMuX3NvdXJjZXMuc2hpZnQoKSx0aGlzLm9wZW5lZFNvdXJjZSh0aGlzLnByZXZpb3VzLnN0cmVhbUluZm8pLHRoaXMuaXNQYXVzZWQ/dGhpcy5wcmV2aW91cy5wYXVzZSgpOnRoaXMucHJldmlvdXMucmVzdW1lKCl9LFppcEZpbGVXb3JrZXIucHJvdG90eXBlLnJlZ2lzdGVyUHJldmlvdXM9ZnVuY3Rpb24ocHJldmlvdXMpe3RoaXMuX3NvdXJjZXMucHVzaChwcmV2aW91cyk7dmFyIHNlbGY9dGhpcztyZXR1cm4gcHJldmlvdXMub24oXCJkYXRhXCIsZnVuY3Rpb24oY2h1bmspe3NlbGYucHJvY2Vzc0NodW5rKGNodW5rKX0pLHByZXZpb3VzLm9uKFwiZW5kXCIsZnVuY3Rpb24oKXtzZWxmLmNsb3NlZFNvdXJjZShzZWxmLnByZXZpb3VzLnN0cmVhbUluZm8pLHNlbGYuX3NvdXJjZXMubGVuZ3RoP3NlbGYucHJlcGFyZU5leHRTb3VyY2UoKTpzZWxmLmVuZCgpfSkscHJldmlvdXMub24oXCJlcnJvclwiLGZ1bmN0aW9uKGUpe3NlbGYuZXJyb3IoZSl9KSx0aGlzfSxaaXBGaWxlV29ya2VyLnByb3RvdHlwZS5yZXN1bWU9ZnVuY3Rpb24oKXtyZXR1cm4hIUdlbmVyaWNXb3JrZXIucHJvdG90eXBlLnJlc3VtZS5jYWxsKHRoaXMpJiYoIXRoaXMucHJldmlvdXMmJnRoaXMuX3NvdXJjZXMubGVuZ3RoPyh0aGlzLnByZXBhcmVOZXh0U291cmNlKCksITApOnRoaXMucHJldmlvdXN8fHRoaXMuX3NvdXJjZXMubGVuZ3RofHx0aGlzLmdlbmVyYXRlZEVycm9yP3ZvaWQgMDoodGhpcy5lbmQoKSwhMCkpfSxaaXBGaWxlV29ya2VyLnByb3RvdHlwZS5lcnJvcj1mdW5jdGlvbihlKXt2YXIgc291cmNlcz10aGlzLl9zb3VyY2VzO2lmKCFHZW5lcmljV29ya2VyLnByb3RvdHlwZS5lcnJvci5jYWxsKHRoaXMsZSkpcmV0dXJuITE7Zm9yKHZhciBpPTA7aTxzb3VyY2VzLmxlbmd0aDtpKyspdHJ5e3NvdXJjZXNbaV0uZXJyb3IoZSl9Y2F0Y2goZSl7fXJldHVybiEwfSxaaXBGaWxlV29ya2VyLnByb3RvdHlwZS5sb2NrPWZ1bmN0aW9uKCl7R2VuZXJpY1dvcmtlci5wcm90b3R5cGUubG9jay5jYWxsKHRoaXMpO2Zvcih2YXIgc291cmNlcz10aGlzLl9zb3VyY2VzLGk9MDtpPHNvdXJjZXMubGVuZ3RoO2krKylzb3VyY2VzW2ldLmxvY2soKX0sbW9kdWxlLmV4cG9ydHM9WmlwRmlsZVdvcmtlcn0sZnVuY3Rpb24obW9kdWxlLGV4cG9ydHMsX193ZWJwYWNrX3JlcXVpcmVfXyl7XCJ1c2Ugc3RyaWN0XCI7dmFyIHV0aWxzPV9fd2VicGFja19yZXF1aXJlX18oMCksR2VuZXJpY1dvcmtlcj1fX3dlYnBhY2tfcmVxdWlyZV9fKDIpO2Z1bmN0aW9uIE5vZGVqc1N0cmVhbUlucHV0QWRhcHRlcihmaWxlbmFtZSxzdHJlYW0pe0dlbmVyaWNXb3JrZXIuY2FsbCh0aGlzLFwiTm9kZWpzIHN0cmVhbSBpbnB1dCBhZGFwdGVyIGZvciBcIitmaWxlbmFtZSksdGhpcy5fdXBzdHJlYW1FbmRlZD0hMSx0aGlzLl9iaW5kU3RyZWFtKHN0cmVhbSl9dXRpbHMuaW5oZXJpdHMoTm9kZWpzU3RyZWFtSW5wdXRBZGFwdGVyLEdlbmVyaWNXb3JrZXIpLE5vZGVqc1N0cmVhbUlucHV0QWRhcHRlci5wcm90b3R5cGUuX2JpbmRTdHJlYW09ZnVuY3Rpb24oc3RyZWFtKXt2YXIgc2VsZj10aGlzO3RoaXMuX3N0cmVhbT1zdHJlYW0sc3RyZWFtLnBhdXNlKCksc3RyZWFtLm9uKFwiZGF0YVwiLGZ1bmN0aW9uKGNodW5rKXtzZWxmLnB1c2goe2RhdGE6Y2h1bmssbWV0YTp7cGVyY2VudDowfX0pfSkub24oXCJlcnJvclwiLGZ1bmN0aW9uKGUpe3NlbGYuaXNQYXVzZWQ/dGhpcy5nZW5lcmF0ZWRFcnJvcj1lOnNlbGYuZXJyb3IoZSl9KS5vbihcImVuZFwiLGZ1bmN0aW9uKCl7c2VsZi5pc1BhdXNlZD9zZWxmLl91cHN0cmVhbUVuZGVkPSEwOnNlbGYuZW5kKCl9KX0sTm9kZWpzU3RyZWFtSW5wdXRBZGFwdGVyLnByb3RvdHlwZS5wYXVzZT1mdW5jdGlvbigpe3JldHVybiEhR2VuZXJpY1dvcmtlci5wcm90b3R5cGUucGF1c2UuY2FsbCh0aGlzKSYmKHRoaXMuX3N0cmVhbS5wYXVzZSgpLCEwKX0sTm9kZWpzU3RyZWFtSW5wdXRBZGFwdGVyLnByb3RvdHlwZS5yZXN1bWU9ZnVuY3Rpb24oKXtyZXR1cm4hIUdlbmVyaWNXb3JrZXIucHJvdG90eXBlLnJlc3VtZS5jYWxsKHRoaXMpJiYodGhpcy5fdXBzdHJlYW1FbmRlZD90aGlzLmVuZCgpOnRoaXMuX3N0cmVhbS5yZXN1bWUoKSwhMCl9LG1vZHVsZS5leHBvcnRzPU5vZGVqc1N0cmVhbUlucHV0QWRhcHRlcn0sZnVuY3Rpb24obW9kdWxlLGV4cG9ydHMsX193ZWJwYWNrX3JlcXVpcmVfXyl7XCJ1c2Ugc3RyaWN0XCI7dmFyIHV0aWxzPV9fd2VicGFja19yZXF1aXJlX18oMCksZXh0ZXJuYWw9X193ZWJwYWNrX3JlcXVpcmVfXygyNiksdXRmOD1fX3dlYnBhY2tfcmVxdWlyZV9fKDEzKSxaaXBFbnRyaWVzPSh1dGlscz1fX3dlYnBhY2tfcmVxdWlyZV9fKDApLF9fd2VicGFja19yZXF1aXJlX18oMTIwKSksQ3JjMzJQcm9iZT1fX3dlYnBhY2tfcmVxdWlyZV9fKDYzKSxub2RlanNVdGlscz1fX3dlYnBhY2tfcmVxdWlyZV9fKDMxKTtmdW5jdGlvbiBjaGVja0VudHJ5Q1JDMzIoemlwRW50cnkpe3JldHVybiBuZXcgZXh0ZXJuYWwuUHJvbWlzZShmdW5jdGlvbihyZXNvbHZlLHJlamVjdCl7dmFyIHdvcmtlcj16aXBFbnRyeS5kZWNvbXByZXNzZWQuZ2V0Q29udGVudFdvcmtlcigpLnBpcGUobmV3IENyYzMyUHJvYmUpO3dvcmtlci5vbihcImVycm9yXCIsZnVuY3Rpb24oZSl7cmVqZWN0KGUpfSkub24oXCJlbmRcIixmdW5jdGlvbigpe3dvcmtlci5zdHJlYW1JbmZvLmNyYzMyIT09emlwRW50cnkuZGVjb21wcmVzc2VkLmNyYzMyP3JlamVjdChuZXcgRXJyb3IoXCJDb3JydXB0ZWQgemlwIDogQ1JDMzIgbWlzbWF0Y2hcIikpOnJlc29sdmUoKX0pLnJlc3VtZSgpfSl9bW9kdWxlLmV4cG9ydHM9ZnVuY3Rpb24oZGF0YSxvcHRpb25zKXt2YXIgemlwPXRoaXM7cmV0dXJuIG9wdGlvbnM9dXRpbHMuZXh0ZW5kKG9wdGlvbnN8fHt9LHtiYXNlNjQ6ITEsY2hlY2tDUkMzMjohMSxvcHRpbWl6ZWRCaW5hcnlTdHJpbmc6ITEsY3JlYXRlRm9sZGVyczohMSxkZWNvZGVGaWxlTmFtZTp1dGY4LnV0ZjhkZWNvZGV9KSxub2RlanNVdGlscy5pc05vZGUmJm5vZGVqc1V0aWxzLmlzU3RyZWFtKGRhdGEpP2V4dGVybmFsLlByb21pc2UucmVqZWN0KG5ldyBFcnJvcihcIkpTWmlwIGNhbid0IGFjY2VwdCBhIHN0cmVhbSB3aGVuIGxvYWRpbmcgYSB6aXAgZmlsZS5cIikpOnV0aWxzLnByZXBhcmVDb250ZW50KFwidGhlIGxvYWRlZCB6aXAgZmlsZVwiLGRhdGEsITAsb3B0aW9ucy5vcHRpbWl6ZWRCaW5hcnlTdHJpbmcsb3B0aW9ucy5iYXNlNjQpLnRoZW4oZnVuY3Rpb24oZGF0YSl7dmFyIHppcEVudHJpZXM9bmV3IFppcEVudHJpZXMob3B0aW9ucyk7cmV0dXJuIHppcEVudHJpZXMubG9hZChkYXRhKSx6aXBFbnRyaWVzfSkudGhlbihmdW5jdGlvbih6aXBFbnRyaWVzKXt2YXIgcHJvbWlzZXM9W2V4dGVybmFsLlByb21pc2UucmVzb2x2ZSh6aXBFbnRyaWVzKV0sZmlsZXM9emlwRW50cmllcy5maWxlcztpZihvcHRpb25zLmNoZWNrQ1JDMzIpZm9yKHZhciBpPTA7aTxmaWxlcy5sZW5ndGg7aSsrKXByb21pc2VzLnB1c2goY2hlY2tFbnRyeUNSQzMyKGZpbGVzW2ldKSk7cmV0dXJuIGV4dGVybmFsLlByb21pc2UuYWxsKHByb21pc2VzKX0pLnRoZW4oZnVuY3Rpb24ocmVzdWx0cyl7Zm9yKHZhciB6aXBFbnRyaWVzPXJlc3VsdHMuc2hpZnQoKSxmaWxlcz16aXBFbnRyaWVzLmZpbGVzLGk9MDtpPGZpbGVzLmxlbmd0aDtpKyspe3ZhciBpbnB1dD1maWxlc1tpXTt6aXAuZmlsZShpbnB1dC5maWxlTmFtZVN0cixpbnB1dC5kZWNvbXByZXNzZWQse2JpbmFyeTohMCxvcHRpbWl6ZWRCaW5hcnlTdHJpbmc6ITAsZGF0ZTppbnB1dC5kYXRlLGRpcjppbnB1dC5kaXIsY29tbWVudDppbnB1dC5maWxlQ29tbWVudFN0ci5sZW5ndGg/aW5wdXQuZmlsZUNvbW1lbnRTdHI6bnVsbCx1bml4UGVybWlzc2lvbnM6aW5wdXQudW5peFBlcm1pc3Npb25zLGRvc1Blcm1pc3Npb25zOmlucHV0LmRvc1Blcm1pc3Npb25zLGNyZWF0ZUZvbGRlcnM6b3B0aW9ucy5jcmVhdGVGb2xkZXJzfSl9cmV0dXJuIHppcEVudHJpZXMuemlwQ29tbWVudC5sZW5ndGgmJih6aXAuY29tbWVudD16aXBFbnRyaWVzLnppcENvbW1lbnQpLHppcH0pfX0sZnVuY3Rpb24obW9kdWxlLGV4cG9ydHMsX193ZWJwYWNrX3JlcXVpcmVfXyl7XCJ1c2Ugc3RyaWN0XCI7dmFyIHJlYWRlckZvcj1fX3dlYnBhY2tfcmVxdWlyZV9fKDcxKSx1dGlscz1fX3dlYnBhY2tfcmVxdWlyZV9fKDApLHNpZz1fX3dlYnBhY2tfcmVxdWlyZV9fKDcwKSxaaXBFbnRyeT1fX3dlYnBhY2tfcmVxdWlyZV9fKDEyMyksc3VwcG9ydD0oX193ZWJwYWNrX3JlcXVpcmVfXygxMyksX193ZWJwYWNrX3JlcXVpcmVfXyg3KSk7ZnVuY3Rpb24gWmlwRW50cmllcyhsb2FkT3B0aW9ucyl7dGhpcy5maWxlcz1bXSx0aGlzLmxvYWRPcHRpb25zPWxvYWRPcHRpb25zfVppcEVudHJpZXMucHJvdG90eXBlPXtjaGVja1NpZ25hdHVyZTpmdW5jdGlvbihleHBlY3RlZFNpZ25hdHVyZSl7aWYoIXRoaXMucmVhZGVyLnJlYWRBbmRDaGVja1NpZ25hdHVyZShleHBlY3RlZFNpZ25hdHVyZSkpe3RoaXMucmVhZGVyLmluZGV4LT00O3ZhciBzaWduYXR1cmU9dGhpcy5yZWFkZXIucmVhZFN0cmluZyg0KTt0aHJvdyBuZXcgRXJyb3IoXCJDb3JydXB0ZWQgemlwIG9yIGJ1ZzogdW5leHBlY3RlZCBzaWduYXR1cmUgKFwiK3V0aWxzLnByZXR0eShzaWduYXR1cmUpK1wiLCBleHBlY3RlZCBcIit1dGlscy5wcmV0dHkoZXhwZWN0ZWRTaWduYXR1cmUpK1wiKVwiKX19LGlzU2lnbmF0dXJlOmZ1bmN0aW9uKGFza2VkSW5kZXgsZXhwZWN0ZWRTaWduYXR1cmUpe3ZhciBjdXJyZW50SW5kZXg9dGhpcy5yZWFkZXIuaW5kZXg7dGhpcy5yZWFkZXIuc2V0SW5kZXgoYXNrZWRJbmRleCk7dmFyIHJlc3VsdD10aGlzLnJlYWRlci5yZWFkU3RyaW5nKDQpPT09ZXhwZWN0ZWRTaWduYXR1cmU7cmV0dXJuIHRoaXMucmVhZGVyLnNldEluZGV4KGN1cnJlbnRJbmRleCkscmVzdWx0fSxyZWFkQmxvY2tFbmRPZkNlbnRyYWw6ZnVuY3Rpb24oKXt0aGlzLmRpc2tOdW1iZXI9dGhpcy5yZWFkZXIucmVhZEludCgyKSx0aGlzLmRpc2tXaXRoQ2VudHJhbERpclN0YXJ0PXRoaXMucmVhZGVyLnJlYWRJbnQoMiksdGhpcy5jZW50cmFsRGlyUmVjb3Jkc09uVGhpc0Rpc2s9dGhpcy5yZWFkZXIucmVhZEludCgyKSx0aGlzLmNlbnRyYWxEaXJSZWNvcmRzPXRoaXMucmVhZGVyLnJlYWRJbnQoMiksdGhpcy5jZW50cmFsRGlyU2l6ZT10aGlzLnJlYWRlci5yZWFkSW50KDQpLHRoaXMuY2VudHJhbERpck9mZnNldD10aGlzLnJlYWRlci5yZWFkSW50KDQpLHRoaXMuemlwQ29tbWVudExlbmd0aD10aGlzLnJlYWRlci5yZWFkSW50KDIpO3ZhciB6aXBDb21tZW50PXRoaXMucmVhZGVyLnJlYWREYXRhKHRoaXMuemlwQ29tbWVudExlbmd0aCksZGVjb2RlUGFyYW1UeXBlPXN1cHBvcnQudWludDhhcnJheT9cInVpbnQ4YXJyYXlcIjpcImFycmF5XCIsZGVjb2RlQ29udGVudD11dGlscy50cmFuc2Zvcm1UbyhkZWNvZGVQYXJhbVR5cGUsemlwQ29tbWVudCk7dGhpcy56aXBDb21tZW50PXRoaXMubG9hZE9wdGlvbnMuZGVjb2RlRmlsZU5hbWUoZGVjb2RlQ29udGVudCl9LHJlYWRCbG9ja1ppcDY0RW5kT2ZDZW50cmFsOmZ1bmN0aW9uKCl7dGhpcy56aXA2NEVuZE9mQ2VudHJhbFNpemU9dGhpcy5yZWFkZXIucmVhZEludCg4KSx0aGlzLnJlYWRlci5za2lwKDQpLHRoaXMuZGlza051bWJlcj10aGlzLnJlYWRlci5yZWFkSW50KDQpLHRoaXMuZGlza1dpdGhDZW50cmFsRGlyU3RhcnQ9dGhpcy5yZWFkZXIucmVhZEludCg0KSx0aGlzLmNlbnRyYWxEaXJSZWNvcmRzT25UaGlzRGlzaz10aGlzLnJlYWRlci5yZWFkSW50KDgpLHRoaXMuY2VudHJhbERpclJlY29yZHM9dGhpcy5yZWFkZXIucmVhZEludCg4KSx0aGlzLmNlbnRyYWxEaXJTaXplPXRoaXMucmVhZGVyLnJlYWRJbnQoOCksdGhpcy5jZW50cmFsRGlyT2Zmc2V0PXRoaXMucmVhZGVyLnJlYWRJbnQoOCksdGhpcy56aXA2NEV4dGVuc2libGVEYXRhPXt9O2Zvcih2YXIgZXh0cmFGaWVsZElkLGV4dHJhRmllbGRMZW5ndGgsZXh0cmFGaWVsZFZhbHVlLGV4dHJhRGF0YVNpemU9dGhpcy56aXA2NEVuZE9mQ2VudHJhbFNpemUtNDQ7MDxleHRyYURhdGFTaXplOylleHRyYUZpZWxkSWQ9dGhpcy5yZWFkZXIucmVhZEludCgyKSxleHRyYUZpZWxkTGVuZ3RoPXRoaXMucmVhZGVyLnJlYWRJbnQoNCksZXh0cmFGaWVsZFZhbHVlPXRoaXMucmVhZGVyLnJlYWREYXRhKGV4dHJhRmllbGRMZW5ndGgpLHRoaXMuemlwNjRFeHRlbnNpYmxlRGF0YVtleHRyYUZpZWxkSWRdPXtpZDpleHRyYUZpZWxkSWQsbGVuZ3RoOmV4dHJhRmllbGRMZW5ndGgsdmFsdWU6ZXh0cmFGaWVsZFZhbHVlfX0scmVhZEJsb2NrWmlwNjRFbmRPZkNlbnRyYWxMb2NhdG9yOmZ1bmN0aW9uKCl7aWYodGhpcy5kaXNrV2l0aFppcDY0Q2VudHJhbERpclN0YXJ0PXRoaXMucmVhZGVyLnJlYWRJbnQoNCksdGhpcy5yZWxhdGl2ZU9mZnNldEVuZE9mWmlwNjRDZW50cmFsRGlyPXRoaXMucmVhZGVyLnJlYWRJbnQoOCksdGhpcy5kaXNrc0NvdW50PXRoaXMucmVhZGVyLnJlYWRJbnQoNCksdGhpcy5kaXNrc0NvdW50PjEpdGhyb3cgbmV3IEVycm9yKFwiTXVsdGktdm9sdW1lcyB6aXAgYXJlIG5vdCBzdXBwb3J0ZWRcIil9LHJlYWRMb2NhbEZpbGVzOmZ1bmN0aW9uKCl7dmFyIGksZmlsZTtmb3IoaT0wO2k8dGhpcy5maWxlcy5sZW5ndGg7aSsrKWZpbGU9dGhpcy5maWxlc1tpXSx0aGlzLnJlYWRlci5zZXRJbmRleChmaWxlLmxvY2FsSGVhZGVyT2Zmc2V0KSx0aGlzLmNoZWNrU2lnbmF0dXJlKHNpZy5MT0NBTF9GSUxFX0hFQURFUiksZmlsZS5yZWFkTG9jYWxQYXJ0KHRoaXMucmVhZGVyKSxmaWxlLmhhbmRsZVVURjgoKSxmaWxlLnByb2Nlc3NBdHRyaWJ1dGVzKCl9LHJlYWRDZW50cmFsRGlyOmZ1bmN0aW9uKCl7dmFyIGZpbGU7Zm9yKHRoaXMucmVhZGVyLnNldEluZGV4KHRoaXMuY2VudHJhbERpck9mZnNldCk7dGhpcy5yZWFkZXIucmVhZEFuZENoZWNrU2lnbmF0dXJlKHNpZy5DRU5UUkFMX0ZJTEVfSEVBREVSKTspKGZpbGU9bmV3IFppcEVudHJ5KHt6aXA2NDp0aGlzLnppcDY0fSx0aGlzLmxvYWRPcHRpb25zKSkucmVhZENlbnRyYWxQYXJ0KHRoaXMucmVhZGVyKSx0aGlzLmZpbGVzLnB1c2goZmlsZSk7aWYodGhpcy5jZW50cmFsRGlyUmVjb3JkcyE9PXRoaXMuZmlsZXMubGVuZ3RoJiYwIT09dGhpcy5jZW50cmFsRGlyUmVjb3JkcyYmMD09PXRoaXMuZmlsZXMubGVuZ3RoKXRocm93IG5ldyBFcnJvcihcIkNvcnJ1cHRlZCB6aXAgb3IgYnVnOiBleHBlY3RlZCBcIit0aGlzLmNlbnRyYWxEaXJSZWNvcmRzK1wiIHJlY29yZHMgaW4gY2VudHJhbCBkaXIsIGdvdCBcIit0aGlzLmZpbGVzLmxlbmd0aCl9LHJlYWRFbmRPZkNlbnRyYWw6ZnVuY3Rpb24oKXt2YXIgb2Zmc2V0PXRoaXMucmVhZGVyLmxhc3RJbmRleE9mU2lnbmF0dXJlKHNpZy5DRU5UUkFMX0RJUkVDVE9SWV9FTkQpO2lmKG9mZnNldDwwKXRocm93IXRoaXMuaXNTaWduYXR1cmUoMCxzaWcuTE9DQUxfRklMRV9IRUFERVIpP25ldyBFcnJvcihcIkNhbid0IGZpbmQgZW5kIG9mIGNlbnRyYWwgZGlyZWN0b3J5IDogaXMgdGhpcyBhIHppcCBmaWxlID8gSWYgaXQgaXMsIHNlZSBodHRwczovL3N0dWsuZ2l0aHViLmlvL2pzemlwL2RvY3VtZW50YXRpb24vaG93dG8vcmVhZF96aXAuaHRtbFwiKTpuZXcgRXJyb3IoXCJDb3JydXB0ZWQgemlwOiBjYW4ndCBmaW5kIGVuZCBvZiBjZW50cmFsIGRpcmVjdG9yeVwiKTt0aGlzLnJlYWRlci5zZXRJbmRleChvZmZzZXQpO3ZhciBlbmRPZkNlbnRyYWxEaXJPZmZzZXQ9b2Zmc2V0O2lmKHRoaXMuY2hlY2tTaWduYXR1cmUoc2lnLkNFTlRSQUxfRElSRUNUT1JZX0VORCksdGhpcy5yZWFkQmxvY2tFbmRPZkNlbnRyYWwoKSx0aGlzLmRpc2tOdW1iZXI9PT11dGlscy5NQVhfVkFMVUVfMTZCSVRTfHx0aGlzLmRpc2tXaXRoQ2VudHJhbERpclN0YXJ0PT09dXRpbHMuTUFYX1ZBTFVFXzE2QklUU3x8dGhpcy5jZW50cmFsRGlyUmVjb3Jkc09uVGhpc0Rpc2s9PT11dGlscy5NQVhfVkFMVUVfMTZCSVRTfHx0aGlzLmNlbnRyYWxEaXJSZWNvcmRzPT09dXRpbHMuTUFYX1ZBTFVFXzE2QklUU3x8dGhpcy5jZW50cmFsRGlyU2l6ZT09PXV0aWxzLk1BWF9WQUxVRV8zMkJJVFN8fHRoaXMuY2VudHJhbERpck9mZnNldD09PXV0aWxzLk1BWF9WQUxVRV8zMkJJVFMpe2lmKHRoaXMuemlwNjQ9ITAsKG9mZnNldD10aGlzLnJlYWRlci5sYXN0SW5kZXhPZlNpZ25hdHVyZShzaWcuWklQNjRfQ0VOVFJBTF9ESVJFQ1RPUllfTE9DQVRPUikpPDApdGhyb3cgbmV3IEVycm9yKFwiQ29ycnVwdGVkIHppcDogY2FuJ3QgZmluZCB0aGUgWklQNjQgZW5kIG9mIGNlbnRyYWwgZGlyZWN0b3J5IGxvY2F0b3JcIik7aWYodGhpcy5yZWFkZXIuc2V0SW5kZXgob2Zmc2V0KSx0aGlzLmNoZWNrU2lnbmF0dXJlKHNpZy5aSVA2NF9DRU5UUkFMX0RJUkVDVE9SWV9MT0NBVE9SKSx0aGlzLnJlYWRCbG9ja1ppcDY0RW5kT2ZDZW50cmFsTG9jYXRvcigpLCF0aGlzLmlzU2lnbmF0dXJlKHRoaXMucmVsYXRpdmVPZmZzZXRFbmRPZlppcDY0Q2VudHJhbERpcixzaWcuWklQNjRfQ0VOVFJBTF9ESVJFQ1RPUllfRU5EKSYmKHRoaXMucmVsYXRpdmVPZmZzZXRFbmRPZlppcDY0Q2VudHJhbERpcj10aGlzLnJlYWRlci5sYXN0SW5kZXhPZlNpZ25hdHVyZShzaWcuWklQNjRfQ0VOVFJBTF9ESVJFQ1RPUllfRU5EKSx0aGlzLnJlbGF0aXZlT2Zmc2V0RW5kT2ZaaXA2NENlbnRyYWxEaXI8MCkpdGhyb3cgbmV3IEVycm9yKFwiQ29ycnVwdGVkIHppcDogY2FuJ3QgZmluZCB0aGUgWklQNjQgZW5kIG9mIGNlbnRyYWwgZGlyZWN0b3J5XCIpO3RoaXMucmVhZGVyLnNldEluZGV4KHRoaXMucmVsYXRpdmVPZmZzZXRFbmRPZlppcDY0Q2VudHJhbERpciksdGhpcy5jaGVja1NpZ25hdHVyZShzaWcuWklQNjRfQ0VOVFJBTF9ESVJFQ1RPUllfRU5EKSx0aGlzLnJlYWRCbG9ja1ppcDY0RW5kT2ZDZW50cmFsKCl9dmFyIGV4cGVjdGVkRW5kT2ZDZW50cmFsRGlyT2Zmc2V0PXRoaXMuY2VudHJhbERpck9mZnNldCt0aGlzLmNlbnRyYWxEaXJTaXplO3RoaXMuemlwNjQmJihleHBlY3RlZEVuZE9mQ2VudHJhbERpck9mZnNldCs9MjAsZXhwZWN0ZWRFbmRPZkNlbnRyYWxEaXJPZmZzZXQrPTEyK3RoaXMuemlwNjRFbmRPZkNlbnRyYWxTaXplKTt2YXIgZXh0cmFCeXRlcz1lbmRPZkNlbnRyYWxEaXJPZmZzZXQtZXhwZWN0ZWRFbmRPZkNlbnRyYWxEaXJPZmZzZXQ7aWYoZXh0cmFCeXRlcz4wKXRoaXMuaXNTaWduYXR1cmUoZW5kT2ZDZW50cmFsRGlyT2Zmc2V0LHNpZy5DRU5UUkFMX0ZJTEVfSEVBREVSKXx8KHRoaXMucmVhZGVyLnplcm89ZXh0cmFCeXRlcyk7ZWxzZSBpZihleHRyYUJ5dGVzPDApdGhyb3cgbmV3IEVycm9yKFwiQ29ycnVwdGVkIHppcDogbWlzc2luZyBcIitNYXRoLmFicyhleHRyYUJ5dGVzKStcIiBieXRlcy5cIil9LHByZXBhcmVSZWFkZXI6ZnVuY3Rpb24oZGF0YSl7dGhpcy5yZWFkZXI9cmVhZGVyRm9yKGRhdGEpfSxsb2FkOmZ1bmN0aW9uKGRhdGEpe3RoaXMucHJlcGFyZVJlYWRlcihkYXRhKSx0aGlzLnJlYWRFbmRPZkNlbnRyYWwoKSx0aGlzLnJlYWRDZW50cmFsRGlyKCksdGhpcy5yZWFkTG9jYWxGaWxlcygpfX0sbW9kdWxlLmV4cG9ydHM9WmlwRW50cmllc30sZnVuY3Rpb24obW9kdWxlLGV4cG9ydHMsX193ZWJwYWNrX3JlcXVpcmVfXyl7XCJ1c2Ugc3RyaWN0XCI7dmFyIERhdGFSZWFkZXI9X193ZWJwYWNrX3JlcXVpcmVfXyg3Myk7ZnVuY3Rpb24gU3RyaW5nUmVhZGVyKGRhdGEpe0RhdGFSZWFkZXIuY2FsbCh0aGlzLGRhdGEpfV9fd2VicGFja19yZXF1aXJlX18oMCkuaW5oZXJpdHMoU3RyaW5nUmVhZGVyLERhdGFSZWFkZXIpLFN0cmluZ1JlYWRlci5wcm90b3R5cGUuYnl0ZUF0PWZ1bmN0aW9uKGkpe3JldHVybiB0aGlzLmRhdGEuY2hhckNvZGVBdCh0aGlzLnplcm8raSl9LFN0cmluZ1JlYWRlci5wcm90b3R5cGUubGFzdEluZGV4T2ZTaWduYXR1cmU9ZnVuY3Rpb24oc2lnKXtyZXR1cm4gdGhpcy5kYXRhLmxhc3RJbmRleE9mKHNpZyktdGhpcy56ZXJvfSxTdHJpbmdSZWFkZXIucHJvdG90eXBlLnJlYWRBbmRDaGVja1NpZ25hdHVyZT1mdW5jdGlvbihzaWcpe3JldHVybiBzaWc9PT10aGlzLnJlYWREYXRhKDQpfSxTdHJpbmdSZWFkZXIucHJvdG90eXBlLnJlYWREYXRhPWZ1bmN0aW9uKHNpemUpe3RoaXMuY2hlY2tPZmZzZXQoc2l6ZSk7dmFyIHJlc3VsdD10aGlzLmRhdGEuc2xpY2UodGhpcy56ZXJvK3RoaXMuaW5kZXgsdGhpcy56ZXJvK3RoaXMuaW5kZXgrc2l6ZSk7cmV0dXJuIHRoaXMuaW5kZXgrPXNpemUscmVzdWx0fSxtb2R1bGUuZXhwb3J0cz1TdHJpbmdSZWFkZXJ9LGZ1bmN0aW9uKG1vZHVsZSxleHBvcnRzLF9fd2VicGFja19yZXF1aXJlX18pe1widXNlIHN0cmljdFwiO3ZhciBVaW50OEFycmF5UmVhZGVyPV9fd2VicGFja19yZXF1aXJlX18oNzQpO2Z1bmN0aW9uIE5vZGVCdWZmZXJSZWFkZXIoZGF0YSl7VWludDhBcnJheVJlYWRlci5jYWxsKHRoaXMsZGF0YSl9X193ZWJwYWNrX3JlcXVpcmVfXygwKS5pbmhlcml0cyhOb2RlQnVmZmVyUmVhZGVyLFVpbnQ4QXJyYXlSZWFkZXIpLE5vZGVCdWZmZXJSZWFkZXIucHJvdG90eXBlLnJlYWREYXRhPWZ1bmN0aW9uKHNpemUpe3RoaXMuY2hlY2tPZmZzZXQoc2l6ZSk7dmFyIHJlc3VsdD10aGlzLmRhdGEuc2xpY2UodGhpcy56ZXJvK3RoaXMuaW5kZXgsdGhpcy56ZXJvK3RoaXMuaW5kZXgrc2l6ZSk7cmV0dXJuIHRoaXMuaW5kZXgrPXNpemUscmVzdWx0fSxtb2R1bGUuZXhwb3J0cz1Ob2RlQnVmZmVyUmVhZGVyfSxmdW5jdGlvbihtb2R1bGUsZXhwb3J0cyxfX3dlYnBhY2tfcmVxdWlyZV9fKXtcInVzZSBzdHJpY3RcIjt2YXIgcmVhZGVyRm9yPV9fd2VicGFja19yZXF1aXJlX18oNzEpLHV0aWxzPV9fd2VicGFja19yZXF1aXJlX18oMCksQ29tcHJlc3NlZE9iamVjdD1fX3dlYnBhY2tfcmVxdWlyZV9fKDQzKSxjcmMzMmZuPV9fd2VicGFja19yZXF1aXJlX18oNDQpLHV0Zjg9X193ZWJwYWNrX3JlcXVpcmVfXygxMyksY29tcHJlc3Npb25zPV9fd2VicGFja19yZXF1aXJlX18oNjQpLHN1cHBvcnQ9X193ZWJwYWNrX3JlcXVpcmVfXyg3KTtmdW5jdGlvbiBaaXBFbnRyeShvcHRpb25zLGxvYWRPcHRpb25zKXt0aGlzLm9wdGlvbnM9b3B0aW9ucyx0aGlzLmxvYWRPcHRpb25zPWxvYWRPcHRpb25zfVppcEVudHJ5LnByb3RvdHlwZT17aXNFbmNyeXB0ZWQ6ZnVuY3Rpb24oKXtyZXR1cm4gMT09KDEmdGhpcy5iaXRGbGFnKX0sdXNlVVRGODpmdW5jdGlvbigpe3JldHVybiAyMDQ4PT0oMjA0OCZ0aGlzLmJpdEZsYWcpfSxyZWFkTG9jYWxQYXJ0OmZ1bmN0aW9uKHJlYWRlcil7dmFyIGNvbXByZXNzaW9uLGxvY2FsRXh0cmFGaWVsZHNMZW5ndGg7aWYocmVhZGVyLnNraXAoMjIpLHRoaXMuZmlsZU5hbWVMZW5ndGg9cmVhZGVyLnJlYWRJbnQoMiksbG9jYWxFeHRyYUZpZWxkc0xlbmd0aD1yZWFkZXIucmVhZEludCgyKSx0aGlzLmZpbGVOYW1lPXJlYWRlci5yZWFkRGF0YSh0aGlzLmZpbGVOYW1lTGVuZ3RoKSxyZWFkZXIuc2tpcChsb2NhbEV4dHJhRmllbGRzTGVuZ3RoKSwtMT09PXRoaXMuY29tcHJlc3NlZFNpemV8fC0xPT09dGhpcy51bmNvbXByZXNzZWRTaXplKXRocm93IG5ldyBFcnJvcihcIkJ1ZyBvciBjb3JydXB0ZWQgemlwIDogZGlkbid0IGdldCBlbm91Z2ggaW5mb3JtYXRpb25zIGZyb20gdGhlIGNlbnRyYWwgZGlyZWN0b3J5IChjb21wcmVzc2VkU2l6ZSA9PT0gLTEgfHwgdW5jb21wcmVzc2VkU2l6ZSA9PT0gLTEpXCIpO2lmKG51bGw9PT0oY29tcHJlc3Npb249ZnVuY3Rpb24oY29tcHJlc3Npb25NZXRob2Qpe2Zvcih2YXIgbWV0aG9kIGluIGNvbXByZXNzaW9ucylpZihjb21wcmVzc2lvbnMuaGFzT3duUHJvcGVydHkobWV0aG9kKSYmY29tcHJlc3Npb25zW21ldGhvZF0ubWFnaWM9PT1jb21wcmVzc2lvbk1ldGhvZClyZXR1cm4gY29tcHJlc3Npb25zW21ldGhvZF07cmV0dXJuIG51bGx9KHRoaXMuY29tcHJlc3Npb25NZXRob2QpKSl0aHJvdyBuZXcgRXJyb3IoXCJDb3JydXB0ZWQgemlwIDogY29tcHJlc3Npb24gXCIrdXRpbHMucHJldHR5KHRoaXMuY29tcHJlc3Npb25NZXRob2QpK1wiIHVua25vd24gKGlubmVyIGZpbGUgOiBcIit1dGlscy50cmFuc2Zvcm1UbyhcInN0cmluZ1wiLHRoaXMuZmlsZU5hbWUpK1wiKVwiKTt0aGlzLmRlY29tcHJlc3NlZD1uZXcgQ29tcHJlc3NlZE9iamVjdCh0aGlzLmNvbXByZXNzZWRTaXplLHRoaXMudW5jb21wcmVzc2VkU2l6ZSx0aGlzLmNyYzMyLGNvbXByZXNzaW9uLHJlYWRlci5yZWFkRGF0YSh0aGlzLmNvbXByZXNzZWRTaXplKSl9LHJlYWRDZW50cmFsUGFydDpmdW5jdGlvbihyZWFkZXIpe3RoaXMudmVyc2lvbk1hZGVCeT1yZWFkZXIucmVhZEludCgyKSxyZWFkZXIuc2tpcCgyKSx0aGlzLmJpdEZsYWc9cmVhZGVyLnJlYWRJbnQoMiksdGhpcy5jb21wcmVzc2lvbk1ldGhvZD1yZWFkZXIucmVhZFN0cmluZygyKSx0aGlzLmRhdGU9cmVhZGVyLnJlYWREYXRlKCksdGhpcy5jcmMzMj1yZWFkZXIucmVhZEludCg0KSx0aGlzLmNvbXByZXNzZWRTaXplPXJlYWRlci5yZWFkSW50KDQpLHRoaXMudW5jb21wcmVzc2VkU2l6ZT1yZWFkZXIucmVhZEludCg0KTt2YXIgZmlsZU5hbWVMZW5ndGg9cmVhZGVyLnJlYWRJbnQoMik7aWYodGhpcy5leHRyYUZpZWxkc0xlbmd0aD1yZWFkZXIucmVhZEludCgyKSx0aGlzLmZpbGVDb21tZW50TGVuZ3RoPXJlYWRlci5yZWFkSW50KDIpLHRoaXMuZGlza051bWJlclN0YXJ0PXJlYWRlci5yZWFkSW50KDIpLHRoaXMuaW50ZXJuYWxGaWxlQXR0cmlidXRlcz1yZWFkZXIucmVhZEludCgyKSx0aGlzLmV4dGVybmFsRmlsZUF0dHJpYnV0ZXM9cmVhZGVyLnJlYWRJbnQoNCksdGhpcy5sb2NhbEhlYWRlck9mZnNldD1yZWFkZXIucmVhZEludCg0KSx0aGlzLmlzRW5jcnlwdGVkKCkpdGhyb3cgbmV3IEVycm9yKFwiRW5jcnlwdGVkIHppcCBhcmUgbm90IHN1cHBvcnRlZFwiKTtyZWFkZXIuc2tpcChmaWxlTmFtZUxlbmd0aCksdGhpcy5yZWFkRXh0cmFGaWVsZHMocmVhZGVyKSx0aGlzLnBhcnNlWklQNjRFeHRyYUZpZWxkKHJlYWRlciksdGhpcy5maWxlQ29tbWVudD1yZWFkZXIucmVhZERhdGEodGhpcy5maWxlQ29tbWVudExlbmd0aCl9LHByb2Nlc3NBdHRyaWJ1dGVzOmZ1bmN0aW9uKCl7dGhpcy51bml4UGVybWlzc2lvbnM9bnVsbCx0aGlzLmRvc1Blcm1pc3Npb25zPW51bGw7dmFyIG1hZGVCeT10aGlzLnZlcnNpb25NYWRlQnk+Pjg7dGhpcy5kaXI9ISEoMTYmdGhpcy5leHRlcm5hbEZpbGVBdHRyaWJ1dGVzKSwwPT09bWFkZUJ5JiYodGhpcy5kb3NQZXJtaXNzaW9ucz02MyZ0aGlzLmV4dGVybmFsRmlsZUF0dHJpYnV0ZXMpLDM9PT1tYWRlQnkmJih0aGlzLnVuaXhQZXJtaXNzaW9ucz10aGlzLmV4dGVybmFsRmlsZUF0dHJpYnV0ZXM+PjE2JjY1NTM1KSx0aGlzLmRpcnx8XCIvXCIhPT10aGlzLmZpbGVOYW1lU3RyLnNsaWNlKC0xKXx8KHRoaXMuZGlyPSEwKX0scGFyc2VaSVA2NEV4dHJhRmllbGQ6ZnVuY3Rpb24ocmVhZGVyKXtpZih0aGlzLmV4dHJhRmllbGRzWzFdKXt2YXIgZXh0cmFSZWFkZXI9cmVhZGVyRm9yKHRoaXMuZXh0cmFGaWVsZHNbMV0udmFsdWUpO3RoaXMudW5jb21wcmVzc2VkU2l6ZT09PXV0aWxzLk1BWF9WQUxVRV8zMkJJVFMmJih0aGlzLnVuY29tcHJlc3NlZFNpemU9ZXh0cmFSZWFkZXIucmVhZEludCg4KSksdGhpcy5jb21wcmVzc2VkU2l6ZT09PXV0aWxzLk1BWF9WQUxVRV8zMkJJVFMmJih0aGlzLmNvbXByZXNzZWRTaXplPWV4dHJhUmVhZGVyLnJlYWRJbnQoOCkpLHRoaXMubG9jYWxIZWFkZXJPZmZzZXQ9PT11dGlscy5NQVhfVkFMVUVfMzJCSVRTJiYodGhpcy5sb2NhbEhlYWRlck9mZnNldD1leHRyYVJlYWRlci5yZWFkSW50KDgpKSx0aGlzLmRpc2tOdW1iZXJTdGFydD09PXV0aWxzLk1BWF9WQUxVRV8zMkJJVFMmJih0aGlzLmRpc2tOdW1iZXJTdGFydD1leHRyYVJlYWRlci5yZWFkSW50KDQpKX19LHJlYWRFeHRyYUZpZWxkczpmdW5jdGlvbihyZWFkZXIpe3ZhciBleHRyYUZpZWxkSWQsZXh0cmFGaWVsZExlbmd0aCxleHRyYUZpZWxkVmFsdWUsZW5kPXJlYWRlci5pbmRleCt0aGlzLmV4dHJhRmllbGRzTGVuZ3RoO2Zvcih0aGlzLmV4dHJhRmllbGRzfHwodGhpcy5leHRyYUZpZWxkcz17fSk7cmVhZGVyLmluZGV4PGVuZDspZXh0cmFGaWVsZElkPXJlYWRlci5yZWFkSW50KDIpLGV4dHJhRmllbGRMZW5ndGg9cmVhZGVyLnJlYWRJbnQoMiksZXh0cmFGaWVsZFZhbHVlPXJlYWRlci5yZWFkRGF0YShleHRyYUZpZWxkTGVuZ3RoKSx0aGlzLmV4dHJhRmllbGRzW2V4dHJhRmllbGRJZF09e2lkOmV4dHJhRmllbGRJZCxsZW5ndGg6ZXh0cmFGaWVsZExlbmd0aCx2YWx1ZTpleHRyYUZpZWxkVmFsdWV9fSxoYW5kbGVVVEY4OmZ1bmN0aW9uKCl7dmFyIGRlY29kZVBhcmFtVHlwZT1zdXBwb3J0LnVpbnQ4YXJyYXk/XCJ1aW50OGFycmF5XCI6XCJhcnJheVwiO2lmKHRoaXMudXNlVVRGOCgpKXRoaXMuZmlsZU5hbWVTdHI9dXRmOC51dGY4ZGVjb2RlKHRoaXMuZmlsZU5hbWUpLHRoaXMuZmlsZUNvbW1lbnRTdHI9dXRmOC51dGY4ZGVjb2RlKHRoaXMuZmlsZUNvbW1lbnQpO2Vsc2V7dmFyIHVwYXRoPXRoaXMuZmluZEV4dHJhRmllbGRVbmljb2RlUGF0aCgpO2lmKG51bGwhPT11cGF0aCl0aGlzLmZpbGVOYW1lU3RyPXVwYXRoO2Vsc2V7dmFyIGZpbGVOYW1lQnl0ZUFycmF5PXV0aWxzLnRyYW5zZm9ybVRvKGRlY29kZVBhcmFtVHlwZSx0aGlzLmZpbGVOYW1lKTt0aGlzLmZpbGVOYW1lU3RyPXRoaXMubG9hZE9wdGlvbnMuZGVjb2RlRmlsZU5hbWUoZmlsZU5hbWVCeXRlQXJyYXkpfXZhciB1Y29tbWVudD10aGlzLmZpbmRFeHRyYUZpZWxkVW5pY29kZUNvbW1lbnQoKTtpZihudWxsIT09dWNvbW1lbnQpdGhpcy5maWxlQ29tbWVudFN0cj11Y29tbWVudDtlbHNle3ZhciBjb21tZW50Qnl0ZUFycmF5PXV0aWxzLnRyYW5zZm9ybVRvKGRlY29kZVBhcmFtVHlwZSx0aGlzLmZpbGVDb21tZW50KTt0aGlzLmZpbGVDb21tZW50U3RyPXRoaXMubG9hZE9wdGlvbnMuZGVjb2RlRmlsZU5hbWUoY29tbWVudEJ5dGVBcnJheSl9fX0sZmluZEV4dHJhRmllbGRVbmljb2RlUGF0aDpmdW5jdGlvbigpe3ZhciB1cGF0aEZpZWxkPXRoaXMuZXh0cmFGaWVsZHNbMjg3ODldO2lmKHVwYXRoRmllbGQpe3ZhciBleHRyYVJlYWRlcj1yZWFkZXJGb3IodXBhdGhGaWVsZC52YWx1ZSk7cmV0dXJuIDEhPT1leHRyYVJlYWRlci5yZWFkSW50KDEpP251bGw6Y3JjMzJmbih0aGlzLmZpbGVOYW1lKSE9PWV4dHJhUmVhZGVyLnJlYWRJbnQoNCk/bnVsbDp1dGY4LnV0ZjhkZWNvZGUoZXh0cmFSZWFkZXIucmVhZERhdGEodXBhdGhGaWVsZC5sZW5ndGgtNSkpfXJldHVybiBudWxsfSxmaW5kRXh0cmFGaWVsZFVuaWNvZGVDb21tZW50OmZ1bmN0aW9uKCl7dmFyIHVjb21tZW50RmllbGQ9dGhpcy5leHRyYUZpZWxkc1syNTQ2MV07aWYodWNvbW1lbnRGaWVsZCl7dmFyIGV4dHJhUmVhZGVyPXJlYWRlckZvcih1Y29tbWVudEZpZWxkLnZhbHVlKTtyZXR1cm4gMSE9PWV4dHJhUmVhZGVyLnJlYWRJbnQoMSk/bnVsbDpjcmMzMmZuKHRoaXMuZmlsZUNvbW1lbnQpIT09ZXh0cmFSZWFkZXIucmVhZEludCg0KT9udWxsOnV0ZjgudXRmOGRlY29kZShleHRyYVJlYWRlci5yZWFkRGF0YSh1Y29tbWVudEZpZWxkLmxlbmd0aC01KSl9cmV0dXJuIG51bGx9fSxtb2R1bGUuZXhwb3J0cz1aaXBFbnRyeX0sZnVuY3Rpb24obW9kdWxlLGV4cG9ydHMsX193ZWJwYWNrX3JlcXVpcmVfXyl7XCJ1c2Ugc3RyaWN0XCI7T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSksZXhwb3J0cy5nZXRIVE1MPWZ1bmN0aW9uKGNvbnRlbnQsc2VnbWVudHMpe3JldHVybidcXG4gIDxkaXYgY2xhc3M9XCJwdXNod29vc2gtc3Vic2NyaXB0aW9uLXNlZ21lbnRzXCI+XFxuICAgIDxkaXYgY2xhc3M9XCJwdXNod29vc2gtc3Vic2NyaXB0aW9uLXNlZ21lbnRzX19oZWFkZXJcIj5cXG4gICAgICAnK2NvbnRlbnQuaGVhZGVyVGV4dCsnXFxuICAgIDwvZGl2PlxcbiAgICA8ZGl2IGNsYXNzPVwicHVzaHdvb3NoLXN1YnNjcmlwdGlvbi1zZWdtZW50c19fYm9keVwiPlxcbiAgICAgIDxkaXYgY2xhc3M9XCJwdXNod29vc2gtc3Vic2NyaXB0aW9uLXNlZ21lbnRzX19zdWItaGVhZGVyXCI+XFxuICAgICAgICAnKyhjb250ZW50LnN1YkhlYWRlclRleHQ/Y29udGVudC5zdWJIZWFkZXJUZXh0OlwiXCIpKydcXG4gICAgICA8L2Rpdj5cXG4gICAgICA8ZGl2IGNsYXNzPVwicHVzaHdvb3NoLXN1YnNjcmlwdGlvbi1zZWdtZW50c19fY2hhbm5lbHNcIj5cXG4gICAgICAgICcrc2VnbWVudHMucmVkdWNlKGZ1bmN0aW9uKHJlc3VsdCxzZWdtZW50KXtyZXR1cm4gcmVzdWx0Kyc8ZGl2IGNsYXNzPVwicHVzaHdvb3NoLXN1YnNjcmlwdGlvbi1zZWdtZW50c19fY2hhbm5lbFwiPlxcbiAgICAgICAgICAgIDxsYWJlbCBjbGFzcz1cInB1c2h3b29zaC1zdWJzY3JpcHRpb24tc2VnbWVudHNfX2xhYmVsXCI+XFxuICAgICAgICAgICAgICA8aW5wdXRcXG4gICAgICAgICAgICAgICAgY2xhc3M9XCJwdXNod29vc2gtc3Vic2NyaXB0aW9uLXNlZ21lbnRzX19maWVsZFwiIFxcbiAgICAgICAgICAgICAgICB0eXBlPVwiY2hlY2tib3hcIiBcXG4gICAgICAgICAgICAgICAgdmFsdWU9XCInK3NlZ21lbnQuY29kZSsnXCJcXG4gICAgICAgICAgICAgICAgY2hlY2tlZD1cInRydWVcIlxcbiAgICAgICAgICAgICAgLz5cXG4gICAgICAgICAgICAgIDxzcGFuIGNsYXNzPVwicHVzaHdvb3NoLXN1YnNjcmlwdGlvbi1zZWdtZW50c19faWNvblwiPlxcbiAgICAgICAgICAgICAgICA8c3ZnIHdpZHRoPVwiMThcIiBoZWlnaHQ9XCIxOFwiIHZpZXdCb3g9XCIwIDAgMjQgMjRcIiB4bWxucz1cImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCI+XFxuICAgICAgICAgICAgICAgICAgICA8cGF0aCBkPVwiTTE4LjAzMDMgOC40Njk2N0MxOC4zMjMyIDguNzYyNTYgMTguMzIzMiA5LjIzNzQ0IDE4LjAzMDMgOS41MzAzM0wxMS4wMzAzIDE2LjUzMDNDMTAuNzM3NCAxNi44MjMyIDEwLjI2MjYgMTYuODIzMiA5Ljk2OTY3IDE2LjUzMDNMNi45Njk2NyAxMy41MzAzQzYuNjc2NzggMTMuMjM3NCA2LjY3Njc4IDEyLjc2MjYgNi45Njk2NyAxMi40Njk3QzcuMjYyNTYgMTIuMTc2OCA3LjczNzQ0IDEyLjE3NjggOC4wMzAzMyAxMi40Njk3TDEwLjUgMTQuOTM5M0wxNi45Njk3IDguNDY5NjdDMTcuMjYyNiA4LjE3Njc4IDE3LjczNzQgOC4xNzY3OCAxOC4wMzAzIDguNDY5NjdaXCIgZmlsbD1cImN1cnJlbnRDb2xvclwiLz5cXG4gICAgICAgICAgICAgICAgICA8L3N2Zz5cXG4gICAgICAgICAgICAgIDwvc3Bhbj5cXG4gICAgICAgICAgICAgIDxzcGFuIGNsYXNzPVwicHVzaHdvb3NoLXN1YnNjcmlwdGlvbi1zZWdtZW50c19fdGV4dFwiPlxcbiAgICAgICAgICAgICAgICAnK3NlZ21lbnQubmFtZStcIlxcbiAgICAgICAgICAgICAgPC9zcGFuPlxcbiAgICAgICAgICAgIDwvbGFiZWw+XFxuICAgICAgICAgIDwvZGl2PlwifSxcIlwiKSsnXFxuICAgICAgPC9kaXY+XFxuICAgICAgPGRpdiBjbGFzcz1cInB1c2h3b29zaC1zdWJzY3JpcHRpb24tc2VnbWVudHNfX2NvbnRyb2xzXCI+XFxuICAgICAgICA8YnV0dG9uIHR5cGU9XCJidXR0b25cIiBpZD1cInB1c2h3b29zaC1zdWJzY3JpcHRpb24tc2VnbWVudHMtZGVueVwiIGNsYXNzPVwicHVzaHdvb3NoLXN1YnNjcmlwdGlvbi1zZWdtZW50c19fY29udHJvbCBwdXNod29vc2gtc3Vic2NyaXB0aW9uLXNlZ21lbnRzX19jb250cm9sX2RlbnlcIj5cXG4gICAgICAgICAgJytjb250ZW50LmNvbnRyb2xzRGVueUJ1dHRvblRleHQrJ1xcbiAgICAgICAgPC9idXR0b24+XFxuICAgICAgICA8YnV0dG9uIHR5cGU9XCJidXR0b25cIiBpZD1cInB1c2h3b29zaC1zdWJzY3JpcHRpb24tc2VnbWVudHMtYWNjZXB0XCIgY2xhc3M9XCJwdXNod29vc2gtc3Vic2NyaXB0aW9uLXNlZ21lbnRzX19jb250cm9sIHB1c2h3b29zaC1zdWJzY3JpcHRpb24tc2VnbWVudHNfX2NvbnRyb2xfYWNjZXB0XCI+XFxuICAgICAgICAgICcrY29udGVudC5jb250cm9sc0J1dHRvblRleHQrXCJcXG4gICAgICAgIDwvYnV0dG9uPlxcbiAgICAgIDwvZGl2PlxcbiAgICA8L2Rpdj5cXG4gIDwvZGl2PlxcbiAgXCJ9LGV4cG9ydHMuZ2V0U3R5bGVzPWZ1bmN0aW9uKGNvbnRlbnQpe3ZhciBzdHlsZXM9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInN0eWxlXCIpO3JldHVybiBzdHlsZXMuaW5uZXJIVE1MPVwiXFxuICAgIC5wdXNod29vc2gtc3Vic2NyaXB0aW9uLXNlZ21lbnRzICoge1xcbiAgICAgIGJveC1zaXppbmc6IGJvcmRlci1ib3ghaW1wb3J0YW50O1xcbiAgICB9XFxuICBcXG4gICAgLnB1c2h3b29zaC1zdWJzY3JpcHRpb24tc2VnbWVudHMge1xcbiAgICAgIHBhZGRpbmc6IDI0cHggMTZweCAxNnB4IDI0cHghaW1wb3J0YW50O1xcbiAgICAgIHVzZXItc2VsZWN0OiBub25lIWltcG9ydGFudDtcXG4gICAgfVxcbiAgXFxuICAgIC5wdXNod29vc2gtc3Vic2NyaXB0aW9uLXNlZ21lbnRzX19oZWFkZXIge1xcbiAgICAgIGZvbnQtd2VpZ2h0OiBib2xkIWltcG9ydGFudDtcXG4gICAgICBmb250LXNpemU6IDIwcHghaW1wb3J0YW50O1xcbiAgICAgIGxpbmUtaGVpZ2h0OiAyM3B4IWltcG9ydGFudDtcXG4gICAgfVxcbiAgICBcXG4gICAgLnB1c2h3b29zaC1zdWJzY3JpcHRpb24tc2VnbWVudHNfX3N1Yi1oZWFkZXIge1xcbiAgICAgIG1hcmdpbi10b3A6IDE2cHghaW1wb3J0YW50O1xcbiAgICAgIGZvbnQtc2l6ZTogMTZweCFpbXBvcnRhbnQ7XFxuICAgICAgbGluZS1oZWlnaHQ6IDI0cHghaW1wb3J0YW50O1xcbiAgICAgIGNvbG9yOiByZ2JhKDAsIDAsIDAsIDAuNTQpIWltcG9ydGFudDtcXG4gICAgfVxcbiAgICBcXG4gICAgLnB1c2h3b29zaC1zdWJzY3JpcHRpb24tc2VnbWVudHNfX3N1Yi1oZWFkZXI6ZW1wdHkge1xcbiAgICAgIGRpc3BsYXk6bm9uZSFpbXBvcnRhbnQ7XFxuICAgIH1cXG4gICAgXFxuICAgIC5wdXNod29vc2gtc3Vic2NyaXB0aW9uLXNlZ21lbnRzX19jaGFubmVscyB7XFxuICAgICAgbWFyZ2luLXRvcDogMTZweCFpbXBvcnRhbnQ7XFxuICAgICAgZm9udC1zaXplOiAxNnB4IWltcG9ydGFudDtcXG4gICAgICBsaW5lLWhlaWdodDogMjRweCFpbXBvcnRhbnQ7XFxuICAgIH1cXG4gICAgXFxuICAgIC5wdXNod29vc2gtc3Vic2NyaXB0aW9uLXNlZ21lbnRzX19jaGFubmVsICsgLnB1c2h3b29zaC1zdWJzY3JpcHRpb24tc2VnbWVudHNfX2NoYW5uZWwge1xcbiAgICAgIG1hcmdpbi10b3A6IDhweCFpbXBvcnRhbnQ7XFxuICAgIH1cXG4gICAgXFxuICAgIC5wdXNod29vc2gtc3Vic2NyaXB0aW9uLXNlZ21lbnRzX19sYWJlbCB7XFxuICAgICAgZGlzcGxheTogaW5saW5lLWZsZXghaW1wb3J0YW50O1xcbiAgICAgIGFsaWduLWl0ZW1zOiBmbGV4LXN0YXJ0IWltcG9ydGFudDtcXG4gICAgICBjdXJzb3I6IHBvaW50ZXIhaW1wb3J0YW50O1xcbiAgICB9XFxuICAgIFxcbiAgICAucHVzaHdvb3NoLXN1YnNjcmlwdGlvbi1zZWdtZW50c19fZmllbGQge1xcbiAgICAgIGRpc3BsYXk6IG5vbmUhaW1wb3J0YW50O1xcbiAgICB9XFxuICAgIFxcbiAgICAucHVzaHdvb3NoLXN1YnNjcmlwdGlvbi1zZWdtZW50c19faWNvbiB7XFxuICAgICAgZGlzcGxheTogYmxvY2shaW1wb3J0YW50O1xcbiAgICAgIGxpbmUtaGVpZ2h0OiAwIWltcG9ydGFudDtcXG4gICAgICB3aWR0aDogMjBweCFpbXBvcnRhbnQ7XFxuICAgICAgaGVpZ2h0OiAyMHB4IWltcG9ydGFudDtcXG4gICAgICBib3JkZXI6IDFweCBzb2xpZCAjZGRkIWltcG9ydGFudDtcXG4gICAgICBib3JkZXItcmFkaXVzOiA0cHghaW1wb3J0YW50O1xcbiAgICAgIGNvbG9yOiAjZmZmIWltcG9ydGFudDtcXG4gICAgICBtYXJnaW46IDJweCA4cHggMCAwIWltcG9ydGFudDtcXG4gICAgfVxcbiAgICBcXG4gICAgLnB1c2h3b29zaC1zdWJzY3JpcHRpb24tc2VnbWVudHNfX3RleHQge1xcbiAgICAgIGNvbG9yOiBcIitjb250ZW50LmNoYW5uZWxzVGV4dENvbG9yK1wiIWltcG9ydGFudDtcXG4gICAgfVxcbiAgICBcXG4gICAgLnB1c2h3b29zaC1zdWJzY3JpcHRpb24tc2VnbWVudHNfX2NvbnRyb2xzIHtcXG4gICAgICBtYXJnaW4tdG9wOiAyNHB4IWltcG9ydGFudDtcXG4gICAgICB0ZXh0LWFsaWduOiByaWdodCFpbXBvcnRhbnQ7XFxuICAgIH1cXG4gICAgXFxuICAgIC5wdXNod29vc2gtc3Vic2NyaXB0aW9uLXNlZ21lbnRzX19maWVsZDpjaGVja2VkICsgLnB1c2h3b29zaC1zdWJzY3JpcHRpb24tc2VnbWVudHNfX2ljb24ge1xcbiAgICAgIGJhY2tncm91bmQ6IFwiK2NvbnRlbnQuY2hhbm5lbHNUb2dnbGVDb2xvcitcIiFpbXBvcnRhbnQ7XFxuICAgICAgYm9yZGVyOiAxcHggc29saWQgdHJhbnNwYXJlbnQhaW1wb3J0YW50O1xcbiAgICB9XFxuICAgIFxcbiAgICAucHVzaHdvb3NoLXN1YnNjcmlwdGlvbi1zZWdtZW50c19fY29udHJvbCB7XFxuICAgICAgYXBwZWFyYW5jZTogbm9uZSFpbXBvcnRhbnQ7XFxuICAgICAgaGVpZ2h0OiAzNnB4IWltcG9ydGFudDtcXG4gICAgICBib3JkZXItcmFkaXVzOiA0cHghaW1wb3J0YW50O1xcbiAgICAgIHBhZGRpbmc6IDAgMTZweCFpbXBvcnRhbnQ7XFxuICAgICAgZm9udC13ZWlnaHQ6IGJvbGQhaW1wb3J0YW50O1xcbiAgICAgIGZvbnQtc2l6ZTogMTRweCFpbXBvcnRhbnQ7XFxuICAgICAgbGluZS1oZWlnaHQ6IDE2cHghaW1wb3J0YW50O1xcbiAgICAgIGN1cnNvcjogcG9pbnRlciFpbXBvcnRhbnQ7XFxuICAgIH1cXG4gICAgXFxuICAgIC5wdXNod29vc2gtc3Vic2NyaXB0aW9uLXNlZ21lbnRzX19jb250cm9sICsgLnB1c2h3b29zaC1zdWJzY3JpcHRpb24tc2VnbWVudHNfX2NvbnRyb2wge1xcbiAgICAgIG1hcmdpbjogMCAwIDAgNHB4IWltcG9ydGFudDtcXG4gICAgfVxcbiAgICBcXG4gICAgLnB1c2h3b29zaC1zdWJzY3JpcHRpb24tc2VnbWVudHNfX2NvbnRyb2wucHVzaHdvb3NoLXN1YnNjcmlwdGlvbi1zZWdtZW50c19fY29udHJvbF9kZW55IHtcXG4gICAgICBib3JkZXI6IG5vbmUhaW1wb3J0YW50O1xcbiAgICAgIGNvbG9yOiBcIitjb250ZW50LmNvbnRyb2xzRGVueUJ1dHRvblRleHRDb2xvcitcIiFpbXBvcnRhbnQ7XFxuICAgICAgYmFja2dyb3VuZC1jb2xvcjogXCIrY29udGVudC5jb250cm9sc0RlbnlCdXR0b25CYWNrZ3JvdW5kQ29sb3IrXCIhaW1wb3J0YW50O1xcbiAgICAgIGJvcmRlci1yYWRpdXM6IFwiK2NvbnRlbnQuY29udHJvbHNEZW55QnV0dG9uUm91bmQrXCIhaW1wb3J0YW50O1xcbiAgICB9XFxuICAgIFxcbiAgICAucHVzaHdvb3NoLXN1YnNjcmlwdGlvbi1zZWdtZW50c19fY29udHJvbC5wdXNod29vc2gtc3Vic2NyaXB0aW9uLXNlZ21lbnRzX19jb250cm9sX2FjY2VwdCB7XFxuICAgICAgYm9yZGVyOiBub25lIWltcG9ydGFudDtcXG4gICAgICBjb2xvcjogXCIrY29udGVudC5jb250cm9sc0J1dHRvblRleHRDb2xvcitcIiFpbXBvcnRhbnQ7XFxuICAgICAgYmFja2dyb3VuZC1jb2xvcjogXCIrY29udGVudC5jb250cm9sc0J1dHRvbkJhY2tncm91bmRDb2xvcitcIiFpbXBvcnRhbnQ7XFxuICAgICAgYm9yZGVyLXJhZGl1czogXCIrY29udGVudC5jb250cm9sc0J1dHRvblJvdW5kK1wiIWltcG9ydGFudDtcXG4gICAgfVxcbiAgXCIsc3R5bGVzfX0sZnVuY3Rpb24obW9kdWxlLGV4cG9ydHMsX193ZWJwYWNrX3JlcXVpcmVfXyl7XCJ1c2Ugc3RyaWN0XCI7T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSk7dmFyIFN1YnNjcmlwdGlvblByb21wdFdpZGdldF9oZWxwZXJzXzE9X193ZWJwYWNrX3JlcXVpcmVfXygxMjYpLFN1YnNjcmlwdGlvblByb21wdFdpZGdldF9jb25zdGFudHNfMT1fX3dlYnBhY2tfcmVxdWlyZV9fKDc1KSxTdWJzY3JpcHRpb25Qcm9tcHRXaWRnZXQ9ZnVuY3Rpb24oKXtmdW5jdGlvbiBTdWJzY3JpcHRpb25Qcm9tcHRXaWRnZXQoZXZlbnRCdXMscHcpe3RoaXMuZXZlbnRCdXM9ZXZlbnRCdXMsdGhpcy5wdz1wd31yZXR1cm4gU3Vic2NyaXB0aW9uUHJvbXB0V2lkZ2V0LnByb3RvdHlwZS5pbml0PWZ1bmN0aW9uKHBhcmFtcyl7aWYoIXRoaXMuZ2V0Um9vdEVsZW1lbnQoKSl7dmFyIGh0bWw9U3Vic2NyaXB0aW9uUHJvbXB0V2lkZ2V0X2hlbHBlcnNfMS5nZXRIVE1MKHBhcmFtcyksc3R5bGVzPVN1YnNjcmlwdGlvblByb21wdFdpZGdldF9oZWxwZXJzXzEuZ2V0U3R5bGVzKHBhcmFtcyk7ZG9jdW1lbnQuYm9keS5pbnNlcnRBZGphY2VudEhUTUwoXCJiZWZvcmVlbmRcIixodG1sKSxkb2N1bWVudC5oZWFkLmFwcGVuZENoaWxkKHN0eWxlcyl9dGhpcy5hZGRFdmVudExpc3RlbmVycygpfSxTdWJzY3JpcHRpb25Qcm9tcHRXaWRnZXQucHJvdG90eXBlLnNob3c9ZnVuY3Rpb24oKXt2YXIgcm9vdEVsZW1lbnQ9dGhpcy5nZXRSb290RWxlbWVudFdpdGhDaGVja0V4aXN0KCk7dGhpcy5ldmVudEJ1cy5kaXNwYXRjaEV2ZW50KFwic2hvdy1zdWJzY3JpcHRpb24td2lkZ2V0XCIse30pLHJvb3RFbGVtZW50LmNsYXNzTGlzdC5hZGQoU3Vic2NyaXB0aW9uUHJvbXB0V2lkZ2V0X2NvbnN0YW50c18xLlNVQlNDUklQVElPTl9QUk9NUFRfV0lER0VUX05BTUVTUEFDRStcIl9zaG93XCIpfSxTdWJzY3JpcHRpb25Qcm9tcHRXaWRnZXQucHJvdG90eXBlLmhpZGU9ZnVuY3Rpb24oKXt2YXIgcm9vdEVsZW1lbnQ9dGhpcy5nZXRSb290RWxlbWVudFdpdGhDaGVja0V4aXN0KCk7cm9vdEVsZW1lbnQuY2xhc3NMaXN0LmNvbnRhaW5zKFN1YnNjcmlwdGlvblByb21wdFdpZGdldF9jb25zdGFudHNfMS5TVUJTQ1JJUFRJT05fUFJPTVBUX1dJREdFVF9OQU1FU1BBQ0UrXCJfc2hvd1wiKSYmKHRoaXMuZXZlbnRCdXMuZGlzcGF0Y2hFdmVudChcImhpZGUtc3Vic2NyaXB0aW9uLXdpZGdldFwiLHt9KSxyb290RWxlbWVudC5jbGFzc0xpc3QucmVtb3ZlKFN1YnNjcmlwdGlvblByb21wdFdpZGdldF9jb25zdGFudHNfMS5TVUJTQ1JJUFRJT05fUFJPTVBUX1dJREdFVF9OQU1FU1BBQ0UrXCJfc2hvd1wiKSl9LFN1YnNjcmlwdGlvblByb21wdFdpZGdldC5wcm90b3R5cGUuZ2V0Um9vdEVsZW1lbnQ9ZnVuY3Rpb24oKXtyZXR1cm4gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoU3Vic2NyaXB0aW9uUHJvbXB0V2lkZ2V0X2NvbnN0YW50c18xLlNVQlNDUklQVElPTl9QUk9NUFRfV0lER0VUX05BTUVTUEFDRStcIi1yb290XCIpfSxTdWJzY3JpcHRpb25Qcm9tcHRXaWRnZXQucHJvdG90eXBlLmdldFJvb3RFbGVtZW50V2l0aENoZWNrRXhpc3Q9ZnVuY3Rpb24oKXt2YXIgZWxlbWVudD10aGlzLmdldFJvb3RFbGVtZW50KCk7aWYoIWVsZW1lbnQpdGhyb3cgbmV3IEVycm9yKFwiQ2FuJ3QgZmluZCBlbGVtZW50IGJ5IGlkIFxcXCJcIitTdWJzY3JpcHRpb25Qcm9tcHRXaWRnZXRfY29uc3RhbnRzXzEuU1VCU0NSSVBUSU9OX1BST01QVF9XSURHRVRfTkFNRVNQQUNFKyctcm9vdFwiLCBwbGVhc2UgdXNlIG1ldGhvZCBpbml0IGZpcnN0LicpO3JldHVybiBlbGVtZW50fSxTdWJzY3JpcHRpb25Qcm9tcHRXaWRnZXQucHJvdG90eXBlLmdldERlY2xpbmVCdXR0b25XaXRoQ2hlY2tFeGlzdD1mdW5jdGlvbigpe3ZhciBlbGVtZW50PWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFN1YnNjcmlwdGlvblByb21wdFdpZGdldF9jb25zdGFudHNfMS5TVUJTQ1JJUFRJT05fUFJPTVBUX1dJREdFVF9OQU1FU1BBQ0UrXCItZGVjbGluZVwiKTtpZighZWxlbWVudCl0aHJvdyBuZXcgRXJyb3IoXCJDYW4ndCBmaW5kIGVsZW1lbnQgYnkgaWQgXFxcIlwiK1N1YnNjcmlwdGlvblByb21wdFdpZGdldF9jb25zdGFudHNfMS5TVUJTQ1JJUFRJT05fUFJPTVBUX1dJREdFVF9OQU1FU1BBQ0UrJy1kZWNsaW5lXCIsIHBsZWFzZSB1c2UgbWV0aG9kIGluaXQgZmlyc3QuJyk7cmV0dXJuIGVsZW1lbnR9LFN1YnNjcmlwdGlvblByb21wdFdpZGdldC5wcm90b3R5cGUuZ2V0QWNjZXB0QnV0dG9uV2l0aENoZWNrRXhpc3Q9ZnVuY3Rpb24oKXt2YXIgZWxlbWVudD1kb2N1bWVudC5nZXRFbGVtZW50QnlJZChTdWJzY3JpcHRpb25Qcm9tcHRXaWRnZXRfY29uc3RhbnRzXzEuU1VCU0NSSVBUSU9OX1BST01QVF9XSURHRVRfTkFNRVNQQUNFK1wiLWFjY2VwdFwiKTtpZighZWxlbWVudCl0aHJvdyBuZXcgRXJyb3IoXCJDYW4ndCBmaW5kIGVsZW1lbnQgYnkgaWQgXFxcIlwiK1N1YnNjcmlwdGlvblByb21wdFdpZGdldF9jb25zdGFudHNfMS5TVUJTQ1JJUFRJT05fUFJPTVBUX1dJREdFVF9OQU1FU1BBQ0UrJy1hY2NlcHRcIiwgcGxlYXNlIHVzZSBtZXRob2QgaW5pdCBmaXJzdC4nKTtyZXR1cm4gZWxlbWVudH0sU3Vic2NyaXB0aW9uUHJvbXB0V2lkZ2V0LnByb3RvdHlwZS5hZGRFdmVudExpc3RlbmVycz1mdW5jdGlvbigpe3ZhciBfdGhpcz10aGlzLHJvb3RFbGVtZW50PXRoaXMuZ2V0Um9vdEVsZW1lbnRXaXRoQ2hlY2tFeGlzdCgpLGRlY2xpbmVFbGVtZW50PXRoaXMuZ2V0RGVjbGluZUJ1dHRvbldpdGhDaGVja0V4aXN0KCksYWNjZXB0RWxlbWVudD10aGlzLmdldEFjY2VwdEJ1dHRvbldpdGhDaGVja0V4aXN0KCk7ZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsZnVuY3Rpb24oZXZlbnQpe3Jvb3RFbGVtZW50LmNvbnRhaW5zKGV2ZW50LnRhcmdldCl8fF90aGlzLmhpZGUoKX0pLGRlY2xpbmVFbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLGZ1bmN0aW9uKCl7X3RoaXMuaGlkZSgpfSksYWNjZXB0RWxlbWVudC5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIixmdW5jdGlvbigpe190aGlzLmhpZGUoKSxfdGhpcy5wdy5zdWJzY3JpYmUoKX0pfSxTdWJzY3JpcHRpb25Qcm9tcHRXaWRnZXR9KCk7ZXhwb3J0cy5TdWJzY3JpcHRpb25Qcm9tcHRXaWRnZXQ9U3Vic2NyaXB0aW9uUHJvbXB0V2lkZ2V0fSxmdW5jdGlvbihtb2R1bGUsZXhwb3J0cyxfX3dlYnBhY2tfcmVxdWlyZV9fKXtcInVzZSBzdHJpY3RcIjtPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cyxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KTt2YXIgU3Vic2NyaXB0aW9uUHJvbXB0V2lkZ2V0X2NvbnN0YW50c18xPV9fd2VicGFja19yZXF1aXJlX18oNzUpO2V4cG9ydHMuZ2V0SFRNTD1mdW5jdGlvbihwYXJhbXMpe3JldHVybidcXG4gIDxkaXYgaWQ9XCInK1N1YnNjcmlwdGlvblByb21wdFdpZGdldF9jb25zdGFudHNfMS5TVUJTQ1JJUFRJT05fUFJPTVBUX1dJREdFVF9OQU1FU1BBQ0UrJy1yb290XCIgY2xhc3M9XCInK1N1YnNjcmlwdGlvblByb21wdFdpZGdldF9jb25zdGFudHNfMS5TVUJTQ1JJUFRJT05fUFJPTVBUX1dJREdFVF9OQU1FU1BBQ0UrJ1wiPlxcbiAgICA8ZGl2IGNsYXNzPVwiJytTdWJzY3JpcHRpb25Qcm9tcHRXaWRnZXRfY29uc3RhbnRzXzEuU1VCU0NSSVBUSU9OX1BST01QVF9XSURHRVRfTkFNRVNQQUNFKydfX2JvZHlcIj5cXG4gICAgICA8ZGl2IGNsYXNzPVwiJytTdWJzY3JpcHRpb25Qcm9tcHRXaWRnZXRfY29uc3RhbnRzXzEuU1VCU0NSSVBUSU9OX1BST01QVF9XSURHRVRfTkFNRVNQQUNFKydfX2hlYWRlclwiPlxcbiAgICAgICAgJytwYXJhbXMuaGVhZGVyVGV4dCsnXFxuICAgICAgPC9kaXY+XFxuICAgICAgPGRpdiBjbGFzcz1cIicrU3Vic2NyaXB0aW9uUHJvbXB0V2lkZ2V0X2NvbnN0YW50c18xLlNVQlNDUklQVElPTl9QUk9NUFRfV0lER0VUX05BTUVTUEFDRSsnX19kZXNjcmlwdGlvblwiPlxcbiAgICAgICAgJytwYXJhbXMuc3ViaGVhZGVyVGV4dCsnXFxuICAgICAgPC9kaXY+XFxuICAgICAgPGRpdiBjbGFzcz1cIicrU3Vic2NyaXB0aW9uUHJvbXB0V2lkZ2V0X2NvbnN0YW50c18xLlNVQlNDUklQVElPTl9QUk9NUFRfV0lER0VUX05BTUVTUEFDRSsnX19jb250cm9sc1wiPlxcbiAgICAgICAgPGJ1dHRvbiB0eXBlPVwiYnV0dG9uXCIgaWQ9XCInK1N1YnNjcmlwdGlvblByb21wdFdpZGdldF9jb25zdGFudHNfMS5TVUJTQ1JJUFRJT05fUFJPTVBUX1dJREdFVF9OQU1FU1BBQ0UrJy1kZWNsaW5lXCIgY2xhc3M9XCInK1N1YnNjcmlwdGlvblByb21wdFdpZGdldF9jb25zdGFudHNfMS5TVUJTQ1JJUFRJT05fUFJPTVBUX1dJREdFVF9OQU1FU1BBQ0UrXCJfX2NvbnRyb2wgXCIrU3Vic2NyaXB0aW9uUHJvbXB0V2lkZ2V0X2NvbnN0YW50c18xLlNVQlNDUklQVElPTl9QUk9NUFRfV0lER0VUX05BTUVTUEFDRSsnX19jb250cm9sX2RlY2xpbmVcIj5cXG4gICAgICAgICAgJytwYXJhbXMuYnV0dG9uQ2FuY2VsVGV4dCsnXFxuICAgICAgICA8L2J1dHRvbj5cXG4gICAgICAgIDxidXR0b24gdHlwZT1cImJ1dHRvblwiIGlkPVwiJytTdWJzY3JpcHRpb25Qcm9tcHRXaWRnZXRfY29uc3RhbnRzXzEuU1VCU0NSSVBUSU9OX1BST01QVF9XSURHRVRfTkFNRVNQQUNFKyctYWNjZXB0XCIgY2xhc3M9XCInK1N1YnNjcmlwdGlvblByb21wdFdpZGdldF9jb25zdGFudHNfMS5TVUJTQ1JJUFRJT05fUFJPTVBUX1dJREdFVF9OQU1FU1BBQ0UrXCJfX2NvbnRyb2wgXCIrU3Vic2NyaXB0aW9uUHJvbXB0V2lkZ2V0X2NvbnN0YW50c18xLlNVQlNDUklQVElPTl9QUk9NUFRfV0lER0VUX05BTUVTUEFDRSsnX19jb250cm9sX2FjY2VwdFwiPlxcbiAgICAgICAgICAnK3BhcmFtcy5idXR0b25BY2NlcHRUZXh0K1wiXFxuICAgICAgICA8L2J1dHRvbj5cXG4gICAgICA8L2Rpdj5cXG4gICAgPC9kaXY+XFxuICA8L2Rpdj5cXG4gIFwifSxleHBvcnRzLmdldFN0eWxlcz1mdW5jdGlvbihwYXJhbXMpe3ZhciBzdHlsZXM9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInN0eWxlXCIpO3JldHVybiBzdHlsZXMuaW5uZXJIVE1MPVwiXFxuICAgIC5cIitTdWJzY3JpcHRpb25Qcm9tcHRXaWRnZXRfY29uc3RhbnRzXzEuU1VCU0NSSVBUSU9OX1BST01QVF9XSURHRVRfTkFNRVNQQUNFK1wiICoge1xcbiAgICAgIGJveC1zaXppbmc6IGJvcmRlci1ib3ghaW1wb3J0YW50O1xcbiAgICB9XFxuICBcXG4gICAgLlwiK1N1YnNjcmlwdGlvblByb21wdFdpZGdldF9jb25zdGFudHNfMS5TVUJTQ1JJUFRJT05fUFJPTVBUX1dJREdFVF9OQU1FU1BBQ0UrXCIge1xcbiAgICAgIHBvc2l0aW9uOiBmaXhlZDtcXG4gICAgICB0b3A6IDA7XFxuICAgICAgbGVmdDogMDtcXG4gICAgICByaWdodDogMDtcXG4gICAgICBtYXJnaW46IDAgYXV0bztcXG4gICAgICB3aWR0aDogMzIwcHg7XFxuICAgICAgZGlzcGxheTogbm9uZTtcXG4gICAgICB6LWluZGV4OiAyMTQ3NDgzNjQ4O1xcbiAgICAgIG9wYWNpdHk6IDAuOTk7XFxuICAgIH1cXG4gICAgXFxuICAgIC5cIitTdWJzY3JpcHRpb25Qcm9tcHRXaWRnZXRfY29uc3RhbnRzXzEuU1VCU0NSSVBUSU9OX1BST01QVF9XSURHRVRfTkFNRVNQQUNFK1wiX3Nob3cge1xcbiAgICAgIGRpc3BsYXk6IGJsb2NrO1xcbiAgICB9XFxuICAgIFxcbiAgICAuXCIrU3Vic2NyaXB0aW9uUHJvbXB0V2lkZ2V0X2NvbnN0YW50c18xLlNVQlNDUklQVElPTl9QUk9NUFRfV0lER0VUX05BTUVTUEFDRStcIl9fYm9keSB7XFxuICAgICAgd2lkdGg6IDMyMHB4O1xcbiAgICAgIGJhY2tncm91bmQtY29sb3I6IFwiKyhwYXJhbXMuYmFja2dyb3VuZENvbG9yP3BhcmFtcy5iYWNrZ3JvdW5kQ29sb3I6XCIjRkZGRkZGXCIpK1wiO1xcbiAgICAgIGJveC1zaGFkb3c6IDAgOXB4IDE1cHggcmdiYSgwLCAwLCAwLCAwLjEpLCAwIDAgNnB4IHJnYmEoMCwgMCwgMCwgMC4wNik7XFxuICAgICAgYm9yZGVyLXJhZGl1czogNHB4O1xcbiAgICAgIHBhZGRpbmc6IDIwcHggMjBweCAxMnB4O1xcbiAgICB9XFxuICAgIFxcbiAgICAuXCIrU3Vic2NyaXB0aW9uUHJvbXB0V2lkZ2V0X2NvbnN0YW50c18xLlNVQlNDUklQVElPTl9QUk9NUFRfV0lER0VUX05BTUVTUEFDRStcIl9faGVhZGVyIHtcXG4gICAgICBjb2xvcjogXCIrcGFyYW1zLmhlYWRlclRleHRDb2xvcitcIjtcXG4gICAgICBmb250LXNpemU6IDE4cHg7XFxuICAgICAgZm9udC13ZWlnaHQ6IGJvbGQ7IFxcbiAgICB9XFxuICAgIFxcbiAgICAuXCIrU3Vic2NyaXB0aW9uUHJvbXB0V2lkZ2V0X2NvbnN0YW50c18xLlNVQlNDUklQVElPTl9QUk9NUFRfV0lER0VUX05BTUVTUEFDRStcIl9fZGVzY3JpcHRpb24ge1xcbiAgICAgIGNvbG9yOiBcIitwYXJhbXMuc3ViaGVhZGVyVGV4dENvbG9yK1wiO1xcbiAgICAgIGZvbnQtc2l6ZTogMTRweDtcXG4gICAgICBsaW5lLWhlaWdodDogMS41O1xcbiAgICAgIG1hcmdpbi10b3A6IDE0cHg7XFxuICAgIH1cXG4gICAgXFxuICAgIC5cIitTdWJzY3JpcHRpb25Qcm9tcHRXaWRnZXRfY29uc3RhbnRzXzEuU1VCU0NSSVBUSU9OX1BST01QVF9XSURHRVRfTkFNRVNQQUNFK1wiX19kZXNjcmlwdGlvbjplbXB0eSB7XFxuICAgICAgZGlzcGxheTogbm9uZTtcXG4gICAgfVxcbiAgICBcXG4gICAgLlwiK1N1YnNjcmlwdGlvblByb21wdFdpZGdldF9jb25zdGFudHNfMS5TVUJTQ1JJUFRJT05fUFJPTVBUX1dJREdFVF9OQU1FU1BBQ0UrXCJfX2NvbnRyb2xzIHtcXG4gICAgICBkaXNwbGF5OiBmbGV4O1xcbiAgICAgIGZsZXgtd3JhcDogbm93cmFwO1xcbiAgICAgIGp1c3RpZnktY29udGVudDogZmxleC1lbmQ7XFxuICAgICAgbWFyZ2luOiAyMHB4IDAgMDtcXG4gICAgfVxcbiAgICBcXG4gICAgLlwiK1N1YnNjcmlwdGlvblByb21wdFdpZGdldF9jb25zdGFudHNfMS5TVUJTQ1JJUFRJT05fUFJPTVBUX1dJREdFVF9OQU1FU1BBQ0UrXCJfX2NvbnRyb2wge1xcbiAgICAgIC13ZWJraXQtYXBwZWFyYW5jZTogbm9uZTtcXG4gICAgICBib3JkZXI6IDFweCBzb2xpZCB0cmFuc3BhcmVudDtcXG4gICAgICBmb250LXNpemU6IDEycHg7XFxuICAgICAgZm9udC13ZWlnaHQ6IGJvbGQ7XFxuICAgICAgcGFkZGluZzogMCAyMHB4O1xcbiAgICAgIGhlaWdodDogMzJweDtcXG4gICAgICBjdXJzb3I6IHBvaW50ZXI7XFxuICAgIH1cXG4gICAgXFxuICAgIC5cIitTdWJzY3JpcHRpb25Qcm9tcHRXaWRnZXRfY29uc3RhbnRzXzEuU1VCU0NSSVBUSU9OX1BST01QVF9XSURHRVRfTkFNRVNQQUNFK1wiX19jb250cm9sX2RlY2xpbmUge1xcbiAgICAgIGNvbG9yOiBcIitwYXJhbXMuYnV0dG9uQ2FuY2VsVGV4dENvbG9yK1wiO1xcbiAgICAgIGJhY2tncm91bmQtY29sb3I6IFwiK3BhcmFtcy5idXR0b25DYW5jZWxCYWNrZ3JvdW5kQ29sb3IrXCI7XFxuICAgICAgYm9yZGVyLXJhZGl1czogXCIrcGFyYW1zLmJ1dHRvbkNhbmNlbFJvdW5kK1wiO1xcbiAgICAgIGJvcmRlci1jb2xvcjogXCIrcGFyYW1zLmJ1dHRvbkNhbmNlbEJvcmRlckNvbG9yK1wiO1xcbiAgICB9XFxuICAgIFxcbiAgICAuXCIrU3Vic2NyaXB0aW9uUHJvbXB0V2lkZ2V0X2NvbnN0YW50c18xLlNVQlNDUklQVElPTl9QUk9NUFRfV0lER0VUX05BTUVTUEFDRStcIl9fY29udHJvbF9hY2NlcHQge1xcbiAgICAgIGNvbG9yOiBcIitwYXJhbXMuYnV0dG9uQWNjZXB0VGV4dENvbG9yK1wiO1xcbiAgICAgIGJhY2tncm91bmQtY29sb3I6IFwiK3BhcmFtcy5idXR0b25BY2NlcHRCYWNrZ3JvdW5kQ29sb3IrXCI7XFxuICAgICAgYm9yZGVyLXJhZGl1czogXCIrcGFyYW1zLmJ1dHRvbkFjY2VwdFJvdW5kK1wiO1xcbiAgICAgIGJvcmRlci1jb2xvcjogXCIrcGFyYW1zLmJ1dHRvbkFjY2VwdEJvcmRlckNvbG9yK1wiO1xcbiAgICAgIG1hcmdpbjogMCAwIDAgMTJweDtcXG4gICAgfVxcbiAgXCIsc3R5bGVzfX0sZnVuY3Rpb24obW9kdWxlLGV4cG9ydHMsX193ZWJwYWNrX3JlcXVpcmVfXyl7XCJ1c2Ugc3RyaWN0XCI7dmFyIF9fYXdhaXRlcj10aGlzJiZ0aGlzLl9fYXdhaXRlcnx8ZnVuY3Rpb24odGhpc0FyZyxfYXJndW1lbnRzLFAsZ2VuZXJhdG9yKXtyZXR1cm4gbmV3KFB8fChQPVByb21pc2UpKShmdW5jdGlvbihyZXNvbHZlLHJlamVjdCl7ZnVuY3Rpb24gZnVsZmlsbGVkKHZhbHVlKXt0cnl7c3RlcChnZW5lcmF0b3IubmV4dCh2YWx1ZSkpfWNhdGNoKGUpe3JlamVjdChlKX19ZnVuY3Rpb24gcmVqZWN0ZWQodmFsdWUpe3RyeXtzdGVwKGdlbmVyYXRvci50aHJvdyh2YWx1ZSkpfWNhdGNoKGUpe3JlamVjdChlKX19ZnVuY3Rpb24gc3RlcChyZXN1bHQpe3Jlc3VsdC5kb25lP3Jlc29sdmUocmVzdWx0LnZhbHVlKTpmdW5jdGlvbih2YWx1ZSl7cmV0dXJuIHZhbHVlIGluc3RhbmNlb2YgUD92YWx1ZTpuZXcgUChmdW5jdGlvbihyZXNvbHZlKXtyZXNvbHZlKHZhbHVlKX0pfShyZXN1bHQudmFsdWUpLnRoZW4oZnVsZmlsbGVkLHJlamVjdGVkKX1zdGVwKChnZW5lcmF0b3I9Z2VuZXJhdG9yLmFwcGx5KHRoaXNBcmcsX2FyZ3VtZW50c3x8W10pKS5uZXh0KCkpfSl9LF9fZ2VuZXJhdG9yPXRoaXMmJnRoaXMuX19nZW5lcmF0b3J8fGZ1bmN0aW9uKHRoaXNBcmcsYm9keSl7dmFyIGYseSx0LGcsXz17bGFiZWw6MCxzZW50OmZ1bmN0aW9uKCl7aWYoMSZ0WzBdKXRocm93IHRbMV07cmV0dXJuIHRbMV19LHRyeXM6W10sb3BzOltdfTtyZXR1cm4gZz17bmV4dDp2ZXJiKDApLHRocm93OnZlcmIoMSkscmV0dXJuOnZlcmIoMil9LFwiZnVuY3Rpb25cIj09dHlwZW9mIFN5bWJvbCYmKGdbU3ltYm9sLml0ZXJhdG9yXT1mdW5jdGlvbigpe3JldHVybiB0aGlzfSksZztmdW5jdGlvbiB2ZXJiKG4pe3JldHVybiBmdW5jdGlvbih2KXtyZXR1cm4gZnVuY3Rpb24ob3Ape2lmKGYpdGhyb3cgbmV3IFR5cGVFcnJvcihcIkdlbmVyYXRvciBpcyBhbHJlYWR5IGV4ZWN1dGluZy5cIik7Zm9yKDtfOyl0cnl7aWYoZj0xLHkmJih0PTImb3BbMF0/eS5yZXR1cm46b3BbMF0/eS50aHJvd3x8KCh0PXkucmV0dXJuKSYmdC5jYWxsKHkpLDApOnkubmV4dCkmJiEodD10LmNhbGwoeSxvcFsxXSkpLmRvbmUpcmV0dXJuIHQ7c3dpdGNoKHk9MCx0JiYob3A9WzImb3BbMF0sdC52YWx1ZV0pLG9wWzBdKXtjYXNlIDA6Y2FzZSAxOnQ9b3A7YnJlYWs7Y2FzZSA0OnJldHVybiBfLmxhYmVsKysse3ZhbHVlOm9wWzFdLGRvbmU6ITF9O2Nhc2UgNTpfLmxhYmVsKysseT1vcFsxXSxvcD1bMF07Y29udGludWU7Y2FzZSA3Om9wPV8ub3BzLnBvcCgpLF8udHJ5cy5wb3AoKTtjb250aW51ZTtkZWZhdWx0OmlmKCEodD0odD1fLnRyeXMpLmxlbmd0aD4wJiZ0W3QubGVuZ3RoLTFdKSYmKDY9PT1vcFswXXx8Mj09PW9wWzBdKSl7Xz0wO2NvbnRpbnVlfWlmKDM9PT1vcFswXSYmKCF0fHxvcFsxXT50WzBdJiZvcFsxXTx0WzNdKSl7Xy5sYWJlbD1vcFsxXTticmVha31pZig2PT09b3BbMF0mJl8ubGFiZWw8dFsxXSl7Xy5sYWJlbD10WzFdLHQ9b3A7YnJlYWt9aWYodCYmXy5sYWJlbDx0WzJdKXtfLmxhYmVsPXRbMl0sXy5vcHMucHVzaChvcCk7YnJlYWt9dFsyXSYmXy5vcHMucG9wKCksXy50cnlzLnBvcCgpO2NvbnRpbnVlfW9wPWJvZHkuY2FsbCh0aGlzQXJnLF8pfWNhdGNoKGUpe29wPVs2LGVdLHk9MH1maW5hbGx5e2Y9dD0wfWlmKDUmb3BbMF0pdGhyb3cgb3BbMV07cmV0dXJue3ZhbHVlOm9wWzBdP29wWzFdOnZvaWQgMCxkb25lOiEwfX0oW24sdl0pfX19O09iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pO3ZhciBjb25zdGFudHNfMT1fX3dlYnBhY2tfcmVxdWlyZV9fKDEpLGZ1bmN0aW9uc18xPV9fd2VicGFja19yZXF1aXJlX18oMTApLHN0b3JhZ2VfMT1fX3dlYnBhY2tfcmVxdWlyZV9fKDMpLEZhY2Vib29rTW9kdWxlPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gRmFjZWJvb2tNb2R1bGUoY29uZmlnKXt0aGlzLnVzZXJSZWY9ZnVuY3Rpb25zXzEuZ2VuZXJhdGVVVUlEKCksdGhpcy5jb25maWc9Y29uZmlnLHRoaXMuaW5pdCgpfXJldHVybiBGYWNlYm9va01vZHVsZS5wcm90b3R5cGUuaW5pdD1mdW5jdGlvbigpe3RoaXMucmVuZGVyQ2hlY2tib3goKSx0aGlzLmluaXRGYWNlYm9va1NESygpLHRoaXMubG9hZEZhY2Vib29rU0RLKCl9LEZhY2Vib29rTW9kdWxlLnByb3RvdHlwZS5yZW5kZXJDaGVja2JveD1mdW5jdGlvbigpe2Zvcih2YXIgX2E9dGhpcy5jb25maWcscGFnZUlkPV9hLnBhZ2VJZCxjb250YWluZXJDbGFzcz1fYS5jb250YWluZXJDbGFzcyxhdHRyaWJ1dGVzPVt7bmFtZTpcIm1lc3Nlbmdlcl9hcHBfaWRcIix2YWx1ZTpjb25zdGFudHNfMS5GQUNFQk9PS19BUFBfSUR9LHtuYW1lOlwiY2xhc3NcIix2YWx1ZTpcImZiLW1lc3Nlbmdlci1jaGVja2JveFwifSx7bmFtZTpcInBhZ2VfaWRcIix2YWx1ZTpwYWdlSWR9LHtuYW1lOlwib3JpZ2luXCIsdmFsdWU6d2luZG93LmxvY2F0aW9uLnByb3RvY29sK1wiLy9cIit3aW5kb3cubG9jYXRpb24uaG9zdG5hbWV9LHtuYW1lOlwidXNlcl9yZWZcIix2YWx1ZTp0aGlzLnVzZXJSZWZ9LHtuYW1lOlwiYWxsb3dfbG9naW5cIix2YWx1ZTpcInRydWVcIn0se25hbWU6XCJzaXplXCIsdmFsdWU6XCJsYXJnZVwifSx7bmFtZTpcInNraW5cIix2YWx1ZTpcImxpZ2h0XCJ9LHtuYW1lOlwiY2VudGVyX2FsaWduXCIsdmFsdWU6XCJmYWxzZVwifV0sbm9kZXM9ZG9jdW1lbnQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZShjb250YWluZXJDbGFzcyksX2xvb3BfMT1mdW5jdGlvbihpbmRleCl7dmFyIG5vZGU9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTthdHRyaWJ1dGVzLmZvckVhY2goZnVuY3Rpb24oYXR0cmlidXRlKXtub2RlLnNldEF0dHJpYnV0ZShhdHRyaWJ1dGUubmFtZSxhdHRyaWJ1dGUudmFsdWUpfSksbm9kZXNbaW5kZXhdLmFwcGVuZENoaWxkKG5vZGUpfSxpbmRleD0wO2luZGV4PG5vZGVzLmxlbmd0aDtpbmRleCsrKV9sb29wXzEoaW5kZXgpfSxGYWNlYm9va01vZHVsZS5wcm90b3R5cGUuZ2V0SFdJRD1mdW5jdGlvbigpe3JldHVybiBfX2F3YWl0ZXIodGhpcyx2b2lkIDAsdm9pZCAwLGZ1bmN0aW9uKCl7dmFyIGh3aWQsYXBwbGljYXRpb25Db2RlLG5ld0hXSUQ7cmV0dXJuIF9fZ2VuZXJhdG9yKHRoaXMsZnVuY3Rpb24oX2Epe3N3aXRjaChfYS5sYWJlbCl7Y2FzZSAwOnJldHVybls0LHN0b3JhZ2VfMS5rZXlWYWx1ZS5nZXQoY29uc3RhbnRzXzEuRkFDRUJPT0tfSFdJRF9LRVkpXTtjYXNlIDE6cmV0dXJuKGh3aWQ9X2Euc2VudCgpKT9bMywzXTooYXBwbGljYXRpb25Db2RlPXRoaXMuY29uZmlnLmFwcGxpY2F0aW9uQ29kZSxuZXdIV0lEPWFwcGxpY2F0aW9uQ29kZStcIl9cIitmdW5jdGlvbnNfMS5nZW5lcmF0ZVVVSUQoKStcIl9mYlwiLFs0LHN0b3JhZ2VfMS5rZXlWYWx1ZS5zZXQoY29uc3RhbnRzXzEuRkFDRUJPT0tfSFdJRF9LRVksbmV3SFdJRCldKTtjYXNlIDI6cmV0dXJuIF9hLnNlbnQoKSxbMixuZXdIV0lEXTtjYXNlIDM6cmV0dXJuWzIsaHdpZF19fSl9KX0sRmFjZWJvb2tNb2R1bGUucHJvdG90eXBlLnVzZXJDb25maXJtPWZ1bmN0aW9uKCl7cmV0dXJuIF9fYXdhaXRlcih0aGlzLHZvaWQgMCx2b2lkIDAsZnVuY3Rpb24oKXt2YXIgX2EscGFnZUlkLGFwcGxpY2F0aW9uQ29kZSx1c2VySWQsRkIsZmFjZWJvb2tId2lkO3JldHVybiBfX2dlbmVyYXRvcih0aGlzLGZ1bmN0aW9uKF9iKXtzd2l0Y2goX2IubGFiZWwpe2Nhc2UgMDpyZXR1cm4gX2E9dGhpcy5jb25maWcscGFnZUlkPV9hLnBhZ2VJZCxhcHBsaWNhdGlvbkNvZGU9X2EuYXBwbGljYXRpb25Db2RlLHVzZXJJZD1fYS51c2VySWQsRkI9d2luZG93LkZCLFs0LHRoaXMuZ2V0SFdJRCgpXTtjYXNlIDE6cmV0dXJuIGZhY2Vib29rSHdpZD1fYi5zZW50KCksRkImJkZCLkFwcEV2ZW50cy5sb2dFdmVudChcIk1lc3NlbmdlckNoZWNrYm94VXNlckNvbmZpcm1hdGlvblwiLG51bGwse2FwcF9pZDpjb25zdGFudHNfMS5GQUNFQk9PS19BUFBfSUQscGFnZV9pZDpwYWdlSWQscmVmOkpTT04uc3RyaW5naWZ5KHthcHBsaWNhdGlvbkNvZGU6YXBwbGljYXRpb25Db2RlLHVzZXJJZDp1c2VySWQsaHdpZDpmYWNlYm9va0h3aWR9KSx1c2VyX3JlZjp0aGlzLnVzZXJSZWZ9KSxbMl19fSl9KX0sRmFjZWJvb2tNb2R1bGUucHJvdG90eXBlLmluaXRGYWNlYm9va1NESz1mdW5jdGlvbigpe3ZhciBfdGhpcz10aGlzO3dpbmRvdy5mYkFzeW5jSW5pdD1mdW5jdGlvbigpe3dpbmRvdy5GQi5pbml0KHthcHBJZDpjb25zdGFudHNfMS5GQUNFQk9PS19BUFBfSUQseGZibWw6ITAsdmVyc2lvbjpcInYzLjJcIn0pLHdpbmRvdy5GQi5FdmVudC5zdWJzY3JpYmUoXCJtZXNzZW5nZXJfY2hlY2tib3hcIixmdW5jdGlvbihfYSl7XCJjaGVja2JveFwiPT09X2EuZXZlbnQmJl90aGlzLnVzZXJDb25maXJtKCl9KX19LEZhY2Vib29rTW9kdWxlLnByb3RvdHlwZS5sb2FkRmFjZWJvb2tTREs9ZnVuY3Rpb24oKXt2YXIgbGFuZ3VhZ2U9bmF2aWdhdG9yLmxhbmd1YWdlfHxcImVuX1VTXCI7IWZ1bmN0aW9uKGQscyxpZCl7dmFyIGpzLGZqcz1kLmdldEVsZW1lbnRzQnlUYWdOYW1lKHMpWzBdO2QuZ2V0RWxlbWVudEJ5SWQoaWQpfHwoKGpzPWQuY3JlYXRlRWxlbWVudChzKSkuaWQ9aWQsanMuc3JjPVwiaHR0cHM6Ly9jb25uZWN0LmZhY2Vib29rLm5ldC9cIitsYW5ndWFnZStcIi9zZGsuanNcIixmanMmJmZqcy5wYXJlbnROb2RlLmluc2VydEJlZm9yZShqcyxmanMpKX0oZG9jdW1lbnQsXCJzY3JpcHRcIixcImZhY2Vib29rLWpzc2RrXCIpfSxGYWNlYm9va01vZHVsZX0oKTtleHBvcnRzLmRlZmF1bHQ9RmFjZWJvb2tNb2R1bGV9LGZ1bmN0aW9uKG1vZHVsZSxleHBvcnRzLF9fd2VicGFja19yZXF1aXJlX18pe1widXNlIHN0cmljdFwiO3ZhciBfX2F3YWl0ZXI9dGhpcyYmdGhpcy5fX2F3YWl0ZXJ8fGZ1bmN0aW9uKHRoaXNBcmcsX2FyZ3VtZW50cyxQLGdlbmVyYXRvcil7cmV0dXJuIG5ldyhQfHwoUD1Qcm9taXNlKSkoZnVuY3Rpb24ocmVzb2x2ZSxyZWplY3Qpe2Z1bmN0aW9uIGZ1bGZpbGxlZCh2YWx1ZSl7dHJ5e3N0ZXAoZ2VuZXJhdG9yLm5leHQodmFsdWUpKX1jYXRjaChlKXtyZWplY3QoZSl9fWZ1bmN0aW9uIHJlamVjdGVkKHZhbHVlKXt0cnl7c3RlcChnZW5lcmF0b3IudGhyb3codmFsdWUpKX1jYXRjaChlKXtyZWplY3QoZSl9fWZ1bmN0aW9uIHN0ZXAocmVzdWx0KXtyZXN1bHQuZG9uZT9yZXNvbHZlKHJlc3VsdC52YWx1ZSk6ZnVuY3Rpb24odmFsdWUpe3JldHVybiB2YWx1ZSBpbnN0YW5jZW9mIFA/dmFsdWU6bmV3IFAoZnVuY3Rpb24ocmVzb2x2ZSl7cmVzb2x2ZSh2YWx1ZSl9KX0ocmVzdWx0LnZhbHVlKS50aGVuKGZ1bGZpbGxlZCxyZWplY3RlZCl9c3RlcCgoZ2VuZXJhdG9yPWdlbmVyYXRvci5hcHBseSh0aGlzQXJnLF9hcmd1bWVudHN8fFtdKSkubmV4dCgpKX0pfSxfX2dlbmVyYXRvcj10aGlzJiZ0aGlzLl9fZ2VuZXJhdG9yfHxmdW5jdGlvbih0aGlzQXJnLGJvZHkpe3ZhciBmLHksdCxnLF89e2xhYmVsOjAsc2VudDpmdW5jdGlvbigpe2lmKDEmdFswXSl0aHJvdyB0WzFdO3JldHVybiB0WzFdfSx0cnlzOltdLG9wczpbXX07cmV0dXJuIGc9e25leHQ6dmVyYigwKSx0aHJvdzp2ZXJiKDEpLHJldHVybjp2ZXJiKDIpfSxcImZ1bmN0aW9uXCI9PXR5cGVvZiBTeW1ib2wmJihnW1N5bWJvbC5pdGVyYXRvcl09ZnVuY3Rpb24oKXtyZXR1cm4gdGhpc30pLGc7ZnVuY3Rpb24gdmVyYihuKXtyZXR1cm4gZnVuY3Rpb24odil7cmV0dXJuIGZ1bmN0aW9uKG9wKXtpZihmKXRocm93IG5ldyBUeXBlRXJyb3IoXCJHZW5lcmF0b3IgaXMgYWxyZWFkeSBleGVjdXRpbmcuXCIpO2Zvcig7XzspdHJ5e2lmKGY9MSx5JiYodD0yJm9wWzBdP3kucmV0dXJuOm9wWzBdP3kudGhyb3d8fCgodD15LnJldHVybikmJnQuY2FsbCh5KSwwKTp5Lm5leHQpJiYhKHQ9dC5jYWxsKHksb3BbMV0pKS5kb25lKXJldHVybiB0O3N3aXRjaCh5PTAsdCYmKG9wPVsyJm9wWzBdLHQudmFsdWVdKSxvcFswXSl7Y2FzZSAwOmNhc2UgMTp0PW9wO2JyZWFrO2Nhc2UgNDpyZXR1cm4gXy5sYWJlbCsrLHt2YWx1ZTpvcFsxXSxkb25lOiExfTtjYXNlIDU6Xy5sYWJlbCsrLHk9b3BbMV0sb3A9WzBdO2NvbnRpbnVlO2Nhc2UgNzpvcD1fLm9wcy5wb3AoKSxfLnRyeXMucG9wKCk7Y29udGludWU7ZGVmYXVsdDppZighKHQ9KHQ9Xy50cnlzKS5sZW5ndGg+MCYmdFt0Lmxlbmd0aC0xXSkmJig2PT09b3BbMF18fDI9PT1vcFswXSkpe189MDtjb250aW51ZX1pZigzPT09b3BbMF0mJighdHx8b3BbMV0+dFswXSYmb3BbMV08dFszXSkpe18ubGFiZWw9b3BbMV07YnJlYWt9aWYoNj09PW9wWzBdJiZfLmxhYmVsPHRbMV0pe18ubGFiZWw9dFsxXSx0PW9wO2JyZWFrfWlmKHQmJl8ubGFiZWw8dFsyXSl7Xy5sYWJlbD10WzJdLF8ub3BzLnB1c2gob3ApO2JyZWFrfXRbMl0mJl8ub3BzLnBvcCgpLF8udHJ5cy5wb3AoKTtjb250aW51ZX1vcD1ib2R5LmNhbGwodGhpc0FyZyxfKX1jYXRjaChlKXtvcD1bNixlXSx5PTB9ZmluYWxseXtmPXQ9MH1pZig1Jm9wWzBdKXRocm93IG9wWzFdO3JldHVybnt2YWx1ZTpvcFswXT9vcFsxXTp2b2lkIDAsZG9uZTohMH19KFtuLHZdKX19fTtPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cyxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KTt2YXIgTW9kYWxfMT1fX3dlYnBhY2tfcmVxdWlyZV9fKDEyOSksUmljaE1lZGlhXzE9X193ZWJwYWNrX3JlcXVpcmVfXygxMzEpLGV4cGFuZGVyc18xPV9fd2VicGFja19yZXF1aXJlX18oMTQxKSxEYXRhXzE9X193ZWJwYWNrX3JlcXVpcmVfXyg0KSxJbkFwcHM9ZnVuY3Rpb24oKXtmdW5jdGlvbiBJbkFwcHMob3B0aW9ucyxwdyxldmVudEJ1cyxhcGkpe3RoaXMuZGVsYXlJbkFwcHM9W10sdGhpcy5pc0xvYWRlZEluQXBwc0xpc3Q9ITEsdGhpcy5wdz1wdyx0aGlzLm9wdGlvbnM9b3B0aW9ucyx0aGlzLmV2ZW50QnVzPWV2ZW50QnVzLHRoaXMuYXBpPWFwaSx0aGlzLm1vZGFsPW5ldyBNb2RhbF8xLk1vZGFsKHRoaXMub3B0aW9ucyYmdGhpcy5vcHRpb25zLm1vZGFsP3RoaXMub3B0aW9ucy5tb2RhbDp7fSksdGhpcy5kYXRhPW5ldyBEYXRhXzEuRGF0YX1yZXR1cm4gSW5BcHBzLnByb3RvdHlwZS5pbml0PWZ1bmN0aW9uKCl7cmV0dXJuIF9fYXdhaXRlcih0aGlzLHZvaWQgMCx2b2lkIDAsZnVuY3Rpb24oKXt2YXIgaW5BcHBzLF90aGlzPXRoaXM7cmV0dXJuIF9fZ2VuZXJhdG9yKHRoaXMsZnVuY3Rpb24oX2Epe3N3aXRjaChfYS5sYWJlbCl7Y2FzZSAwOnJldHVybiB0aGlzLnN1YnNjcmliZVRvUmVjZWl2ZU1lc3NhZ2VGcm9tSUZyYW1lKCksdGhpcy5ldmVudEJ1cy5hZGRFdmVudEhhbmRsZXIoXCJyZWNlaXZlLWluLWFwcC1jb2RlXCIsZnVuY3Rpb24oX2Epe3ZhciBjb2RlPV9hLmNvZGU7X3RoaXMuaXNMb2FkZWRJbkFwcHNMaXN0P190aGlzLnNob3dJbkFwcChjb2RlKTpfdGhpcy5kZWxheUluQXBwcy5wdXNoKGNvZGUpfSksWzQsdGhpcy5nZXRMaXN0KCldO2Nhc2UgMTpyZXR1cm4gaW5BcHBzPV9hLnNlbnQoKS5pbkFwcHMsdGhpcy5kZWxheUluQXBwcy5sZW5ndGgmJnRoaXMuZGVsYXlJbkFwcHMuZm9yRWFjaChmdW5jdGlvbihjb2RlKXtfdGhpcy5zaG93SW5BcHAoY29kZSl9KSx0aGlzLmlzTG9hZGVkSW5BcHBzTGlzdD0hMCxbNCx0aGlzLmRhdGEuc2V0SW5BcHBzKGluQXBwcyldO2Nhc2UgMjpyZXR1cm4gX2Euc2VudCgpLHRoaXMuaW5BcHBzPWluQXBwcyxbMl19fSl9KX0sSW5BcHBzLnByb3RvdHlwZS5zdWJzY3JpYmVUb1JlY2VpdmVNZXNzYWdlRnJvbUlGcmFtZT1mdW5jdGlvbigpe3ZhciBfdGhpcz10aGlzO3dpbmRvdy5hZGRFdmVudExpc3RlbmVyKFwibWVzc2FnZVwiLGZ1bmN0aW9uKGV2ZW50KXtpZihldmVudC5zb3VyY2UmJihldmVudC5zb3VyY2U9PT13aW5kb3d8fFwicGFyZW50XCJpbiBldmVudC5zb3VyY2UmJmV2ZW50LnNvdXJjZS5wYXJlbnQ9PT13aW5kb3cpKXRyeXt2YXIgZGF0YT1KU09OLnBhcnNlKGV2ZW50LmRhdGEpO2RhdGEmJlwib2JqZWN0XCI9PXR5cGVvZiBkYXRhJiZfdGhpcy5vblJlY2VpdmVOZXdNZXNzYWdlRnJvbUlGcmFtZShkYXRhKX1jYXRjaChlKXt9fSl9LEluQXBwcy5wcm90b3R5cGUub25SZWNlaXZlTmV3TWVzc2FnZUZyb21JRnJhbWU9ZnVuY3Rpb24obWVzc2FnZSl7dmFyIF90aGlzPXRoaXM7c3dpdGNoKG1lc3NhZ2UubWV0aG9kKXtjYXNlXCJzdWJzY3JpYmVcIjp0aGlzLnB3LnN1YnNjcmliZSgpLnRoZW4oZnVuY3Rpb24oKXtfdGhpcy5tb2RhbC5wb3N0TWVzc2FnZSh7Y29kZTptZXNzYWdlLmNvZGV9KX0pO2JyZWFrO2Nhc2VcInVuc3Vic2NyaWJlXCI6dGhpcy5wdy51bnN1YnNjcmliZSgpLnRoZW4oZnVuY3Rpb24oKXtfdGhpcy5tb2RhbC5wb3N0TWVzc2FnZSh7Y29kZTptZXNzYWdlLmNvZGV9KX0pO2JyZWFrO2Nhc2VcImdldFRhZ3NcIjp0aGlzLnB3LmFwaS5nZXRUYWdzKCkudGhlbihmdW5jdGlvbihfYSl7dmFyIHJlc3VsdD1fYS5yZXN1bHQ7X3RoaXMubW9kYWwucG9zdE1lc3NhZ2Uoe2NvZGU6bWVzc2FnZS5jb2RlLHRhZ3M6cmVzdWx0fSl9KTticmVhaztjYXNlXCJzZXRUYWdzXCI6dGhpcy5wdy5hcGkuc2V0VGFncyhtZXNzYWdlLm9wdGlvbnMudGFncykudGhlbihmdW5jdGlvbigpe190aGlzLm1vZGFsLnBvc3RNZXNzYWdlKHtjb2RlOm1lc3NhZ2UuY29kZX0pfSk7YnJlYWs7Y2FzZVwiZ2V0Q2hhbm5lbHNcIjp0aGlzLmRhdGEuZ2V0RmVhdHVyZXMoKS50aGVuKGZ1bmN0aW9uKF9hKXt2YXIgY2hhbm5lbHM9X2EuY2hhbm5lbHM7X3RoaXMubW9kYWwucG9zdE1lc3NhZ2Uoe2NvZGU6bWVzc2FnZS5jb2RlLGNoYW5uZWxzOmNoYW5uZWxzfSl9KTticmVhaztjYXNlXCJjaGVja1N1YnNjcmlwdGlvblwiOnRoaXMuYXBpLmNoZWNrRGV2aWNlU3Vic2NyaWJlRm9yUHVzaE5vdGlmaWNhdGlvbnMoKS50aGVuKGZ1bmN0aW9uKHN0YXRlKXtfdGhpcy5tb2RhbC5wb3N0TWVzc2FnZSh7Y29kZTptZXNzYWdlLmNvZGUsc3RhdGU6c3RhdGV9KX0pO2JyZWFrO2Nhc2VcImNoZWNrTWFudWFsVW5zdWJzY3JpYmVkXCI6dGhpcy5kYXRhLmdldFN0YXR1c01hbnVhbFVuc3Vic2NyaWJlZCgpLnRoZW4oZnVuY3Rpb24oc3RhdGUpe190aGlzLm1vZGFsLnBvc3RNZXNzYWdlKHtjb2RlOm1lc3NhZ2UuY29kZSxzdGF0ZTpzdGF0ZX0pfSk7YnJlYWs7Y2FzZVwiY2xvc2VJbkFwcFwiOnRoaXMubW9kYWwuaGlkZSgpO2JyZWFrO2Nhc2VcIm9wZW5MaW5rXCI6d2luZG93Lm9wZW4obWVzc2FnZS5vcHRpb25zLmhyZWYsXCJfYmxhbmtcIil9fSxJbkFwcHMucHJvdG90eXBlLnNob3dJbkFwcD1mdW5jdGlvbihjb2RlKXtyZXR1cm4gX19hd2FpdGVyKHRoaXMsdm9pZCAwLHZvaWQgMCxmdW5jdGlvbigpe3ZhciBmaWx0ZXJlZFJpY2hNZWRpYSxjdXJyZW50UmljaE1lZGlhLGluQXBwQ29udGVudDtyZXR1cm4gX19nZW5lcmF0b3IodGhpcyxmdW5jdGlvbihfYSl7c3dpdGNoKF9hLmxhYmVsKXtjYXNlIDA6aWYoMSE9PShmaWx0ZXJlZFJpY2hNZWRpYT10aGlzLmluQXBwcy5maWx0ZXIoZnVuY3Rpb24oaW5BcHApe3JldHVybiBpbkFwcC5jb2RlPT09Y29kZX0pKS5sZW5ndGgpdGhyb3cgbmV3IEVycm9yKFwiQ2FuJ3QgZmluZCBSaWNoIE1lZGlhXCIpO3JldHVybiB0aGlzLm1vZGFsLnNldExvYWRpbmcoKS5zaG93KCksY3VycmVudFJpY2hNZWRpYT1maWx0ZXJlZFJpY2hNZWRpYVswXSxbNCxuZXcgUmljaE1lZGlhXzEuUmljaE1lZGlhKGN1cnJlbnRSaWNoTWVkaWEudXJsLHRoaXMuYXBpLFtleHBhbmRlcnNfMS5FeHBhbmRlclB1c2h3b29zaFNlbmRNZXNzYWdlLGV4cGFuZGVyc18xLkV4cGFuZGVyUHVzaHdvb3NoLGV4cGFuZGVyc18xLkV4cGFuZGVyUHVzaE1hbmFnZXJdKS5nZXRDb250ZW50KCldO2Nhc2UgMTpyZXR1cm4gaW5BcHBDb250ZW50PV9hLnNlbnQoKSxbNCx0aGlzLm1vZGFsLnNldENvbnRlbnQoaW5BcHBDb250ZW50KV07Y2FzZSAyOnJldHVybiBfYS5zZW50KCksdGhpcy5tb2RhbC5yZW1vdmVMb2FkaW5nKCkuc2hvd0NvbnRlbnQoKSxbMl19fSl9KX0sSW5BcHBzLnByb3RvdHlwZS5nZXRMaXN0PWZ1bmN0aW9uKCl7cmV0dXJuIF9fYXdhaXRlcih0aGlzLHZvaWQgMCx2b2lkIDAsZnVuY3Rpb24oKXtyZXR1cm4gX19nZW5lcmF0b3IodGhpcyxmdW5jdGlvbihfYSl7cmV0dXJuWzIsdGhpcy5hcGkuZ2V0SW5BcHBzKCldfSl9KX0sSW5BcHBzfSgpO2V4cG9ydHMuSW5BcHBzPUluQXBwc30sZnVuY3Rpb24obW9kdWxlLGV4cG9ydHMsX193ZWJwYWNrX3JlcXVpcmVfXyl7XCJ1c2Ugc3RyaWN0XCI7dmFyIF9fYXNzaWduPXRoaXMmJnRoaXMuX19hc3NpZ258fGZ1bmN0aW9uKCl7cmV0dXJuKF9fYXNzaWduPU9iamVjdC5hc3NpZ258fGZ1bmN0aW9uKHQpe2Zvcih2YXIgcyxpPTEsbj1hcmd1bWVudHMubGVuZ3RoO2k8bjtpKyspZm9yKHZhciBwIGluIHM9YXJndW1lbnRzW2ldKU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzLHApJiYodFtwXT1zW3BdKTtyZXR1cm4gdH0pLmFwcGx5KHRoaXMsYXJndW1lbnRzKX0sX19hd2FpdGVyPXRoaXMmJnRoaXMuX19hd2FpdGVyfHxmdW5jdGlvbih0aGlzQXJnLF9hcmd1bWVudHMsUCxnZW5lcmF0b3Ipe3JldHVybiBuZXcoUHx8KFA9UHJvbWlzZSkpKGZ1bmN0aW9uKHJlc29sdmUscmVqZWN0KXtmdW5jdGlvbiBmdWxmaWxsZWQodmFsdWUpe3RyeXtzdGVwKGdlbmVyYXRvci5uZXh0KHZhbHVlKSl9Y2F0Y2goZSl7cmVqZWN0KGUpfX1mdW5jdGlvbiByZWplY3RlZCh2YWx1ZSl7dHJ5e3N0ZXAoZ2VuZXJhdG9yLnRocm93KHZhbHVlKSl9Y2F0Y2goZSl7cmVqZWN0KGUpfX1mdW5jdGlvbiBzdGVwKHJlc3VsdCl7cmVzdWx0LmRvbmU/cmVzb2x2ZShyZXN1bHQudmFsdWUpOmZ1bmN0aW9uKHZhbHVlKXtyZXR1cm4gdmFsdWUgaW5zdGFuY2VvZiBQP3ZhbHVlOm5ldyBQKGZ1bmN0aW9uKHJlc29sdmUpe3Jlc29sdmUodmFsdWUpfSl9KHJlc3VsdC52YWx1ZSkudGhlbihmdWxmaWxsZWQscmVqZWN0ZWQpfXN0ZXAoKGdlbmVyYXRvcj1nZW5lcmF0b3IuYXBwbHkodGhpc0FyZyxfYXJndW1lbnRzfHxbXSkpLm5leHQoKSl9KX0sX19nZW5lcmF0b3I9dGhpcyYmdGhpcy5fX2dlbmVyYXRvcnx8ZnVuY3Rpb24odGhpc0FyZyxib2R5KXt2YXIgZix5LHQsZyxfPXtsYWJlbDowLHNlbnQ6ZnVuY3Rpb24oKXtpZigxJnRbMF0pdGhyb3cgdFsxXTtyZXR1cm4gdFsxXX0sdHJ5czpbXSxvcHM6W119O3JldHVybiBnPXtuZXh0OnZlcmIoMCksdGhyb3c6dmVyYigxKSxyZXR1cm46dmVyYigyKX0sXCJmdW5jdGlvblwiPT10eXBlb2YgU3ltYm9sJiYoZ1tTeW1ib2wuaXRlcmF0b3JdPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXN9KSxnO2Z1bmN0aW9uIHZlcmIobil7cmV0dXJuIGZ1bmN0aW9uKHYpe3JldHVybiBmdW5jdGlvbihvcCl7aWYoZil0aHJvdyBuZXcgVHlwZUVycm9yKFwiR2VuZXJhdG9yIGlzIGFscmVhZHkgZXhlY3V0aW5nLlwiKTtmb3IoO187KXRyeXtpZihmPTEseSYmKHQ9MiZvcFswXT95LnJldHVybjpvcFswXT95LnRocm93fHwoKHQ9eS5yZXR1cm4pJiZ0LmNhbGwoeSksMCk6eS5uZXh0KSYmISh0PXQuY2FsbCh5LG9wWzFdKSkuZG9uZSlyZXR1cm4gdDtzd2l0Y2goeT0wLHQmJihvcD1bMiZvcFswXSx0LnZhbHVlXSksb3BbMF0pe2Nhc2UgMDpjYXNlIDE6dD1vcDticmVhaztjYXNlIDQ6cmV0dXJuIF8ubGFiZWwrKyx7dmFsdWU6b3BbMV0sZG9uZTohMX07Y2FzZSA1Ol8ubGFiZWwrKyx5PW9wWzFdLG9wPVswXTtjb250aW51ZTtjYXNlIDc6b3A9Xy5vcHMucG9wKCksXy50cnlzLnBvcCgpO2NvbnRpbnVlO2RlZmF1bHQ6aWYoISh0PSh0PV8udHJ5cykubGVuZ3RoPjAmJnRbdC5sZW5ndGgtMV0pJiYoNj09PW9wWzBdfHwyPT09b3BbMF0pKXtfPTA7Y29udGludWV9aWYoMz09PW9wWzBdJiYoIXR8fG9wWzFdPnRbMF0mJm9wWzFdPHRbM10pKXtfLmxhYmVsPW9wWzFdO2JyZWFrfWlmKDY9PT1vcFswXSYmXy5sYWJlbDx0WzFdKXtfLmxhYmVsPXRbMV0sdD1vcDticmVha31pZih0JiZfLmxhYmVsPHRbMl0pe18ubGFiZWw9dFsyXSxfLm9wcy5wdXNoKG9wKTticmVha310WzJdJiZfLm9wcy5wb3AoKSxfLnRyeXMucG9wKCk7Y29udGludWV9b3A9Ym9keS5jYWxsKHRoaXNBcmcsXyl9Y2F0Y2goZSl7b3A9WzYsZV0seT0wfWZpbmFsbHl7Zj10PTB9aWYoNSZvcFswXSl0aHJvdyBvcFsxXTtyZXR1cm57dmFsdWU6b3BbMF0/b3BbMV06dm9pZCAwLGRvbmU6ITB9fShbbix2XSl9fX07T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSk7dmFyIE1vZGFsX2NvbnN0YW50c18xPV9fd2VicGFja19yZXF1aXJlX18oMTMwKSxNb2RhbD1mdW5jdGlvbigpe2Z1bmN0aW9uIE1vZGFsKG9wdGlvbnMpe3ZhciBfdGhpcz10aGlzO3ZvaWQgMD09PW9wdGlvbnMmJihvcHRpb25zPXt9KTt2YXIgd3JhcHBlcj1kb2N1bWVudC5nZXRFbGVtZW50QnlJZChNb2RhbF9jb25zdGFudHNfMS5NT0RBTF9XUkFQUEVSX05BTUVTUEFDRSksaW5uZXI9ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoTW9kYWxfY29uc3RhbnRzXzEuTU9EQUxfSU5ORVJfTkFNRVNQQUNFKSxsb2FkZXI9ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoTW9kYWxfY29uc3RhbnRzXzEuTU9EQUxfTE9BREVSX05BTUVTUEFDRSksaWZyYW1lPWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKE1vZGFsX2NvbnN0YW50c18xLk1PREFMX0lGUkFNRV9OQU1FU1BBQ0UpLGNsb3NlPWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKE1vZGFsX2NvbnN0YW50c18xLk1PREFMX0NMT1NFX0JVVFRPTl9OQU1FU1BBQ0UpO2lmKHRoaXMub3B0aW9uPV9fYXNzaWduKF9fYXNzaWduKHt9LE1vZGFsX2NvbnN0YW50c18xLk1PREFMX0RFRkFJTFRfT1BUSU9OUyksb3B0aW9ucyksISh3cmFwcGVyJiZpbm5lciYmbG9hZGVyJiZpZnJhbWUmJmNsb3NlKSl7KHdyYXBwZXI9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKSkuaWQ9TW9kYWxfY29uc3RhbnRzXzEuTU9EQUxfV1JBUFBFUl9OQU1FU1BBQ0Usd3JhcHBlci5jbGFzc05hbWU9TW9kYWxfY29uc3RhbnRzXzEuTU9EQUxfV1JBUFBFUl9OQU1FU1BBQ0UsKGlubmVyPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIikpLmlkPU1vZGFsX2NvbnN0YW50c18xLk1PREFMX0lOTkVSX05BTUVTUEFDRSxpbm5lci5jbGFzc05hbWU9TW9kYWxfY29uc3RhbnRzXzEuTU9EQUxfSU5ORVJfTkFNRVNQQUNFLChsb2FkZXI9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKSkuaWQ9TW9kYWxfY29uc3RhbnRzXzEuTU9EQUxfTE9BREVSX05BTUVTUEFDRSxsb2FkZXIuY2xhc3NOYW1lPU1vZGFsX2NvbnN0YW50c18xLk1PREFMX0xPQURFUl9OQU1FU1BBQ0UsKGNsb3NlPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJidXR0b25cIikpLmlkPU1vZGFsX2NvbnN0YW50c18xLk1PREFMX0NMT1NFX0JVVFRPTl9OQU1FU1BBQ0UsY2xvc2UuY2xhc3NOYW1lPU1vZGFsX2NvbnN0YW50c18xLk1PREFMX0NMT1NFX0JVVFRPTl9OQU1FU1BBQ0UsKGlmcmFtZT1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiaWZyYW1lXCIpKS5pZD1Nb2RhbF9jb25zdGFudHNfMS5NT0RBTF9JRlJBTUVfTkFNRVNQQUNFLGlmcmFtZS5jbGFzc05hbWU9TW9kYWxfY29uc3RhbnRzXzEuTU9EQUxfSUZSQU1FX05BTUVTUEFDRSxpbm5lci5hcHBlbmRDaGlsZChpZnJhbWUpLGlubmVyLmFwcGVuZENoaWxkKGNsb3NlKSx0aGlzLm9wdGlvbi5pc1Nob3dQcmVsb2FkZXImJmlubmVyLmFwcGVuZENoaWxkKGxvYWRlciksd3JhcHBlci5hcHBlbmRDaGlsZChpbm5lciksZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZCh3cmFwcGVyKTt2YXIgc3R5bGU9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInN0eWxlXCIpO3N0eWxlLmlubmVySFRNTD1cIlxcbiAgICAgICAgLlwiK01vZGFsX2NvbnN0YW50c18xLk1PREFMX1dSQVBQRVJfTkFNRVNQQUNFK1wiIHtcXG4gICAgICAgICAgcG9zaXRpb246IGZpeGVkO1xcbiAgICAgICAgICB0b3A6IDA7XFxuICAgICAgICAgIGxlZnQ6IDA7XFxuICAgICAgICAgIHdpZHRoOiAxMDAlO1xcbiAgICAgICAgICBoZWlnaHQ6IDEwMCU7XFxuICAgICAgICAgIHotaW5kZXg6IDIxNDc0ODM2NDg7XFxuICAgICAgICAgIG9wYWNpdHk6IDAuOTk5O1xcbiAgICAgICAgICBkaXNwbGF5Om5vbmU7XFxuICAgICAgICB9XFxuXFxuICAgICAgICAuXCIrTW9kYWxfY29uc3RhbnRzXzEuTU9EQUxfV1JBUFBFUl9OQU1FU1BBQ0UrXCJfc3RhdGUtc2hvdyB7XFxuICAgICAgICAgIGRpc3BsYXk6IGJsb2NrO1xcbiAgICAgICAgfVxcblxcbiAgICAgICAgLlwiK01vZGFsX2NvbnN0YW50c18xLk1PREFMX0lOTkVSX05BTUVTUEFDRStcIiB7XFxuICAgICAgICAgIHdpZHRoOiAxMDAlO1xcbiAgICAgICAgICBoZWlnaHQ6IDEwMCU7XFxuICAgICAgICB9XFxuXFxuICAgICAgICAuXCIrTW9kYWxfY29uc3RhbnRzXzEuTU9EQUxfSU5ORVJfTkFNRVNQQUNFK1wiX3N0YXRlLWxvYWRpbmcge1xcbiAgICAgICAgICBiYWNrZ3JvdW5kLWNvbG9yOiBcIit0aGlzLm9wdGlvbi5iYWNrZ3JvdW5kQ29sb3IrXCI7XFxuICAgICAgICB9XFxuXFxuICAgICAgICAuXCIrTW9kYWxfY29uc3RhbnRzXzEuTU9EQUxfQ0xPU0VfQlVUVE9OX05BTUVTUEFDRStcIiB7XFxuICAgICAgICAgIGFwcGVhcmFuY2U6IG5vbmU7XFxuICAgICAgICAgIGJvcmRlcjogbm9uZTtcXG4gICAgICAgICAgYmFja2dyb3VuZC1jb2xvcjogdHJhbnNwYXJlbnQ7XFxuICAgICAgICAgIGJveC1zaGFkb3c6IG5vbmU7XFxuICAgICAgICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcXG4gICAgICAgICAgdG9wOiAyMHB4O1xcbiAgICAgICAgICByaWdodDogMjBweDtcXG4gICAgICAgICAgd2lkdGg6IDQwcHg7XFxuICAgICAgICAgIGhlaWdodDogNDBweDtcXG4gICAgICAgICAgY3Vyc29yOiBwb2ludGVyO1xcbiAgICAgICAgfVxcblxcbiAgICAgICAgLlwiK01vZGFsX2NvbnN0YW50c18xLk1PREFMX0NMT1NFX0JVVFRPTl9OQU1FU1BBQ0UrXCI6YWZ0ZXIge1xcbiAgICAgICAgICBjb250ZW50OiAnJztcXG4gICAgICAgICAgcG9zaXRpb246IGFic29sdXRlO1xcbiAgICAgICAgICB0b3A6IDUwJTtcXG4gICAgICAgICAgbGVmdDo1MCU7XFxuICAgICAgICAgIHdpZHRoOiAzMHB4O1xcbiAgICAgICAgICBoZWlnaHQ6IDJweDtcXG4gICAgICAgICAgYmFja2dyb3VuZC1jb2xvcjogXCIrdGhpcy5vcHRpb24uY2xvc2VCdXR0b25Db2xvcitcIjtcXG4gICAgICAgICAgdHJhbnNmb3JtOiB0cmFuc2xhdGVYKC01MCUpIHRyYW5zbGF0ZVkoLTUwJSkgcm90YXRlKC00NWRlZyk7XFxuICAgICAgICB9XFxuXFxuICAgICAgICAuXCIrTW9kYWxfY29uc3RhbnRzXzEuTU9EQUxfQ0xPU0VfQlVUVE9OX05BTUVTUEFDRStcIjpiZWZvcmUge1xcbiAgICAgICAgICBjb250ZW50OiAnJztcXG4gICAgICAgICAgcG9zaXRpb246IGFic29sdXRlO1xcbiAgICAgICAgICB0b3A6IDUwJTtcXG4gICAgICAgICAgbGVmdDo1MCU7XFxuICAgICAgICAgIHdpZHRoOiAzMHB4O1xcbiAgICAgICAgICBoZWlnaHQ6IDJweDtcXG4gICAgICAgICAgYmFja2dyb3VuZC1jb2xvcjogXCIrdGhpcy5vcHRpb24uY2xvc2VCdXR0b25Db2xvcitcIjtcXG4gICAgICAgICAgdHJhbnNmb3JtOiB0cmFuc2xhdGVYKC01MCUpIHRyYW5zbGF0ZVkoLTUwJSkgcm90YXRlKDQ1ZGVnKTtcXG4gICAgICAgIH1cXG5cXG4gICAgICAgIC5cIitNb2RhbF9jb25zdGFudHNfMS5NT0RBTF9JTk5FUl9OQU1FU1BBQ0UrXCJfc3RhdGUtbG9hZGluZyAuXCIrTW9kYWxfY29uc3RhbnRzXzEuTU9EQUxfTE9BREVSX05BTUVTUEFDRStcIiB7XFxuICAgICAgICAgIGRpc3BsYXk6IGJsb2NrO1xcbiAgICAgICAgICBwb3NpdGlvbjogYWJzb2x1dGU7XFxuICAgICAgICAgIHRvcDogNTAlO1xcbiAgICAgICAgICBsZWZ0OiA1MCU7XFxuICAgICAgICAgIHRyYW5zZm9ybTogdHJhbnNsYXRlKC01MCUsIC01MCUpO1xcbiAgICAgICAgfVxcblxcbiAgICAgICAgLlwiK01vZGFsX2NvbnN0YW50c18xLk1PREFMX0xPQURFUl9OQU1FU1BBQ0UrXCIge1xcbiAgICAgICAgICBkaXNwbGF5OiBub25lO1xcbiAgICAgICAgfVxcblxcbiAgICAgICAgLlwiK01vZGFsX2NvbnN0YW50c18xLk1PREFMX0xPQURFUl9OQU1FU1BBQ0UrXCIsXFxuICAgICAgICAuXCIrTW9kYWxfY29uc3RhbnRzXzEuTU9EQUxfTE9BREVSX05BTUVTUEFDRStcIjpiZWZvcmUsXFxuICAgICAgICAuXCIrTW9kYWxfY29uc3RhbnRzXzEuTU9EQUxfTE9BREVSX05BTUVTUEFDRStcIjphZnRlciB7XFxuICAgICAgICAgIGJvcmRlci1yYWRpdXM6IDUwJTtcXG4gICAgICAgICAgd2lkdGg6IDIuNWVtO1xcbiAgICAgICAgICBoZWlnaHQ6IDIuNWVtO1xcbiAgICAgICAgICAtd2Via2l0LWFuaW1hdGlvbi1maWxsLW1vZGU6IGJvdGg7XFxuICAgICAgICAgIGFuaW1hdGlvbi1maWxsLW1vZGU6IGJvdGg7XFxuICAgICAgICAgIC13ZWJraXQtYW5pbWF0aW9uOiBcIitNb2RhbF9jb25zdGFudHNfMS5NT0RBTF9MT0FERVJfTkFNRVNQQUNFK1wiIDEuOHMgaW5maW5pdGUgZWFzZS1pbi1vdXQ7XFxuICAgICAgICAgIGFuaW1hdGlvbjogXCIrTW9kYWxfY29uc3RhbnRzXzEuTU9EQUxfTE9BREVSX05BTUVTUEFDRStcIiAxLjhzIGluZmluaXRlIGVhc2UtaW4tb3V0O1xcbiAgICAgICAgfVxcblxcbiAgICAgICAgLlwiK01vZGFsX2NvbnN0YW50c18xLk1PREFMX0xPQURFUl9OQU1FU1BBQ0UrXCIge1xcbiAgICAgICAgICBjb2xvcjogI2ZmZmZmZjtcXG4gICAgICAgICAgZm9udC1zaXplOiAxMHB4O1xcbiAgICAgICAgICB0ZXh0LWluZGVudDogLTk5OTllbTtcXG4gICAgICAgICAgLXdlYmtpdC10cmFuc2Zvcm06IHRyYW5zbGF0ZVooMCk7XFxuICAgICAgICAgIC1tcy10cmFuc2Zvcm06IHRyYW5zbGF0ZVooMCk7XFxuICAgICAgICAgIHRyYW5zZm9ybTogdHJhbnNsYXRlWigwKTtcXG4gICAgICAgICAgLXdlYmtpdC1hbmltYXRpb24tZGVsYXk6IC0wLjE2cztcXG4gICAgICAgICAgYW5pbWF0aW9uLWRlbGF5OiAtMC4xNnM7XFxuICAgICAgICB9XFxuXFxuICAgICAgICAuXCIrTW9kYWxfY29uc3RhbnRzXzEuTU9EQUxfTE9BREVSX05BTUVTUEFDRStcIjpiZWZvcmUsXFxuICAgICAgICAuXCIrTW9kYWxfY29uc3RhbnRzXzEuTU9EQUxfTE9BREVSX05BTUVTUEFDRStcIjphZnRlciB7XFxuICAgICAgICAgIGNvbnRlbnQ6ICcnO1xcbiAgICAgICAgICBwb3NpdGlvbjogYWJzb2x1dGU7XFxuICAgICAgICAgIHRvcDogMDtcXG4gICAgICAgIH1cXG5cXG4gICAgICAgIC5cIitNb2RhbF9jb25zdGFudHNfMS5NT0RBTF9MT0FERVJfTkFNRVNQQUNFK1wiOmJlZm9yZSB7XFxuICAgICAgICAgIGxlZnQ6IC0zLjVlbTtcXG4gICAgICAgICAgLXdlYmtpdC1hbmltYXRpb24tZGVsYXk6IC0wLjMycztcXG4gICAgICAgICAgYW5pbWF0aW9uLWRlbGF5OiAtMC4zMnM7XFxuICAgICAgICB9XFxuXFxuICAgICAgICAuXCIrTW9kYWxfY29uc3RhbnRzXzEuTU9EQUxfTE9BREVSX05BTUVTUEFDRStcIjphZnRlciB7XFxuICAgICAgICAgIGxlZnQ6IDMuNWVtO1xcbiAgICAgICAgfVxcblxcbiAgICAgICAgQC13ZWJraXQta2V5ZnJhbWVzIFwiK01vZGFsX2NvbnN0YW50c18xLk1PREFMX0xPQURFUl9OQU1FU1BBQ0UrXCIge1xcbiAgICAgICAgICAwJSxcXG4gICAgICAgICAgODAlLFxcbiAgICAgICAgICAxMDAlIHtcXG4gICAgICAgICAgICBib3gtc2hhZG93OiAwIDIuNWVtIDAgLTEuM2VtIFwiK3RoaXMub3B0aW9uLnByZWxvYWRlckNvbG9yK1wiO1xcbiAgICAgICAgICB9XFxuICAgICAgICAgIDQwJSB7XFxuICAgICAgICAgICAgYm94LXNoYWRvdzogMCAyLjVlbSAwIDAgXCIrdGhpcy5vcHRpb24ucHJlbG9hZGVyQ29sb3IrXCI7XFxuICAgICAgICAgIH1cXG4gICAgICAgIH1cXG5cXG4gICAgICAgIEBrZXlmcmFtZXMgXCIrTW9kYWxfY29uc3RhbnRzXzEuTU9EQUxfTE9BREVSX05BTUVTUEFDRStcIiB7XFxuICAgICAgICAgIDAlLFxcbiAgICAgICAgICA4MCUsXFxuICAgICAgICAgIDEwMCUge1xcbiAgICAgICAgICAgIGJveC1zaGFkb3c6IDAgMi41ZW0gMCAtMS4zZW0gXCIrdGhpcy5vcHRpb24ucHJlbG9hZGVyQ29sb3IrXCI7XFxuICAgICAgICAgIH1cXG4gICAgICAgICAgNDAlIHtcXG4gICAgICAgICAgICBib3gtc2hhZG93OiAwIDIuNWVtIDAgMCBcIit0aGlzLm9wdGlvbi5wcmVsb2FkZXJDb2xvcitcIjtcXG4gICAgICAgICAgfVxcbiAgICAgICAgfVxcblxcbiAgICAgICAgLlwiK01vZGFsX2NvbnN0YW50c18xLk1PREFMX0lGUkFNRV9OQU1FU1BBQ0UrXCIge1xcbiAgICAgICAgICB3aWR0aDogMTAwJTtcXG4gICAgICAgICAgaGVpZ2h0OiAxMDAlO1xcbiAgICAgICAgICBwYWRkaW5nOiAwO1xcbiAgICAgICAgICBib3JkZXI6IG5vbmU7XFxuICAgICAgICAgIGRpc3BsYXk6IG5vbmU7XFxuICAgICAgICB9XFxuXFxuICAgICAgICAuXCIrTW9kYWxfY29uc3RhbnRzXzEuTU9EQUxfSUZSQU1FX05BTUVTUEFDRStcIl9zdGF0ZS1zaG93IHtcXG4gICAgICAgICAgZGlzcGxheTogYmxvY2s7XFxuICAgICAgICB9XFxuICAgICAgXCIsZG9jdW1lbnQuaGVhZC5hcHBlbmRDaGlsZChzdHlsZSl9dGhpcy53cmFwcGVyPXdyYXBwZXIsdGhpcy5pbm5lcj1pbm5lcix0aGlzLmlmcmFtZT1pZnJhbWUsY2xvc2UuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsZnVuY3Rpb24oKXtfdGhpcy5oaWRlKCl9KX1yZXR1cm4gTW9kYWwucHJvdG90eXBlLnBvc3RNZXNzYWdlPWZ1bmN0aW9uKGRhdGEpe3RoaXMuaWZyYW1lLmNvbnRlbnRXaW5kb3cucG9zdE1lc3NhZ2UoSlNPTi5zdHJpbmdpZnkoZGF0YSksXCIqXCIpfSxNb2RhbC5wcm90b3R5cGUuc2hvdz1mdW5jdGlvbigpe3JldHVybiB0aGlzLndyYXBwZXIuY2xhc3NOYW1lPU1vZGFsX2NvbnN0YW50c18xLk1PREFMX1dSQVBQRVJfTkFNRVNQQUNFK1wiIFwiK01vZGFsX2NvbnN0YW50c18xLk1PREFMX1dSQVBQRVJfTkFNRVNQQUNFK1wiX3N0YXRlLXNob3dcIixkb2N1bWVudC5ib2R5LnN0eWxlLm92ZXJmbG93PVwiaGlkZGVuXCIsdGhpc30sTW9kYWwucHJvdG90eXBlLmhpZGU9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy53cmFwcGVyLmNsYXNzTmFtZT1Nb2RhbF9jb25zdGFudHNfMS5NT0RBTF9XUkFQUEVSX05BTUVTUEFDRSxkb2N1bWVudC5ib2R5LnN0eWxlLm92ZXJmbG93PVwiYXV0b1wiLHRoaXN9LE1vZGFsLnByb3RvdHlwZS5zZXRMb2FkaW5nPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuaW5uZXIuY2xhc3NOYW1lPU1vZGFsX2NvbnN0YW50c18xLk1PREFMX0lOTkVSX05BTUVTUEFDRStcIiBcIitNb2RhbF9jb25zdGFudHNfMS5NT0RBTF9JTk5FUl9OQU1FU1BBQ0UrXCJfc3RhdGUtbG9hZGluZ1wiLHRoaXMuaWZyYW1lLmNsYXNzTmFtZT1Nb2RhbF9jb25zdGFudHNfMS5NT0RBTF9JRlJBTUVfTkFNRVNQQUNFLHRoaXN9LE1vZGFsLnByb3RvdHlwZS5yZW1vdmVMb2FkaW5nPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuaW5uZXIuY2xhc3NOYW1lPU1vZGFsX2NvbnN0YW50c18xLk1PREFMX0lOTkVSX05BTUVTUEFDRSx0aGlzfSxNb2RhbC5wcm90b3R5cGUuc2V0Q29udGVudD1mdW5jdGlvbihjb250ZW50KXtyZXR1cm4gX19hd2FpdGVyKHRoaXMsdm9pZCAwLHZvaWQgMCxmdW5jdGlvbigpe3ZhciBfdGhpcz10aGlzO3JldHVybiBfX2dlbmVyYXRvcih0aGlzLGZ1bmN0aW9uKF9hKXtyZXR1cm4gdGhpcy5pZnJhbWUuc3JjZG9jPWNvbnRlbnQsWzIsbmV3IFByb21pc2UoZnVuY3Rpb24ocmVzb2x2ZSxyZWplY3Qpe190aGlzLmlmcmFtZS5vbmxvYWQ9cmVzb2x2ZSxfdGhpcy5pZnJhbWUub25lcnJvcj1yZWplY3R9KV19KX0pfSxNb2RhbC5wcm90b3R5cGUuc2hvd0NvbnRlbnQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5pbm5lci5jbGFzc05hbWU9TW9kYWxfY29uc3RhbnRzXzEuTU9EQUxfSU5ORVJfTkFNRVNQQUNFLHRoaXMuaWZyYW1lLmNsYXNzTmFtZT1Nb2RhbF9jb25zdGFudHNfMS5NT0RBTF9JRlJBTUVfTkFNRVNQQUNFK1wiIFwiK01vZGFsX2NvbnN0YW50c18xLk1PREFMX0lGUkFNRV9OQU1FU1BBQ0UrXCJfc3RhdGUtc2hvd1wiLHRoaXN9LE1vZGFsfSgpO2V4cG9ydHMuTW9kYWw9TW9kYWx9LGZ1bmN0aW9uKG1vZHVsZSxleHBvcnRzLF9fd2VicGFja19yZXF1aXJlX18pe1widXNlIHN0cmljdFwiO09iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pLGV4cG9ydHMuTU9EQUxfV1JBUFBFUl9OQU1FU1BBQ0U9XCJwdXNod29vc2gtaW4tYXBwLW1vZGFsLXdyYXBwZXJcIixleHBvcnRzLk1PREFMX0lOTkVSX05BTUVTUEFDRT1cInB1c2h3b29zaC1pbi1hcHAtbW9kYWwtaW5uZXJcIixleHBvcnRzLk1PREFMX0xPQURFUl9OQU1FU1BBQ0U9XCJwdXNod29vc2gtaW4tYXBwLW1vZGFsLWxvYWRlclwiLGV4cG9ydHMuTU9EQUxfQ0xPU0VfQlVUVE9OX05BTUVTUEFDRT1cInB1c2h3b29zaC1pbi1hcHAtbW9kYWwtY2xvc2UtYnV0dG9uXCIsZXhwb3J0cy5NT0RBTF9JRlJBTUVfTkFNRVNQQUNFPVwicHVzaHdvb3NoLWluLWFwcC1tb2RhbC1pZnJhbWVcIixleHBvcnRzLk1PREFMX0RFRkFJTFRfT1BUSU9OUz17YmFja2dyb3VuZENvbG9yOlwicmdiYSgwLCAwLCAwLCAuOClcIixjbG9zZUJ1dHRvbkNvbG9yOlwicmdiYSgyNTUsIDI1NSwgMjU1LCAuOClcIixjbG9zZUJ1dHRvbkhvdmVyQ29sb3I6XCJyZ2JhKDI1NSwgMjU1LCAxKVwiLGlzU2hvd1ByZWxvYWRlcjohMCxwcmVsb2FkZXJDb2xvcjpcInJnYmEoMjU1LCAyNTUsIDI1NSwgMSlcIn19LGZ1bmN0aW9uKG1vZHVsZSxleHBvcnRzLF9fd2VicGFja19yZXF1aXJlX18pe1widXNlIHN0cmljdFwiO3ZhciBfX2F3YWl0ZXI9dGhpcyYmdGhpcy5fX2F3YWl0ZXJ8fGZ1bmN0aW9uKHRoaXNBcmcsX2FyZ3VtZW50cyxQLGdlbmVyYXRvcil7cmV0dXJuIG5ldyhQfHwoUD1Qcm9taXNlKSkoZnVuY3Rpb24ocmVzb2x2ZSxyZWplY3Qpe2Z1bmN0aW9uIGZ1bGZpbGxlZCh2YWx1ZSl7dHJ5e3N0ZXAoZ2VuZXJhdG9yLm5leHQodmFsdWUpKX1jYXRjaChlKXtyZWplY3QoZSl9fWZ1bmN0aW9uIHJlamVjdGVkKHZhbHVlKXt0cnl7c3RlcChnZW5lcmF0b3IudGhyb3codmFsdWUpKX1jYXRjaChlKXtyZWplY3QoZSl9fWZ1bmN0aW9uIHN0ZXAocmVzdWx0KXtyZXN1bHQuZG9uZT9yZXNvbHZlKHJlc3VsdC52YWx1ZSk6ZnVuY3Rpb24odmFsdWUpe3JldHVybiB2YWx1ZSBpbnN0YW5jZW9mIFA/dmFsdWU6bmV3IFAoZnVuY3Rpb24ocmVzb2x2ZSl7cmVzb2x2ZSh2YWx1ZSl9KX0ocmVzdWx0LnZhbHVlKS50aGVuKGZ1bGZpbGxlZCxyZWplY3RlZCl9c3RlcCgoZ2VuZXJhdG9yPWdlbmVyYXRvci5hcHBseSh0aGlzQXJnLF9hcmd1bWVudHN8fFtdKSkubmV4dCgpKX0pfSxfX2dlbmVyYXRvcj10aGlzJiZ0aGlzLl9fZ2VuZXJhdG9yfHxmdW5jdGlvbih0aGlzQXJnLGJvZHkpe3ZhciBmLHksdCxnLF89e2xhYmVsOjAsc2VudDpmdW5jdGlvbigpe2lmKDEmdFswXSl0aHJvdyB0WzFdO3JldHVybiB0WzFdfSx0cnlzOltdLG9wczpbXX07cmV0dXJuIGc9e25leHQ6dmVyYigwKSx0aHJvdzp2ZXJiKDEpLHJldHVybjp2ZXJiKDIpfSxcImZ1bmN0aW9uXCI9PXR5cGVvZiBTeW1ib2wmJihnW1N5bWJvbC5pdGVyYXRvcl09ZnVuY3Rpb24oKXtyZXR1cm4gdGhpc30pLGc7ZnVuY3Rpb24gdmVyYihuKXtyZXR1cm4gZnVuY3Rpb24odil7cmV0dXJuIGZ1bmN0aW9uKG9wKXtpZihmKXRocm93IG5ldyBUeXBlRXJyb3IoXCJHZW5lcmF0b3IgaXMgYWxyZWFkeSBleGVjdXRpbmcuXCIpO2Zvcig7XzspdHJ5e2lmKGY9MSx5JiYodD0yJm9wWzBdP3kucmV0dXJuOm9wWzBdP3kudGhyb3d8fCgodD15LnJldHVybikmJnQuY2FsbCh5KSwwKTp5Lm5leHQpJiYhKHQ9dC5jYWxsKHksb3BbMV0pKS5kb25lKXJldHVybiB0O3N3aXRjaCh5PTAsdCYmKG9wPVsyJm9wWzBdLHQudmFsdWVdKSxvcFswXSl7Y2FzZSAwOmNhc2UgMTp0PW9wO2JyZWFrO2Nhc2UgNDpyZXR1cm4gXy5sYWJlbCsrLHt2YWx1ZTpvcFsxXSxkb25lOiExfTtjYXNlIDU6Xy5sYWJlbCsrLHk9b3BbMV0sb3A9WzBdO2NvbnRpbnVlO2Nhc2UgNzpvcD1fLm9wcy5wb3AoKSxfLnRyeXMucG9wKCk7Y29udGludWU7ZGVmYXVsdDppZighKHQ9KHQ9Xy50cnlzKS5sZW5ndGg+MCYmdFt0Lmxlbmd0aC0xXSkmJig2PT09b3BbMF18fDI9PT1vcFswXSkpe189MDtjb250aW51ZX1pZigzPT09b3BbMF0mJighdHx8b3BbMV0+dFswXSYmb3BbMV08dFszXSkpe18ubGFiZWw9b3BbMV07YnJlYWt9aWYoNj09PW9wWzBdJiZfLmxhYmVsPHRbMV0pe18ubGFiZWw9dFsxXSx0PW9wO2JyZWFrfWlmKHQmJl8ubGFiZWw8dFsyXSl7Xy5sYWJlbD10WzJdLF8ub3BzLnB1c2gob3ApO2JyZWFrfXRbMl0mJl8ub3BzLnBvcCgpLF8udHJ5cy5wb3AoKTtjb250aW51ZX1vcD1ib2R5LmNhbGwodGhpc0FyZyxfKX1jYXRjaChlKXtvcD1bNixlXSx5PTB9ZmluYWxseXtmPXQ9MH1pZig1Jm9wWzBdKXRocm93IG9wWzFdO3JldHVybnt2YWx1ZTpvcFswXT9vcFsxXTp2b2lkIDAsZG9uZTohMH19KFtuLHZdKX19fTtPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cyxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KTt2YXIgZGV0ZWN0X2Jyb3dzZXJfMT1fX3dlYnBhY2tfcmVxdWlyZV9fKDEzMiksZ2V0WmlwXzE9X193ZWJwYWNrX3JlcXVpcmVfXyg0OSksRHluYW1pY0NvbnRlbnRfMT1fX3dlYnBhY2tfcmVxdWlyZV9fKDEzMyksUmljaE1lZGlhRXhwYW5kZXJfMT1fX3dlYnBhY2tfcmVxdWlyZV9fKDEzNSksRXh0ZXJuYWxSZXNvdXJjZXNfMT1fX3dlYnBhY2tfcmVxdWlyZV9fKDEzNiksUmljaE1lZGlhPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gUmljaE1lZGlhKHVybCxhcGksZXhwYW5kZXJzKXt0aGlzLnVybD11cmwsdGhpcy5hcGk9YXBpLHRoaXMuZXhwYW5kZXJzPWV4cGFuZGVyc31yZXR1cm4gUmljaE1lZGlhLnByb3RvdHlwZS5nZXRDb250ZW50PWZ1bmN0aW9uKCl7cmV0dXJuIF9fYXdhaXRlcih0aGlzLHZvaWQgMCx2b2lkIDAsZnVuY3Rpb24oKXt2YXIgbGFuZ3VhZ2UsanN6aXAsdmFsdWVzLF9hLF9iLGNvbnRlbnQsYnJvd3Nlcixjb250ZXh0O3JldHVybiBfX2dlbmVyYXRvcih0aGlzLGZ1bmN0aW9uKF9jKXtzd2l0Y2goX2MubGFiZWwpe2Nhc2UgMDpyZXR1cm5bNCx0aGlzLmFwaS5nZXRUYWdzKCldO2Nhc2UgMTpyZXR1cm4gbGFuZ3VhZ2U9X2Muc2VudCgpLnJlc3VsdC5MYW5ndWFnZSxbNCxnZXRaaXBfMS5nZXRaaXAodGhpcy51cmwpXTtjYXNlIDI6aWYoIShqc3ppcD1fYy5zZW50KCkpLmZpbGVzW1wiaW5kZXguaHRtbFwiXSl0aHJvdyBuZXcgRXJyb3IoXCJDYW4ndCBmaW5kIGluZGV4Lmh0bWxcIik7aWYoIWpzemlwLmZpbGVzW1wicHVzaHdvb3NoLmpzb25cIl0pdGhyb3cgbmV3IEVycm9yKFwiQ2FuJ3QgZmluZCBwdXNod29vc2guanNvblwiKTtyZXR1cm4gX2I9KF9hPUpTT04pLnBhcnNlLFs0LGpzemlwLmZpbGUoXCJwdXNod29vc2guanNvblwiKS5hc3luYyhcInRleHRcIildO2Nhc2UgMzpyZXR1cm4gdmFsdWVzPV9iLmFwcGx5KF9hLFtfYy5zZW50KCldKSxbNCxqc3ppcC5maWxlKFwiaW5kZXguaHRtbFwiKS5hc3luYyhcInRleHRcIildO2Nhc2UgNDpyZXR1cm4gY29udGVudD1fYy5zZW50KCksYnJvd3Nlcj1kZXRlY3RfYnJvd3Nlcl8xLmRldGVjdCgpLGNvbnRleHQ9e3BsYXRmb3JtOlwid2ViXCIsYnJvd3Nlcjpicm93c2VyJiZicm93c2VyLm5hbWV8fFwidW5rbm93blwiLG9zOmJyb3dzZXImJmJyb3dzZXIub3N8fFwidW5rbm93blwiLGlzTW9iaWxlQnJvd3Nlcjp0aGlzLmNoZWNrSXNNb2JpbGVCcm93c2VyKCl9LGNvbnRlbnQ9bmV3IER5bmFtaWNDb250ZW50XzEuRHluYW1pY0NvbnRlbnQoY29udGVudCx2YWx1ZXMsbGFuZ3VhZ2UpLmdldFJlcGxhY2VkQ29udGVudCgpLFs0LG5ldyBFeHRlcm5hbFJlc291cmNlc18xLkV4dGVybmFsUmVzb3VyY2VzKGNvbnRlbnQsanN6aXApLmdldFJlcGxhY2VkQ29udGVudCgpXTtjYXNlIDU6cmV0dXJuIGNvbnRlbnQ9X2Muc2VudCgpLGNvbnRlbnQ9bmV3IER5bmFtaWNDb250ZW50XzEuRHluYW1pY0NvbnRlbnQoY29udGVudCx2YWx1ZXMsbGFuZ3VhZ2UpLmdldFJlcGxhY2VkQ29udGVudCgpLGNvbnRlbnQ9bmV3IFJpY2hNZWRpYUV4cGFuZGVyXzEuUmljaE1lZGlhRXhwYW5kZXIoY29udGVudCxbJzxzY3JpcHQgdHlwZT1cInRleHQvamF2YXNjcmlwdFwiPlxcbiAgICAgICAgICB3aW5kb3cucHVzaHdvb3NoLnBsYXRmb3JtID0gXFwnJytjb250ZXh0LnBsYXRmb3JtLnJlcGxhY2UoXCIgXCIsXCJcIikudG9Mb3dlckNhc2UoKStcIic7XFxuICAgICAgICAgIHdpbmRvdy5wdXNod29vc2guYnJvd3NlciA9ICdcIitjb250ZXh0LmJyb3dzZXIucmVwbGFjZShcIiBcIixcIlwiKS50b0xvd2VyQ2FzZSgpK1wiJztcXG4gICAgICAgICAgd2luZG93LnB1c2h3b29zaC5vcyA9ICdcIitjb250ZXh0Lm9zLnJlcGxhY2UoXCIgXCIsXCJcIikudG9Mb3dlckNhc2UoKStcIic7XFxuICAgICAgICAgIHdpbmRvdy5wdXNod29vc2guaXNNb2JpbGVCcm93c2VyID0gXCIrY29udGV4dC5pc01vYmlsZUJyb3dzZXIrXCI7XFxuICAgICAgICA8XFwvc2NyaXB0PlwiXSkudXBsb2FkRXhwYW5kZXJzKCksWzIsY29udGVudD1uZXcgUmljaE1lZGlhRXhwYW5kZXJfMS5SaWNoTWVkaWFFeHBhbmRlcihjb250ZW50LHRoaXMuZXhwYW5kZXJzKS51cGxvYWRFeHBhbmRlcnMoKV19fSl9KX0sUmljaE1lZGlhLnByb3RvdHlwZS5jaGVja0lzTW9iaWxlQnJvd3Nlcj1mdW5jdGlvbigpe3ZhciBpc01vYmlsZUJyb3dzZXI9ITE7cmV0dXJuIGZ1bmN0aW9uKHN0cil7KC8oYW5kcm9pZHxiYlxcZCt8bWVlZ28pLittb2JpbGV8YXZhbnRnb3xiYWRhXFwvfGJsYWNrYmVycnl8YmxhemVyfGNvbXBhbHxlbGFpbmV8ZmVubmVjfGhpcHRvcHxpZW1vYmlsZXxpcChob25lfG9kKXxpcmlzfGtpbmRsZXxsZ2UgfG1hZW1vfG1pZHB8bW1wfG1vYmlsZS4rZmlyZWZveHxuZXRmcm9udHxvcGVyYSBtKG9ifGluKWl8cGFsbSggb3MpP3xwaG9uZXxwKGl4aXxyZSlcXC98cGx1Y2tlcnxwb2NrZXR8cHNwfHNlcmllcyg0fDYpMHxzeW1iaWFufHRyZW98dXBcXC4oYnJvd3NlcnxsaW5rKXx2b2RhZm9uZXx3YXB8d2luZG93cyBjZXx4ZGF8eGlpbm98YW5kcm9pZHxpcGFkfHBsYXlib29rfHNpbGsvaS50ZXN0KHN0cil8fC8xMjA3fDYzMTB8NjU5MHwzZ3NvfDR0aHB8NTBbMS02XWl8Nzcwc3w4MDJzfGEgd2F8YWJhY3xhYyhlcnxvb3xzXFwtKXxhaShrb3xybil8YWwoYXZ8Y2F8Y28pfGFtb2l8YW4oZXh8bnl8eXcpfGFwdHV8YXIoY2h8Z28pfGFzKHRlfHVzKXxhdHR3fGF1KGRpfFxcLW18ciB8cyApfGF2YW58YmUoY2t8bGx8bnEpfGJpKGxifHJkKXxibChhY3xheil8YnIoZXx2KXd8YnVtYnxid1xcLShufHUpfGM1NVxcL3xjYXBpfGNjd2F8Y2RtXFwtfGNlbGx8Y2h0bXxjbGRjfGNtZFxcLXxjbyhtcHxuZCl8Y3Jhd3xkYShpdHxsbHxuZyl8ZGJ0ZXxkY1xcLXN8ZGV2aXxkaWNhfGRtb2J8ZG8oY3xwKW98ZHMoMTJ8XFwtZCl8ZWwoNDl8YWkpfGVtKGwyfHVsKXxlcihpY3xrMCl8ZXNsOHxleihbNC03XTB8b3N8d2F8emUpfGZldGN8Zmx5KFxcLXxfKXxnMSB1fGc1NjB8Z2VuZXxnZlxcLTV8Z1xcLW1vfGdvKFxcLnd8b2QpfGdyKGFkfHVuKXxoYWllfGhjaXR8aGRcXC0obXxwfHQpfGhlaVxcLXxoaShwdHx0YSl8aHAoIGl8aXApfGhzXFwtY3xodChjKFxcLXwgfF98YXxnfHB8c3x0KXx0cCl8aHUoYXd8dGMpfGlcXC0oMjB8Z298bWEpfGkyMzB8aWFjKCB8XFwtfFxcLyl8aWJyb3xpZGVhfGlnMDF8aWtvbXxpbTFrfGlubm98aXBhcXxpcmlzfGphKHR8dilhfGpicm98amVtdXxqaWdzfGtkZGl8a2VqaXxrZ3QoIHxcXC8pfGtsb258a3B0IHxrd2NcXC18a3lvKGN8ayl8bGUobm98eGkpfGxnKCBnfFxcLyhrfGx8dSl8NTB8NTR8XFwtW2Etd10pfGxpYnd8bHlueHxtMVxcLXd8bTNnYXxtNTBcXC98bWEodGV8dWl8eG8pfG1jKDAxfDIxfGNhKXxtXFwtY3J8bWUocmN8cmkpfG1pKG84fG9hfHRzKXxtbWVmfG1vKDAxfDAyfGJpfGRlfGRvfHQoXFwtfCB8b3x2KXx6eil8bXQoNTB8cDF8diApfG13YnB8bXl3YXxuMTBbMC0yXXxuMjBbMi0zXXxuMzAoMHwyKXxuNTAoMHwyfDUpfG43KDAoMHwxKXwxMCl8bmUoKGN8bSlcXC18b258dGZ8d2Z8d2d8d3QpfG5vayg2fGkpfG56cGh8bzJpbXxvcCh0aXx3dil8b3Jhbnxvd2cxfHA4MDB8cGFuKGF8ZHx0KXxwZHhnfHBnKDEzfFxcLShbMS04XXxjKSl8cGhpbHxwaXJlfHBsKGF5fHVjKXxwblxcLTJ8cG8oY2t8cnR8c2UpfHByb3h8cHNpb3xwdFxcLWd8cWFcXC1hfHFjKDA3fDEyfDIxfDMyfDYwfFxcLVsyLTddfGlcXC0pfHF0ZWt8cjM4MHxyNjAwfHJha3N8cmltOXxybyh2ZXx6byl8czU1XFwvfHNhKGdlfG1hfG1tfG1zfG55fHZhKXxzYygwMXxoXFwtfG9vfHBcXC0pfHNka1xcL3xzZShjKFxcLXwwfDEpfDQ3fG1jfG5kfHJpKXxzZ2hcXC18c2hhcnxzaWUoXFwtfG0pfHNrXFwtMHxzbCg0NXxpZCl8c20oYWx8YXJ8YjN8aXR8dDUpfHNvKGZ0fG55KXxzcCgwMXxoXFwtfHZcXC18diApfHN5KDAxfG1iKXx0MigxOHw1MCl8dDYoMDB8MTB8MTgpfHRhKGd0fGxrKXx0Y2xcXC18dGRnXFwtfHRlbChpfG0pfHRpbVxcLXx0XFwtbW98dG8ocGx8c2gpfHRzKDcwfG1cXC18bTN8bTUpfHR4XFwtOXx1cChcXC5ifGcxfHNpKXx1dHN0fHY0MDB8djc1MHx2ZXJpfHZpKHJnfHRlKXx2ayg0MHw1WzAtM118XFwtdil8dm00MHx2b2RhfHZ1bGN8dngoNTJ8NTN8NjB8NjF8NzB8ODB8ODF8ODN8ODV8OTgpfHczYyhcXC18ICl8d2ViY3x3aGl0fHdpKGcgfG5jfG53KXx3bWxifHdvbnV8eDcwMHx5YXNcXC18eW91cnx6ZXRvfHp0ZVxcLS9pLnRlc3Qoc3RyLnN1YnN0cigwLDQpKSkmJihpc01vYmlsZUJyb3dzZXI9ITApfShuYXZpZ2F0b3IudXNlckFnZW50fHxuYXZpZ2F0b3IudmVuZG9yfHx3aW5kb3cub3BlcmEpLGlzTW9iaWxlQnJvd3Nlcn0sUmljaE1lZGlhfSgpO2V4cG9ydHMuUmljaE1lZGlhPVJpY2hNZWRpYX0sZnVuY3Rpb24obW9kdWxlLGV4cG9ydHMsX193ZWJwYWNrX3JlcXVpcmVfXyl7XCJ1c2Ugc3RyaWN0XCI7KGZ1bmN0aW9uKHByb2Nlc3Mpe3ZhciBfX3NwcmVhZEFycmF5cz10aGlzJiZ0aGlzLl9fc3ByZWFkQXJyYXlzfHxmdW5jdGlvbigpe2Zvcih2YXIgcz0wLGk9MCxpbD1hcmd1bWVudHMubGVuZ3RoO2k8aWw7aSsrKXMrPWFyZ3VtZW50c1tpXS5sZW5ndGg7dmFyIHI9QXJyYXkocyksaz0wO2ZvcihpPTA7aTxpbDtpKyspZm9yKHZhciBhPWFyZ3VtZW50c1tpXSxqPTAsamw9YS5sZW5ndGg7ajxqbDtqKyssaysrKXJba109YVtqXTtyZXR1cm4gcn07T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSk7dmFyIEJyb3dzZXJJbmZvPWZ1bmN0aW9uKCl7cmV0dXJuIGZ1bmN0aW9uKG5hbWUsdmVyc2lvbixvcyl7dGhpcy5uYW1lPW5hbWUsdGhpcy52ZXJzaW9uPXZlcnNpb24sdGhpcy5vcz1vc319KCk7ZXhwb3J0cy5Ccm93c2VySW5mbz1Ccm93c2VySW5mbzt2YXIgTm9kZUluZm89ZnVuY3Rpb24oKXtyZXR1cm4gZnVuY3Rpb24odmVyc2lvbil7dGhpcy52ZXJzaW9uPXZlcnNpb24sdGhpcy5uYW1lPVwibm9kZVwiLHRoaXMub3M9cHJvY2Vzcy5wbGF0Zm9ybX19KCk7ZXhwb3J0cy5Ob2RlSW5mbz1Ob2RlSW5mbzt2YXIgQm90SW5mbz1mdW5jdGlvbigpe3JldHVybiBmdW5jdGlvbigpe3RoaXMuYm90PSEwLHRoaXMubmFtZT1cImJvdFwiLHRoaXMudmVyc2lvbj1udWxsLHRoaXMub3M9bnVsbH19KCk7ZXhwb3J0cy5Cb3RJbmZvPUJvdEluZm87dmFyIFJFUVVJUkVEX1ZFUlNJT05fUEFSVFM9Myx1c2VyQWdlbnRSdWxlcz1bW1wiYW9sXCIsL0FPTFNoaWVsZFxcLyhbMC05XFwuX10rKS9dLFtcImVkZ2VcIiwvRWRnZVxcLyhbMC05XFwuX10rKS9dLFtcImVkZ2UtaW9zXCIsL0VkZ2lPU1xcLyhbMC05XFwuX10rKS9dLFtcInlhbmRleGJyb3dzZXJcIiwvWWFCcm93c2VyXFwvKFswLTlcXC5fXSspL10sW1widml2YWxkaVwiLC9WaXZhbGRpXFwvKFswLTlcXC5dKykvXSxbXCJrYWthb3RhbGtcIiwvS0FLQU9UQUxLXFxzKFswLTlcXC5dKykvXSxbXCJzYW1zdW5nXCIsL1NhbXN1bmdCcm93c2VyXFwvKFswLTlcXC5dKykvXSxbXCJzaWxrXCIsL1xcYlNpbGtcXC8oWzAtOS5fLV0rKVxcYi9dLFtcIm1pdWlcIiwvTWl1aUJyb3dzZXJcXC8oWzAtOVxcLl0rKSQvXSxbXCJiZWFrZXJcIiwvQmVha2VyQnJvd3NlclxcLyhbMC05XFwuXSspL10sW1wiZWRnZS1jaHJvbWl1bVwiLC9FZGdcXC8oWzAtOVxcLl0rKS9dLFtcImNocm9taXVtLXdlYnZpZXdcIiwvKD8hQ2hyb20uKk9QUil3dlxcKS4qQ2hyb20oPzplfGl1bSlcXC8oWzAtOVxcLl0rKSg6P1xcc3wkKS9dLFtcImNocm9tZVwiLC8oPyFDaHJvbS4qT1BSKUNocm9tKD86ZXxpdW0pXFwvKFswLTlcXC5dKykoOj9cXHN8JCkvXSxbXCJwaGFudG9tanNcIiwvUGhhbnRvbUpTXFwvKFswLTlcXC5dKykoOj9cXHN8JCkvXSxbXCJjcmlvc1wiLC9DcmlPU1xcLyhbMC05XFwuXSspKDo/XFxzfCQpL10sW1wiZmlyZWZveFwiLC9GaXJlZm94XFwvKFswLTlcXC5dKykoPzpcXHN8JCkvXSxbXCJmeGlvc1wiLC9GeGlPU1xcLyhbMC05XFwuXSspL10sW1wib3BlcmEtbWluaVwiLC9PcGVyYSBNaW5pLipWZXJzaW9uXFwvKFswLTlcXC5dKykvXSxbXCJvcGVyYVwiLC9PcGVyYVxcLyhbMC05XFwuXSspKD86XFxzfCQpL10sW1wib3BlcmFcIiwvT1BSXFwvKFswLTlcXC5dKykoOj9cXHN8JCkvXSxbXCJpZVwiLC9UcmlkZW50XFwvN1xcLjAuKnJ2XFw6KFswLTlcXC5dKykuKlxcKS4qR2Vja28kL10sW1wiaWVcIiwvTVNJRVxccyhbMC05XFwuXSspOy4qVHJpZGVudFxcL1s0LTddLjAvXSxbXCJpZVwiLC9NU0lFXFxzKDdcXC4wKS9dLFtcImJiMTBcIiwvQkIxMDtcXHNUb3VjaC4qVmVyc2lvblxcLyhbMC05XFwuXSspL10sW1wiYW5kcm9pZFwiLC9BbmRyb2lkXFxzKFswLTlcXC5dKykvXSxbXCJpb3NcIiwvVmVyc2lvblxcLyhbMC05XFwuX10rKS4qTW9iaWxlLipTYWZhcmkuKi9dLFtcInNhZmFyaVwiLC9WZXJzaW9uXFwvKFswLTlcXC5fXSspLipTYWZhcmkvXSxbXCJmYWNlYm9va1wiLC9GQkFWXFwvKFswLTlcXC5dKykvXSxbXCJpbnN0YWdyYW1cIiwvSW5zdGFncmFtXFxzKFswLTlcXC5dKykvXSxbXCJpb3Mtd2Vidmlld1wiLC9BcHBsZVdlYktpdFxcLyhbMC05XFwuXSspLipNb2JpbGUvXSxbXCJpb3Mtd2Vidmlld1wiLC9BcHBsZVdlYktpdFxcLyhbMC05XFwuXSspLipHZWNrb1xcKSQvXSxbXCJzZWFyY2hib3RcIiwvYWxleGF8Ym90fGNyYXdsKGVyfGluZyl8ZmFjZWJvb2tleHRlcm5hbGhpdHxmZWVkYnVybmVyfGdvb2dsZSB3ZWIgcHJldmlld3xuYWdpb3N8cG9zdHJhbmt8cGluZ2RvbXxzbHVycHxzcGlkZXJ8eWFob28hfHlhbmRleC9dXSxvcGVyYXRpbmdTeXN0ZW1SdWxlcz1bW1wiaU9TXCIsL2lQKGhvbmV8b2R8YWQpL10sW1wiQW5kcm9pZCBPU1wiLC9BbmRyb2lkL10sW1wiQmxhY2tCZXJyeSBPU1wiLC9CbGFja0JlcnJ5fEJCMTAvXSxbXCJXaW5kb3dzIE1vYmlsZVwiLC9JRU1vYmlsZS9dLFtcIkFtYXpvbiBPU1wiLC9LaW5kbGUvXSxbXCJXaW5kb3dzIDMuMTFcIiwvV2luMTYvXSxbXCJXaW5kb3dzIDk1XCIsLyhXaW5kb3dzIDk1KXwoV2luOTUpfChXaW5kb3dzXzk1KS9dLFtcIldpbmRvd3MgOThcIiwvKFdpbmRvd3MgOTgpfChXaW45OCkvXSxbXCJXaW5kb3dzIDIwMDBcIiwvKFdpbmRvd3MgTlQgNS4wKXwoV2luZG93cyAyMDAwKS9dLFtcIldpbmRvd3MgWFBcIiwvKFdpbmRvd3MgTlQgNS4xKXwoV2luZG93cyBYUCkvXSxbXCJXaW5kb3dzIFNlcnZlciAyMDAzXCIsLyhXaW5kb3dzIE5UIDUuMikvXSxbXCJXaW5kb3dzIFZpc3RhXCIsLyhXaW5kb3dzIE5UIDYuMCkvXSxbXCJXaW5kb3dzIDdcIiwvKFdpbmRvd3MgTlQgNi4xKS9dLFtcIldpbmRvd3MgOFwiLC8oV2luZG93cyBOVCA2LjIpL10sW1wiV2luZG93cyA4LjFcIiwvKFdpbmRvd3MgTlQgNi4zKS9dLFtcIldpbmRvd3MgMTBcIiwvKFdpbmRvd3MgTlQgMTAuMCkvXSxbXCJXaW5kb3dzIE1FXCIsL1dpbmRvd3MgTUUvXSxbXCJPcGVuIEJTRFwiLC9PcGVuQlNEL10sW1wiU3VuIE9TXCIsL1N1bk9TL10sW1wiQ2hyb21lIE9TXCIsL0NyT1MvXSxbXCJMaW51eFwiLC8oTGludXgpfChYMTEpL10sW1wiTWFjIE9TXCIsLyhNYWNfUG93ZXJQQyl8KE1hY2ludG9zaCkvXSxbXCJRTlhcIiwvUU5YL10sW1wiQmVPU1wiLC9CZU9TL10sW1wiT1MvMlwiLC9PU1xcLzIvXSxbXCJTZWFyY2ggQm90XCIsLyhudWhrKXwoR29vZ2xlYm90KXwoWWFtbXlib3QpfChPcGVuYm90KXwoU2x1cnApfChNU05Cb3QpfChBc2sgSmVldmVzXFwvVGVvbWEpfChpYV9hcmNoaXZlcikvXV07ZnVuY3Rpb24gcGFyc2VVc2VyQWdlbnQodWEpe3ZhciBtYXRjaGVkUnVsZT1cIlwiIT09dWEmJnVzZXJBZ2VudFJ1bGVzLnJlZHVjZShmdW5jdGlvbihtYXRjaGVkLF9hKXt2YXIgYnJvd3Nlcj1fYVswXSxyZWdleD1fYVsxXTtpZihtYXRjaGVkKXJldHVybiBtYXRjaGVkO3ZhciB1YU1hdGNoPXJlZ2V4LmV4ZWModWEpO3JldHVybiEhdWFNYXRjaCYmW2Jyb3dzZXIsdWFNYXRjaF19LCExKTtpZighbWF0Y2hlZFJ1bGUpcmV0dXJuIG51bGw7dmFyIG5hbWU9bWF0Y2hlZFJ1bGVbMF0sbWF0Y2g9bWF0Y2hlZFJ1bGVbMV07aWYoXCJzZWFyY2hib3RcIj09PW5hbWUpcmV0dXJuIG5ldyBCb3RJbmZvO3ZhciB2ZXJzaW9uUGFydHM9bWF0Y2hbMV0mJm1hdGNoWzFdLnNwbGl0KC9bLl9dLykuc2xpY2UoMCwzKTtyZXR1cm4gdmVyc2lvblBhcnRzP3ZlcnNpb25QYXJ0cy5sZW5ndGg8UkVRVUlSRURfVkVSU0lPTl9QQVJUUyYmKHZlcnNpb25QYXJ0cz1fX3NwcmVhZEFycmF5cyh2ZXJzaW9uUGFydHMsZnVuY3Rpb24oY291bnQpe2Zvcih2YXIgb3V0cHV0PVtdLGlpPTA7aWk8Y291bnQ7aWkrKylvdXRwdXQucHVzaChcIjBcIik7cmV0dXJuIG91dHB1dH0oUkVRVUlSRURfVkVSU0lPTl9QQVJUUy12ZXJzaW9uUGFydHMubGVuZ3RoKSkpOnZlcnNpb25QYXJ0cz1bXSxuZXcgQnJvd3NlckluZm8obmFtZSx2ZXJzaW9uUGFydHMuam9pbihcIi5cIiksZGV0ZWN0T1ModWEpKX1mdW5jdGlvbiBkZXRlY3RPUyh1YSl7Zm9yKHZhciBpaT0wLGNvdW50PW9wZXJhdGluZ1N5c3RlbVJ1bGVzLmxlbmd0aDtpaTxjb3VudDtpaSsrKXt2YXIgX2E9b3BlcmF0aW5nU3lzdGVtUnVsZXNbaWldLG9zPV9hWzBdO2lmKF9hWzFdLnRlc3QodWEpKXJldHVybiBvc31yZXR1cm4gbnVsbH1mdW5jdGlvbiBnZXROb2RlVmVyc2lvbigpe3JldHVybiB2b2lkIDAhPT1wcm9jZXNzJiZwcm9jZXNzLnZlcnNpb24/bmV3IE5vZGVJbmZvKHByb2Nlc3MudmVyc2lvbi5zbGljZSgxKSk6bnVsbH1leHBvcnRzLmRldGVjdD1mdW5jdGlvbih1c2VyQWdlbnQpe3JldHVybiB1c2VyQWdlbnQ/cGFyc2VVc2VyQWdlbnQodXNlckFnZW50KTpcInVuZGVmaW5lZFwiIT10eXBlb2YgbmF2aWdhdG9yP3BhcnNlVXNlckFnZW50KG5hdmlnYXRvci51c2VyQWdlbnQpOmdldE5vZGVWZXJzaW9uKCl9LGV4cG9ydHMucGFyc2VVc2VyQWdlbnQ9cGFyc2VVc2VyQWdlbnQsZXhwb3J0cy5kZXRlY3RPUz1kZXRlY3RPUyxleHBvcnRzLmdldE5vZGVWZXJzaW9uPWdldE5vZGVWZXJzaW9ufSkuY2FsbCh0aGlzLF9fd2VicGFja19yZXF1aXJlX18oMjQpKX0sZnVuY3Rpb24obW9kdWxlLGV4cG9ydHMsX193ZWJwYWNrX3JlcXVpcmVfXyl7XCJ1c2Ugc3RyaWN0XCI7T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSk7dmFyIER5bmFtaWNDb250ZW50X2NvbnN0YW50c18xPV9fd2VicGFja19yZXF1aXJlX18oMTM0KSxEeW5hbWljQ29udGVudD1mdW5jdGlvbigpe2Z1bmN0aW9uIER5bmFtaWNDb250ZW50KGNvbnRlbnQsdmFsdWVzLGxhbmd1YWdlKXt0aGlzLmNvbnRlbnQ9Y29udGVudCx0aGlzLnZhbHVlcz12YWx1ZXMsdGhpcy5sYW5ndWFnZT1sYW5ndWFnZX1yZXR1cm4gRHluYW1pY0NvbnRlbnQucHJvdG90eXBlLmdldFJlcGxhY2VkQ29udGVudD1mdW5jdGlvbigpe3ZhciBfdGhpcz10aGlzLHJlZ2V4cD1uZXcgUmVnRXhwKFwiXFxcXHtcXFxce1teXFxcXH1cXFxcfV0qfX1cIixcImdtXCIpO3JldHVybiB0aGlzLmNvbnRlbnQucmVwbGFjZShyZWdleHAsZnVuY3Rpb24oc3Vic3RyaW5nKXt2YXIgcGF0dGVybj1zdWJzdHJpbmcucmVwbGFjZShcIn19XCIsXCJcIikucmVwbGFjZShcInt7XCIsXCJcIik7cmV0dXJuIF90aGlzLmdldFJlc3VsdGluZ0NvbnRlbnQocGF0dGVybil9KX0sRHluYW1pY0NvbnRlbnQucHJvdG90eXBlLmdldFJlc3VsdGluZ0NvbnRlbnQ9ZnVuY3Rpb24ocGF0dGVybil7dmFyIF9hPXBhdHRlcm4uc3BsaXQoXCJ8XCIpLG5hbWU9X2FbMF0sbW9kaWZpZXI9X2FbMV0sX2I9X2FbMl0sdmFsdWU9dm9pZCAwPT09X2I/XCJcIjpfYixoYXNSZXBsYWNlZFZhbHVlQnlDdXJyZW50TGFuZ3VhZ2U9dGhpcy52YWx1ZXMubG9jYWxpemF0aW9uJiZ0aGlzLnZhbHVlcy5sb2NhbGl6YXRpb25bdGhpcy5sYW5ndWFnZV0mJnRoaXMudmFsdWVzLmxvY2FsaXphdGlvblt0aGlzLmxhbmd1YWdlXVtuYW1lXSxoYXNSZXBsYWNlZFZhbHVlQnlEZWZhdWx0TGFuZ3VhZ2U9dGhpcy52YWx1ZXMubG9jYWxpemF0aW9uJiZ0aGlzLnZhbHVlcy5sb2NhbGl6YXRpb25bdGhpcy52YWx1ZXMuZGVmYXVsdF9sYW5ndWFnZV0mJnRoaXMudmFsdWVzLmxvY2FsaXphdGlvblt0aGlzLnZhbHVlcy5kZWZhdWx0X2xhbmd1YWdlXVtuYW1lXTtyZXR1cm4gaGFzUmVwbGFjZWRWYWx1ZUJ5Q3VycmVudExhbmd1YWdlP3ZhbHVlPXRoaXMudmFsdWVzLmxvY2FsaXphdGlvblt0aGlzLmxhbmd1YWdlXVtuYW1lXTpoYXNSZXBsYWNlZFZhbHVlQnlEZWZhdWx0TGFuZ3VhZ2UmJih2YWx1ZT10aGlzLnZhbHVlcy5sb2NhbGl6YXRpb25bdGhpcy52YWx1ZXMuZGVmYXVsdF9sYW5ndWFnZV1bbmFtZV0pLHRoaXMudXBkYXRlU3RyaW5nQnlNb2RpZmllcih2YWx1ZSxtb2RpZmllcil9LER5bmFtaWNDb250ZW50LnByb3RvdHlwZS51cGRhdGVTdHJpbmdCeU1vZGlmaWVyPWZ1bmN0aW9uKHN0cmluZyxtb2RpZmllcil7c3dpdGNoKG1vZGlmaWVyLnRvTG93ZXJDYXNlKCkpe2Nhc2UgRHluYW1pY0NvbnRlbnRfY29uc3RhbnRzXzEuRFlOQU1JQ19DT05URU5UX01PRElGSUVSX0NBUElUQUxJWkVfRklSU1Q6cmV0dXJuIHN0cmluZz0oc3RyaW5nPXN0cmluZy50b0xvd2VyQ2FzZSgpKS5jaGFyQXQoMCkudG9VcHBlckNhc2UoKStzdHJpbmcuc3Vic3RyaW5nKDEpO2Nhc2UgRHluYW1pY0NvbnRlbnRfY29uc3RhbnRzXzEuRFlOQU1JQ19DT05URU5UX01PRElGSUVSX0NBUElUQUxJWkVfQUxMX0ZJUlNUOmZvcih2YXIgYXJyTGV0dGVycz1zdHJpbmcudG9Mb3dlckNhc2UoKS5zcGxpdChcIiBcIiksaT0wO2k8YXJyTGV0dGVycy5sZW5ndGg7aSsrKWFyckxldHRlcnNbaV09YXJyTGV0dGVyc1tpXS5jaGFyQXQoMCkudG9VcHBlckNhc2UoKSthcnJMZXR0ZXJzW2ldLnN1YnN0cmluZygxKTtyZXR1cm4gc3RyaW5nPWFyckxldHRlcnMuam9pbihcIiBcIik7Y2FzZSBEeW5hbWljQ29udGVudF9jb25zdGFudHNfMS5EWU5BTUlDX0NPTlRFTlRfTU9ESUZJRVJfVVBQRVJDQVNFOnJldHVybiBzdHJpbmcudG9VcHBlckNhc2UoKTtjYXNlIER5bmFtaWNDb250ZW50X2NvbnN0YW50c18xLkRZTkFNSUNfQ09OVEVOVF9NT0RJRklFUl9MT1dFUkNBU0U6cmV0dXJuIHN0cmluZy50b0xvd2VyQ2FzZSgpO2RlZmF1bHQ6cmV0dXJuIHN0cmluZ319LER5bmFtaWNDb250ZW50fSgpO2V4cG9ydHMuRHluYW1pY0NvbnRlbnQ9RHluYW1pY0NvbnRlbnR9LGZ1bmN0aW9uKG1vZHVsZSxleHBvcnRzLF9fd2VicGFja19yZXF1aXJlX18pe1widXNlIHN0cmljdFwiO09iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pLGV4cG9ydHMuRFlOQU1JQ19DT05URU5UX01PRElGSUVSX0NBUElUQUxJWkVfRklSU1Q9XCJjYXBpdGFsaXplZmlyc3RcIixleHBvcnRzLkRZTkFNSUNfQ09OVEVOVF9NT0RJRklFUl9DQVBJVEFMSVpFX0FMTF9GSVJTVD1cImNhcGl0YWxpemVhbGxmaXJzdFwiLGV4cG9ydHMuRFlOQU1JQ19DT05URU5UX01PRElGSUVSX1VQUEVSQ0FTRT1cInVwcGVyY2FzZVwiLGV4cG9ydHMuRFlOQU1JQ19DT05URU5UX01PRElGSUVSX0xPV0VSQ0FTRT1cImxvd2VyY2FzZVwifSxmdW5jdGlvbihtb2R1bGUsZXhwb3J0cyxfX3dlYnBhY2tfcmVxdWlyZV9fKXtcInVzZSBzdHJpY3RcIjtPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cyxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KTt2YXIgUmljaE1lZGlhRXhwYW5kZXI9ZnVuY3Rpb24oKXtmdW5jdGlvbiBSaWNoTWVkaWFFeHBhbmRlcihjb250ZW50LGV4cGFuZGVycyl7dm9pZCAwPT09ZXhwYW5kZXJzJiYoZXhwYW5kZXJzPVtdKSx0aGlzLmNvbnRlbnQ9Y29udGVudCx0aGlzLmV4cGFuZGVycz1leHBhbmRlcnN9cmV0dXJuIFJpY2hNZWRpYUV4cGFuZGVyLnByb3RvdHlwZS51cGxvYWRFeHBhbmRlcnM9ZnVuY3Rpb24oKXt2YXIgbWVyZ2U9dGhpcy5leHBhbmRlcnMuam9pbihcIlxcclxcblwiKTtyZXR1cm4gdGhpcy5jb250ZW50LnJlcGxhY2UoXCI8aGVhZD5cIixcIjxoZWFkPlwiK21lcmdlKX0sUmljaE1lZGlhRXhwYW5kZXJ9KCk7ZXhwb3J0cy5SaWNoTWVkaWFFeHBhbmRlcj1SaWNoTWVkaWFFeHBhbmRlcn0sZnVuY3Rpb24obW9kdWxlLGV4cG9ydHMsX193ZWJwYWNrX3JlcXVpcmVfXyl7XCJ1c2Ugc3RyaWN0XCI7dmFyIF9fYXdhaXRlcj10aGlzJiZ0aGlzLl9fYXdhaXRlcnx8ZnVuY3Rpb24odGhpc0FyZyxfYXJndW1lbnRzLFAsZ2VuZXJhdG9yKXtyZXR1cm4gbmV3KFB8fChQPVByb21pc2UpKShmdW5jdGlvbihyZXNvbHZlLHJlamVjdCl7ZnVuY3Rpb24gZnVsZmlsbGVkKHZhbHVlKXt0cnl7c3RlcChnZW5lcmF0b3IubmV4dCh2YWx1ZSkpfWNhdGNoKGUpe3JlamVjdChlKX19ZnVuY3Rpb24gcmVqZWN0ZWQodmFsdWUpe3RyeXtzdGVwKGdlbmVyYXRvci50aHJvdyh2YWx1ZSkpfWNhdGNoKGUpe3JlamVjdChlKX19ZnVuY3Rpb24gc3RlcChyZXN1bHQpe3Jlc3VsdC5kb25lP3Jlc29sdmUocmVzdWx0LnZhbHVlKTpmdW5jdGlvbih2YWx1ZSl7cmV0dXJuIHZhbHVlIGluc3RhbmNlb2YgUD92YWx1ZTpuZXcgUChmdW5jdGlvbihyZXNvbHZlKXtyZXNvbHZlKHZhbHVlKX0pfShyZXN1bHQudmFsdWUpLnRoZW4oZnVsZmlsbGVkLHJlamVjdGVkKX1zdGVwKChnZW5lcmF0b3I9Z2VuZXJhdG9yLmFwcGx5KHRoaXNBcmcsX2FyZ3VtZW50c3x8W10pKS5uZXh0KCkpfSl9LF9fZ2VuZXJhdG9yPXRoaXMmJnRoaXMuX19nZW5lcmF0b3J8fGZ1bmN0aW9uKHRoaXNBcmcsYm9keSl7dmFyIGYseSx0LGcsXz17bGFiZWw6MCxzZW50OmZ1bmN0aW9uKCl7aWYoMSZ0WzBdKXRocm93IHRbMV07cmV0dXJuIHRbMV19LHRyeXM6W10sb3BzOltdfTtyZXR1cm4gZz17bmV4dDp2ZXJiKDApLHRocm93OnZlcmIoMSkscmV0dXJuOnZlcmIoMil9LFwiZnVuY3Rpb25cIj09dHlwZW9mIFN5bWJvbCYmKGdbU3ltYm9sLml0ZXJhdG9yXT1mdW5jdGlvbigpe3JldHVybiB0aGlzfSksZztmdW5jdGlvbiB2ZXJiKG4pe3JldHVybiBmdW5jdGlvbih2KXtyZXR1cm4gZnVuY3Rpb24ob3Ape2lmKGYpdGhyb3cgbmV3IFR5cGVFcnJvcihcIkdlbmVyYXRvciBpcyBhbHJlYWR5IGV4ZWN1dGluZy5cIik7Zm9yKDtfOyl0cnl7aWYoZj0xLHkmJih0PTImb3BbMF0/eS5yZXR1cm46b3BbMF0/eS50aHJvd3x8KCh0PXkucmV0dXJuKSYmdC5jYWxsKHkpLDApOnkubmV4dCkmJiEodD10LmNhbGwoeSxvcFsxXSkpLmRvbmUpcmV0dXJuIHQ7c3dpdGNoKHk9MCx0JiYob3A9WzImb3BbMF0sdC52YWx1ZV0pLG9wWzBdKXtjYXNlIDA6Y2FzZSAxOnQ9b3A7YnJlYWs7Y2FzZSA0OnJldHVybiBfLmxhYmVsKysse3ZhbHVlOm9wWzFdLGRvbmU6ITF9O2Nhc2UgNTpfLmxhYmVsKysseT1vcFsxXSxvcD1bMF07Y29udGludWU7Y2FzZSA3Om9wPV8ub3BzLnBvcCgpLF8udHJ5cy5wb3AoKTtjb250aW51ZTtkZWZhdWx0OmlmKCEodD0odD1fLnRyeXMpLmxlbmd0aD4wJiZ0W3QubGVuZ3RoLTFdKSYmKDY9PT1vcFswXXx8Mj09PW9wWzBdKSl7Xz0wO2NvbnRpbnVlfWlmKDM9PT1vcFswXSYmKCF0fHxvcFsxXT50WzBdJiZvcFsxXTx0WzNdKSl7Xy5sYWJlbD1vcFsxXTticmVha31pZig2PT09b3BbMF0mJl8ubGFiZWw8dFsxXSl7Xy5sYWJlbD10WzFdLHQ9b3A7YnJlYWt9aWYodCYmXy5sYWJlbDx0WzJdKXtfLmxhYmVsPXRbMl0sXy5vcHMucHVzaChvcCk7YnJlYWt9dFsyXSYmXy5vcHMucG9wKCksXy50cnlzLnBvcCgpO2NvbnRpbnVlfW9wPWJvZHkuY2FsbCh0aGlzQXJnLF8pfWNhdGNoKGUpe29wPVs2LGVdLHk9MH1maW5hbGx5e2Y9dD0wfWlmKDUmb3BbMF0pdGhyb3cgb3BbMV07cmV0dXJue3ZhbHVlOm9wWzBdP29wWzFdOnZvaWQgMCxkb25lOiEwfX0oW24sdl0pfX19O09iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pO3ZhciBsb2dnZXJfMT1fX3dlYnBhY2tfcmVxdWlyZV9fKDUpLFVybFBhcnNlcl8xPV9fd2VicGFja19yZXF1aXJlX18oMTM3KSxFeHRlcm5hbFJlc291cmNlc19jb25zdGFudHNfMT1fX3dlYnBhY2tfcmVxdWlyZV9fKDE0MCksRXh0ZXJuYWxSZXNvdXJjZXM9ZnVuY3Rpb24oKXtmdW5jdGlvbiBFeHRlcm5hbFJlc291cmNlcyhjb250ZW50LGpzemlwKXt0aGlzLmNvbnRlbnQ9Y29udGVudCx0aGlzLmpzemlwPWpzemlwfXJldHVybiBFeHRlcm5hbFJlc291cmNlcy5wcm90b3R5cGUuZ2V0UmVwbGFjZWRDb250ZW50PWZ1bmN0aW9uKCl7cmV0dXJuIF9fYXdhaXRlcih0aGlzLHZvaWQgMCx2b2lkIDAsZnVuY3Rpb24oKXt2YXIgX3RoaXM9dGhpcztyZXR1cm4gX19nZW5lcmF0b3IodGhpcyxmdW5jdGlvbihfYSl7cmV0dXJuWzIsdGhpcy5yZXBsYWNlRXh0ZXJuYWxTdHlsZXModGhpcy5jb250ZW50KS50aGVuKGZ1bmN0aW9uKGNvbnRlbnQpe3JldHVybiBfdGhpcy5yZXBsYWNlRXh0ZXJuYWxCYWNrZ3JvdW5kVXJsKGNvbnRlbnQpfSkudGhlbihmdW5jdGlvbihjb250ZW50KXtyZXR1cm4gX3RoaXMucmVwbGFjZUV4dGVybmFsSW1hZ2UoY29udGVudCl9KS50aGVuKGZ1bmN0aW9uKGNvbnRlbnQpe3JldHVybiBfdGhpcy5yZXBsYWNlRXh0ZXJuYWxTY3JpcHQoY29udGVudCl9KV19KX0pfSxFeHRlcm5hbFJlc291cmNlcy5wcm90b3R5cGUucmVwbGFjZUV4dGVybmFsU3R5bGVzPWZ1bmN0aW9uKGNvbnRlbnQsYmFzZSl7cmV0dXJuIHZvaWQgMD09PWJhc2UmJihiYXNlPVwiL1wiKSxfX2F3YWl0ZXIodGhpcyx2b2lkIDAsdm9pZCAwLGZ1bmN0aW9uKCl7dmFyIHBhdHRlcm4sX3RoaXM9dGhpcztyZXR1cm4gX19nZW5lcmF0b3IodGhpcyxmdW5jdGlvbihfYSl7c3dpdGNoKF9hLmxhYmVsKXtjYXNlIDA6cmV0dXJuIHBhdHRlcm49dGhpcy5nZXRTZWFyY2hQYXR0ZXJuKFwic3R5bGVcIiksWzQsdGhpcy5yZXBsYWNlcihjb250ZW50LHBhdHRlcm4sZnVuY3Rpb24oc3Vic3RyaW5nKXtyZXR1cm4gX19hd2FpdGVyKF90aGlzLHZvaWQgMCx2b2lkIDAsZnVuY3Rpb24oKXt2YXIgcGF0aCxjb250ZW50LHJlbGF0aXZlO3JldHVybiBfX2dlbmVyYXRvcih0aGlzLGZ1bmN0aW9uKF9hKXtzd2l0Y2goX2EubGFiZWwpe2Nhc2UgMDpyZXR1cm5bNCx0aGlzLmdldFJlcGxhY2VkRmlsZVBhdGgoc3Vic3RyaW5nLHBhdHRlcm4sRXh0ZXJuYWxSZXNvdXJjZXNfY29uc3RhbnRzXzEuRVhURVJOQUxfUkVTT1VSQ0VTX1JFR0VYUF9TRUNPTkRfR1JPVVAsYmFzZSldO2Nhc2UgMTpyZXR1cm4ocGF0aD1fYS5zZW50KCkpP1s0LHRoaXMuanN6aXAuZmlsZShwYXRoKS5hc3luYyhcInRleHRcIildOlsyLHN1YnN0cmluZ107Y2FzZSAyOnJldHVybiBjb250ZW50PV9hLnNlbnQoKSxyZWxhdGl2ZT1wYXRoLnNwbGl0KFwiL1wiKS5zcGxpY2UoLTEsMSkuam9pbihcIi9cIiksWzQsdGhpcy5yZXBsYWNlRXh0ZXJuYWxCYWNrZ3JvdW5kVXJsKGNvbnRlbnQscmVsYXRpdmUpXTtjYXNlIDM6cmV0dXJuWzIsJzxzdHlsZSB0eXBlPVwidGV4dC9jc3NcIj4nK19hLnNlbnQoKS5yZXBsYWNlKFwiXFxuXCIsXCJcIikrXCI8L3N0eWxlPlwiXX19KX0pfSldO2Nhc2UgMTpyZXR1cm5bMixfYS5zZW50KCldfX0pfSl9LEV4dGVybmFsUmVzb3VyY2VzLnByb3RvdHlwZS5yZXBsYWNlRXh0ZXJuYWxCYWNrZ3JvdW5kVXJsPWZ1bmN0aW9uKGNvbnRlbnQsYmFzZSl7cmV0dXJuIHZvaWQgMD09PWJhc2UmJihiYXNlPVwiL1wiKSxfX2F3YWl0ZXIodGhpcyx2b2lkIDAsdm9pZCAwLGZ1bmN0aW9uKCl7dmFyIHBhdHRlcm4sX3RoaXM9dGhpcztyZXR1cm4gX19nZW5lcmF0b3IodGhpcyxmdW5jdGlvbihfYSl7c3dpdGNoKF9hLmxhYmVsKXtjYXNlIDA6cmV0dXJuIHBhdHRlcm49dGhpcy5nZXRTZWFyY2hQYXR0ZXJuKFwiYmFja2dyb3VuZFVybFwiKSxbNCx0aGlzLnJlcGxhY2VyKGNvbnRlbnQscGF0dGVybixmdW5jdGlvbihzdWJzdHJpbmcpe3JldHVybiBfX2F3YWl0ZXIoX3RoaXMsdm9pZCAwLHZvaWQgMCxmdW5jdGlvbigpe3ZhciBwYXRoLGNvbnRlbnQsZXh0ZW5zaW9uO3JldHVybiBfX2dlbmVyYXRvcih0aGlzLGZ1bmN0aW9uKF9hKXtzd2l0Y2goX2EubGFiZWwpe2Nhc2UgMDpyZXR1cm5bNCx0aGlzLmdldFJlcGxhY2VkRmlsZVBhdGgoc3Vic3RyaW5nLHBhdHRlcm4sRXh0ZXJuYWxSZXNvdXJjZXNfY29uc3RhbnRzXzEuRVhURVJOQUxfUkVTT1VSQ0VTX1JFR0VYUF9TRUNPTkRfR1JPVVAsYmFzZSldO2Nhc2UgMTpyZXR1cm4ocGF0aD1fYS5zZW50KCkpP1s0LHRoaXMuanN6aXAuZmlsZShwYXRoKS5hc3luYyhcImJhc2U2NFwiKV06WzIsc3Vic3RyaW5nXTtjYXNlIDI6cmV0dXJuIGNvbnRlbnQ9X2Euc2VudCgpLFsyLCd1cmwoXCJkYXRhOmltYWdlLycrKFwic3ZnXCI9PT0oZXh0ZW5zaW9uPXBhdGguc3BsaXQoXCIuXCIpLnBvcCgpKT9cInN2Zyt4bWxcIjpleHRlbnNpb24pK1wiO2Jhc2U2NCxcIitjb250ZW50KydcIiknXX19KX0pfSldO2Nhc2UgMTpyZXR1cm5bMixfYS5zZW50KCldfX0pfSl9LEV4dGVybmFsUmVzb3VyY2VzLnByb3RvdHlwZS5yZXBsYWNlRXh0ZXJuYWxJbWFnZT1mdW5jdGlvbihjb250ZW50LGJhc2Upe3JldHVybiB2b2lkIDA9PT1iYXNlJiYoYmFzZT1cIi9cIiksX19hd2FpdGVyKHRoaXMsdm9pZCAwLHZvaWQgMCxmdW5jdGlvbigpe3ZhciBwYXR0ZXJuLF90aGlzPXRoaXM7cmV0dXJuIF9fZ2VuZXJhdG9yKHRoaXMsZnVuY3Rpb24oX2Epe3N3aXRjaChfYS5sYWJlbCl7Y2FzZSAwOnJldHVybiBwYXR0ZXJuPXRoaXMuZ2V0U2VhcmNoUGF0dGVybihcImltYWdlXCIpLFs0LHRoaXMucmVwbGFjZXIoY29udGVudCxwYXR0ZXJuLGZ1bmN0aW9uKHN1YnN0cmluZyl7cmV0dXJuIF9fYXdhaXRlcihfdGhpcyx2b2lkIDAsdm9pZCAwLGZ1bmN0aW9uKCl7dmFyIHBhdGgsY29udGVudCxleHRlbnNpb247cmV0dXJuIF9fZ2VuZXJhdG9yKHRoaXMsZnVuY3Rpb24oX2Epe3N3aXRjaChfYS5sYWJlbCl7Y2FzZSAwOnJldHVybls0LHRoaXMuZ2V0UmVwbGFjZWRGaWxlUGF0aChzdWJzdHJpbmcscGF0dGVybixFeHRlcm5hbFJlc291cmNlc19jb25zdGFudHNfMS5FWFRFUk5BTF9SRVNPVVJDRVNfUkVHRVhQX1NFQ09ORF9HUk9VUCxiYXNlKV07Y2FzZSAxOnJldHVybihwYXRoPV9hLnNlbnQoKSk/WzQsdGhpcy5qc3ppcC5maWxlKHBhdGgpLmFzeW5jKFwiYmFzZTY0XCIpXTpbMixzdWJzdHJpbmddO2Nhc2UgMjpyZXR1cm4gY29udGVudD1fYS5zZW50KCksWzIsJzxpbWcgc3JjPVwiZGF0YTppbWFnZS8nKyhcInN2Z1wiPT09KGV4dGVuc2lvbj1wYXRoLnNwbGl0KFwiLlwiKS5wb3AoKSk/XCJzdmcreG1sXCI6ZXh0ZW5zaW9uKStcIjtiYXNlNjQsXCIrY29udGVudCsnXCIgYWx0PVwiXCI+J119fSl9KX0pXTtjYXNlIDE6cmV0dXJuWzIsX2Euc2VudCgpXX19KX0pfSxFeHRlcm5hbFJlc291cmNlcy5wcm90b3R5cGUucmVwbGFjZUV4dGVybmFsU2NyaXB0PWZ1bmN0aW9uKGNvbnRlbnQsYmFzZSl7cmV0dXJuIHZvaWQgMD09PWJhc2UmJihiYXNlPVwiL1wiKSxfX2F3YWl0ZXIodGhpcyx2b2lkIDAsdm9pZCAwLGZ1bmN0aW9uKCl7dmFyIHBhdHRlcm4sX3RoaXM9dGhpcztyZXR1cm4gX19nZW5lcmF0b3IodGhpcyxmdW5jdGlvbihfYSl7c3dpdGNoKF9hLmxhYmVsKXtjYXNlIDA6cmV0dXJuIHBhdHRlcm49dGhpcy5nZXRTZWFyY2hQYXR0ZXJuKFwic2NyaXB0XCIpLFs0LHRoaXMucmVwbGFjZXIoY29udGVudCxwYXR0ZXJuLGZ1bmN0aW9uKHN1YnN0cmluZyl7cmV0dXJuIF9fYXdhaXRlcihfdGhpcyx2b2lkIDAsdm9pZCAwLGZ1bmN0aW9uKCl7dmFyIHBhdGg7cmV0dXJuIF9fZ2VuZXJhdG9yKHRoaXMsZnVuY3Rpb24oX2Epe3N3aXRjaChfYS5sYWJlbCl7Y2FzZSAwOnJldHVybls0LHRoaXMuZ2V0UmVwbGFjZWRGaWxlUGF0aChzdWJzdHJpbmcscGF0dGVybixFeHRlcm5hbFJlc291cmNlc19jb25zdGFudHNfMS5FWFRFUk5BTF9SRVNPVVJDRVNfUkVHRVhQX1NFQ09ORF9HUk9VUCxiYXNlKV07Y2FzZSAxOnJldHVybihwYXRoPV9hLnNlbnQoKSk/WzQsdGhpcy5qc3ppcC5maWxlKHBhdGgpLmFzeW5jKFwidGV4dFwiKV06WzIsc3Vic3RyaW5nXTtjYXNlIDI6cmV0dXJuWzIsXCI8c2NyaXB0PlwiK19hLnNlbnQoKStcIjxcXC9zY3JpcHQ+XCJdfX0pfSl9KV07Y2FzZSAxOnJldHVyblsyLF9hLnNlbnQoKV19fSl9KX0sRXh0ZXJuYWxSZXNvdXJjZXMucHJvdG90eXBlLmdldFNlYXJjaFBhdHRlcm49ZnVuY3Rpb24odHlwZSl7c3dpdGNoKHR5cGUpe2Nhc2VcInN0eWxlXCI6cmV0dXJuXCI8bGlua1tePl0qaHJlZj0oJ3xcXFwiKShbXj5dKi4oY3NzKSkoJ3xcXFwiKVtePl0qPlwiO2Nhc2VcImJhY2tncm91bmRVcmxcIjpyZXR1cm5cInVybFxcXFxzKlxcXFwoKCd8XFxcIik/KFteKV0qXFxcXC4oZ2lmfGpwZ3xqcGVnfHBuZ3xzdmcpKSgnfFxcXCIpP1xcXFxzKlxcXFwpXCI7Y2FzZVwiaW1hZ2VcIjpyZXR1cm5cIjxpbWdbXlxcXFwvPz5dKnNyYz0oJ3xcXFwiKShbXj5dKlxcXFwuKGdpZnxqcGd8anBlZ3xwbmd8c3ZnKSkoJ3xcXFwiKVteXFxcXC8/Pl0qPlwiO2Nhc2VcInNjcmlwdFwiOnJldHVyblwiPHNjcmlwdFtePl0qc3JjPSgnfFxcXCIpKC4qXFxcXC5qcykoJ3xcXFwiKVtePl0qPihcXFxcbnxcXFxccnxcXFxccykqPFxcXFwvc2NyaXB0PlwifX0sRXh0ZXJuYWxSZXNvdXJjZXMucHJvdG90eXBlLnJlcGxhY2VyPWZ1bmN0aW9uKGNvbnRlbnQscGF0dGVybixjYWxsYmFjayl7cmV0dXJuIF9fYXdhaXRlcih0aGlzLHZvaWQgMCx2b2lkIDAsZnVuY3Rpb24oKXt2YXIgYXJQcm9taXNlcyxyZWdleHAscmVwbGFjZXM7cmV0dXJuIF9fZ2VuZXJhdG9yKHRoaXMsZnVuY3Rpb24oX2Epe3N3aXRjaChfYS5sYWJlbCl7Y2FzZSAwOnJldHVybiBhclByb21pc2VzPVtdLHJlZ2V4cD1uZXcgUmVnRXhwKHBhdHRlcm4sXCJnXCIpLGNvbnRlbnQucmVwbGFjZShyZWdleHAsZnVuY3Rpb24oc3Vic3RyaW5nKXtyZXR1cm4gYXJQcm9taXNlcy5wdXNoKGNhbGxiYWNrKHN1YnN0cmluZykpLHN1YnN0cmluZ30pLFs0LFByb21pc2UuYWxsKGFyUHJvbWlzZXMpXTtjYXNlIDE6cmV0dXJuIHJlcGxhY2VzPV9hLnNlbnQoKSxbMixjb250ZW50LnJlcGxhY2UocmVnZXhwLGZ1bmN0aW9uKCl7cmV0dXJuIHJlcGxhY2VzLnNoaWZ0KCl8fFwiXCJ9KV19fSl9KX0sRXh0ZXJuYWxSZXNvdXJjZXMucHJvdG90eXBlLmdldFJlcGxhY2VkRmlsZVBhdGg9ZnVuY3Rpb24oc3Vic3RyaW5nLHBhdHRlcm4sbWF0Y2hQb3NpdGlvbixiYXNlKXtyZXR1cm4gdm9pZCAwPT09YmFzZSYmKGJhc2U9XCIvXCIpLF9fYXdhaXRlcih0aGlzLHZvaWQgMCx2b2lkIDAsZnVuY3Rpb24oKXt2YXIgcmVnZXhwLG1hdGNoZXMsbWF0Y2gsdXJsLHBhdGg7cmV0dXJuIF9fZ2VuZXJhdG9yKHRoaXMsZnVuY3Rpb24oX2Epe3JldHVybiByZWdleHA9bmV3IFJlZ0V4cChwYXR0ZXJuKSwobWF0Y2hlcz1zdWJzdHJpbmcubWF0Y2gocmVnZXhwKSkmJm1hdGNoZXMubGVuZ3RoPyhtYXRjaD1tYXRjaGVzW21hdGNoUG9zaXRpb25dLCh1cmw9bmV3IFVybFBhcnNlcl8xLlVybFBhcnNlcihtYXRjaCxiYXNlKSkuY2hlY2tJc0Fic29sdXRlUGF0aCgpP1syXToocGF0aD11cmwuZ2V0UmVsYXRpdmVQYXRoKCksdGhpcy5qc3ppcC5maWxlc1twYXRoXT9bMixwYXRoXToobG9nZ2VyXzEuTG9nZ2VyLndyaXRlKFwiZXJyb3JcIiwnTm90IGZvdW5kIGZpbGU6IFwiJytwYXRoKydcIiBmb3IgcmVwbGFjZS4nKSxbMl0pKSk6WzJdfSl9KX0sRXh0ZXJuYWxSZXNvdXJjZXN9KCk7ZXhwb3J0cy5FeHRlcm5hbFJlc291cmNlcz1FeHRlcm5hbFJlc291cmNlc30sZnVuY3Rpb24obW9kdWxlLGV4cG9ydHMsX193ZWJwYWNrX3JlcXVpcmVfXyl7XCJ1c2Ugc3RyaWN0XCI7T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSk7dmFyIHJlc29sdmVyPV9fd2VicGFja19yZXF1aXJlX18oMTM4KSxVcmxQYXJzZXJfY29uc3RhbnRzXzE9X193ZWJwYWNrX3JlcXVpcmVfXygxMzkpLFVybFBhcnNlcj1mdW5jdGlvbigpe2Z1bmN0aW9uIFVybFBhcnNlcih1cmwsYmFzZSl7dm9pZCAwPT09YmFzZSYmKGJhc2U9XCIvXCIpLHRoaXMudXJsPXVybCx0aGlzLmJhc2U9YmFzZX1yZXR1cm4gVXJsUGFyc2VyLnByb3RvdHlwZS5jaGVja0lzQWJzb2x1dGVQYXRoPWZ1bmN0aW9uKCl7cmV0dXJuIG5ldyBSZWdFeHAoXCJeKD86W2Etel0rOik/Ly9cIixcImlcIikudGVzdCh0aGlzLnVybCl9LFVybFBhcnNlci5wcm90b3R5cGUuZ2V0UmVsYXRpdmVQYXRoPWZ1bmN0aW9uKCl7dmFyIHBhdGhXaXRoQmFzZT1yZXNvbHZlcihVcmxQYXJzZXJfY29uc3RhbnRzXzEuVVJMX1BBUlNFUl9QU0VVRE9fRE9NQUlOLHRoaXMuYmFzZSk7cmV0dXJuIHJlc29sdmVyKHBhdGhXaXRoQmFzZSx0aGlzLnVybCkucmVwbGFjZShVcmxQYXJzZXJfY29uc3RhbnRzXzEuVVJMX1BBUlNFUl9QU0VVRE9fRE9NQUlOLFwiXCIpfSxVcmxQYXJzZXJ9KCk7ZXhwb3J0cy5VcmxQYXJzZXI9VXJsUGFyc2VyfSxmdW5jdGlvbihtb2R1bGUsZXhwb3J0cyxfX3dlYnBhY2tfcmVxdWlyZV9fKXtcInVzZSBzdHJpY3RcIjtmdW5jdGlvbiBfYWRkU2xhc2godXJsKXtyZXR1cm4gdXJsKyhcIi9cIj09PXVybFt1cmwubGVuZ3RoLTFdP1wiXCI6XCIvXCIpfWZ1bmN0aW9uIF9wYXRoUmVzb2x2ZShwYXRoKXtsZXQgcGF0aFNwbGl0PXBhdGguc3BsaXQoXCIvXCIpO1wiXCI9PT1wYXRoU3BsaXRbMF0mJihwYXRoU3BsaXQ9cGF0aFNwbGl0LnNsaWNlKDEpKTtsZXQgcmVzdWx0QXJyYXk9W107cmV0dXJuIHBhdGhTcGxpdC5mb3JFYWNoKChjdXJyZW50LGluZGV4KT0+e1wiLlwiIT09Y3VycmVudCYmKFwiLi5cIj09PWN1cnJlbnQ/cmVzdWx0QXJyYXkucG9wKCk6XCJcIiE9PWN1cnJlbnQmJnJlc3VsdEFycmF5LnB1c2goY3VycmVudCkpfSksXCIvXCIrcmVzdWx0QXJyYXkuam9pbihcIi9cIil9bW9kdWxlLmV4cG9ydHM9ZnVuY3Rpb24oYmFzZSxyZWxhdGl2ZSl7aWYoYmFzZT1iYXNlLnRyaW0oKSwocmVsYXRpdmU9cmVsYXRpdmUudHJpbSgpKS5zdGFydHNXaXRoKFwiYWJvdXQ6XCIpKXJldHVybiByZWxhdGl2ZTtpZihcIlwiPT09YmFzZSlyZXR1cm4gX3Nob3VsZEFkZFNsYXNoKHJlbGF0aXZlKT9fYWRkU2xhc2gocmVsYXRpdmUpOnJlbGF0aXZlO2NvbnN0IGJhc2VPYmo9ZnVuY3Rpb24oYmFzZSl7Y29uc3QgcmVzdWx0T2JqZWN0PXtob3N0OlwiXCIscGF0aDpcIlwiLHF1ZXJ5OlwiXCIscHJvdG9jb2w6XCJcIn07bGV0IHBhdGg9YmFzZSxwcm90b2NvbEVuZEluZGV4PWJhc2UuaW5kZXhPZihcIi8vXCIpO2lmKC0xPT09cHJvdG9jb2xFbmRJbmRleCl0aHJvdyBuZXcgRXJyb3IoXCJFcnJvciwgcHJvdG9jb2wgaXMgbm90IHNwZWNpZmllZFwiKTtyZXN1bHRPYmplY3QucHJvdG9jb2w9cGF0aC5zdWJzdHJpbmcoMCxwcm90b2NvbEVuZEluZGV4KSxwcm90b2NvbEVuZEluZGV4Kz0yO2NvbnN0IHBhdGhJbmRleD1iYXNlLmluZGV4T2YoXCIvXCIscHJvdG9jb2xFbmRJbmRleCkscXVlcnlJbmRleD1iYXNlLmluZGV4T2YoXCI/XCIpLGhhc2hJbmRleD1iYXNlLmluZGV4T2YoXCIjXCIpOy0xIT09aGFzaEluZGV4JiYocGF0aD1wYXRoLnN1YnN0cmluZygwLGhhc2hJbmRleCkpO2lmKC0xIT09cXVlcnlJbmRleCl7Y29uc3QgcXVlcnk9cGF0aC5zdWJzdHJpbmcocXVlcnlJbmRleCk7cmVzdWx0T2JqZWN0LnF1ZXJ5PXF1ZXJ5LHBhdGg9cGF0aC5zdWJzdHJpbmcoMCxxdWVyeUluZGV4KX1pZigtMSE9PXBhdGhJbmRleCl7Y29uc3QgaG9zdD1wYXRoLnN1YnN0cmluZygwLHBhdGhJbmRleCk7cmVzdWx0T2JqZWN0Lmhvc3Q9aG9zdCxwYXRoPXBhdGguc3Vic3RyaW5nKHBhdGhJbmRleCkscmVzdWx0T2JqZWN0LnBhdGg9cGF0aH1lbHNlIHJlc3VsdE9iamVjdC5ob3N0PXBhdGg7cmV0dXJuIHJlc3VsdE9iamVjdH0oYmFzZSk7aWYoXCJcIj09PXJlbGF0aXZlKXtjb25zdHtob3N0Omhvc3QscGF0aDpwYXRoLHF1ZXJ5OnF1ZXJ5fT1iYXNlT2JqO3JldHVybiBwYXRofHxxdWVyeT9ob3N0K3BhdGgrcXVlcnk6X2FkZFNsYXNoKGhvc3QpfWNvbnN0IHJlbGF0aXZlT2JqPWZ1bmN0aW9uKHJlbGF0aXZlKXtjb25zdCByZXN1bHRPYmplY3Q9e2hyZWY6cmVsYXRpdmUsaGFzaDpcIlwiLHF1ZXJ5OlwiXCIsbmV0UGF0aDohMSxhYnNvbHV0ZVBhdGg6ITEscmVsYXRpdmVQYXRoOiExfTtpZihfaXNBYnNvbHV0ZS50ZXN0KHJlbGF0aXZlKSlyZXR1cm4gcmVzdWx0T2JqZWN0Lm5ldFBhdGg9ITAscmVzdWx0T2JqZWN0O1wiL1wiPT09cmVsYXRpdmVbMF0/cmVzdWx0T2JqZWN0LmFic29sdXRlUGF0aD0hMDpyZXN1bHRPYmplY3QucmVsYXRpdmVQYXRoPSEwO2xldCBwYXRoPXJlbGF0aXZlO2NvbnN0IHF1ZXJ5SW5kZXg9cmVsYXRpdmUuaW5kZXhPZihcIj9cIiksaGFzaEluZGV4PXJlbGF0aXZlLmluZGV4T2YoXCIjXCIpO2lmKC0xIT09aGFzaEluZGV4KXtjb25zdCBoYXNoPXBhdGguc3Vic3RyaW5nKGhhc2hJbmRleCk7cmVzdWx0T2JqZWN0Lmhhc2g9aGFzaCxwYXRoPXBhdGguc3Vic3RyaW5nKDAsaGFzaEluZGV4KX1pZigtMSE9PXF1ZXJ5SW5kZXgpe2NvbnN0IHF1ZXJ5PXBhdGguc3Vic3RyaW5nKHF1ZXJ5SW5kZXgpO3Jlc3VsdE9iamVjdC5xdWVyeT1xdWVyeSxwYXRoPXBhdGguc3Vic3RyaW5nKDAscXVlcnlJbmRleCl9cmV0dXJuIHJlc3VsdE9iamVjdC5wYXRoPXBhdGgscmVzdWx0T2JqZWN0fShyZWxhdGl2ZSk7aWYocmVsYXRpdmVPYmoubmV0UGF0aClyZXR1cm4gZnVuY3Rpb24odXJsKXtyZXR1cm4gdXJsLnN0YXJ0c1dpdGgoXCIvL1wiKX0ocmVsYXRpdmVPYmouaHJlZikmJihyZWxhdGl2ZU9iai5ocmVmPWJhc2VPYmoucHJvdG9jb2wrcmVsYXRpdmVPYmouaHJlZiksX3Nob3VsZEFkZFNsYXNoKHJlbGF0aXZlT2JqLmhyZWYpP19hZGRTbGFzaChyZWxhdGl2ZU9iai5ocmVmKTpyZWxhdGl2ZU9iai5ocmVmO2lmKHJlbGF0aXZlT2JqLmFic29sdXRlUGF0aCl7Y29uc3R7cGF0aDpwYXRoLHF1ZXJ5OnF1ZXJ5LGhhc2g6aGFzaH09cmVsYXRpdmVPYmo7cmV0dXJuIGJhc2VPYmouaG9zdCtfcGF0aFJlc29sdmUocGF0aCkrcXVlcnkraGFzaH1pZihyZWxhdGl2ZU9iai5yZWxhdGl2ZVBhdGgpe2NvbnN0e3BhdGg6cGF0aCxxdWVyeTpxdWVyeSxoYXNoOmhhc2h9PXJlbGF0aXZlT2JqO2xldCByZXNvbHZlUGF0aCxiYXNlUGF0aD1iYXNlT2JqLnBhdGgscmVzdWx0U3RyaW5nPWJhc2VPYmouaG9zdDtyZXR1cm4gMD09PXBhdGgubGVuZ3RoP3Jlc29sdmVQYXRoPWJhc2VQYXRoOihiYXNlUGF0aD1iYXNlUGF0aC5zdWJzdHJpbmcoMCxiYXNlUGF0aC5sYXN0SW5kZXhPZihcIi9cIikpLHJlc29sdmVQYXRoPV9wYXRoUmVzb2x2ZShiYXNlUGF0aCtcIi9cIitwYXRoKSkscmVzdWx0U3RyaW5nKz1cIlwiIT09cmVzb2x2ZVBhdGh8fHF1ZXJ5fHxoYXNoP3Jlc29sdmVQYXRoK3F1ZXJ5K2hhc2g6XCIvXCJ9fTtjb25zdCBfaXNBYnNvbHV0ZT1uZXcgUmVnRXhwKFwiXihbYS16XVthLXowLTkrLi1dKjopPy8vXCIsXCJpXCIpO2Z1bmN0aW9uIF9zaG91bGRBZGRTbGFzaCh1cmwpe2NvbnN0IHByb3RvY29sSW5kZXg9dXJsLmluZGV4T2YoXCIvL1wiKSsyLG5vUGF0aD0hdXJsLmluY2x1ZGVzKFwiL1wiLHByb3RvY29sSW5kZXgpLG5vUXVlcnk9IXVybC5pbmNsdWRlcyhcIj9cIixwcm90b2NvbEluZGV4KSxub0hhc2g9IXVybC5pbmNsdWRlcyhcIiNcIixwcm90b2NvbEluZGV4KTtyZXR1cm4gbm9QYXRoJiZub1F1ZXJ5JiZub0hhc2h9fSxmdW5jdGlvbihtb2R1bGUsZXhwb3J0cyxfX3dlYnBhY2tfcmVxdWlyZV9fKXtcInVzZSBzdHJpY3RcIjtPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cyxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KSxleHBvcnRzLlVSTF9QQVJTRVJfUFNFVURPX0RPTUFJTj1cImh0dHBzOi8vcHVzaHdvb3NoLmNvbS9cIn0sZnVuY3Rpb24obW9kdWxlLGV4cG9ydHMsX193ZWJwYWNrX3JlcXVpcmVfXyl7XCJ1c2Ugc3RyaWN0XCI7T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSksZXhwb3J0cy5FWFRFUk5BTF9SRVNPVVJDRVNfUkVHRVhQX1NFQ09ORF9HUk9VUD0yfSxmdW5jdGlvbihtb2R1bGUsZXhwb3J0cyxfX3dlYnBhY2tfcmVxdWlyZV9fKXtcInVzZSBzdHJpY3RcIjtPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cyxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KTt2YXIgUmljaE1lZGlhUHVzaHdvb3NoU2VuZE1lc3NhZ2VfaHRtbF8xPV9fd2VicGFja19yZXF1aXJlX18oMTQyKTtleHBvcnRzLkV4cGFuZGVyUHVzaHdvb3NoU2VuZE1lc3NhZ2U9UmljaE1lZGlhUHVzaHdvb3NoU2VuZE1lc3NhZ2VfaHRtbF8xLmRlZmF1bHQ7dmFyIFJpY2hNZWRpYVB1c2h3b29zaF9odG1sXzE9X193ZWJwYWNrX3JlcXVpcmVfXygxNDMpO2V4cG9ydHMuRXhwYW5kZXJQdXNod29vc2g9UmljaE1lZGlhUHVzaHdvb3NoX2h0bWxfMS5kZWZhdWx0O3ZhciBSaWNoTWVkaWFQdXNoTWFuYWdlcl9odG1sXzE9X193ZWJwYWNrX3JlcXVpcmVfXygxNDQpO2V4cG9ydHMuRXhwYW5kZXJQdXNoTWFuYWdlcj1SaWNoTWVkaWFQdXNoTWFuYWdlcl9odG1sXzEuZGVmYXVsdH0sZnVuY3Rpb24obW9kdWxlLF9fd2VicGFja19leHBvcnRzX18sX193ZWJwYWNrX3JlcXVpcmVfXyl7XCJ1c2Ugc3RyaWN0XCI7X193ZWJwYWNrX3JlcXVpcmVfXy5yKF9fd2VicGFja19leHBvcnRzX18pLF9fd2VicGFja19leHBvcnRzX18uZGVmYXVsdD0nPHNjcmlwdCB0eXBlPVwidGV4dC9qYXZhc2NyaXB0XCI+XFxuICBmdW5jdGlvbiBQdXNod29vc2hTZW5kTWVzc2FnZShtZXNzYWdlLCBzdWNjZXNzLCBmYWlsdXJlKSB7XFxuICAgIHZhciBjb2RlID0gdXVpZHY0KCk7XFxuXFxuICAgIGlmIChzdWNjZXNzKSB7XFxuICAgICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoXFwnbWVzc2FnZVxcJywgZnVuY3Rpb24gKGV2ZW50KSB7XFxuICAgICAgICBpZiAoIWV2ZW50LnNvdXJjZSkge1xcbiAgICAgICAgICByZXR1cm47XFxuICAgICAgICB9XFxuXFxuICAgICAgICBpZiAod2luZG93LnRvcCA9PT0gZXZlbnQuc291cmNlLnBhcmVudCkge1xcbiAgICAgICAgICB0cnkge1xcbiAgICAgICAgICAgIGNvbnN0IGRhdGEgPSBKU09OLnBhcnNlKGV2ZW50LmRhdGEpO1xcblxcbiAgICAgICAgICAgIGlmIChkYXRhICYmIGRhdGEuY29kZSA9PT0gY29kZSkge1xcbiAgICAgICAgICAgICAgc3VjY2VzcyAmJiBzdWNjZXNzKGRhdGEpO1xcbiAgICAgICAgICAgIH1cXG4gICAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcXG4gICAgICAgICAgICBmYWlsdXJlICYmIGZhaWx1cmUoZXJyb3IpO1xcbiAgICAgICAgICB9XFxuICAgICAgICB9XFxuICAgICAgfSk7XFxuICAgIH1cXG5cXG4gICAgdmFyIGRhdGEgPSBPYmplY3QuYXNzaWduKFxcbiAgICAgIG1lc3NhZ2UsXFxuICAgICAge1xcbiAgICAgICAgY29kZTogY29kZVxcbiAgICAgIH1cXG4gICAgKTtcXG5cXG4gICAgd2luZG93LnBhcmVudC5wb3N0TWVzc2FnZShKU09OLnN0cmluZ2lmeShkYXRhKSwgXCIqXCIpO1xcblxcbiAgICBmdW5jdGlvbiB1dWlkdjQoKSB7XFxuICAgICAgcmV0dXJuIFwieHh4eHh4eHgteHh4eC00eHh4LXl4eHgteHh4eHh4eHh4eHh4XCIucmVwbGFjZSgvW3h5XS9nLCBmdW5jdGlvbiAoYykge1xcbiAgICAgICAgdmFyIHIgPSAoTWF0aC5yYW5kb20oKSAqIDE2KSB8IDAsXFxuICAgICAgICAgIHYgPSBjID09IFwieFwiID8gciA6IChyICYgMHgzKSB8IDB4ODtcXG4gICAgICAgIHJldHVybiB2LnRvU3RyaW5nKDE2KTtcXG4gICAgICB9KTtcXG4gICAgfVxcbiAgfVxcbjxcXC9zY3JpcHQ+XFxuJ30sZnVuY3Rpb24obW9kdWxlLF9fd2VicGFja19leHBvcnRzX18sX193ZWJwYWNrX3JlcXVpcmVfXyl7XCJ1c2Ugc3RyaWN0XCI7X193ZWJwYWNrX3JlcXVpcmVfXy5yKF9fd2VicGFja19leHBvcnRzX18pLF9fd2VicGFja19leHBvcnRzX18uZGVmYXVsdD1cIjxzY3JpcHQgdHlwZT1cXFwidGV4dC9qYXZhc2NyaXB0XFxcIj5cXG4gIGZ1bmN0aW9uIFB1c2h3b29zaEJyaWRnZSgpIHtcXG4gICAgdmFyIHNlbGYgPSB0aGlzO1xcblxcbiAgICBzZWxmLmlzV2ViU0RLID0gdHJ1ZTtcXG4gICAgc2VsZi5pc1NhZmFyaSA9IG5hdmlnYXRvci51c2VyQWdlbnQudG9Mb3dlckNhc2UoKS5pbmRleE9mKCdzYWZhcmknKSAhPT0gLTFcXG4gICAgICAmJiBuYXZpZ2F0b3IudXNlckFnZW50LnRvTG93ZXJDYXNlKCkuaW5kZXhPZignY2hyb21lJykgPT09IC0xO1xcblxcbiAgICBzZWxmLnJlZ2lzdGVyRm9yUHVzaE5vdGlmaWNhdGlvbnMgPSBmdW5jdGlvbiAoKSB7XFxuICAgICAgUHVzaHdvb3NoU2VuZE1lc3NhZ2Uoe1xcbiAgICAgICAgbWV0aG9kOiAnc3Vic2NyaWJlJyxcXG4gICAgICB9KVxcbiAgICB9O1xcblxcbiAgICBzZWxmLnVucmVnaXN0ZXJGb3JQdXNoTm90aWZpY2F0aW9ucyA9IGZ1bmN0aW9uICgpIHtcXG4gICAgICBQdXNod29vc2hTZW5kTWVzc2FnZSh7XFxuICAgICAgICBtZXRob2Q6ICd1bnN1YnNjcmliZScsXFxuICAgICAgfSk7XFxuICAgIH07XFxuXFxuICAgIHNlbGYuZ2V0VGFncyA9IGZ1bmN0aW9uIChvblN1Y2Nlc3NDYWxsYmFjaykge1xcbiAgICAgIFB1c2h3b29zaFNlbmRNZXNzYWdlKHtcXG4gICAgICAgIG1ldGhvZDogJ2dldFRhZ3MnLFxcbiAgICAgIH0sIGZ1bmN0aW9uIChyZXN1bHQpIHtcXG4gICAgICAgIG9uU3VjY2Vzc0NhbGxiYWNrKHJlc3VsdCAmJiByZXN1bHQudGFncyk7XFxuICAgICAgfSlcXG4gICAgfTtcXG5cXG4gICAgc2VsZi5zZW5kVGFncyA9IGZ1bmN0aW9uICh0YWdzKSB7XFxuICAgICAgUHVzaHdvb3NoU2VuZE1lc3NhZ2Uoe1xcbiAgICAgICAgbWV0aG9kOiAnc2V0VGFncycsXFxuICAgICAgICBvcHRpb25zOiB7XFxuICAgICAgICAgIHRhZ3M6IHRhZ3NcXG4gICAgICAgIH0sXFxuICAgICAgfSk7XFxuICAgIH07XFxuXFxuICAgIHNlbGYuaXNSZWdpc3RlcmVkRm9yUHVzaE5vdGlmaWNhdGlvbnMgPSBmdW5jdGlvbiAob25TdWNjZXNzQ2FsbGJhY2spIHtcXG4gICAgICBQdXNod29vc2hTZW5kTWVzc2FnZSh7XFxuICAgICAgICBtZXRob2Q6ICdjaGVja1N1YnNjcmlwdGlvbicsXFxuICAgICAgfSwgZnVuY3Rpb24gKHJlc3VsdCkge1xcbiAgICAgICAgb25TdWNjZXNzQ2FsbGJhY2socmVzdWx0LnN0YXRlKVxcbiAgICAgIH0pO1xcbiAgICB9O1xcblxcbiAgICBzZWxmLmlzTWFudWFsVW5yZWdpc3RlckZvclB1c2hOb3RpZmljYXRpb25zID0gZnVuY3Rpb24gKG9uU3VjY2Vzc0NhbGxiYWNrKSB7XFxuICAgICAgUHVzaHdvb3NoU2VuZE1lc3NhZ2Uoe1xcbiAgICAgICAgbWV0aG9kOiAnY2hlY2tNYW51YWxVbnN1YnNjcmliZWQnLFxcbiAgICAgIH0sIGZ1bmN0aW9uIChyZXN1bHQpIHtcXG4gICAgICAgIG9uU3VjY2Vzc0NhbGxiYWNrKHJlc3VsdC5zdGF0ZSlcXG4gICAgICB9KTtcXG4gICAgfTtcXG5cXG4gICAgc2VsZi5nZXRDaGFubmVscyA9IGZ1bmN0aW9uIChvblN1Y2Nlc3NDYWxsYmFjaykge1xcbiAgICAgIFB1c2h3b29zaFNlbmRNZXNzYWdlKHtcXG4gICAgICAgIG1ldGhvZDogJ2dldENoYW5uZWxzJyxcXG4gICAgICB9LCBmdW5jdGlvbiAocmVzdWx0KSB7XFxuICAgICAgICBvblN1Y2Nlc3NDYWxsYmFjayhyZXN1bHQuY2hhbm5lbHMpXFxuICAgICAgfSk7XFxuICAgIH07XFxuICB9XFxuXFxuICB3aW5kb3cucHVzaHdvb3NoID0gbmV3IFB1c2h3b29zaEJyaWRnZSgpO1xcbjxcXC9zY3JpcHQ+XFxuXCJ9LGZ1bmN0aW9uKG1vZHVsZSxfX3dlYnBhY2tfZXhwb3J0c19fLF9fd2VicGFja19yZXF1aXJlX18pe1widXNlIHN0cmljdFwiO19fd2VicGFja19yZXF1aXJlX18ucihfX3dlYnBhY2tfZXhwb3J0c19fKSxfX3dlYnBhY2tfZXhwb3J0c19fLmRlZmF1bHQ9XCI8c2NyaXB0IHR5cGU9XFxcInRleHQvamF2YXNjcmlwdFxcXCI+XFxuICBmdW5jdGlvbiBQdXNod29vc2hQdXNoTWFuYWdlckJyaWRnZSgpIHtcXG4gICAgdmFyIHNlbGYgPSB0aGlzO1xcbiAgICB2YXIgYWJzb2x1dGVVUkxQYXR0ZXJuID0gbmV3IFJlZ0V4cCgnXig/OlthLXpdKzopPy8vJywgJ2knKTtcXG5cXG4gICAgc2VsZi5jbG9zZUluQXBwID0gZnVuY3Rpb24gKG9wdGlvbnMpIHtcXG4gICAgICBQdXNod29vc2hTZW5kTWVzc2FnZSh7XFxuICAgICAgICBtZXRob2Q6ICdjbG9zZUluQXBwJyxcXG4gICAgICAgIG9wdGlvbnM6IG9wdGlvbnMsXFxuICAgICAgfSk7XFxuICAgIH07XFxuXFxuICAgIHNlbGYub3BlbkxpbmsgPSBmdW5jdGlvbiAob3B0aW9ucykge1xcbiAgICAgIFB1c2h3b29zaFNlbmRNZXNzYWdlKHtcXG4gICAgICAgIG1ldGhvZDogJ29wZW5MaW5rJyxcXG4gICAgICAgIG9wdGlvbnM6IG9wdGlvbnMsXFxuICAgICAgfSk7XFxuICAgIH07XFxuXFxuICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdsb2FkJywgZnVuY3Rpb24gKCkge1xcbiAgICAgIHZhciBjbG9zZUxpbmtzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnYVtocmVmPVxcXCJwdXNod29vc2g6Ly9jbG9zZVxcXCJdJyk7XFxuICAgICAgdmFyIG90aGVyTGlua3MgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCdhOm5vdChbaHJlZj1cXFwicHVzaHdvb3NoOi8vY2xvc2VcXFwiXSknKTtcXG5cXG4gICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGNsb3NlTGlua3MubGVuZ3RoOyBpKyspIHtcXG4gICAgICAgIGNsb3NlTGlua3NbaV0uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBmdW5jdGlvbiAoZXZlbnQpIHtcXG4gICAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcXG5cXG4gICAgICAgICAgc2VsZi5jbG9zZUluQXBwKCk7XFxuICAgICAgICB9KTtcXG4gICAgICB9XFxuXFxuICAgICAgZm9yICh2YXIgaiA9IDA7IGogPCBvdGhlckxpbmtzLmxlbmd0aDsgaisrKSB7XFxuICAgICAgICB2YXIgaHJlZiA9IG90aGVyTGlua3Nbal0uZ2V0QXR0cmlidXRlKCdocmVmJyk7XFxuXFxuICAgICAgICBpZiAoYWJzb2x1dGVVUkxQYXR0ZXJuLnRlc3QoaHJlZikpIHtcXG4gICAgICAgICAgb3RoZXJMaW5rc1tqXS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGZ1bmN0aW9uIChldmVudCkge1xcbiAgICAgICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XFxuXFxuICAgICAgICAgICAgc2VsZi5vcGVuTGluayh7XFxuICAgICAgICAgICAgICBocmVmOiBldmVudC50YXJnZXQuaHJlZlxcbiAgICAgICAgICAgIH0pO1xcblxcbiAgICAgICAgICAgIHNlbGYuY2xvc2VJbkFwcCgpO1xcbiAgICAgICAgICB9KTtcXG4gICAgICAgIH1cXG4gICAgICB9XFxuICAgIH0pO1xcbiAgfVxcblxcbiAgd2luZG93LnB1c2hNYW5hZ2VyID0gbmV3IFB1c2h3b29zaFB1c2hNYW5hZ2VyQnJpZGdlKCk7XFxuPFxcL3NjcmlwdD5cXG5cIn0sZnVuY3Rpb24obW9kdWxlLGV4cG9ydHMsX193ZWJwYWNrX3JlcXVpcmVfXyl7XCJ1c2Ugc3RyaWN0XCI7dmFyIF9fYXdhaXRlcj10aGlzJiZ0aGlzLl9fYXdhaXRlcnx8ZnVuY3Rpb24odGhpc0FyZyxfYXJndW1lbnRzLFAsZ2VuZXJhdG9yKXtyZXR1cm4gbmV3KFB8fChQPVByb21pc2UpKShmdW5jdGlvbihyZXNvbHZlLHJlamVjdCl7ZnVuY3Rpb24gZnVsZmlsbGVkKHZhbHVlKXt0cnl7c3RlcChnZW5lcmF0b3IubmV4dCh2YWx1ZSkpfWNhdGNoKGUpe3JlamVjdChlKX19ZnVuY3Rpb24gcmVqZWN0ZWQodmFsdWUpe3RyeXtzdGVwKGdlbmVyYXRvci50aHJvdyh2YWx1ZSkpfWNhdGNoKGUpe3JlamVjdChlKX19ZnVuY3Rpb24gc3RlcChyZXN1bHQpe3Jlc3VsdC5kb25lP3Jlc29sdmUocmVzdWx0LnZhbHVlKTpmdW5jdGlvbih2YWx1ZSl7cmV0dXJuIHZhbHVlIGluc3RhbmNlb2YgUD92YWx1ZTpuZXcgUChmdW5jdGlvbihyZXNvbHZlKXtyZXNvbHZlKHZhbHVlKX0pfShyZXN1bHQudmFsdWUpLnRoZW4oZnVsZmlsbGVkLHJlamVjdGVkKX1zdGVwKChnZW5lcmF0b3I9Z2VuZXJhdG9yLmFwcGx5KHRoaXNBcmcsX2FyZ3VtZW50c3x8W10pKS5uZXh0KCkpfSl9LF9fZ2VuZXJhdG9yPXRoaXMmJnRoaXMuX19nZW5lcmF0b3J8fGZ1bmN0aW9uKHRoaXNBcmcsYm9keSl7dmFyIGYseSx0LGcsXz17bGFiZWw6MCxzZW50OmZ1bmN0aW9uKCl7aWYoMSZ0WzBdKXRocm93IHRbMV07cmV0dXJuIHRbMV19LHRyeXM6W10sb3BzOltdfTtyZXR1cm4gZz17bmV4dDp2ZXJiKDApLHRocm93OnZlcmIoMSkscmV0dXJuOnZlcmIoMil9LFwiZnVuY3Rpb25cIj09dHlwZW9mIFN5bWJvbCYmKGdbU3ltYm9sLml0ZXJhdG9yXT1mdW5jdGlvbigpe3JldHVybiB0aGlzfSksZztmdW5jdGlvbiB2ZXJiKG4pe3JldHVybiBmdW5jdGlvbih2KXtyZXR1cm4gZnVuY3Rpb24ob3Ape2lmKGYpdGhyb3cgbmV3IFR5cGVFcnJvcihcIkdlbmVyYXRvciBpcyBhbHJlYWR5IGV4ZWN1dGluZy5cIik7Zm9yKDtfOyl0cnl7aWYoZj0xLHkmJih0PTImb3BbMF0/eS5yZXR1cm46b3BbMF0/eS50aHJvd3x8KCh0PXkucmV0dXJuKSYmdC5jYWxsKHkpLDApOnkubmV4dCkmJiEodD10LmNhbGwoeSxvcFsxXSkpLmRvbmUpcmV0dXJuIHQ7c3dpdGNoKHk9MCx0JiYob3A9WzImb3BbMF0sdC52YWx1ZV0pLG9wWzBdKXtjYXNlIDA6Y2FzZSAxOnQ9b3A7YnJlYWs7Y2FzZSA0OnJldHVybiBfLmxhYmVsKysse3ZhbHVlOm9wWzFdLGRvbmU6ITF9O2Nhc2UgNTpfLmxhYmVsKysseT1vcFsxXSxvcD1bMF07Y29udGludWU7Y2FzZSA3Om9wPV8ub3BzLnBvcCgpLF8udHJ5cy5wb3AoKTtjb250aW51ZTtkZWZhdWx0OmlmKCEodD0odD1fLnRyeXMpLmxlbmd0aD4wJiZ0W3QubGVuZ3RoLTFdKSYmKDY9PT1vcFswXXx8Mj09PW9wWzBdKSl7Xz0wO2NvbnRpbnVlfWlmKDM9PT1vcFswXSYmKCF0fHxvcFsxXT50WzBdJiZvcFsxXTx0WzNdKSl7Xy5sYWJlbD1vcFsxXTticmVha31pZig2PT09b3BbMF0mJl8ubGFiZWw8dFsxXSl7Xy5sYWJlbD10WzFdLHQ9b3A7YnJlYWt9aWYodCYmXy5sYWJlbDx0WzJdKXtfLmxhYmVsPXRbMl0sXy5vcHMucHVzaChvcCk7YnJlYWt9dFsyXSYmXy5vcHMucG9wKCksXy50cnlzLnBvcCgpO2NvbnRpbnVlfW9wPWJvZHkuY2FsbCh0aGlzQXJnLF8pfWNhdGNoKGUpe29wPVs2LGVdLHk9MH1maW5hbGx5e2Y9dD0wfWlmKDUmb3BbMF0pdGhyb3cgb3BbMV07cmV0dXJue3ZhbHVlOm9wWzBdP29wWzFdOnZvaWQgMCxkb25lOiEwfX0oW24sdl0pfX19O09iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pO3ZhciBjb25zdGFudHNfMT1fX3dlYnBhY2tfcmVxdWlyZV9fKDEpLFBsYXRmb3JtQ2hlY2tlcl8xPV9fd2VicGFja19yZXF1aXJlX18oMjEpLGNvbnN0YW50c18yPV9fd2VicGFja19yZXF1aXJlX18oNzYpLHBvc2l0aW9uaW5nXzE9X193ZWJwYWNrX3JlcXVpcmVfXygxNDYpLGJlbGxfMT1fX3dlYnBhY2tfcmVxdWlyZV9fKDE0Nyksc3RvcmFnZV8xPV9fd2VicGFja19yZXF1aXJlX18oMyksU3Vic2NyaWJlV2lkZ2V0PWZ1bmN0aW9uKCl7ZnVuY3Rpb24gU3Vic2NyaWJlV2lkZ2V0KHB3KXt2YXIgX3RoaXM9dGhpcztpZih0aGlzLnB3PXB3LFBsYXRmb3JtQ2hlY2tlcl8xLmRlZmF1bHQuaXNBdmFpbGFibGVOb3RpZmljYXRpb25zKXt0aGlzLmNsaWNrQmVsbD10aGlzLmNsaWNrQmVsbC5iaW5kKHRoaXMpLHRoaXMub25TdWJzY3JpYmVFdmVudD10aGlzLm9uU3Vic2NyaWJlRXZlbnQuYmluZCh0aGlzKSx0aGlzLm9uVW5zdWJzY3JpYmVFdmVudD10aGlzLm9uVW5zdWJzY3JpYmVFdmVudC5iaW5kKHRoaXMpLHRoaXMub25QZXJtaXNzaW9uRGVuaWVkRXZlbnQ9dGhpcy5vblBlcm1pc3Npb25EZW5pZWRFdmVudC5iaW5kKHRoaXMpLHRoaXMuY2xpY2tPdXRPZlBvcG92ZXI9dGhpcy5jbGlja091dE9mUG9wb3Zlci5iaW5kKHRoaXMpLHRoaXMub25DbGlja0JlbGxJZkVuYWJsZUNoYW5uZWxzPXRoaXMub25DbGlja0JlbGxJZkVuYWJsZUNoYW5uZWxzLmJpbmQodGhpcyk7dmFyIHRvb2x0aXBUZXh0PU9iamVjdC5hc3NpZ24oY29uc3RhbnRzXzIuU1VCU0NSSUJFX1dJREdFVF9ERUZBVUxUX0NPTkZJRy50b29sdGlwVGV4dCx0aGlzLnB3LnN1YnNjcmliZVdpZGdldENvbmZpZy50b29sdGlwVGV4dCk7dGhpcy5jb25maWc9T2JqZWN0LmFzc2lnbihjb25zdGFudHNfMi5TVUJTQ1JJQkVfV0lER0VUX0RFRkFVTFRfQ09ORklHLHRoaXMucHcuc3Vic2NyaWJlV2lkZ2V0Q29uZmlnKSx0aGlzLmNvbmZpZy50b29sdGlwVGV4dD10b29sdGlwVGV4dDt2YXIgYXJyQWN0aW9ucz1bXSxpc0VuYWJsZUNoYW5uZWxzPXRoaXMucHcuaXNFbmFibGVDaGFubmVscygpLGlzU3Vic2NyaWJlZD10aGlzLnB3LmlzU3Vic2NyaWJlZCgpO2FyckFjdGlvbnMucHVzaChpc0VuYWJsZUNoYW5uZWxzKSxhcnJBY3Rpb25zLnB1c2goaXNTdWJzY3JpYmVkKSxQcm9taXNlLmFsbChhcnJBY3Rpb25zKS50aGVuKGZ1bmN0aW9uKF9hKXt2YXIgaXNFbmFibGVDaGFubmVscz1fYVswXSxpc1N1YnNjcmliZWQ9X2FbMV07aXNFbmFibGVDaGFubmVscyYmKF90aGlzLmlzRW5hYmxlQ2hhbm5lbHM9ITApLGlzU3Vic2NyaWJlZCYmIWlzRW5hYmxlQ2hhbm5lbHN8fF90aGlzLnJlbmRlcigpfSl9ZWxzZSBjb25zb2xlLndhcm4oXCJCcm93c2VyIGRvZXMgbm90IHN1cHBvcnQgcHVzaCBub3RpZmljYXRpb25zXCIpfXJldHVybiBTdWJzY3JpYmVXaWRnZXQucHJvdG90eXBlLmFkZFN0eWxlc1RvRWxlbWVudD1mdW5jdGlvbihzdHlsZXMsZWxlbWVudCl7T2JqZWN0LmtleXMoc3R5bGVzKS5mb3JFYWNoKGZ1bmN0aW9uKHN0KXtlbGVtZW50LnN0eWxlW3N0XT1zdHlsZXNbc3RdfSl9LFN1YnNjcmliZVdpZGdldC5wcm90b3R5cGUuY3JlYXRlQ29udGFpbmVyPWZ1bmN0aW9uKCl7dmFyIGNvbnRhaW5lcj1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO2NvbnRhaW5lci5pZD1jb25zdGFudHNfMi5XSURHRVRfQ09OVEFJTkVSX0lELGNvbnRhaW5lci5jbGFzc05hbWU9XCJwdXNod29vc2gtc3Vic2NyaWJlLXdpZGdldFwiO3ZhciBwb3NpdGlvbj1wb3NpdGlvbmluZ18xLmRlZmF1bHQuZ2V0QmVsbFBvc2l0aW9uKHRoaXMuY29uZmlnLnBvc2l0aW9uLHRoaXMuY29uZmlnLmluZGVudCksc3R5bGVzPU9iamVjdC5hc3NpZ24oe3pJbmRleDp0aGlzLmNvbmZpZy56SW5kZXh9LHBvc2l0aW9uKTtyZXR1cm4gdGhpcy5hZGRTdHlsZXNUb0VsZW1lbnQoc3R5bGVzLGNvbnRhaW5lciksY29udGFpbmVyfSxTdWJzY3JpYmVXaWRnZXQucHJvdG90eXBlLmNyZWF0ZVN0eWxlPWZ1bmN0aW9uKCl7dmFyIHN0eWxlcz1fX3dlYnBhY2tfcmVxdWlyZV9fKDE0OCksc3R5bGVOb2RlPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJzdHlsZVwiKTtyZXR1cm4gc3R5bGVOb2RlLmlubmVySFRNTD1zdHlsZXMsc3R5bGVOb2RlfSxTdWJzY3JpYmVXaWRnZXQucHJvdG90eXBlLmNyZWF0ZUJlbGw9ZnVuY3Rpb24oKXt2YXIgYmVsbD1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO2JlbGwuY2xhc3NOYW1lPVwicHVzaHdvb3NoLXN1YnNjcmliZS13aWRnZXRfX2JlbGwtYnV0dG9uXCI7dmFyIHN0eWxlcz17d2lkdGg6dGhpcy5jb25maWcuc2l6ZSxoZWlnaHQ6dGhpcy5jb25maWcuc2l6ZSxiYWNrZ3JvdW5kQ29sb3I6dGhpcy5jb25maWcuYmdDb2xvcixib3hTaGFkb3c6dGhpcy5jb25maWcuc2hhZG93LGxpbmVIZWlnaHQ6dGhpcy5jb25maWcuc2l6ZSxib3JkZXI6dGhpcy5jb25maWcuYmVsbEJ1dHRvbkJvcmRlcn07cmV0dXJuIHRoaXMuYWRkU3R5bGVzVG9FbGVtZW50KHN0eWxlcyxiZWxsKSxiZWxsLmlubmVySFRNTD1iZWxsXzEuZGVmYXVsdCh0aGlzLmNvbmZpZy5iZWxsQ29sb3IsdGhpcy5jb25maWcuYmVsbFN0cm9rZUNvbG9yKSxiZWxsfSxTdWJzY3JpYmVXaWRnZXQucHJvdG90eXBlLmNyZWF0ZVRvb2x0aXA9ZnVuY3Rpb24oKXtyZXR1cm4gX19hd2FpdGVyKHRoaXMsdm9pZCAwLHZvaWQgMCxmdW5jdGlvbigpe3ZhciB0b29sdGlwLF9hLHBvc2l0aW9uLG1vZGlmaWNhdGlvbixfYixfYztyZXR1cm4gX19nZW5lcmF0b3IodGhpcyxmdW5jdGlvbihfZCl7c3dpdGNoKF9kLmxhYmVsKXtjYXNlIDA6cmV0dXJuIHRvb2x0aXA9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKSxfYT1wb3NpdGlvbmluZ18xLmRlZmF1bHQuZ2V0VG9vbHRpcFBvc2l0aW9uKHRoaXMuY29uZmlnLnBvc2l0aW9uLHRoaXMuY29uZmlnLnNpemUpLHBvc2l0aW9uPV9hWzBdLG1vZGlmaWNhdGlvbj1fYVsxXSx0b29sdGlwLmNsYXNzTmFtZT1cInB1c2h3b29zaC1zdWJzY3JpYmUtd2lkZ2V0X190b29sdGlwIHB1c2h3b29zaC1zdWJzY3JpYmUtd2lkZ2V0X190b29sdGlwX19cIittb2RpZmljYXRpb24sdGhpcy5hZGRTdHlsZXNUb0VsZW1lbnQocG9zaXRpb24sdG9vbHRpcCksX2M9KF9iPXRvb2x0aXApLmFwcGVuZENoaWxkLFs0LHRoaXMuY3JlYXRlVG9vbHRpcENvbnRlbnQoKV07Y2FzZSAxOnJldHVybiBfYy5hcHBseShfYixbX2Quc2VudCgpXSksWzIsdG9vbHRpcF19fSl9KX0sU3Vic2NyaWJlV2lkZ2V0LnByb3RvdHlwZS5jcmVhdGVUb29sdGlwQ29udGVudD1mdW5jdGlvbigpe3JldHVybiBfX2F3YWl0ZXIodGhpcyx2b2lkIDAsdm9pZCAwLGZ1bmN0aW9uKCl7dmFyIHRvb2x0aXBDb250ZW50LF9hO3JldHVybiBfX2dlbmVyYXRvcih0aGlzLGZ1bmN0aW9uKF9iKXtzd2l0Y2goX2IubGFiZWwpe2Nhc2UgMDpyZXR1cm4gdG9vbHRpcENvbnRlbnQ9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKSxfYT10b29sdGlwQ29udGVudCxbNCx0aGlzLnRvb2x0aXBUZXh0RmFjdG9yeSgpXTtjYXNlIDE6cmV0dXJuIF9hLmlubmVyVGV4dD1fYi5zZW50KCksdG9vbHRpcENvbnRlbnQuY2xhc3NOYW1lPVwicHVzaHdvb3NoLXN1YnNjcmliZS13aWRnZXRfX3Rvb2x0aXAtY29udGVudFwiLFsyLHRvb2x0aXBDb250ZW50XX19KX0pfSxTdWJzY3JpYmVXaWRnZXQucHJvdG90eXBlLnRvb2x0aXBUZXh0RmFjdG9yeT1mdW5jdGlvbigpe3JldHVybiBfX2F3YWl0ZXIodGhpcyx2b2lkIDAsdm9pZCAwLGZ1bmN0aW9uKCl7dmFyIHBlcm1pc3Npb24sdG9vbHRpcFRleHQsaXNNYW51YWxseVVuc3Vic2NyaWJlZDtyZXR1cm4gX19nZW5lcmF0b3IodGhpcyxmdW5jdGlvbihfYSl7c3dpdGNoKF9hLmxhYmVsKXtjYXNlIDA6cmV0dXJuWzQsdGhpcy5wdy5kcml2ZXIuZ2V0UGVybWlzc2lvbigpXTtjYXNlIDE6cmV0dXJuIHBlcm1pc3Npb249X2Euc2VudCgpLHRvb2x0aXBUZXh0PXRoaXMuY29uZmlnLnRvb2x0aXBUZXh0LFs0LHN0b3JhZ2VfMS5rZXlWYWx1ZS5nZXQoY29uc3RhbnRzXzEuTUFOVUFMX1VOU1VCU0NSSUJFKV07Y2FzZSAyOnN3aXRjaChpc01hbnVhbGx5VW5zdWJzY3JpYmVkPV9hLnNlbnQoKSxwZXJtaXNzaW9uKXtjYXNlIGNvbnN0YW50c18xLlBFUk1JU1NJT05fR1JBTlRFRDpyZXR1cm5bMixpc01hbnVhbGx5VW5zdWJzY3JpYmVkP3Rvb2x0aXBUZXh0Lm5lZWRTdWJzY3JpYmU6dG9vbHRpcFRleHQuYWxyZWFkeVN1YnNjcmliZWRdO2Nhc2UgY29uc3RhbnRzXzEuUEVSTUlTU0lPTl9QUk9NUFQ6cmV0dXJuWzIsdG9vbHRpcFRleHQubmVlZFN1YnNjcmliZV07Y2FzZSBjb25zdGFudHNfMS5QRVJNSVNTSU9OX0RFTklFRDpyZXR1cm5bMix0b29sdGlwVGV4dC5ibG9ja1N1YnNjcmliZV07ZGVmYXVsdDpyZXR1cm5bMix0b29sdGlwVGV4dC5uZWVkU3Vic2NyaWJlXX1yZXR1cm5bMl19fSl9KX0sU3Vic2NyaWJlV2lkZ2V0LnByb3RvdHlwZS5jcmVhdGVQb3BvdmVyPWZ1bmN0aW9uKCl7dmFyIHBvcG92ZXJDb250ZW50V3JhcHBlcj1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpLHBvcG92ZXI9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKSxfYT1wb3NpdGlvbmluZ18xLmRlZmF1bHQuZ2V0UG9wb3ZlclBvc2l0aW9uKHRoaXMuY29uZmlnLnBvc2l0aW9uLHRoaXMuY29uZmlnLnNpemUpLHBvc2l0aW9uPV9hWzBdLG1vZGlmaWNhdGlvbj1fYVsxXTtwb3BvdmVyLmNsYXNzTmFtZT1cInB1c2h3b29zaC1zdWJzY3JpYmUtd2lkZ2V0X19wb3BvdmVyIHB1c2h3b29zaC1zdWJzY3JpYmUtd2lkZ2V0X19wb3BvdmVyX19cIittb2RpZmljYXRpb24scG9wb3ZlckNvbnRlbnRXcmFwcGVyLmNsYXNzTmFtZT1cInB1c2h3b29zaC1zdWJzY3JpYmUtd2lkZ2V0X19wb3BvdmVyLWNvbnRlbnQtd3JhcHBlclwiLHRoaXMuc3R5bGUuaW5uZXJIVE1MKz1wb3NpdGlvbmluZ18xLmRlZmF1bHQuZ2V0UG9wb3ZlckFycm93UG9zaXRpb24odGhpcy5jb25maWcucG9zaXRpb24sdGhpcy5jb25maWcuc2l6ZSk7dmFyIHN0eWxlcz1PYmplY3QuYXNzaWduKHttYXhXaWR0aDpcImNhbGMoMTAwdncgLSBcIit0aGlzLmNvbmZpZy5pbmRlbnQrXCIgLSBcIit0aGlzLmNvbmZpZy5pbmRlbnQrXCIpXCJ9LHBvc2l0aW9uKTtyZXR1cm4gdGhpcy5hZGRTdHlsZXNUb0VsZW1lbnQoc3R5bGVzLHBvcG92ZXIpLHBvcG92ZXJDb250ZW50V3JhcHBlci5hcHBlbmRDaGlsZCh0aGlzLmNyZWF0ZVBvcG92ZXJDb250ZW50KCkpLHBvcG92ZXIuYXBwZW5kQ2hpbGQocG9wb3ZlckNvbnRlbnRXcmFwcGVyKSxwb3BvdmVyfSxTdWJzY3JpYmVXaWRnZXQucHJvdG90eXBlLmNyZWF0ZVBvcG92ZXJDb250ZW50PWZ1bmN0aW9uKCl7dmFyIF9hLHBvcG92ZXJDb250ZW50PWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7cG9wb3ZlckNvbnRlbnQuY2xhc3NOYW1lPVwicHVzaHdvb3NoLXN1YnNjcmliZS13aWRnZXRfX3BvcG92ZXItY29udGVudFwiO3ZhciBpbWFnZVByZWZlcmVuY2U9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImltZ1wiKTtpbWFnZVByZWZlcmVuY2Uud2lkdGg9NTAwLGltYWdlUHJlZmVyZW5jZS5oZWlnaHQ9MTMwO3ZhciBpbWFnZVVubG9jaz1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiaW1nXCIpO3JldHVybiBpbWFnZVVubG9jay53aWR0aD01MDAsaW1hZ2VVbmxvY2suaGVpZ2h0PTIzMCxfYT10aGlzLmhlbHBJbWFnZVNvdXJjZUZhY3RvcnkoKSxpbWFnZVByZWZlcmVuY2Uuc3JjPV9hWzBdLGltYWdlVW5sb2NrLnNyYz1fYVsxXSxwb3BvdmVyQ29udGVudC5hcHBlbmRDaGlsZChpbWFnZVByZWZlcmVuY2UpLHBvcG92ZXJDb250ZW50LmFwcGVuZENoaWxkKGltYWdlVW5sb2NrKSxwb3BvdmVyQ29udGVudH0sU3Vic2NyaWJlV2lkZ2V0LnByb3RvdHlwZS5oZWxwSW1hZ2VTb3VyY2VGYWN0b3J5PWZ1bmN0aW9uKCl7dmFyIHByZWZlcmVuY2VTb3VyY2UsdW5sb2NrU291cmNlO3JldHVybiBQbGF0Zm9ybUNoZWNrZXJfMS5kZWZhdWx0LmlzT3BlcmE/W3ByZWZlcmVuY2VTb3VyY2U9XCJodHRwczovL2Nkbi5wdXNod29vc2guY29tL3dlYnB1c2gvaW1nL29wZXJhLmpwZ1wiLHVubG9ja1NvdXJjZT1cImh0dHBzOi8vY2RuLnB1c2h3b29zaC5jb20vd2VicHVzaC9pbWcvb3BlcmFfdW5sb2NrLmpwZ1wiXTooMTE9PT1QbGF0Zm9ybUNoZWNrZXJfMS5kZWZhdWx0LnBsYXRmb3JtP25hdmlnYXRvci51c2VyQWdlbnQubWF0Y2goL0FuZHJvaWQvaSk/KHByZWZlcmVuY2VTb3VyY2U9XCJodHRwczovL2Nkbi5wdXNod29vc2guY29tL3dlYnB1c2gvaW1nL21vYmlsZV9jaHJvbWUuanBnXCIsdW5sb2NrU291cmNlPVwiaHR0cHM6Ly9jZG4ucHVzaHdvb3NoLmNvbS93ZWJwdXNoL2ltZy9tb2JpbGVfY2hyb21lX3VubG9jay5qcGdcIik6KHByZWZlcmVuY2VTb3VyY2U9XCJodHRwczovL2Nkbi5wdXNod29vc2guY29tL3dlYnB1c2gvaW1nL2Nocm9tZS5qcGdcIix1bmxvY2tTb3VyY2U9XCJodHRwczovL2Nkbi5wdXNod29vc2guY29tL3dlYnB1c2gvaW1nL2Nocm9tZV91bmxvY2suanBnXCIpOjEyPT09UGxhdGZvcm1DaGVja2VyXzEuZGVmYXVsdC5wbGF0Zm9ybT8ocHJlZmVyZW5jZVNvdXJjZT1cImh0dHBzOi8vY2RuLnB1c2h3b29zaC5jb20vd2VicHVzaC9pbWcvRkYuanBnXCIsdW5sb2NrU291cmNlPVwiaHR0cHM6Ly9jZG4ucHVzaHdvb3NoLmNvbS93ZWJwdXNoL2ltZy9GRl91bmxvY2suanBnXCIpOjEwPT09UGxhdGZvcm1DaGVja2VyXzEuZGVmYXVsdC5wbGF0Zm9ybT8ocHJlZmVyZW5jZVNvdXJjZT1cImh0dHBzOi8vY2RuLnB1c2h3b29zaC5jb20vd2VicHVzaC9pbWcvc2FmYXJpLmpwZ1wiLHVubG9ja1NvdXJjZT1cImh0dHBzOi8vY2RuLnB1c2h3b29zaC5jb20vd2VicHVzaC9pbWcvc2FmYXJpX3VubG9jay5qcGdcIik6KHByZWZlcmVuY2VTb3VyY2U9XCJodHRwczovL2Nkbi5wdXNod29vc2guY29tL3dlYnB1c2gvaW1nL2Nocm9tZS5qcGdcIix1bmxvY2tTb3VyY2U9XCJodHRwczovL2Nkbi5wdXNod29vc2guY29tL3dlYnB1c2gvaW1nL2Nocm9tZV91bmxvY2suanBnXCIpLFtwcmVmZXJlbmNlU291cmNlLHVubG9ja1NvdXJjZV0pfSxTdWJzY3JpYmVXaWRnZXQucHJvdG90eXBlLnJlbmRlcj1mdW5jdGlvbigpe3JldHVybiBfX2F3YWl0ZXIodGhpcyx2b2lkIDAsdm9pZCAwLGZ1bmN0aW9uKCl7dmFyIGJlbGwsX2EsX2I7cmV0dXJuIF9fZ2VuZXJhdG9yKHRoaXMsZnVuY3Rpb24oX2Mpe3N3aXRjaChfYy5sYWJlbCl7Y2FzZSAwOnJldHVybiB0aGlzLndpZGdldD10aGlzLmNyZWF0ZUNvbnRhaW5lcigpLHRoaXMuc3R5bGU9dGhpcy5jcmVhdGVTdHlsZSgpLGJlbGw9dGhpcy5jcmVhdGVCZWxsKCksX2E9dGhpcyxbNCx0aGlzLmNyZWF0ZVRvb2x0aXAoKV07Y2FzZSAxOnJldHVybiBfYS50b29sdGlwPV9jLnNlbnQoKSxfYj10aGlzLFs0LHRoaXMuY3JlYXRlUG9wb3ZlcigpXTtjYXNlIDI6cmV0dXJuIF9iLnBvcG92ZXI9X2Muc2VudCgpLHRoaXMud2lkZ2V0LmFwcGVuZENoaWxkKHRoaXMuc3R5bGUpLHRoaXMud2lkZ2V0LmFwcGVuZENoaWxkKGJlbGwpLHRoaXMud2lkZ2V0LmFwcGVuZENoaWxkKHRoaXMudG9vbHRpcCksdGhpcy53aWRnZXQuYXBwZW5kQ2hpbGQodGhpcy5wb3BvdmVyKSxkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKHRoaXMud2lkZ2V0KSx0aGlzLnB3LnB1c2goW1wib25TdWJzY3JpYmVcIix0aGlzLm9uU3Vic2NyaWJlRXZlbnRdKSx0aGlzLnB3LnB1c2goW1wib25VbnN1YnNjcmliZVwiLHRoaXMub25VbnN1YnNjcmliZUV2ZW50XSksdGhpcy5wdy5wdXNoKFtcIm9uUGVybWlzc2lvbkRlbmllZFwiLHRoaXMub25QZXJtaXNzaW9uRGVuaWVkRXZlbnRdKSx0aGlzLmlzRW5hYmxlQ2hhbm5lbHM/KHRoaXMud2lkZ2V0LmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLHRoaXMub25DbGlja0JlbGxJZkVuYWJsZUNoYW5uZWxzKSxbMl0pOih0aGlzLmFkZEV2ZW50TGlzdGVuZXJzSWZEaXNhYmxlZENoYW5uZWxzKCksWzJdKX19KX0pfSxTdWJzY3JpYmVXaWRnZXQucHJvdG90eXBlLm9uQ2xpY2tCZWxsSWZFbmFibGVDaGFubmVscz1mdW5jdGlvbigpe3ZhciBfdGhpcz10aGlzO3RoaXMucHcucHVzaChmdW5jdGlvbihhcGkpe190aGlzLnB3LmRyaXZlci5jaGVja0lzUGVybWlzc2lvbkRlZmF1bHQoKT9fdGhpcy5wdy5zdWJzY3JpcHRpb25TZWdtZW50V2lkZ2V0LmluaXQoKTphcGkucG9zdEV2ZW50KGNvbnN0YW50c18xLlNVQlNDUklQVElPTl9TRUdNRU5UX0VWRU5ULHt9KX0pfSxTdWJzY3JpYmVXaWRnZXQucHJvdG90eXBlLmFkZEV2ZW50TGlzdGVuZXJzSWZEaXNhYmxlZENoYW5uZWxzPWZ1bmN0aW9uKCl7cmV0dXJuIF9fYXdhaXRlcih0aGlzLHZvaWQgMCx2b2lkIDAsZnVuY3Rpb24oKXtyZXR1cm4gX19nZW5lcmF0b3IodGhpcyxmdW5jdGlvbihfYSl7c3dpdGNoKF9hLmxhYmVsKXtjYXNlIDA6cmV0dXJuIHRoaXMud2lkZ2V0LmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLHRoaXMuY2xpY2tCZWxsKSx3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsdGhpcy5jbGlja091dE9mUG9wb3ZlciksWzQsdGhpcy50cmlnZ2VyUHdFdmVudChjb25zdGFudHNfMS5FVkVOVF9TSE9XX1NVQlNDUklCRV9CVVRUT04sY29uc3RhbnRzXzEuS0VZX1NIT1dfU1VCU0NSSUJFX1dJREdFVCldO2Nhc2UgMTpyZXR1cm4gX2Euc2VudCgpLFsyXX19KX0pfSxTdWJzY3JpYmVXaWRnZXQucHJvdG90eXBlLnRvZ2dsZUhlbHBQb3BvdmVyPWZ1bmN0aW9uKCl7dGhpcy5wb3BvdmVyLmNsYXNzTGlzdC50b2dnbGUoXCJwdXNod29vc2gtc3Vic2NyaWJlLXdpZGdldF9fcG9wb3Zlcl9fdmlzaWJsZVwiKX0sU3Vic2NyaWJlV2lkZ2V0LnByb3RvdHlwZS5jbGlja0JlbGw9ZnVuY3Rpb24oKXtyZXR1cm4gX19hd2FpdGVyKHRoaXMsdm9pZCAwLHZvaWQgMCxmdW5jdGlvbigpe3ZhciBwZXJtaXNzaW9uO3JldHVybiBfX2dlbmVyYXRvcih0aGlzLGZ1bmN0aW9uKF9iKXtzd2l0Y2goX2IubGFiZWwpe2Nhc2UgMDpzd2l0Y2gocGVybWlzc2lvbj10aGlzLnB3LmRyaXZlci5nZXRQZXJtaXNzaW9uKCkscGVybWlzc2lvbil7Y2FzZSBjb25zdGFudHNfMS5QRVJNSVNTSU9OX0dSQU5URUQ6cmV0dXJuWzMsMV07Y2FzZSBjb25zdGFudHNfMS5QRVJNSVNTSU9OX1BST01QVDpyZXR1cm5bMywzXTtjYXNlIGNvbnN0YW50c18xLlBFUk1JU1NJT05fREVOSUVEOnJldHVyblszLDVdfXJldHVyblszLDZdO2Nhc2UgMTpyZXR1cm5bNCx0aGlzLnB3LnN1YnNjcmliZSgpXTtjYXNlIDI6cmV0dXJuIF9iLnNlbnQoKSxbMyw3XTtjYXNlIDM6cmV0dXJuWzQsdGhpcy5wdy5zdWJzY3JpYmUoKV07Y2FzZSA0OnJldHVybiBfYi5zZW50KCksWzMsN107Y2FzZSA1OnJldHVybiB0aGlzLnRvZ2dsZUhlbHBQb3BvdmVyKCksWzMsN107Y2FzZSA2OmNvbnNvbGUud2FybihcIlVua25vd24gYnJvd3NlciBub3RpZmljYXRpb24gcGVybWlzc2lvblwiKSxfYi5sYWJlbD03O2Nhc2UgNzpyZXR1cm5bNCx0aGlzLnRyaWdnZXJQd0V2ZW50KGNvbnN0YW50c18xLkVWRU5UX0NMSUNLX1NVQlNDUklCRV9CVVRUT04sY29uc3RhbnRzXzEuS0VZX0NMSUNLX1NVQlNDUklCRV9XSURHRVQpXTtjYXNlIDg6cmV0dXJuIF9iLnNlbnQoKSxbMl19fSl9KX0sU3Vic2NyaWJlV2lkZ2V0LnByb3RvdHlwZS5vblN1YnNjcmliZUV2ZW50PWZ1bmN0aW9uKCl7cmV0dXJuIF9fYXdhaXRlcih0aGlzLHZvaWQgMCx2b2lkIDAsZnVuY3Rpb24oKXt2YXIgaXNFbmFibGVDaGFubmVscyx0b29sdGlwQ29udGVudCxfdGhpcz10aGlzO3JldHVybiBfX2dlbmVyYXRvcih0aGlzLGZ1bmN0aW9uKF9hKXtyZXR1cm4gaXNFbmFibGVDaGFubmVscz10aGlzLnB3LmlzRW5hYmxlQ2hhbm5lbHMoKSxudWxsPT09KHRvb2x0aXBDb250ZW50PXRoaXMudG9vbHRpcC5xdWVyeVNlbGVjdG9yKFwiZGl2XCIpKT9bMl06KHRvb2x0aXBDb250ZW50LmlubmVyVGV4dD10aGlzLmNvbmZpZy50b29sdGlwVGV4dC5zdWNjZXNzU3Vic2NyaWJlLHRoaXMudG9vbHRpcC5jbGFzc0xpc3QuYWRkKFwicHVzaHdvb3NoLXN1YnNjcmliZS13aWRnZXRfX3Rvb2x0aXBfX3Zpc2libGVcIiksc2V0VGltZW91dChmdW5jdGlvbigpe3JldHVybiBfX2F3YWl0ZXIoX3RoaXMsdm9pZCAwLHZvaWQgMCxmdW5jdGlvbigpe3ZhciBfYTtyZXR1cm4gX19nZW5lcmF0b3IodGhpcyxmdW5jdGlvbihfYil7c3dpdGNoKF9iLmxhYmVsKXtjYXNlIDA6cmV0dXJuIHRoaXMudG9vbHRpcC5jbGFzc0xpc3QucmVtb3ZlKFwicHVzaHdvb3NoLXN1YnNjcmliZS13aWRnZXRfX3Rvb2x0aXBfX3Zpc2libGVcIiksX2E9dG9vbHRpcENvbnRlbnQsWzQsdGhpcy50b29sdGlwVGV4dEZhY3RvcnkoKV07Y2FzZSAxOnJldHVybiBfYS5pbm5lclRleHQ9X2Iuc2VudCgpLGlzRW5hYmxlQ2hhbm5lbHN8fHRoaXMud2lkZ2V0LmNsYXNzTGlzdC5hZGQoXCJwdXNod29vc2gtc3Vic2NyaWJlLXdpZGdldF9fc3Vic2NyaWJlZFwiKSxbMl19fSl9KX0sMmUzKSxbMl0pfSl9KX0sU3Vic2NyaWJlV2lkZ2V0LnByb3RvdHlwZS5vblBlcm1pc3Npb25EZW5pZWRFdmVudD1mdW5jdGlvbigpe3JldHVybiBfX2F3YWl0ZXIodGhpcyx2b2lkIDAsdm9pZCAwLGZ1bmN0aW9uKCl7dmFyIHRvb2x0aXBDb250ZW50LF9hO3JldHVybiBfX2dlbmVyYXRvcih0aGlzLGZ1bmN0aW9uKF9iKXtzd2l0Y2goX2IubGFiZWwpe2Nhc2UgMDpyZXR1cm5bNCx0aGlzLnB3LmlzRW5hYmxlQ2hhbm5lbHMoKV07Y2FzZSAxOnJldHVybiBfYi5zZW50KCkmJih0aGlzLndpZGdldC5yZW1vdmVFdmVudExpc3RlbmVyKFwiY2xpY2tcIix0aGlzLm9uQ2xpY2tCZWxsSWZFbmFibGVDaGFubmVscyksdGhpcy5hZGRFdmVudExpc3RlbmVyc0lmRGlzYWJsZWRDaGFubmVscygpKSxudWxsPT09KHRvb2x0aXBDb250ZW50PXRoaXMudG9vbHRpcC5xdWVyeVNlbGVjdG9yKFwiZGl2XCIpKT9bMl06KF9hPXRvb2x0aXBDb250ZW50LFs0LHRoaXMudG9vbHRpcFRleHRGYWN0b3J5KCldKTtjYXNlIDI6cmV0dXJuIF9hLmlubmVyVGV4dD1fYi5zZW50KCksWzJdfX0pfSl9LFN1YnNjcmliZVdpZGdldC5wcm90b3R5cGUuY2xpY2tPdXRPZlBvcG92ZXI9ZnVuY3Rpb24oZXYpe3RoaXMucG9wb3Zlci5jbGFzc0xpc3QuY29udGFpbnMoXCJwdXNod29vc2gtc3Vic2NyaWJlLXdpZGdldF9fcG9wb3Zlcl9fdmlzaWJsZVwiKSYmIWV2LnRhcmdldC5jbGFzc0xpc3QuY29udGFpbnMoXCJwdXNod29vc2gtc3Vic2NyaWJlLXdpZGdldF9fcG9wb3ZlclwiKSYmbnVsbD09PWV2LnRhcmdldC5jbG9zZXN0KFwiLnB1c2h3b29zaC1zdWJzY3JpYmUtd2lkZ2V0X19wb3BvdmVyXCIpJiYhZXYudGFyZ2V0LmNsYXNzTGlzdC5jb250YWlucyhcInB1c2h3b29zaC1zdWJzY3JpYmUtd2lkZ2V0X19iZWxsLWJ1dHRvblwiKSYmbnVsbD09PWV2LnRhcmdldC5jbG9zZXN0KFwiLnB1c2h3b29zaC1zdWJzY3JpYmUtd2lkZ2V0X19iZWxsLWJ1dHRvblwiKSYmdGhpcy5wb3BvdmVyLmNsYXNzTGlzdC5yZW1vdmUoXCJwdXNod29vc2gtc3Vic2NyaWJlLXdpZGdldF9fcG9wb3Zlcl9fdmlzaWJsZVwiKX0sU3Vic2NyaWJlV2lkZ2V0LnByb3RvdHlwZS50cmlnZ2VyUHdFdmVudD1mdW5jdGlvbihldmVudCx3aWRnZXQpe3JldHVybiBfX2F3YWl0ZXIodGhpcyx2b2lkIDAsdm9pZCAwLGZ1bmN0aW9uKCl7cmV0dXJuIF9fZ2VuZXJhdG9yKHRoaXMsZnVuY3Rpb24oX2Epe3JldHVyblsyXX0pfSl9LFN1YnNjcmliZVdpZGdldC5wcm90b3R5cGUub25VbnN1YnNjcmliZUV2ZW50PWZ1bmN0aW9uKCl7cmV0dXJuIF9fYXdhaXRlcih0aGlzLHZvaWQgMCx2b2lkIDAsZnVuY3Rpb24oKXt2YXIgdG9vbHRpcENvbnRlbnQsX2E7cmV0dXJuIF9fZ2VuZXJhdG9yKHRoaXMsZnVuY3Rpb24oX2Ipe3N3aXRjaChfYi5sYWJlbCl7Y2FzZSAwOnJldHVybiBudWxsPT09KHRvb2x0aXBDb250ZW50PXRoaXMudG9vbHRpcC5xdWVyeVNlbGVjdG9yKFwiZGl2XCIpKT9bMl06KF9hPXRvb2x0aXBDb250ZW50LFs0LHRoaXMudG9vbHRpcFRleHRGYWN0b3J5KCldKTtjYXNlIDE6cmV0dXJuIF9hLmlubmVyVGV4dD1fYi5zZW50KCksWzJdfX0pfSl9LFN1YnNjcmliZVdpZGdldH0oKTtkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKFwicHVzaHdvb3NoLmluaXRpYWxpemVkXCIsZnVuY3Rpb24oZXYpe2V2LmRldGFpbC5wdy5zdWJzY3JpYmVXaWRnZXRDb25maWcuZW5hYmxlJiZuZXcgU3Vic2NyaWJlV2lkZ2V0KGV2LmRldGFpbC5wdyl9KX0sZnVuY3Rpb24obW9kdWxlLGV4cG9ydHMsX193ZWJwYWNrX3JlcXVpcmVfXyl7XCJ1c2Ugc3RyaWN0XCI7T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSk7dmFyIGNvbnN0YW50c18xPV9fd2VicGFja19yZXF1aXJlX18oNzYpLFBvc2l0aW9uaW5nPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gUG9zaXRpb25pbmcoKXt9cmV0dXJuIFBvc2l0aW9uaW5nLmdldEJlbGxQb3NpdGlvbj1mdW5jdGlvbihwb3NpdGlvbixpbmRlbnQpe3ZhciBwb3NpdGlvblN0eWxlcztzd2l0Y2gocG9zaXRpb24pe2Nhc2UgY29uc3RhbnRzXzEuQkVMTF9QT1NJVElPTl9CT1RUT01fUklHSFQ6cG9zaXRpb25TdHlsZXM9e3RvcDpcImF1dG9cIixsZWZ0OlwiYXV0b1wiLGJvdHRvbTppbmRlbnQscmlnaHQ6aW5kZW50fTticmVhaztjYXNlIGNvbnN0YW50c18xLkJFTExfUE9TSVRJT05fQk9UVE9NX0xFRlQ6cG9zaXRpb25TdHlsZXM9e3RvcDpcImF1dG9cIixsZWZ0OmluZGVudCxib3R0b206aW5kZW50LHJpZ2h0OlwiYXV0b1wifTticmVhaztjYXNlIGNvbnN0YW50c18xLkJFTExfUE9TSVRJT05fVE9QX0xFRlQ6cG9zaXRpb25TdHlsZXM9e3RvcDppbmRlbnQsbGVmdDppbmRlbnQsYm90dG9tOlwiYXV0b1wiLHJpZ2h0OlwiYXV0b1wifTticmVhaztjYXNlIGNvbnN0YW50c18xLkJFTExfUE9TSVRJT05fVE9QX1JJR0hUOnBvc2l0aW9uU3R5bGVzPXt0b3A6aW5kZW50LGxlZnQ6XCJhdXRvXCIsYm90dG9tOlwiYXV0b1wiLHJpZ2h0OmluZGVudH07YnJlYWs7ZGVmYXVsdDpwb3NpdGlvblN0eWxlcz17dG9wOlwiYXV0b1wiLGxlZnQ6XCJhdXRvXCIsYm90dG9tOmluZGVudCxyaWdodDppbmRlbnR9fXJldHVybiBwb3NpdGlvblN0eWxlc30sUG9zaXRpb25pbmcuZ2V0VG9vbHRpcFBvc2l0aW9uPWZ1bmN0aW9uKGJlbGxQb3NpdGlvbixiZWxsU2l6ZSl7dmFyIHBvc2l0aW9uU3R5bGVzLHRvb2x0aXBNb2RpZmljYXRpb24saW5jcmVhc2VJbmRlbnQ9cGFyc2VJbnQoYmVsbFNpemUpKzEyK1wicHhcIjtzd2l0Y2goYmVsbFBvc2l0aW9uKXtjYXNlIGNvbnN0YW50c18xLkJFTExfUE9TSVRJT05fQk9UVE9NX1JJR0hUOnBvc2l0aW9uU3R5bGVzPXtyaWdodDppbmNyZWFzZUluZGVudH0sdG9vbHRpcE1vZGlmaWNhdGlvbj1cInJpZ2h0XCI7YnJlYWs7Y2FzZSBjb25zdGFudHNfMS5CRUxMX1BPU0lUSU9OX0JPVFRPTV9MRUZUOmNhc2UgY29uc3RhbnRzXzEuQkVMTF9QT1NJVElPTl9UT1BfTEVGVDpwb3NpdGlvblN0eWxlcz17bGVmdDppbmNyZWFzZUluZGVudH0sdG9vbHRpcE1vZGlmaWNhdGlvbj1cImxlZnRcIjticmVhaztjYXNlIGNvbnN0YW50c18xLkJFTExfUE9TSVRJT05fVE9QX1JJR0hUOnBvc2l0aW9uU3R5bGVzPXtyaWdodDppbmNyZWFzZUluZGVudH0sdG9vbHRpcE1vZGlmaWNhdGlvbj1cInJpZ2h0XCI7YnJlYWs7ZGVmYXVsdDpwb3NpdGlvblN0eWxlcz17cmlnaHQ6aW5jcmVhc2VJbmRlbnR9LHRvb2x0aXBNb2RpZmljYXRpb249XCJyaWdodFwifXJldHVybltwb3NpdGlvblN0eWxlcyx0b29sdGlwTW9kaWZpY2F0aW9uXX0sUG9zaXRpb25pbmcuZ2V0UG9wb3ZlclBvc2l0aW9uPWZ1bmN0aW9uKGJlbGxQb3NpdGlvbixiZWxsU2l6ZSl7dmFyIHBvc2l0aW9uU3R5bGVzLHBvcG92ZXJNb2RpZmljYXRpb24saW5jcmVhc2VJbmRlbnQ9cGFyc2VJbnQoYmVsbFNpemUpKzE1K1wicHhcIjtzd2l0Y2goYmVsbFBvc2l0aW9uKXtjYXNlIGNvbnN0YW50c18xLkJFTExfUE9TSVRJT05fQk9UVE9NX1JJR0hUOnBvc2l0aW9uU3R5bGVzPXtib3R0b206aW5jcmVhc2VJbmRlbnQscmlnaHQ6XCIwXCIsbGVmdDpcImF1dG9cIix0b3A6XCJhdXRvXCJ9LHBvcG92ZXJNb2RpZmljYXRpb249XCJib3R0b21cIjticmVhaztjYXNlIGNvbnN0YW50c18xLkJFTExfUE9TSVRJT05fQk9UVE9NX0xFRlQ6cG9zaXRpb25TdHlsZXM9e2JvdHRvbTppbmNyZWFzZUluZGVudCxsZWZ0OlwiMFwiLHJpZ2h0OlwiYXV0b1wiLHRvcDpcImF1dG9cIn0scG9wb3Zlck1vZGlmaWNhdGlvbj1cImJvdHRvbVwiO2JyZWFrO2Nhc2UgY29uc3RhbnRzXzEuQkVMTF9QT1NJVElPTl9UT1BfTEVGVDpwb3NpdGlvblN0eWxlcz17dG9wOmluY3JlYXNlSW5kZW50LGxlZnQ6XCIwXCIscmlnaHQ6XCJhdXRvXCIsYm90dG9tOlwiYXV0b1wifSxwb3BvdmVyTW9kaWZpY2F0aW9uPVwidG9wXCI7YnJlYWs7Y2FzZSBjb25zdGFudHNfMS5CRUxMX1BPU0lUSU9OX1RPUF9SSUdIVDpwb3NpdGlvblN0eWxlcz17dG9wOmluY3JlYXNlSW5kZW50LHJpZ2h0OlwiMFwiLGxlZnQ6XCJhdXRvXCIsYm90dG9tOlwiYXV0b1wifSxwb3BvdmVyTW9kaWZpY2F0aW9uPVwidG9wXCI7YnJlYWs7ZGVmYXVsdDpwb3NpdGlvblN0eWxlcz17Ym90dG9tOmluY3JlYXNlSW5kZW50LHJpZ2h0OlwiMFwiLGxlZnQ6XCJhdXRvXCIsdG9wOlwiYXV0b1wifSxwb3BvdmVyTW9kaWZpY2F0aW9uPVwiYm90dG9tXCJ9cmV0dXJuW3Bvc2l0aW9uU3R5bGVzLHBvcG92ZXJNb2RpZmljYXRpb25dfSxQb3NpdGlvbmluZy5nZXRQb3BvdmVyQXJyb3dQb3NpdGlvbj1mdW5jdGlvbihiZWxsUG9zaXRpb24sYmVsbFNpemUpe3ZhciBhcnJvd0FkZGl0aW9uYWxTdHlsZXM7c3dpdGNoKGJlbGxQb3NpdGlvbil7Y2FzZSBjb25zdGFudHNfMS5CRUxMX1BPU0lUSU9OX0JPVFRPTV9SSUdIVDphcnJvd0FkZGl0aW9uYWxTdHlsZXM9XCJcXG4ucHVzaHdvb3NoLXN1YnNjcmliZS13aWRnZXRfX3BvcG92ZXJfX2JvdHRvbTphZnRlciB7bGVmdDogYXV0bzsgcmlnaHQ6IFwiKyhwYXJzZUludChiZWxsU2l6ZSkvMi00KStcInB4XCI7YnJlYWs7Y2FzZSBjb25zdGFudHNfMS5CRUxMX1BPU0lUSU9OX0JPVFRPTV9MRUZUOmFycm93QWRkaXRpb25hbFN0eWxlcz1cIlxcbi5wdXNod29vc2gtc3Vic2NyaWJlLXdpZGdldF9fcG9wb3Zlcl9fYm90dG9tOmFmdGVyIHtyaWdodDogYXV0bzsgbGVmdDogXCIrKHBhcnNlSW50KGJlbGxTaXplKS8yLTEyKStcInB4XCI7YnJlYWs7Y2FzZSBjb25zdGFudHNfMS5CRUxMX1BPU0lUSU9OX1RPUF9MRUZUOmFycm93QWRkaXRpb25hbFN0eWxlcz1cIlxcbi5wdXNod29vc2gtc3Vic2NyaWJlLXdpZGdldF9fcG9wb3Zlcl9fdG9wOmFmdGVyIHtyaWdodDogYXV0bzsgbGVmdDogXCIrKHBhcnNlSW50KGJlbGxTaXplKS8yLTEyKStcInB4XCI7YnJlYWs7Y2FzZSBjb25zdGFudHNfMS5CRUxMX1BPU0lUSU9OX1RPUF9SSUdIVDphcnJvd0FkZGl0aW9uYWxTdHlsZXM9XCJcXG4ucHVzaHdvb3NoLXN1YnNjcmliZS13aWRnZXRfX3BvcG92ZXJfX3RvcDphZnRlciB7bGVmdDogYXV0bzsgcmlnaHQ6IFwiKyhwYXJzZUludChiZWxsU2l6ZSkvMi00KStcInB4XCI7YnJlYWs7ZGVmYXVsdDphcnJvd0FkZGl0aW9uYWxTdHlsZXM9XCJcXG4ucHVzaHdvb3NoLXN1YnNjcmliZS13aWRnZXRfX3BvcG92ZXJfX2JvdHRvbTphZnRlciB7bGVmdDogYXV0bzsgcmlnaHQ6IFwiKyhwYXJzZUludChiZWxsU2l6ZSkvMi00KStcInB4XCJ9cmV0dXJuIGFycm93QWRkaXRpb25hbFN0eWxlc30sUG9zaXRpb25pbmd9KCk7ZXhwb3J0cy5kZWZhdWx0PVBvc2l0aW9uaW5nfSxmdW5jdGlvbihtb2R1bGUsZXhwb3J0cyxfX3dlYnBhY2tfcmVxdWlyZV9fKXtcInVzZSBzdHJpY3RcIjtPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cyxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KSxleHBvcnRzLmRlZmF1bHQ9ZnVuY3Rpb24oZmlsbENvbG9yLHN0cm9rZUNvbG9yKXtyZXR1cm4nPD94bWwgdmVyc2lvbj1cIjEuMFwiIGVuY29kaW5nPVwiVVRGLThcIiBzdGFuZGFsb25lPVwibm9cIj8+XFxuPHN2Z1xcbiAgIHhtbG5zOmRjPVwiaHR0cDovL3B1cmwub3JnL2RjL2VsZW1lbnRzLzEuMS9cIlxcbiAgIHhtbG5zOmNjPVwiaHR0cDovL2NyZWF0aXZlY29tbW9ucy5vcmcvbnMjXCJcXG4gICB4bWxuczpyZGY9XCJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjXCJcXG4gICB4bWxuczpzdmc9XCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiXFxuICAgeG1sbnM9XCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiXFxuICAgeG1sbnM6c29kaXBvZGk9XCJodHRwOi8vc29kaXBvZGkuc291cmNlZm9yZ2UubmV0L0RURC9zb2RpcG9kaS0wLmR0ZFwiXFxuICAgeG1sbnM6aW5rc2NhcGU9XCJodHRwOi8vd3d3Lmlua3NjYXBlLm9yZy9uYW1lc3BhY2VzL2lua3NjYXBlXCJcXG4gICB2ZXJzaW9uPVwiMS4xXCJcXG4gICBpZD1cIkNhcGFfMVwiXFxuICAgeD1cIjBweFwiXFxuICAgeT1cIjBweFwiXFxuICAgdmlld0JveD1cIjAgMCAzNDYuMDEzIDM0Ni4wMTNcIlxcbiAgIHN0eWxlPVwiZW5hYmxlLWJhY2tncm91bmQ6bmV3IDAgMCAzNDYuMDEzIDM0Ni4wMTM7d2lkdGg6IDgwJTsgaGVpZ2h0OiBhdXRvOyB2ZXJ0aWNhbC1hbGlnbjogbWlkZGxlO1wiXFxuICAgeG1sOnNwYWNlPVwicHJlc2VydmVcIlxcbiAgIGlua3NjYXBlOnZlcnNpb249XCIwLjkxIHIxMzcyNVwiXFxuICAgc29kaXBvZGk6ZG9jbmFtZT1cImFsYXJtX3doaXRlLnN2Z1wiPjxtZXRhZGF0YVxcbiAgICAgaWQ9XCJtZXRhZGF0YTUxXCI+PHJkZjpSREY+PGNjOldvcmtcXG4gICAgICAgICByZGY6YWJvdXQ9XCJcIj48ZGM6Zm9ybWF0PmltYWdlL3N2Zyt4bWw8L2RjOmZvcm1hdD48ZGM6dHlwZVxcbiAgICAgICAgICAgcmRmOnJlc291cmNlPVwiaHR0cDovL3B1cmwub3JnL2RjL2RjbWl0eXBlL1N0aWxsSW1hZ2VcIiAvPjxkYzp0aXRsZT48L2RjOnRpdGxlPjwvY2M6V29yaz48L3JkZjpSREY+PC9tZXRhZGF0YT48ZGVmc1xcbiAgICAgaWQ9XCJkZWZzNDlcIiAvPjxzb2RpcG9kaTpuYW1lZHZpZXdcXG4gICAgIGJvcmRlcm9wYWNpdHk9XCIxXCJcXG4gICAgIG9iamVjdHRvbGVyYW5jZT1cIjEwXCJcXG4gICAgIGdyaWR0b2xlcmFuY2U9XCIxMFwiXFxuICAgICBndWlkZXRvbGVyYW5jZT1cIjEwXCJcXG4gICAgIGlua3NjYXBlOnBhZ2VvcGFjaXR5PVwiMFwiXFxuICAgICBpbmtzY2FwZTpwYWdlc2hhZG93PVwiMlwiXFxuICAgICBpbmtzY2FwZTp3aW5kb3ctd2lkdGg9XCIxNjE4XCJcXG4gICAgIGlua3NjYXBlOndpbmRvdy1oZWlnaHQ9XCI4MjhcIlxcbiAgICAgaWQ9XCJuYW1lZHZpZXc0N1wiXFxuICAgICBzaG93Z3JpZD1cImZhbHNlXCJcXG4gICAgIGlua3NjYXBlOnpvb209XCIwLjY4MjA1NTNcIlxcbiAgICAgaW5rc2NhcGU6Y3g9XCIxNzMuMDA2NVwiXFxuICAgICBpbmtzY2FwZTpjeT1cIjE3My4wMDY1XCJcXG4gICAgIGlua3NjYXBlOndpbmRvdy14PVwiMFwiXFxuICAgICBpbmtzY2FwZTp3aW5kb3cteT1cIjBcIlxcbiAgICAgaW5rc2NhcGU6d2luZG93LW1heGltaXplZD1cIjBcIlxcbiAgICAgaW5rc2NhcGU6Y3VycmVudC1sYXllcj1cImczXCIgLz48Z1xcbiAgICAgaWQ9XCJnM1wiPjxwYXRoXFxuICAgICAgIGQ9XCJtIDI1Ni43NjIyNywyMjAuMTkwMDYgYyAtMS43NzUxMywtMi42OTc2NiAtMy40NTE1NCwtNS4yNDU2NCAtMy45ODk2NiwtNy40NjM4MiAtMC4wNDIsLTAuMTc4NjEgLTAuMDkxMSwtMC4zNjEyOCAtMC4xNjIzNywtMC42MTQzNiAtMi4yODM1NCwtNy42NzY0NyAwLjY5MTQ3LC0yNC40MzkyMSAyLjQ2ODg2LC0zNC40NTEyNCAwLjI2Nzg4LC0xLjUwMzk0IDAuNTIyNzQsLTIuOTQxOTcgMC43NTI4NiwtNC4yOTAzNSAwLjAyMzIsLTAuMTM2NzUgMC4wNDQsLTAuMjcyMTEgMC4wNzI0LC0wLjQ4MDA2IDEuOTU1ODIsLTE1LjI4MDUxIDIuNTg4MTEsLTM3LjkxOTU2IC01LjUxMDQ0LC01OC45OTE0NyAtNS42MDMyLC0xNC41Nzk3OCAtMTQuNDU5NzgsLTI1LjgyNjEyIC0yNi4zNTU5LC0zMy40ODM5MyAxLjI2NTk4LC05LjgxMjkzOCAtNC44NTk2NywtMTkuMzQzNjkxIC0xNC42NjY4MiwtMjIuMDUxMSAtOS44MDcxNSwtMi43MDc0MSAtMTkuOTU3MjQsMi4zMzIyNiAtMjMuOTAyOTgsMTEuNDA1NDEzIC0xNC4xMzgyLDAuNDY3NTMzIC0yNy41MTExMSw1LjU3NzA5NyAtMzkuODAxMTQsMTUuMjE5MjY3IC0xNy43NjEyOSwxMy45Mjk4IC0yOC44MzQzMSwzMy42ODc1NyAtMzQuOTkzODksNDcuODA3NTcgbCAtMC4wNDc5LDAuMTEzMzUgYyAtMC4wNTEyLDAuMTIxNzUgLTAuMDk5OCwwLjI0MTE0IC0wLjEzMjQ5LDAuMzI5NjIgLTAuNDk3MzMsMS4yODI5MiAtMS4wMTU1MiwyLjY0NTE0IC0xLjU1Njg5LDQuMDcyNTUgLTMuNjEzMTEsOS41MTA0MyAtOS42NjAwNCwyNS40MjgyNCAtMTUuNjExOTk1LDMwLjg5MzQyIC0wLjEwNjUyNCwwLjEwMDI3IC0wLjIwODIyOCwwLjIwMTg3IC0wLjM2MjM2MiwwLjM1NDM1IC0xLjYzNjI0MywxLjY2NTYzIC00LjM4Mjk0MSwyLjk5NDYzIC03LjI4ODk3OSw0LjQwMTAxIC03LjE0NTUzMSwzLjQ1MzAxIC0yMi4wMTM2MTMsMTAuNjQxNjYgLTE3LjIwNjM4OSwzMS42Nzg0NCAwLjkyOTE1NCw0LjA3MTA1IDQuMDA4NDM3LDcuMjkwNTcgOC4wMzM4NjEsOC40MDE4NSBsIDE2Ny41NzA4MDQsNDYuMjYwNCBjIDQuMDIyNTMsMS4xMTA0OCA4LjMxNTIxLC0wLjA3MjkgMTEuMjA1MiwtMy4wODk1OCAxNC45MTYxNywtMTUuNTg4NzQgNS44NDY5MywtMjkuMzg2NjggMS40ODYyNSwtMzYuMDIxMzMgelwiXFxuICAgICAgIGlkPVwicGF0aDVcIlxcbiAgICAgICBpbmtzY2FwZTpjb25uZWN0b3ItY3VydmF0dXJlPVwiMFwiXFxuICAgICAgIHZlY3Rvci1lZmZlY3Q9XCJub24tc2NhbGluZy1zdHJva2VcIlxcbiAgICAgICBzdHlsZT1cImZpbGw6JytmaWxsQ29sb3IrXCI7IHN0cm9rZTogXCIrc3Ryb2tlQ29sb3IrJzsgc3Ryb2tlLXdpZHRoOiAxOyBcIiAvPjxwYXRoXFxuICAgICAgIHZlY3Rvci1lZmZlY3Q9XCJub24tc2NhbGluZy1zdHJva2VcIlxcbiAgICAgICBkPVwibSAxNzQuMjY3MzcsMjU5LjcyMzc4IC0zOC43NjM5OSwtMTAuNzAxMzcgYyAtMS41OTI0MywtMC40Mzk2MiAtMy4yODE4MywtMC4xNTU5NiAtNC42MzU0OCwwLjc3NTQgLTIuNTM5MDksMS43NDk0IC0yLjg0MTgyLDQuOTMxNTkgLTMuMDIzMDQsNi44MzE4OCBsIC0wLjAxNTEsMC4xNTI0NyBjIC0xLjIyODE5LDEyLjY3MTA2IDYuNzk4NTQsMjQuMzMwNDYgMTkuMDg2ODgsMjcuNzIyODQgMTIuNTE1ODMsMy40NTUxOCAyNS44MzI0LC0yLjkxNTg2IDMwLjk2ODEsLTE0LjgwMzg1IGwgMC4wOTM1LC0wLjE5MjA1IGMgMC41MjMwNSwtMS4wNjQxOCAxLjc0NjEzLC0zLjU1NTU0IDAuNTA4ODIsLTYuMzExMTYgLTAuNDQzMDIsLTAuOTg0MzkgLTEuNTc5NCwtMi43NDUyOSAtNC4yMTk2NCwtMy40NzQxNiB6XCJcXG4gICAgICAgaWQ9XCJwYXRoN1wiXFxuICAgICAgIGlua3NjYXBlOmNvbm5lY3Rvci1jdXJ2YXR1cmU9XCIwXCJcXG4gICAgICAgc3R5bGU9XCJmaWxsOicrZmlsbENvbG9yK1wiOyBzdHJva2U6IFwiK3N0cm9rZUNvbG9yKyc7IHN0cm9rZS13aWR0aDogMTtcIiAvPjwvZz48Z1xcbiAgICAgaWQ9XCJnMTdcIiAvPjxnXFxuICAgICBpZD1cImcxOVwiIC8+PGdcXG4gICAgIGlkPVwiZzIxXCIgLz48Z1xcbiAgICAgaWQ9XCJnMjNcIiAvPjxnXFxuICAgICBpZD1cImcyNVwiIC8+PGdcXG4gICAgIGlkPVwiZzI3XCIgLz48Z1xcbiAgICAgaWQ9XCJnMjlcIiAvPjxnXFxuICAgICBpZD1cImczMVwiIC8+PGdcXG4gICAgIGlkPVwiZzMzXCIgLz48Z1xcbiAgICAgaWQ9XCJnMzVcIiAvPjxnXFxuICAgICBpZD1cImczN1wiIC8+PGdcXG4gICAgIGlkPVwiZzM5XCIgLz48Z1xcbiAgICAgaWQ9XCJnNDFcIiAvPjxnXFxuICAgICBpZD1cImc0M1wiIC8+PGdcXG4gICAgIGlkPVwiZzQ1XCIgLz48L3N2Zz4nfX0sZnVuY3Rpb24obW9kdWxlLGV4cG9ydHMsX193ZWJwYWNrX3JlcXVpcmVfXyl7dmFyIHJlc3VsdD1fX3dlYnBhY2tfcmVxdWlyZV9fKDE0OSk7bW9kdWxlLmV4cG9ydHM9XCJzdHJpbmdcIj09dHlwZW9mIHJlc3VsdD9yZXN1bHQ6cmVzdWx0LnRvU3RyaW5nKCl9LGZ1bmN0aW9uKG1vZHVsZSxleHBvcnRzLF9fd2VicGFja19yZXF1aXJlX18peyhtb2R1bGUuZXhwb3J0cz1fX3dlYnBhY2tfcmVxdWlyZV9fKDE1MCkodm9pZCAwKSkucHVzaChbbW9kdWxlLmksJy8qIFdpZGdldCAqL1xcbi5wdXNod29vc2gtc3Vic2NyaWJlLXdpZGdldCB7XFxuICBwb3NpdGlvbjogZml4ZWQ7XFxuICBkaXNwbGF5OiBibG9jaztcXG4gIC13ZWJraXQtdHJhbnNmb3JtOiB0cmFuc2xhdGUzZCgwLCAwLCAwKTtcXG4gICAgICAgICAgdHJhbnNmb3JtOiB0cmFuc2xhdGUzZCgwLCAwLCAwKTtcXG59XFxuXFxuLnB1c2h3b29zaC1zdWJzY3JpYmUtd2lkZ2V0X19zdWJzY3JpYmVkIHtcXG4gIGRpc3BsYXk6IG5vbmU7XFxufVxcblxcbi5wdXNod29vc2gtc3Vic2NyaWJlLXdpZGdldCAucHVzaHdvb3NoLXN1YnNjcmliZS13aWRnZXRfX2JlbGwtYnV0dG9uIHtcXG4gIC13ZWJraXQtYm9yZGVyLXJhZGl1czogNTAlO1xcbiAgICAgICAgICBib3JkZXItcmFkaXVzOiA1MCU7XFxuICBjdXJzb3I6IHBvaW50ZXI7XFxuICBmb250LXNpemU6IDA7XFxuICB0ZXh0LWFsaWduOiBjZW50ZXI7XFxuICAtd2Via2l0LXRyYW5zZm9ybTogc2NhbGUoMC45KSB0cmFuc2xhdGUzZCgwLCAwLCAwKTtcXG4gICAgICAgICAgdHJhbnNmb3JtOiBzY2FsZSgwLjkpIHRyYW5zbGF0ZTNkKDAsIDAsIDApO1xcbiAgLXdlYmtpdC10cmFuc2l0aW9uOiAtd2Via2l0LXRyYW5zZm9ybSAuM3MgZWFzZS1pbi1vdXQ7XFxuICB0cmFuc2l0aW9uOiAtd2Via2l0LXRyYW5zZm9ybSAuM3MgZWFzZS1pbi1vdXQ7XFxuICAtby10cmFuc2l0aW9uOiB0cmFuc2Zvcm0gLjNzIGVhc2UtaW4tb3V0O1xcbiAgdHJhbnNpdGlvbjogdHJhbnNmb3JtIC4zcyBlYXNlLWluLW91dDtcXG4gIHRyYW5zaXRpb246IHRyYW5zZm9ybSAuM3MgZWFzZS1pbi1vdXQsIC13ZWJraXQtdHJhbnNmb3JtIC4zcyBlYXNlLWluLW91dDtcXG4gIHBvc2l0aW9uOiByZWxhdGl2ZTtcXG59XFxuXFxuLnB1c2h3b29zaC1zdWJzY3JpYmUtd2lkZ2V0IC5wdXNod29vc2gtc3Vic2NyaWJlLXdpZGdldF9fYmVsbC1idXR0b246aG92ZXIge1xcbiAgLXdlYmtpdC10cmFuc2Zvcm06IHNjYWxlKDEpO1xcbiAgICAgIC1tcy10cmFuc2Zvcm06IHNjYWxlKDEpO1xcbiAgICAgICAgICB0cmFuc2Zvcm06IHNjYWxlKDEpO1xcbn1cXG5cXG4vKiBUb29sdGlwICovXFxuLnB1c2h3b29zaC1zdWJzY3JpYmUtd2lkZ2V0X190b29sdGlwIHtcXG4gIHBvc2l0aW9uOiBhYnNvbHV0ZTtcXG4gIGhlaWdodDogNDhweDtcXG4gIG1heC13aWR0aDogMzAwcHg7XFxuICBtaW4td2lkdGg6IDIwMHB4O1xcbiAgcGFkZGluZzogNXB4IDdweDtcXG4gIGJhY2tncm91bmQtY29sb3I6ICMzYjQ0NGI7XFxuICBjb2xvcjogI2ZmZmZmZjtcXG4gIHRleHQtYWxpZ246IGNlbnRlcjtcXG4gIHZlcnRpY2FsLWFsaWduOiBtaWRkbGU7XFxuICAtd2Via2l0LWJveC1zaXppbmc6IGJvcmRlci1ib3g7XFxuICAgICAgICAgIGJveC1zaXppbmc6IGJvcmRlci1ib3g7XFxuICBsaW5lLWhlaWdodDogMzhweDtcXG4gIGZvbnQtc2l6ZTogMDtcXG4gIGZvbnQtd2VpZ2h0OiBub3JtYWw7XFxuICB2aXNpYmlsaXR5OiBoaWRkZW47XFxuICBvcGFjaXR5OiAwO1xcbiAgLXdlYmtpdC10cmFuc2l0aW9uOiB2aXNpYmlsaXR5IDBzIGVhc2UtaW4gLjNzLFxcbiAgICAgICAgICAgICAgb3BhY2l0eSAuM3MgZWFzZS1pbjtcXG4gIC1vLXRyYW5zaXRpb246IHZpc2liaWxpdHkgMHMgZWFzZS1pbiAuM3MsXFxuICAgICAgICAgICAgICBvcGFjaXR5IC4zcyBlYXNlLWluO1xcbiAgdHJhbnNpdGlvbjogdmlzaWJpbGl0eSAwcyBlYXNlLWluIC4zcyxcXG4gICAgICAgICAgICAgIG9wYWNpdHkgLjNzIGVhc2UtaW47XFxuICB0b3A6IDUwJTtcXG4gIC13ZWJraXQtdHJhbnNmb3JtOiB0cmFuc2xhdGUoMCwgLTUwJSk7XFxuICAgICAgLW1zLXRyYW5zZm9ybTogdHJhbnNsYXRlKDAsIC01MCUpO1xcbiAgICAgICAgICB0cmFuc2Zvcm06IHRyYW5zbGF0ZSgwLCAtNTAlKTtcXG4gIC13ZWJraXQtYm94LXNoYWRvdzogMXB4IDFweCA1cHggMCByZ2JhKDAsMCwwLDAuNSk7XFxuICAgICAgICAgIGJveC1zaGFkb3c6IDFweCAxcHggNXB4IDAgcmdiYSgwLDAsMCwwLjUpO1xcbn1cXG5cXG4ucHVzaHdvb3NoLXN1YnNjcmliZS13aWRnZXRfX3Rvb2x0aXBfX3JpZ2h0OmFmdGVyLFxcbi5wdXNod29vc2gtc3Vic2NyaWJlLXdpZGdldF9fdG9vbHRpcF9fbGVmdDphZnRlciB7XFxuICBjb250ZW50OiBcIlwiO1xcbiAgdG9wOiA1MCU7XFxuICBoZWlnaHQ6IDA7XFxuICB3aWR0aDogMDtcXG4gIHBvc2l0aW9uOiBhYnNvbHV0ZTtcXG4gIHBvaW50ZXItZXZlbnRzOiBub25lO1xcbiAgYm9yZGVyLXRvcDogNXB4IHNvbGlkIHRyYW5zcGFyZW50O1xcbiAgYm9yZGVyLWJvdHRvbTogNXB4IHNvbGlkIHRyYW5zcGFyZW50O1xcbiAgYmFja2dyb3VuZDogIzNiNDQ0YjtcXG59XFxuXFxuLnB1c2h3b29zaC1zdWJzY3JpYmUtd2lkZ2V0X190b29sdGlwX19yaWdodDphZnRlciB7XFxuICBsZWZ0OiBjYWxjKDEwMCUgLSA3cHgpO1xcbiAgYm9yZGVyLXRvcDogNXB4IHNvbGlkICMzYjQ0NGI7XFxuICBib3JkZXItbGVmdDogNXB4IHNvbGlkICMzYjQ0NGI7XFxuICBib3JkZXItcmlnaHQ6IDVweCBzb2xpZCB0cmFuc3BhcmVudDtcXG4gIC13ZWJraXQtYm94LXNpemluZzogYm9yZGVyLWJveDtcXG4gICAgICAgICAgYm94LXNpemluZzogYm9yZGVyLWJveDtcXG4gIC13ZWJraXQtdHJhbnNmb3JtLW9yaWdpbjogMCAwO1xcbiAgICAgIC1tcy10cmFuc2Zvcm0tb3JpZ2luOiAwIDA7XFxuICAgICAgICAgIHRyYW5zZm9ybS1vcmlnaW46IDAgMDtcXG4gIC13ZWJraXQtdHJhbnNmb3JtOiByb3RhdGUoLTQ1ZGVnKTtcXG4gICAgICAtbXMtdHJhbnNmb3JtOiByb3RhdGUoLTQ1ZGVnKTtcXG4gICAgICAgICAgdHJhbnNmb3JtOiByb3RhdGUoLTQ1ZGVnKTtcXG4gIC13ZWJraXQtYm94LXNoYWRvdzogMnB4IDJweCAycHggMCByZ2JhKDAsIDAsIDAsIDAuMjUpO1xcbiAgICAgICAgICBib3gtc2hhZG93OiAycHggMnB4IDJweCAwIHJnYmEoMCwgMCwgMCwgMC4yNSk7XFxufVxcblxcbi5wdXNod29vc2gtc3Vic2NyaWJlLXdpZGdldF9fdG9vbHRpcF9fbGVmdDphZnRlciB7XFxuICBsZWZ0OiAtN3B4O1xcbiAgYm9yZGVyLXRvcDogNXB4IHNvbGlkICMzYjQ0NGI7XFxuICBib3JkZXItcmlnaHQ6IDVweCBzb2xpZCAjM2I0NDRiO1xcbiAgYm9yZGVyLWxlZnQ6IDVweCBzb2xpZCB0cmFuc3BhcmVudDtcXG4gIC13ZWJraXQtYm94LXNpemluZzogYm9yZGVyLWJveDtcXG4gICAgICAgICAgYm94LXNpemluZzogYm9yZGVyLWJveDtcXG4gIC13ZWJraXQtdHJhbnNmb3JtLW9yaWdpbjogMCAwO1xcbiAgICAgIC1tcy10cmFuc2Zvcm0tb3JpZ2luOiAwIDA7XFxuICAgICAgICAgIHRyYW5zZm9ybS1vcmlnaW46IDAgMDtcXG4gIC13ZWJraXQtdHJhbnNmb3JtOiByb3RhdGUoLTQ1ZGVnKTtcXG4gICAgICAtbXMtdHJhbnNmb3JtOiByb3RhdGUoLTQ1ZGVnKTtcXG4gICAgICAgICAgdHJhbnNmb3JtOiByb3RhdGUoLTQ1ZGVnKTtcXG4gIC13ZWJraXQtYm94LXNoYWRvdzogLTJweCAtMnB4IDJweCAwIHJnYmEoMCwgMCwgMCwgMC4yNSk7XFxuICAgICAgICAgIGJveC1zaGFkb3c6IC0ycHggLTJweCAycHggMCByZ2JhKDAsIDAsIDAsIDAuMjUpO1xcbn1cXG5cXG4ucHVzaHdvb3NoLXN1YnNjcmliZS13aWRnZXRfX2JlbGwtYnV0dG9uOmhvdmVyICsgLnB1c2h3b29zaC1zdWJzY3JpYmUtd2lkZ2V0X190b29sdGlwLFxcbi5wdXNod29vc2gtc3Vic2NyaWJlLXdpZGdldF9fdG9vbHRpcC5wdXNod29vc2gtc3Vic2NyaWJlLXdpZGdldF9fdG9vbHRpcF9fdmlzaWJsZSB7XFxuICBkaXNwbGF5OiBibG9jaztcXG4gIHZpc2liaWxpdHk6IHZpc2libGU7XFxuICBvcGFjaXR5OiAxO1xcbiAgLXdlYmtpdC10cmFuc2l0aW9uLWRlbGF5OiAwcztcXG4gICAgICAgLW8tdHJhbnNpdGlvbi1kZWxheTogMHM7XFxuICAgICAgICAgIHRyYW5zaXRpb24tZGVsYXk6IDBzO1xcbn1cXG5cXG4ucHVzaHdvb3NoLXN1YnNjcmliZS13aWRnZXQgLnB1c2h3b29zaC1zdWJzY3JpYmUtd2lkZ2V0X190b29sdGlwLWNvbnRlbnQge1xcbiAgZGlzcGxheTogaW5saW5lLWJsb2NrO1xcbiAgdmVydGljYWwtYWxpZ246IG1pZGRsZTtcXG4gIGZvbnQtc2l6ZTogMTRweDtcXG4gIGxpbmUtaGVpZ2h0OiAxLjQ7XFxuICB3aGl0ZS1zcGFjZTogbm93cmFwO1xcbiAgb3ZlcmZsb3c6IGhpZGRlbjtcXG4gIHBhZGRpbmctcmlnaHQ6IDVweDtcXG4gIC1vLXRleHQtb3ZlcmZsb3c6IGVsbGlwc2lzO1xcbiAgICAgdGV4dC1vdmVyZmxvdzogZWxsaXBzaXM7XFxuICBtYXgtd2lkdGg6IDEwMCU7XFxufVxcblxcbi8qIFBvcG92ZXIgKi9cXG5cXG4ucHVzaHdvb3NoLXN1YnNjcmliZS13aWRnZXQgLnB1c2h3b29zaC1zdWJzY3JpYmUtd2lkZ2V0X19wb3BvdmVyIHtcXG4gIHBvc2l0aW9uOiBhYnNvbHV0ZTtcXG4gIHJpZ2h0OiBhdXRvO1xcbiAgLXdlYmtpdC1ib3gtc2hhZG93OiAxcHggMXB4IDVweCAwIHJnYmEoMCwgMCwgMCwgMC41KTtcXG4gICAgICAgICAgYm94LXNoYWRvdzogMXB4IDFweCA1cHggMCByZ2JhKDAsIDAsIDAsIDAuNSk7XFxuICAtd2Via2l0LWJveC1zaXppbmc6IGJvcmRlci1ib3g7XFxuICAgICAgICAgIGJveC1zaXppbmc6IGJvcmRlci1ib3g7XFxuICBiYWNrZ3JvdW5kOiAjOWNhOGIxO1xcbiAgdmlzaWJpbGl0eTogaGlkZGVuO1xcbiAgb3BhY2l0eTogMDtcXG4gIC13ZWJraXQtdHJhbnNpdGlvbjogdmlzaWJpbGl0eSAwcyBlYXNlLWluIC41cyxcXG4gICAgICAgICAgICAgIG9wYWNpdHkgLjVzIGVhc2UtaW47XFxuICAtby10cmFuc2l0aW9uOiB2aXNpYmlsaXR5IDBzIGVhc2UtaW4gLjVzLFxcbiAgICAgICAgICAgICAgb3BhY2l0eSAuNXMgZWFzZS1pbjtcXG4gIHRyYW5zaXRpb246IHZpc2liaWxpdHkgMHMgZWFzZS1pbiAuNXMsXFxuICAgICAgICAgICAgICBvcGFjaXR5IC41cyBlYXNlLWluO1xcbn1cXG5cXG4ucHVzaHdvb3NoLXN1YnNjcmliZS13aWRnZXQgLnB1c2h3b29zaC1zdWJzY3JpYmUtd2lkZ2V0X19wb3BvdmVyX192aXNpYmxlIHtcXG4gIGRpc3BsYXk6IGJsb2NrO1xcbiAgdmlzaWJpbGl0eTogdmlzaWJsZTtcXG4gIG9wYWNpdHk6IDE7XFxuICAtd2Via2l0LXRyYW5zaXRpb24tZGVsYXk6IDBzO1xcbiAgICAgICAtby10cmFuc2l0aW9uLWRlbGF5OiAwcztcXG4gICAgICAgICAgdHJhbnNpdGlvbi1kZWxheTogMHM7XFxufVxcblxcbi5wdXNod29vc2gtc3Vic2NyaWJlLXdpZGdldF9fcG9wb3Zlcl9fYm90dG9tOmFmdGVyLFxcbi5wdXNod29vc2gtc3Vic2NyaWJlLXdpZGdldF9fcG9wb3Zlcl9fdG9wOmFmdGVyIHtcXG4gIGNvbnRlbnQ6IFwiXCI7XFxuICBoZWlnaHQ6IDA7XFxuICB3aWR0aDogMDtcXG4gIHBvc2l0aW9uOiBhYnNvbHV0ZTtcXG4gIHBvaW50ZXItZXZlbnRzOiBub25lO1xcbiAgYm9yZGVyLXJpZ2h0OiA4cHggc29saWQgdHJhbnNwYXJlbnQ7XFxuICBib3JkZXItbGVmdDogOHB4IHNvbGlkICM5Y2E4YjE7XFxuICBiYWNrZ3JvdW5kOiAjOWNhOGIxO1xcbiAgLXdlYmtpdC10cmFuc2Zvcm0tb3JpZ2luOiAwIDA7XFxuICAgICAgLW1zLXRyYW5zZm9ybS1vcmlnaW46IDAgMDtcXG4gICAgICAgICAgdHJhbnNmb3JtLW9yaWdpbjogMCAwO1xcbiAgLXdlYmtpdC10cmFuc2Zvcm06IHJvdGF0ZSgtNDVkZWcpO1xcbiAgICAgIC1tcy10cmFuc2Zvcm06IHJvdGF0ZSgtNDVkZWcpO1xcbiAgICAgICAgICB0cmFuc2Zvcm06IHJvdGF0ZSgtNDVkZWcpO1xcbn1cXG5cXG4ucHVzaHdvb3NoLXN1YnNjcmliZS13aWRnZXRfX3BvcG92ZXJfX2JvdHRvbTphZnRlciB7XFxuICBib3JkZXItYm90dG9tOiA4cHggc29saWQgIzljYThiMTtcXG4gIGJvcmRlci10b3A6IDhweCBzb2xpZCB0cmFuc3BhcmVudDtcXG4gIC13ZWJraXQtYm94LXNpemluZzogYm9yZGVyLWJveDtcXG4gICAgICAgICAgYm94LXNpemluZzogYm9yZGVyLWJveDtcXG4gIC13ZWJraXQtYm94LXNoYWRvdzogLTJweCAycHggMXB4IDAgcmdiYSgwLCAwLCAwLCAwLjI1KTtcXG4gICAgICAgICAgYm94LXNoYWRvdzogLTJweCAycHggMXB4IDAgcmdiYSgwLCAwLCAwLCAwLjI1KTtcXG4gIGJvdHRvbTogLTE2cHg7XFxufVxcblxcbi5wdXNod29vc2gtc3Vic2NyaWJlLXdpZGdldF9fcG9wb3Zlcl9fdG9wOmFmdGVyIHtcXG4gIHRvcDogMDtcXG4gIGJvcmRlci10b3A6IDhweCBzb2xpZCAjOWNhOGIxO1xcbiAgYm9yZGVyLWJvdHRvbTogOHB4IHNvbGlkIHRyYW5zcGFyZW50O1xcbiAgLXdlYmtpdC1ib3gtc2l6aW5nOiBib3JkZXItYm94O1xcbiAgICAgICAgICBib3gtc2l6aW5nOiBib3JkZXItYm94O1xcbiAgLXdlYmtpdC1ib3gtc2hhZG93OiAxcHggLTFweCAxcHggMCByZ2JhKDAsIDAsIDAsIDAuMjUpO1xcbiAgICAgICAgICBib3gtc2hhZG93OiAxcHggLTFweCAxcHggMCByZ2JhKDAsIDAsIDAsIDAuMjUpO1xcbn1cXG5cXG4ucHVzaHdvb3NoLXN1YnNjcmliZS13aWRnZXRfX3BvcG92ZXItY29udGVudC13cmFwcGVyIHtcXG4gIG92ZXJmbG93OiBhdXRvO1xcbiAgbWF4LXdpZHRoOiAxMDAlO1xcbn1cXG5cXG5cXG4ucHVzaHdvb3NoLXN1YnNjcmliZS13aWRnZXQgLnB1c2h3b29zaC1zdWJzY3JpYmUtd2lkZ2V0X19wb3BvdmVyLWNvbnRlbnQge1xcbiAgZGlzcGxheTogLXdlYmtpdC1ib3g7XFxuICBkaXNwbGF5OiAtbXMtZmxleGJveDtcXG4gIGRpc3BsYXk6IGZsZXg7XFxuICAtd2Via2l0LWJveC1vcmllbnQ6IHZlcnRpY2FsO1xcbiAgLXdlYmtpdC1ib3gtZGlyZWN0aW9uOiBub3JtYWw7XFxuICAgICAgLW1zLWZsZXgtZGlyZWN0aW9uOiBjb2x1bW47XFxuICAgICAgICAgIGZsZXgtZGlyZWN0aW9uOiBjb2x1bW47XFxuICBwYWRkaW5nOiAxNHB4O1xcbiAgLXdlYmtpdC1ib3gtc2l6aW5nOiBib3JkZXItYm94O1xcbiAgICAgICAgICBib3gtc2l6aW5nOiBib3JkZXItYm94O1xcbiAgZmxvYXQ6IGxlZnQ7XFxuICBtaW4td2lkdGg6IDEwMCU7XFxuICAtd2Via2l0LWJveC1hbGlnbjogY2VudGVyO1xcbiAgICAgIC1tcy1mbGV4LWFsaWduOiBjZW50ZXI7XFxuICAgICAgICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7XFxufVxcblxcbi5wdXNod29vc2gtc3Vic2NyaWJlLXdpZGdldCAucHVzaHdvb3NoLXN1YnNjcmliZS13aWRnZXRfX3BvcG92ZXIgaW1nIHtcXG4gIGRpc3BsYXk6IGJsb2NrO1xcbn1cXG5cXG4ucHVzaHdvb3NoLXN1YnNjcmliZS13aWRnZXQgLnB1c2h3b29zaC1zdWJzY3JpYmUtd2lkZ2V0X19wb3BvdmVyIGltZzpmaXJzdC1jaGlsZCB7XFxuICBtYXJnaW4tYm90dG9tOiAxNHB4O1xcbn1cXG5cXG5AbWVkaWEgKG1heC13aWR0aDogNzY3cHgpIGFuZCAob3JpZW50YXRpb246IHBvcnRyYWl0KSB7XFxuICAucHVzaHdvb3NoLXN1YnNjcmliZS13aWRnZXQgLnB1c2h3b29zaC1zdWJzY3JpYmUtd2lkZ2V0X19wb3BvdmVyLWNvbnRlbnQge1xcbiAgICAtd2Via2l0LWJveC1vcmllbnQ6IHZlcnRpY2FsO1xcbiAgICAtd2Via2l0LWJveC1kaXJlY3Rpb246IG5vcm1hbDtcXG4gICAgICAgIC1tcy1mbGV4LWRpcmVjdGlvbjogY29sdW1uO1xcbiAgICAgICAgICAgIGZsZXgtZGlyZWN0aW9uOiBjb2x1bW47XFxuICB9XFxuICAucHVzaHdvb3NoLXN1YnNjcmliZS13aWRnZXQgLnB1c2h3b29zaC1zdWJzY3JpYmUtd2lkZ2V0X19wb3BvdmVyIGltZyB7XFxuICAgIG1heC13aWR0aDogMjgwcHg7XFxuICAgIGhlaWdodDogYXV0bztcXG4gIH1cXG4gIC5wdXNod29vc2gtc3Vic2NyaWJlLXdpZGdldCAucHVzaHdvb3NoLXN1YnNjcmliZS13aWRnZXRfX3BvcG92ZXIgaW1nOmZpcnN0LWNoaWxkIHtcXG4gICAgbWFyZ2luLXJpZ2h0OiAwO1xcbiAgICBtYXJnaW4tYm90dG9tOiAxNHB4O1xcbiAgfVxcbn1cXG5AbWVkaWEgKG1heC13aWR0aDogNzY3cHgpIGFuZCAob3JpZW50YXRpb246IGxhbmRzY2FwZSkge1xcbiAgLnB1c2h3b29zaC1zdWJzY3JpYmUtd2lkZ2V0IC5wdXNod29vc2gtc3Vic2NyaWJlLXdpZGdldF9fcG9wb3Zlci1jb250ZW50IHtcXG4gICAgLXdlYmtpdC1ib3gtb3JpZW50OiBob3Jpem9udGFsO1xcbiAgICAtd2Via2l0LWJveC1kaXJlY3Rpb246IG5vcm1hbDtcXG4gICAgICAgIC1tcy1mbGV4LWRpcmVjdGlvbjogcm93O1xcbiAgICAgICAgICAgIGZsZXgtZGlyZWN0aW9uOiByb3c7XFxuICB9XFxuICAucHVzaHdvb3NoLXN1YnNjcmliZS13aWRnZXQgLnB1c2h3b29zaC1zdWJzY3JpYmUtd2lkZ2V0X19wb3BvdmVyIGltZyB7XFxuICAgIG1heC13aWR0aDogMjgwcHg7XFxuICAgIGhlaWdodDogYXV0bztcXG4gIH1cXG4gIC5wdXNod29vc2gtc3Vic2NyaWJlLXdpZGdldCAucHVzaHdvb3NoLXN1YnNjcmliZS13aWRnZXRfX3BvcG92ZXIgaW1nOmZpcnN0LWNoaWxkIHtcXG4gICAgbWFyZ2luLXJpZ2h0OiAxNHB4O1xcbiAgICBtYXJnaW4tYm90dG9tOiAwO1xcbiAgfVxcbn1cXG4nLFwiXCJdKX0sZnVuY3Rpb24obW9kdWxlLGV4cG9ydHMpe21vZHVsZS5leHBvcnRzPWZ1bmN0aW9uKHVzZVNvdXJjZU1hcCl7dmFyIGxpc3Q9W107cmV0dXJuIGxpc3QudG9TdHJpbmc9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5tYXAoZnVuY3Rpb24oaXRlbSl7dmFyIGNvbnRlbnQ9ZnVuY3Rpb24oaXRlbSx1c2VTb3VyY2VNYXApe3ZhciBjb250ZW50PWl0ZW1bMV18fFwiXCIsY3NzTWFwcGluZz1pdGVtWzNdO2lmKCFjc3NNYXBwaW5nKXJldHVybiBjb250ZW50O2lmKHVzZVNvdXJjZU1hcCYmXCJmdW5jdGlvblwiPT10eXBlb2YgYnRvYSl7dmFyIHNvdXJjZU1hcHBpbmc9ZnVuY3Rpb24oc291cmNlTWFwKXtyZXR1cm5cIi8qIyBzb3VyY2VNYXBwaW5nVVJMPWRhdGE6YXBwbGljYXRpb24vanNvbjtjaGFyc2V0PXV0Zi04O2Jhc2U2NCxcIitidG9hKHVuZXNjYXBlKGVuY29kZVVSSUNvbXBvbmVudChKU09OLnN0cmluZ2lmeShzb3VyY2VNYXApKSkpK1wiICovXCJ9KGNzc01hcHBpbmcpLHNvdXJjZVVSTHM9Y3NzTWFwcGluZy5zb3VyY2VzLm1hcChmdW5jdGlvbihzb3VyY2Upe3JldHVyblwiLyojIHNvdXJjZVVSTD1cIitjc3NNYXBwaW5nLnNvdXJjZVJvb3Qrc291cmNlK1wiICovXCJ9KTtyZXR1cm5bY29udGVudF0uY29uY2F0KHNvdXJjZVVSTHMpLmNvbmNhdChbc291cmNlTWFwcGluZ10pLmpvaW4oXCJcXG5cIil9cmV0dXJuW2NvbnRlbnRdLmpvaW4oXCJcXG5cIil9KGl0ZW0sdXNlU291cmNlTWFwKTtyZXR1cm4gaXRlbVsyXT9cIkBtZWRpYSBcIitpdGVtWzJdK1wie1wiK2NvbnRlbnQrXCJ9XCI6Y29udGVudH0pLmpvaW4oXCJcIil9LGxpc3QuaT1mdW5jdGlvbihtb2R1bGVzLG1lZGlhUXVlcnkpe1wic3RyaW5nXCI9PXR5cGVvZiBtb2R1bGVzJiYobW9kdWxlcz1bW251bGwsbW9kdWxlcyxcIlwiXV0pO2Zvcih2YXIgYWxyZWFkeUltcG9ydGVkTW9kdWxlcz17fSxpPTA7aTx0aGlzLmxlbmd0aDtpKyspe3ZhciBpZD10aGlzW2ldWzBdO1wibnVtYmVyXCI9PXR5cGVvZiBpZCYmKGFscmVhZHlJbXBvcnRlZE1vZHVsZXNbaWRdPSEwKX1mb3IoaT0wO2k8bW9kdWxlcy5sZW5ndGg7aSsrKXt2YXIgaXRlbT1tb2R1bGVzW2ldO1wibnVtYmVyXCI9PXR5cGVvZiBpdGVtWzBdJiZhbHJlYWR5SW1wb3J0ZWRNb2R1bGVzW2l0ZW1bMF1dfHwobWVkaWFRdWVyeSYmIWl0ZW1bMl0/aXRlbVsyXT1tZWRpYVF1ZXJ5Om1lZGlhUXVlcnkmJihpdGVtWzJdPVwiKFwiK2l0ZW1bMl0rXCIpIGFuZCAoXCIrbWVkaWFRdWVyeStcIilcIiksbGlzdC5wdXNoKGl0ZW0pKX19LGxpc3R9fSxmdW5jdGlvbihtb2R1bGUsZXhwb3J0cyxfX3dlYnBhY2tfcmVxdWlyZV9fKXtcInVzZSBzdHJpY3RcIjtPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cyxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KTt2YXIgcHdJbmJveFdpZGdldD1fX3dlYnBhY2tfcmVxdWlyZV9fKDE1Mik7ZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcInB1c2h3b29zaC5pbml0aWFsaXplZFwiLGZ1bmN0aW9uKGV2KXtldi5kZXRhaWwucHcucHdpbmJveCYmZXYuZGV0YWlsLnB3LmluYm94V2lkZ2V0Q29uZmlnLmVuYWJsZSYmKGV2LmRldGFpbC5wdy5wd2luYm94V2lkZ2V0PW5ldyBwd0luYm94V2lkZ2V0LlBXSW5ib3hXaWRnZXQoZXYuZGV0YWlsLnB3KSl9KX0sZnVuY3Rpb24obW9kdWxlLGV4cG9ydHMsX193ZWJwYWNrX3JlcXVpcmVfXyl7bW9kdWxlLmV4cG9ydHM9ZnVuY3Rpb24obW9kdWxlcyl7dmFyIGluc3RhbGxlZE1vZHVsZXM9e307ZnVuY3Rpb24gX193ZWJwYWNrX3JlcXVpcmVfXyhtb2R1bGVJZCl7aWYoaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0pcmV0dXJuIGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdLmV4cG9ydHM7dmFyIG1vZHVsZT1pbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXT17aTptb2R1bGVJZCxsOiExLGV4cG9ydHM6e319O3JldHVybiBtb2R1bGVzW21vZHVsZUlkXS5jYWxsKG1vZHVsZS5leHBvcnRzLG1vZHVsZSxtb2R1bGUuZXhwb3J0cyxfX3dlYnBhY2tfcmVxdWlyZV9fKSxtb2R1bGUubD0hMCxtb2R1bGUuZXhwb3J0c31yZXR1cm4gX193ZWJwYWNrX3JlcXVpcmVfXy5tPW1vZHVsZXMsX193ZWJwYWNrX3JlcXVpcmVfXy5jPWluc3RhbGxlZE1vZHVsZXMsX193ZWJwYWNrX3JlcXVpcmVfXy5kPWZ1bmN0aW9uKGV4cG9ydHMsbmFtZSxnZXR0ZXIpe19fd2VicGFja19yZXF1aXJlX18ubyhleHBvcnRzLG5hbWUpfHxPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cyxuYW1lLHtjb25maWd1cmFibGU6ITEsZW51bWVyYWJsZTohMCxnZXQ6Z2V0dGVyfSl9LF9fd2VicGFja19yZXF1aXJlX18ucj1mdW5jdGlvbihleHBvcnRzKXtPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cyxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KX0sX193ZWJwYWNrX3JlcXVpcmVfXy5uPWZ1bmN0aW9uKG1vZHVsZSl7dmFyIGdldHRlcj1tb2R1bGUmJm1vZHVsZS5fX2VzTW9kdWxlP2Z1bmN0aW9uKCl7cmV0dXJuIG1vZHVsZS5kZWZhdWx0fTpmdW5jdGlvbigpe3JldHVybiBtb2R1bGV9O3JldHVybiBfX3dlYnBhY2tfcmVxdWlyZV9fLmQoZ2V0dGVyLFwiYVwiLGdldHRlciksZ2V0dGVyfSxfX3dlYnBhY2tfcmVxdWlyZV9fLm89ZnVuY3Rpb24ob2JqZWN0LHByb3BlcnR5KXtyZXR1cm4gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iamVjdCxwcm9wZXJ0eSl9LF9fd2VicGFja19yZXF1aXJlX18ucD1cIlwiLF9fd2VicGFja19yZXF1aXJlX18oX193ZWJwYWNrX3JlcXVpcmVfXy5zPTIpfShbZnVuY3Rpb24obW9kdWxlLGV4cG9ydHMsX193ZWJwYWNrX3JlcXVpcmVfXyl7XCJ1c2Ugc3RyaWN0XCI7T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSk7dmFyIGNvbnN0YW50c18xPV9fd2VicGFja19yZXF1aXJlX18oMSk7ZXhwb3J0cy5pc0VsZW1lbnRGaXhlZD1mdW5jdGlvbiBpc0VsZW1lbnRGaXhlZChlbGVtZW50KXt2YXIgaXNGaXhlZD1cImZpeGVkXCI9PT13aW5kb3cuZ2V0Q29tcHV0ZWRTdHlsZShlbGVtZW50KS5wb3NpdGlvbjtyZXR1cm4haXNGaXhlZCYmZWxlbWVudC5wYXJlbnRFbGVtZW50JiYoaXNGaXhlZD1pc0VsZW1lbnRGaXhlZChlbGVtZW50LnBhcmVudEVsZW1lbnQpKSxpc0ZpeGVkfSxleHBvcnRzLmdldEdsb2JhbD1mdW5jdGlvbigpe3JldHVybiBGdW5jdGlvbihcInJldHVybiB0aGlzXCIpKCl9LGV4cG9ydHMuZ2V0TWVzc2FnZVRpbWU9ZnVuY3Rpb24oZGF0ZSl7dmFyIGxvY2FsRGF0ZT1uZXcgRGF0ZShkYXRlKSxsb2NhbFRpbWU9bG9jYWxEYXRlLmdldEhvdXJzKCkrbG9jYWxEYXRlLmdldFRpbWV6b25lT2Zmc2V0KCkvNjA7bG9jYWxEYXRlLnNldEhvdXJzKGxvY2FsVGltZSk7dmFyIGdhcD0obmV3IERhdGUpLmdldFRpbWUoKS1sb2NhbERhdGUuZ2V0VGltZSgpO3JldHVybiBnYXA8PTZlND9cIkp1c3Qgbm93XCI6Z2FwPGNvbnN0YW50c18xLk1JTExJU0VDT05EU19JTl9IT1VSJiZnYXA+MD9NYXRoLmZsb29yKGdhcC82ZTQpK1wiIG1pbnV0ZXMgYWdvXCI6Z2FwPGNvbnN0YW50c18xLk1JTExJU0VDT05EU19JTl9EQVkmJmdhcD4wP01hdGguZmxvb3IoZ2FwLzM2ZTUpK1wiIGhvdXJzIGFnb1wiOmxvY2FsRGF0ZS5nZXREYXRlKCkrXCIgXCIrY29uc3RhbnRzXzEuTU9OVEhTW2xvY2FsRGF0ZS5nZXRNb250aCgpXStcIiBcIitsb2NhbERhdGUuZ2V0RnVsbFllYXIoKStcIiwgXCIrbG9jYWxEYXRlLmdldEhvdXJzKCkrXCI6XCIrKFwiMFwiK2xvY2FsRGF0ZS5nZXRNaW51dGVzKCkudG9TdHJpbmcoKSkuc2xpY2UoLTIpfSxleHBvcnRzLmdldFZhbGlkQ29sb3I9ZnVuY3Rpb24oY29sb3Ipe3JldHVyblwidHJhbnNwYXJlbnRcIj09PWNvbG9yP2NvbG9yOmNvbnN0YW50c18xLkNPTE9SX1RFU1RfUkVHRVhQLnRlc3QoY29sb3IpP2NvbG9yOlwiIzMzM1wifSxleHBvcnRzLmNvbXBhcmVCeVNlbmREYXRlPWZ1bmN0aW9uKGRhdGVPbmUsZGF0ZVR3byl7dmFyIGxvY2FsRGF0ZU9uZT1uZXcgRGF0ZShkYXRlT25lKSxsb2NhbFRpbWVPbmU9bG9jYWxEYXRlT25lLmdldEhvdXJzKCkrbG9jYWxEYXRlT25lLmdldFRpbWV6b25lT2Zmc2V0KCkvNjAsbG9jYWxEYXRlVHdvPW5ldyBEYXRlKGRhdGVUd28pLGxvY2FsVGltZVR3bz1sb2NhbERhdGVUd28uZ2V0SG91cnMoKStsb2NhbERhdGVUd28uZ2V0VGltZXpvbmVPZmZzZXQoKS82MDtyZXR1cm4gbG9jYWxEYXRlT25lLnNldEhvdXJzKGxvY2FsVGltZU9uZSksbG9jYWxEYXRlVHdvLnNldEhvdXJzKGxvY2FsVGltZVR3byksbG9jYWxEYXRlVHdvLmdldFRpbWUoKS1sb2NhbERhdGVPbmUuZ2V0VGltZSgpfX0sZnVuY3Rpb24obW9kdWxlLGV4cG9ydHMsX193ZWJwYWNrX3JlcXVpcmVfXyl7XCJ1c2Ugc3RyaWN0XCI7T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSksZXhwb3J0cy5NSUxMSVNFQ09ORFNfSU5fREFZPTg2NGU1LGV4cG9ydHMuTUlMTElTRUNPTkRTX0lOX0hPVVI9MzZlNSxleHBvcnRzLk1PTlRIUz1bXCJKYW5cIixcIkZlYlwiLFwiTWFyXCIsXCJBcHJcIixcIk1heVwiLFwiSnVuZVwiLFwiSnVseVwiLFwiQXVnXCIsXCJTZXB0XCIsXCJPY3RcIixcIk5vdlwiLFwiRGVjXCJdLGV4cG9ydHMuQ09ORklHX1NUWUxFUz1be25hbWU6XCJ3aWRnZXRXaWR0aFwiLHR5cGU6XCJzaXplXCJ9LHtuYW1lOlwiYm9yZGVyUmFkaXVzXCIsdHlwZTpcInNpemVcIn0se25hbWU6XCJ6SW5kZXhcIix0eXBlOlwibnVtYmVyXCJ9LHtuYW1lOlwiZm9udEZhbWlseVwiLHR5cGU6XCJzdHJpbmdcIn0se25hbWU6XCJiZ0NvbG9yXCIsdHlwZTpcImNvbG9yXCJ9LHtuYW1lOlwidGV4dENvbG9yXCIsdHlwZTpcImNvbG9yXCJ9LHtuYW1lOlwiYXJyb3dCb3JkZXJDb2xvclwiLHR5cGU6XCJjb2xvclwifSx7bmFtZTpcImJvcmRlckNvbG9yXCIsdHlwZTpcImNvbG9yXCJ9LHtuYW1lOlwiYmFkZ2VCZ0NvbG9yXCIsdHlwZTpcImNvbG9yXCJ9LHtuYW1lOlwiYmFkZ2VUZXh0Q29sb3JcIix0eXBlOlwiY29sb3JcIn0se25hbWU6XCJ0aW1lVGV4dENvbG9yXCIsdHlwZTpcImNvbG9yXCJ9LHtuYW1lOlwibWVzc2FnZVRpdGxlQ29sb3JcIix0eXBlOlwiY29sb3JcIn0se25hbWU6XCJlbXB0eUluYm94VGl0bGVDb2xvclwiLHR5cGU6XCJjb2xvclwifSx7bmFtZTpcImVtcHR5SW5ib3hUZXh0Q29sb3JcIix0eXBlOlwiY29sb3JcIn1dLGV4cG9ydHMuREVGQVVMVF9DT05GSUc9e2VuYWJsZTohMSx0cmlnZ2VySWQ6XCJwd0luYm94XCIscG9zaXRpb246XCJib3R0b21cIixhcHBlbmRUbzpcImJvZHlcIix0aXRsZTpcIkluYm94XCIsYmdDb2xvcjpcIiNmZmZmZmZcIix0ZXh0Q29sb3I6XCIjMzMzMzMzXCIsZm9udEZhbWlseTpcImluaGVyaXRcIixib3JkZXJSYWRpdXM6NCxib3JkZXJDb2xvcjpcInRyYW5zcGFyZW50XCIsYmFkZ2VCZ0NvbG9yOlwiI2ZmNGMwMFwiLGJhZGdlVGV4dENvbG9yOlwiI2ZmZmZmZlwiLHdpZGdldFdpZHRoOjM1MCx6SW5kZXg6MTAwLG1lc3NhZ2VUaXRsZUNvbG9yOlwiIzdhN2E3YVwiLHRpbWVUZXh0Q29sb3I6XCIjYzRjNGM0XCIsZW1wdHlJbmJveFRpdGxlOlwiWW91J3JlIGFsbCBjYXVnaHQgdXBcIixlbXB0eUluYm94VGl0bGVDb2xvcjpcIiMzMzMzMzNcIixlbXB0eUluYm94VGV4dDpcIlRoZXJlIGFyZSBubyBuZXcgbWVzc2FnZXMuIFN0YXkgdHVuZWQhXCIsZW1wdHlJbmJveFRleHRDb2xvcjpcIiM3YTdhN2FcIixlbXB0eUluYm94SWNvblVybDpcImh0dHBzOi8vcHVzaG9uLnB1c2h3b29zaC5jb20vaW1hZ2VzL2ljb24tZW1wdHktaW5ib3gucG5nXCIsYXJyb3dCb3JkZXJDb2xvcjpcInJnYmEoMCwwLDAsLjEpXCJ9LGV4cG9ydHMuQ09MT1JfVEVTVF9SRUdFWFA9L14oIyhbXFxkYS1mXXszfSl7MSwyfSR8KHJnYnxoc2wpYVxcKChcXGR7MSwzfSU/LFxccz8pezN9KDF8MD9cXC5cXGQrKVxcKSR8KHJnYnxoc2wpXFwoXFxkezEsM30lPygsXFxzP1xcZHsxLDN9JT8pezJ9XFwpJCkvfSxmdW5jdGlvbihtb2R1bGUsZXhwb3J0cyxfX3dlYnBhY2tfcmVxdWlyZV9fKXtcInVzZSBzdHJpY3RcIjtPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cyxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KTt2YXIgSW5ib3hXaWRnZXRfMT1fX3dlYnBhY2tfcmVxdWlyZV9fKDMpO2V4cG9ydHMuUFdJbmJveFdpZGdldD1JbmJveFdpZGdldF8xLmRlZmF1bHR9LGZ1bmN0aW9uKG1vZHVsZSxleHBvcnRzLF9fd2VicGFja19yZXF1aXJlX18pe1widXNlIHN0cmljdFwiO3ZhciBfX2Fzc2lnbj10aGlzJiZ0aGlzLl9fYXNzaWdufHxPYmplY3QuYXNzaWdufHxmdW5jdGlvbih0KXtmb3IodmFyIHMsaT0xLG49YXJndW1lbnRzLmxlbmd0aDtpPG47aSsrKWZvcih2YXIgcCBpbiBzPWFyZ3VtZW50c1tpXSlPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwocyxwKSYmKHRbcF09c1twXSk7cmV0dXJuIHR9O09iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pO3ZhciB3aWRnZXRUZW1wbGF0ZXNfMT1fX3dlYnBhY2tfcmVxdWlyZV9fKDQpLGNvbnN0YW50c18xPV9fd2VicGFja19yZXF1aXJlX18oMSksaGVscGVyc18xPV9fd2VicGFja19yZXF1aXJlX18oMCksSW5ib3hXaWRnZXQ9ZnVuY3Rpb24oKXtmdW5jdGlvbiBJbmJveFdpZGdldChwdyl7dGhpcy5wdz1wdyx0aGlzLmNvbmZpZz1fX2Fzc2lnbih7fSxjb25zdGFudHNfMS5ERUZBVUxUX0NPTkZJRyx7YXJyb3dCb3JkZXJDb2xvcjp0aGlzLnB3LmluYm94V2lkZ2V0Q29uZmlnLmJvcmRlckNvbG9yJiZcInRyYW5zcGFyZW50XCIhPT10aGlzLnB3LmluYm94V2lkZ2V0Q29uZmlnLmJvcmRlckNvbG9yP3RoaXMucHcuaW5ib3hXaWRnZXRDb25maWcuYm9yZGVyQ29sb3I6XCJyZ2JhKDAsMCwwLC4xKVwifSx0aGlzLnB3LmluYm94V2lkZ2V0Q29uZmlnKSx0aGlzLnVwZGF0ZUluYm94PXRoaXMudXBkYXRlSW5ib3guYmluZCh0aGlzKSx0aGlzLm1hcmtWaXNpYmxlSXRlbXNBc1JlYWQ9dGhpcy5tYXJrVmlzaWJsZUl0ZW1zQXNSZWFkLmJpbmQodGhpcyksdGhpcy5vbldpZGdldENsaWNrSGFuZGxlcj10aGlzLm9uV2lkZ2V0Q2xpY2tIYW5kbGVyLmJpbmQodGhpcyksdGhpcy5vblRyaWdnZXJDbGlja0hhbmRsZXI9dGhpcy5vblRyaWdnZXJDbGlja0hhbmRsZXIuYmluZCh0aGlzKSx0aGlzLm9uV2luZG93U2Nyb2xsSGFuZGxlcj10aGlzLm9uV2luZG93U2Nyb2xsSGFuZGxlci5iaW5kKHRoaXMpLHRoaXMudG9nZ2xlPXRoaXMudG9nZ2xlLmJpbmQodGhpcyk7dHJ5e3RoaXMuaW5pdFRyaWdnZXIoKSx0aGlzLnVwZGF0ZUluYm94KCksdGhpcy5hZGRMaXN0ZW5lcnMoKX1jYXRjaChlcnIpe2NvbnNvbGUud2FybihlcnIpfX1yZXR1cm4gSW5ib3hXaWRnZXQucHJvdG90eXBlLnRvZ2dsZT1mdW5jdGlvbihpc09wZW5lZCl7KHZvaWQgMD09PWlzT3BlbmVkPyF0aGlzLmlzT3BlbmVkOmlzT3BlbmVkKT90aGlzLm9wZW5XaWRnZXQoKTp0aGlzLmNsb3NlV2lkZ2V0KCl9LEluYm94V2lkZ2V0LnByb3RvdHlwZS5pbml0VHJpZ2dlcj1mdW5jdGlvbigpe2lmKCF0aGlzLnB3LnB3aW5ib3gpdGhyb3cgbmV3IEVycm9yKFwiV2ViIGluYm94IGlzIG5vdCBhbGxvd2VkLlwiKTt2YXIgdHJpZ2dlcj1kb2N1bWVudC5nZXRFbGVtZW50QnlJZCh0aGlzLmNvbmZpZy50cmlnZ2VySWQpO2lmKCF0cmlnZ2VyKXRocm93IG5ldyBFcnJvcihcIkluYm94IHRyaWdnZXIgZWxlbWVudCBkb2Vzbid0IGV4aXN0LiBZb3UgbXVzdCBzZXQgdHJpZ2dlcklkIGluIGluYm94V2lkZ2V0IGNvbmZpZy4gU2VlIHRoZSBkb2N1bWVudGF0aW9uLlwiKTt0aGlzLnRyaWdnZXI9dHJpZ2dlcix0aGlzLnRyaWdnZXIuY2xhc3NMaXN0LmFkZChcInB3LWluYm94LXRyaWdnZXJcIiksdGhpcy5kZWZhdWx0TWFyZ2luPTEyLHRoaXMubWVzc2FnZXNFbGVtZW50cz17fSx0aGlzLm1lc3NhZ2VzPVtdLHRoaXMucmVhZEl0ZW1zPVtdLHRoaXMudXBkYXRlQ291bnRlcigwKSx0aGlzLmlzT3BlbmVkPSExLHRoaXMucmVuZGVyV2lkZ2V0KCksdGhpcy5pc0ZpeGVkPWhlbHBlcnNfMS5pc0VsZW1lbnRGaXhlZCh0aGlzLnRyaWdnZXIpfSxJbmJveFdpZGdldC5wcm90b3R5cGUucmVuZGVyV2lkZ2V0PWZ1bmN0aW9uKCl7dGhpcy53aWRnZXQ9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKSx0aGlzLndpZGdldC5pZD1cInB3SW5ib3hXaWRnZXRcIix0aGlzLndpZGdldC5jbGFzc05hbWU9XCJwdy1pbmJveC13aWRnZXRcIix0aGlzLndpZGdldC5jbGFzc0xpc3QudG9nZ2xlKFwicHctb3BlblwiLHRoaXMuaXNPcGVuZWQpLHRoaXMud2lkZ2V0UGFyZW50PWRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IodGhpcy5jb25maWcuYXBwZW5kVG8pfHxkb2N1bWVudC5ib2R5LHRoaXMud2lkZ2V0UGFyZW50LmFwcGVuZENoaWxkKHRoaXMud2lkZ2V0KSx0aGlzLndpZGdldFBhcmVudC5hcHBlbmRDaGlsZCh0aGlzLmdldFN0eWxlKCkpLHRoaXMucmVuZGVyV2lkZ2V0SW5uZXIoKX0sSW5ib3hXaWRnZXQucHJvdG90eXBlLmdldFN0eWxlPWZ1bmN0aW9uKCl7dmFyIHN0eWxlcz1fX3dlYnBhY2tfcmVxdWlyZV9fKDUpLHN0eWxlTm9kZT1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwic3R5bGVcIik7cmV0dXJuIHN0eWxlTm9kZS5pbm5lckhUTUw9dGhpcy5jb25maWd1cmVTdHlsZShzdHlsZXMpLHN0eWxlTm9kZX0sSW5ib3hXaWRnZXQucHJvdG90eXBlLmNvbmZpZ3VyZVN0eWxlPWZ1bmN0aW9uKHN0eWxlcyl7dmFyIF90aGlzPXRoaXMscmVzdWx0U3R5bGVzPXN0eWxlcy50b1N0cmluZygpO3JldHVybiBjb25zdGFudHNfMS5DT05GSUdfU1RZTEVTLmZvckVhY2goZnVuY3Rpb24oc3R5bGUpe3ZhciB0ZW1wbGF0ZT1uZXcgUmVnRXhwKFwidmFyXFxcXCgtLVwiK3N0eWxlLm5hbWUrXCJcXFxcKVwiLFwiaWdcIikscmVzdWx0PV90aGlzLmdldFN0eWxlRm9ybWF0dGVyKHN0eWxlKTtyZXN1bHRTdHlsZXM9cmVzdWx0U3R5bGVzLnJlcGxhY2UodGVtcGxhdGUscmVzdWx0KX0pLHJlc3VsdFN0eWxlc30sSW5ib3hXaWRnZXQucHJvdG90eXBlLmdldFN0eWxlRm9ybWF0dGVyPWZ1bmN0aW9uKHN0eWxlKXtzd2l0Y2goc3R5bGUudHlwZSl7Y2FzZVwic2l6ZVwiOnJldHVybih0aGlzLmNvbmZpZ1tzdHlsZS5uYW1lXXx8MCkrXCJweFwiO2Nhc2VcIm51bWJlclwiOnJldHVybiBwYXJzZUZsb2F0KHRoaXMuY29uZmlnW3N0eWxlLm5hbWVdLnRvU3RyaW5nKCkpLnRvU3RyaW5nKCk7Y2FzZVwic3RyaW5nXCI6cmV0dXJuIHRoaXMuY29uZmlnW3N0eWxlLm5hbWVdLnRvU3RyaW5nKCk7Y2FzZVwiY29sb3JcIjpyZXR1cm4gaGVscGVyc18xLmdldFZhbGlkQ29sb3IodGhpcy5jb25maWdbc3R5bGUubmFtZV0udG9TdHJpbmcoKSk7ZGVmYXVsdDpyZXR1cm5cIm5vbmVcIn19LEluYm94V2lkZ2V0LnByb3RvdHlwZS5yZW5kZXJXaWRnZXRJbm5lcj1mdW5jdGlvbigpe2lmKHRoaXMubWVzc2FnZXMubGVuZ3RoPjApdGhpcy53aWRnZXQuY2xhc3NMaXN0LnJlbW92ZShcInB3LWluYm94LXdpZGdldC0tZW1wdHlcIiksdGhpcy53aWRnZXQuaW5uZXJIVE1MPXdpZGdldFRlbXBsYXRlc18xLndpZGdldFRlbXBsYXRlKHRoaXMuY29uZmlnLnRpdGxlKSx0aGlzLnJlbmRlck1lc3NhZ2VzKCk7ZWxzZXt0aGlzLndpZGdldC5jbGFzc0xpc3QuYWRkKFwicHctaW5ib3gtd2lkZ2V0LS1lbXB0eVwiKTt2YXIgX2E9dGhpcy5jb25maWcsZW1wdHlJbmJveFRpdGxlPV9hLmVtcHR5SW5ib3hUaXRsZSxlbXB0eUluYm94VGV4dD1fYS5lbXB0eUluYm94VGV4dCxlbXB0eUluYm94SWNvblVybD1fYS5lbXB0eUluYm94SWNvblVybDt0aGlzLndpZGdldC5pbm5lckhUTUw9d2lkZ2V0VGVtcGxhdGVzXzEud2lkZ2V0VGVtcGxhdGVFbXB0eShlbXB0eUluYm94SWNvblVybCxlbXB0eUluYm94VGl0bGUsZW1wdHlJbmJveFRleHQpfX0sSW5ib3hXaWRnZXQucHJvdG90eXBlLnJlbmRlck1lc3NhZ2VzPWZ1bmN0aW9uKCl7dmFyIF90aGlzPXRoaXM7dGhpcy5saXN0PXRoaXMud2lkZ2V0LnF1ZXJ5U2VsZWN0b3IoXCIucHctaW5ib3hfbGlzdFwiKXx8ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInVsXCIpLHRoaXMubWVzc2FnZXMuZm9yRWFjaChmdW5jdGlvbihtZXNzYWdlKXt2YXIgbWVzc2FnZUVsZW1lbnQ9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImxpXCIpO21lc3NhZ2VFbGVtZW50LmNsYXNzTmFtZT1cInB3LWluYm94X2l0ZW1cIixtZXNzYWdlRWxlbWVudC5jbGFzc0xpc3QudG9nZ2xlKFwicHctbmV3XCIsIW1lc3NhZ2UuaXNSZWFkKSxtZXNzYWdlRWxlbWVudC5jbGFzc0xpc3QudG9nZ2xlKFwicHctdW5yZWFkXCIsIW1lc3NhZ2UuaXNBY3Rpb25QZXJmb3JtZWQpLG1lc3NhZ2VFbGVtZW50LnNldEF0dHJpYnV0ZShcImRhdGEtcHctaW5ib3gtbWVzc2FnZS1pZFwiLG1lc3NhZ2UuY29kZSksbWVzc2FnZUVsZW1lbnQuaW5uZXJIVE1MPXdpZGdldFRlbXBsYXRlc18xLm1lc3NhZ2VUZW1wbGF0ZShtZXNzYWdlKSxfdGhpcy5saXN0LmFwcGVuZENoaWxkKG1lc3NhZ2VFbGVtZW50KSxfdGhpcy5tZXNzYWdlc0VsZW1lbnRzW21lc3NhZ2UuY29kZV09bWVzc2FnZUVsZW1lbnR9KX0sSW5ib3hXaWRnZXQucHJvdG90eXBlLnVwZGF0ZUNvdW50ZXI9ZnVuY3Rpb24oY291bnQpe3RoaXMuY291bnQ9Y291bnQsdGhpcy50cmlnZ2VyLnNldEF0dHJpYnV0ZShcImRhdGEtcHctY291bnRcIixcIlwiK3RoaXMuY291bnQpLHRoaXMudHJpZ2dlci5jbGFzc0xpc3QudG9nZ2xlKFwicHctZW1wdHlcIiwwPT09dGhpcy5jb3VudCl9LEluYm94V2lkZ2V0LnByb3RvdHlwZS51cGRhdGVJbmJveE1lc3NhZ2VzPWZ1bmN0aW9uKG1lc3NhZ2VzKXt0aGlzLm1lc3NhZ2VzPW1lc3NhZ2VzLnNvcnQoZnVuY3Rpb24oX2EsX2Ipe3ZhciBzZW5kRGF0ZU9uZT1fYS5zZW5kRGF0ZSxzZW5kRGF0ZVR3bz1fYi5zZW5kRGF0ZTtyZXR1cm4gaGVscGVyc18xLmNvbXBhcmVCeVNlbmREYXRlKHNlbmREYXRlT25lLHNlbmREYXRlVHdvKX0pLHRoaXMucmVuZGVyV2lkZ2V0SW5uZXIoKX0sSW5ib3hXaWRnZXQucHJvdG90eXBlLm9wZW5XaWRnZXQ9ZnVuY3Rpb24oKXt0aGlzLmlzT3BlbmVkPSEwLHRoaXMud2lkZ2V0LmNsYXNzTGlzdC5hZGQoXCJwdy1vcGVuXCIpLGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLHRoaXMub25XaWRnZXRDbGlja0hhbmRsZXIpLHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKFwic2Nyb2xsXCIsdGhpcy5vbldpbmRvd1Njcm9sbEhhbmRsZXIpLHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKFwicmVzaXplXCIsdGhpcy5vbldpbmRvd1Njcm9sbEhhbmRsZXIpLHRoaXMubWFya1Zpc2libGVJdGVtc0FzUmVhZCgpLHRoaXMubWVzc2FnZXMubGVuZ3RoPjAmJnRoaXMubGlzdC5hZGRFdmVudExpc3RlbmVyKFwic2Nyb2xsXCIsdGhpcy5tYXJrVmlzaWJsZUl0ZW1zQXNSZWFkKSx0aGlzLnBvc2l0aW9uV2lkZ2V0KCl9LEluYm94V2lkZ2V0LnByb3RvdHlwZS5jbG9zZVdpZGdldD1mdW5jdGlvbigpe3RoaXMuaXNPcGVuZWQ9ITEsZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsdGhpcy5vbldpZGdldENsaWNrSGFuZGxlciksZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsdGhpcy5vbldpbmRvd1Njcm9sbEhhbmRsZXIpLHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKFwicmVzaXplXCIsdGhpcy5vbldpbmRvd1Njcm9sbEhhbmRsZXIpLHRoaXMudXBkYXRlUmVhZFN0YXR1cygpLHRoaXMubWVzc2FnZXMubGVuZ3RoPjAmJnRoaXMubGlzdC5yZW1vdmVFdmVudExpc3RlbmVyKFwic2Nyb2xsXCIsdGhpcy5tYXJrVmlzaWJsZUl0ZW1zQXNSZWFkKSx0aGlzLndpZGdldC5jbGFzc0xpc3QucmVtb3ZlKFwicHctb3BlblwiLFwicHctdG9wXCIsXCJwdy1ib3R0b21cIixcInB3LXJpZ2h0XCIsXCJwdy1sZWZ0XCIpLHRoaXMud2lkZ2V0LnJlbW92ZUF0dHJpYnV0ZShcInN0eWxlXCIpfSxJbmJveFdpZGdldC5wcm90b3R5cGUucG9zaXRpb25XaWRnZXQ9ZnVuY3Rpb24oKXt0aGlzLmlzT3BlbmVkJiYodGhpcy53aWRnZXRQYXJlbnQ9PT1kb2N1bWVudC5ib2R5P3RoaXMuZGVmYXVsdFBsYWNlV2lkZ2V0KCk6dGhpcy5jdXN0b21QbGFjZVdpZGdldCgpKX0sSW5ib3hXaWRnZXQucHJvdG90eXBlLmN1c3RvbVBsYWNlV2lkZ2V0PWZ1bmN0aW9uKCl7dmFyIHBvc2l0aW9uPXRoaXMuY29uZmlnLnBvc2l0aW9uO3RoaXMud2lkZ2V0UGFyZW50LnN0eWxlLnBvc2l0aW9uPVwicmVsYXRpdmVcIix0aGlzLndpZGdldC5jbGFzc0xpc3QuYWRkKFwicHctaW5ib3gtd2lkZ2V0LS1pbnNldFwiKSx0aGlzLndpZGdldC5jbGFzc0xpc3QuYWRkKFwicHctXCIrcG9zaXRpb24pfSxJbmJveFdpZGdldC5wcm90b3R5cGUuZGVmYXVsdFBsYWNlV2lkZ2V0PWZ1bmN0aW9uKCl7dmFyIHBvc2l0aW9uPXRoaXMucHcuaW5ib3hXaWRnZXRDb25maWcucG9zaXRpb24/dGhpcy5jb25maWcucG9zaXRpb246dGhpcy5nZXREZWZhdWx0UG9zaXRpb24oKSx3aWRnZXRSZWN0PXRoaXMud2lkZ2V0LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO2lmKGRvY3VtZW50LmRvY3VtZW50RWxlbWVudCl7dmFyIHdpbmRvd1dpZHRoPU1hdGgubWF4KGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5jbGllbnRXaWR0aCx3aW5kb3cuaW5uZXJXaWR0aHx8MCksd2luZG93SGVpZ2h0PU1hdGgubWF4KGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5jbGllbnRIZWlnaHQsd2luZG93LmlubmVySGVpZ2h0fHwwKTtzd2l0Y2god2lkZ2V0UmVjdC53aWR0aCsyKnRoaXMuZGVmYXVsdE1hcmdpbj53aW5kb3dXaWR0aCYmKHRoaXMud2lkZ2V0LnN0eWxlLndpZHRoPXdpbmRvd1dpZHRoLTIqdGhpcy5kZWZhdWx0TWFyZ2luK1wicHhcIiksd2lkZ2V0UmVjdC5oZWlnaHQrMjQ+d2luZG93SGVpZ2h0JiYodGhpcy53aWRnZXQuc3R5bGUuaGVpZ2h0PXdpbmRvd0hlaWdodC0yKnRoaXMuZGVmYXVsdE1hcmdpbitcInB4XCIpLHBvc2l0aW9uKXtjYXNlXCJ0b3BcIjp0aGlzLmFsaWduV2lkZ2V0VG9wKCk7YnJlYWs7Y2FzZVwicmlnaHRcIjp0aGlzLmFsaWduV2lkZ2V0UmlnaHQoKTticmVhaztjYXNlXCJsZWZ0XCI6dGhpcy5hbGlnbldpZGdldExlZnQoKTticmVhaztjYXNlXCJib3R0b21cIjp0aGlzLmFsaWduV2lkZ2V0Qm90dG9tKCl9fX0sSW5ib3hXaWRnZXQucHJvdG90eXBlLmFsaWduV2lkZ2V0VG9wPWZ1bmN0aW9uKCl7dmFyIHRyaWdnZXJSZWN0PXRoaXMudHJpZ2dlci5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKSx3aWRnZXRSZWN0PXRoaXMud2lkZ2V0LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO2lmKGRvY3VtZW50LmRvY3VtZW50RWxlbWVudCl7dmFyIHdpbmRvd1dpZHRoPU1hdGgubWF4KGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5jbGllbnRXaWR0aCx3aW5kb3cuaW5uZXJXaWR0aHx8MCksYXJyb3c9dGhpcy53aWRnZXQucXVlcnlTZWxlY3RvcihcIi5wdy1pbmJveF9fYXJyb3dcIil8fGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7dGhpcy53aWRnZXQuY2xhc3NMaXN0LmFkZChcInB3LXRvcFwiKTt2YXIgbGVmdD1wYWdlWE9mZnNldCt0cmlnZ2VyUmVjdC5sZWZ0K01hdGguZmxvb3IodHJpZ2dlclJlY3Qud2lkdGgvMiktTWF0aC5mbG9vcih3aWRnZXRSZWN0LndpZHRoLzIpLGlzVW5kZXJMZWZ0PWxlZnQ8cGFnZVhPZmZzZXQsaXNVbmRlclJpZ2h0PWxlZnQrd2lkZ2V0UmVjdC53aWR0aD5wYWdlWE9mZnNldCt3aW5kb3dXaWR0aDtpc1VuZGVyTGVmdCYmKGxlZnQ9cGFnZVhPZmZzZXQrdGhpcy5kZWZhdWx0TWFyZ2luKSxpc1VuZGVyUmlnaHQmJihsZWZ0PXBhZ2VYT2Zmc2V0K3dpbmRvd1dpZHRoLXdpZGdldFJlY3Qud2lkdGgtdGhpcy5kZWZhdWx0TWFyZ2luKTt2YXIgdG9wPXBhZ2VZT2Zmc2V0K3RyaWdnZXJSZWN0LnRvcC13aWRnZXRSZWN0LmhlaWdodDt0aGlzLmFsaWduV2lkZ2V0RWxlbWVudChsZWZ0LHRvcCksYXJyb3cuc3R5bGUubGVmdD10cmlnZ2VyUmVjdC5sZWZ0K01hdGguZmxvb3IodHJpZ2dlclJlY3Qud2lkdGgvMiktbGVmdCtcInB4XCI7dmFyIHRvcE1hcmdpbj10aGlzLndpZGdldC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS50b3A7aWYodG9wTWFyZ2luPDApe3ZhciBuZXdIZWlnaHQ9dGhpcy53aWRnZXQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkuaGVpZ2h0K3RvcE1hcmdpbi10aGlzLmRlZmF1bHRNYXJnaW4sbmV3VG9wPXRoaXMud2lkZ2V0LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLnRvcC10b3BNYXJnaW4rdGhpcy5kZWZhdWx0TWFyZ2luO3RoaXMud2lkZ2V0LnN0eWxlLmhlaWdodD1uZXdIZWlnaHQrXCJweFwiLHRoaXMud2lkZ2V0LnN0eWxlLnRvcD1uZXdUb3ArXCJweFwifX19LEluYm94V2lkZ2V0LnByb3RvdHlwZS5hbGlnbldpZGdldFJpZ2h0PWZ1bmN0aW9uKCl7dmFyIHRyaWdnZXJSZWN0PXRoaXMudHJpZ2dlci5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKSx3aWRnZXRSZWN0PXRoaXMud2lkZ2V0LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO2lmKGRvY3VtZW50LmRvY3VtZW50RWxlbWVudCl7dmFyIHdpbmRvd1dpZHRoPU1hdGgubWF4KGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5jbGllbnRXaWR0aCx3aW5kb3cuaW5uZXJXaWR0aHx8MCksd2luZG93SGVpZ2h0PU1hdGgubWF4KGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5jbGllbnRIZWlnaHQsd2luZG93LmlubmVySGVpZ2h0fHwwKSxhcnJvdz10aGlzLndpZGdldC5xdWVyeVNlbGVjdG9yKFwiLnB3LWluYm94X19hcnJvd1wiKXx8ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTt0aGlzLndpZGdldC5jbGFzc0xpc3QuYWRkKFwicHctcmlnaHRcIik7dmFyIHRvcD1wYWdlWU9mZnNldCt0cmlnZ2VyUmVjdC50b3ArTWF0aC5mbG9vcih0cmlnZ2VyUmVjdC5oZWlnaHQvMiktTWF0aC5mbG9vcih3aWRnZXRSZWN0LmhlaWdodC8yKSxpc1VuZGVyVG9wPXRvcDxwYWdlWU9mZnNldCxpc1VuZGVyQm90dG9tPXBhZ2VZT2Zmc2V0K3dpbmRvd0hlaWdodDx0b3Ard2lkZ2V0UmVjdC5oZWlnaHQ7aXNVbmRlclRvcCYmKHRvcD1wYWdlWU9mZnNldCt0aGlzLmRlZmF1bHRNYXJnaW4pLGlzVW5kZXJCb3R0b20mJih0b3A9cGFnZVlPZmZzZXQrd2luZG93SGVpZ2h0LXdpZGdldFJlY3QuaGVpZ2h0LXRoaXMuZGVmYXVsdE1hcmdpbik7dmFyIGxlZnQ9cGFnZVhPZmZzZXQrdHJpZ2dlclJlY3QubGVmdCt0cmlnZ2VyUmVjdC53aWR0aDt0aGlzLmFsaWduV2lkZ2V0RWxlbWVudChsZWZ0LHRvcCksYXJyb3cuc3R5bGUudG9wPXRyaWdnZXJSZWN0LnRvcCtNYXRoLmZsb29yKHRyaWdnZXJSZWN0LmhlaWdodC8yKS10b3ArXCJweFwiO3ZhciByaWdodE1hcmdpbj13aW5kb3dXaWR0aC10aGlzLndpZGdldC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS5yaWdodDtpZihyaWdodE1hcmdpbjx0aGlzLmRlZmF1bHRNYXJnaW4pe3ZhciBuZXdXaWR0aD10aGlzLndpZGdldC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS53aWR0aCtyaWdodE1hcmdpbi10aGlzLmRlZmF1bHRNYXJnaW47dGhpcy53aWRnZXQuc3R5bGUud2lkdGg9bmV3V2lkdGgrXCJweFwifX19LEluYm94V2lkZ2V0LnByb3RvdHlwZS5hbGlnbldpZGdldExlZnQ9ZnVuY3Rpb24oKXt2YXIgdHJpZ2dlclJlY3Q9dGhpcy50cmlnZ2VyLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLHdpZGdldFJlY3Q9dGhpcy53aWRnZXQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7aWYoZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50KXt2YXIgd2luZG93SGVpZ2h0PU1hdGgubWF4KGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5jbGllbnRIZWlnaHQsd2luZG93LmlubmVySGVpZ2h0fHwwKSxhcnJvdz10aGlzLndpZGdldC5xdWVyeVNlbGVjdG9yKFwiLnB3LWluYm94X19hcnJvd1wiKXx8ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTt0aGlzLndpZGdldC5jbGFzc0xpc3QuYWRkKFwicHctbGVmdFwiKTt2YXIgdG9wPXBhZ2VZT2Zmc2V0K3RyaWdnZXJSZWN0LnRvcCtNYXRoLmZsb29yKHRyaWdnZXJSZWN0LmhlaWdodC8yKS1NYXRoLmZsb29yKHdpZGdldFJlY3QuaGVpZ2h0LzIpLGlzVW5kZXJUb3A9dG9wPHBhZ2VZT2Zmc2V0LGlzVW5kZXJCb3R0b209cGFnZVlPZmZzZXQrd2luZG93SGVpZ2h0PHRvcCt3aWRnZXRSZWN0LmhlaWdodDtpc1VuZGVyVG9wJiYodG9wPXBhZ2VZT2Zmc2V0K3RoaXMuZGVmYXVsdE1hcmdpbiksaXNVbmRlckJvdHRvbSYmKHRvcD1wYWdlWU9mZnNldCt3aW5kb3dIZWlnaHQtd2lkZ2V0UmVjdC5oZWlnaHQtdGhpcy5kZWZhdWx0TWFyZ2luKTt2YXIgbGVmdD1wYWdlWE9mZnNldCt0cmlnZ2VyUmVjdC5sZWZ0LXdpZGdldFJlY3Qud2lkdGg7dGhpcy5hbGlnbldpZGdldEVsZW1lbnQobGVmdCx0b3ApLGFycm93LnN0eWxlLnRvcD10cmlnZ2VyUmVjdC50b3ArTWF0aC5mbG9vcih0cmlnZ2VyUmVjdC5oZWlnaHQvMiktdG9wK1wicHhcIjt2YXIgbGVmdE1hcmdpbj10aGlzLndpZGdldC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS5sZWZ0O2lmKGxlZnRNYXJnaW48MCl7dmFyIG5ld1dpZHRoPXRoaXMud2lkZ2V0LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLndpZHRoK2xlZnRNYXJnaW4tdGhpcy5kZWZhdWx0TWFyZ2luLG5ld0xlZnQ9dGhpcy53aWRnZXQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkubGVmdC1sZWZ0TWFyZ2luO3RoaXMud2lkZ2V0LnN0eWxlLndpZHRoPW5ld1dpZHRoK1wicHhcIix0aGlzLndpZGdldC5zdHlsZS5sZWZ0PW5ld0xlZnQrXCJweFwifX19LEluYm94V2lkZ2V0LnByb3RvdHlwZS5hbGlnbldpZGdldEJvdHRvbT1mdW5jdGlvbigpe3ZhciB0cmlnZ2VyUmVjdD10aGlzLnRyaWdnZXIuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCksd2lkZ2V0UmVjdD10aGlzLndpZGdldC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtpZihkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQpe3ZhciB3aW5kb3dXaWR0aD1NYXRoLm1heChkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuY2xpZW50V2lkdGgsd2luZG93LmlubmVyV2lkdGh8fDApLHdpbmRvd0hlaWdodD1NYXRoLm1heChkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuY2xpZW50SGVpZ2h0LHdpbmRvdy5pbm5lckhlaWdodHx8MCksYXJyb3c9dGhpcy53aWRnZXQucXVlcnlTZWxlY3RvcihcIi5wdy1pbmJveF9fYXJyb3dcIil8fGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7dGhpcy53aWRnZXQuY2xhc3NMaXN0LmFkZChcInB3LWJvdHRvbVwiKTt2YXIgbGVmdD1wYWdlWE9mZnNldCt0cmlnZ2VyUmVjdC5sZWZ0K01hdGguZmxvb3IodHJpZ2dlclJlY3Qud2lkdGgvMiktTWF0aC5mbG9vcih3aWRnZXRSZWN0LndpZHRoLzIpLGlzVW5kZXJMZWZ0PWxlZnQ8cGFnZVhPZmZzZXQsaXNVbmRlclJpZ2h0PWxlZnQrd2lkZ2V0UmVjdC53aWR0aD5wYWdlWE9mZnNldCt3aW5kb3dXaWR0aDtpc1VuZGVyTGVmdCYmKGxlZnQ9cGFnZVhPZmZzZXQrdGhpcy5kZWZhdWx0TWFyZ2luKSxpc1VuZGVyUmlnaHQmJihsZWZ0PXBhZ2VYT2Zmc2V0K3dpbmRvd1dpZHRoLXdpZGdldFJlY3Qud2lkdGgtMTIpO3ZhciB0b3A9cGFnZVlPZmZzZXQrdHJpZ2dlclJlY3QudG9wK3RyaWdnZXJSZWN0LmhlaWdodDt0aGlzLmFsaWduV2lkZ2V0RWxlbWVudChsZWZ0LHRvcCksYXJyb3cuc3R5bGUubGVmdD10cmlnZ2VyUmVjdC5sZWZ0K01hdGguZmxvb3IodHJpZ2dlclJlY3Qud2lkdGgvMiktbGVmdCtcInB4XCI7dmFyIGJvdHRvbVJhbmdlPXdpbmRvd0hlaWdodC10aGlzLndpZGdldC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS5ib3R0b207aWYoYm90dG9tUmFuZ2U8dGhpcy5kZWZhdWx0TWFyZ2luKXt2YXIgbmV3SGVpZ2h0PXRoaXMud2lkZ2V0LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLmhlaWdodCtib3R0b21SYW5nZS10aGlzLmRlZmF1bHRNYXJnaW47dGhpcy53aWRnZXQuc3R5bGUuaGVpZ2h0PW5ld0hlaWdodCtcInB4XCJ9fX0sSW5ib3hXaWRnZXQucHJvdG90eXBlLmFsaWduV2lkZ2V0RWxlbWVudD1mdW5jdGlvbihsZWZ0LHRvcCl7dGhpcy53aWRnZXQuc3R5bGUubGVmdD1sZWZ0K1wicHhcIix0aGlzLndpZGdldC5zdHlsZS50b3A9dG9wK1wicHhcIn0sSW5ib3hXaWRnZXQucHJvdG90eXBlLmdldERlZmF1bHRQb3NpdGlvbj1mdW5jdGlvbigpe3ZhciBfYT10aGlzLnRyaWdnZXIuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCksbGVmdD1fYS5sZWZ0LHRvcD1fYS50b3Asd2lkdGg9X2Eud2lkdGgsaGVpZ2h0PV9hLmhlaWdodDtpZighZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50KXJldHVyblwiXCI7dmFyIGFudGlNYXJnaW5zPXtyaWdodDpsZWZ0LGJvdHRvbTp0b3AsbGVmdDpNYXRoLm1heChkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuY2xpZW50V2lkdGgsd2luZG93LmlubmVyV2lkdGh8fDApLShsZWZ0K3dpZHRoKSx0b3A6TWF0aC5tYXgoZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LmNsaWVudEhlaWdodCx3aW5kb3cuaW5uZXJIZWlnaHR8fDApLSh0b3AraGVpZ2h0KX0sbGVhc3RNYXJnaW49TWF0aC5taW4obGVmdCx0b3AsYW50aU1hcmdpbnMubGVmdCxhbnRpTWFyZ2lucy50b3ApLHBvc2l0aW9uPVwiYm90dG9tXCI7cmV0dXJuIE9iamVjdC5rZXlzKGFudGlNYXJnaW5zKS5mb3JFYWNoKGZ1bmN0aW9uKGtleSl7YW50aU1hcmdpbnNba2V5XT09PWxlYXN0TWFyZ2luJiYocG9zaXRpb249a2V5KX0pLHBvc2l0aW9ufSxJbmJveFdpZGdldC5wcm90b3R5cGUuYWRkTGlzdGVuZXJzPWZ1bmN0aW9uKCl7dmFyIF90aGlzPXRoaXM7dGhpcy50cmlnZ2VyLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLHRoaXMub25UcmlnZ2VyQ2xpY2tIYW5kbGVyKSx0aGlzLnB3LnB1c2goW1wib25QdXROZXdNZXNzYWdlVG9JbmJveFN0b3JlXCIsZnVuY3Rpb24oKXtfdGhpcy51cGRhdGVJbmJveCgpfV0pLHRoaXMucHcucHVzaChbXCJvblVwZGF0ZUluYm94TWVzc2FnZXNcIixmdW5jdGlvbigpe190aGlzLnVwZGF0ZUluYm94KCl9XSl9LEluYm94V2lkZ2V0LnByb3RvdHlwZS5tYXJrVmlzaWJsZUl0ZW1zQXNSZWFkPWZ1bmN0aW9uKCl7dmFyIF90aGlzPXRoaXM7aWYoMCE9PXRoaXMubWVzc2FnZXMubGVuZ3RoKXt2YXIgc2Nyb2xsVG9wPXRoaXMubGlzdC5jbGllbnRIZWlnaHQrdGhpcy5saXN0LnNjcm9sbFRvcC01MDtPYmplY3Qua2V5cyh0aGlzLm1lc3NhZ2VzRWxlbWVudHMpLmZvckVhY2goZnVuY3Rpb24oY29kZSl7aWYoX3RoaXMubWVzc2FnZXNFbGVtZW50c1tjb2RlXSYmIShfdGhpcy5tZXNzYWdlc0VsZW1lbnRzW2NvZGVdLm9mZnNldFRvcD5zY3JvbGxUb3ApKXt2YXIgbWVzc2FnZT1fdGhpcy5tZXNzYWdlcy5maW5kKGZ1bmN0aW9uKG1lc3NhZ2Upe3JldHVybiBtZXNzYWdlLmNvZGU9PT1jb2RlfSk7IW1lc3NhZ2V8fG1lc3NhZ2UuaXNSZWFkfHxfdGhpcy5yZWFkSXRlbXMuaW5kZXhPZihjb2RlKSsxfHxfdGhpcy5yZWFkSXRlbXMucHVzaChjb2RlKX19KX19LEluYm94V2lkZ2V0LnByb3RvdHlwZS51cGRhdGVSZWFkU3RhdHVzPWZ1bmN0aW9uKCl7dGhpcy5wdy5wd2luYm94LnJlYWRNZXNzYWdlc1dpdGhDb2Rlcyh0aGlzLnJlYWRJdGVtcykudGhlbih0aGlzLnVwZGF0ZUluYm94KX0sSW5ib3hXaWRnZXQucHJvdG90eXBlLnVwZGF0ZUluYm94PWZ1bmN0aW9uKCl7dmFyIF90aGlzPXRoaXM7dGhpcy5wdy5wd2luYm94LmxvYWRNZXNzYWdlcygpLnRoZW4oZnVuY3Rpb24obWVzc2FnZXMpe190aGlzLnVwZGF0ZUluYm94TWVzc2FnZXMobWVzc2FnZXMpfSksdGhpcy5wdy5wd2luYm94LnVucmVhZE1lc3NhZ2VzQ291bnQoKS50aGVuKGZ1bmN0aW9uKGNvdW50KXtfdGhpcy51cGRhdGVDb3VudGVyKGNvdW50KX0pfSxJbmJveFdpZGdldC5wcm90b3R5cGUucGVyZm9ybU1lc3NhZ2VBY3Rpb249ZnVuY3Rpb24oY29kZSl7dmFyIF90aGlzPXRoaXM7dGhpcy5wdy5wd2luYm94LnBlcmZvcm1BY3Rpb25Gb3JNZXNzYWdlV2l0aENvZGUoY29kZSkudGhlbihmdW5jdGlvbigpe190aGlzLnVwZGF0ZUluYm94KCl9KX0sSW5ib3hXaWRnZXQucHJvdG90eXBlLnJlbW92ZU1lc3NhZ2VzPWZ1bmN0aW9uKG1lc3NhZ2VzKXt2YXIgX3RoaXM9dGhpczttZXNzYWdlcy5mb3JFYWNoKGZ1bmN0aW9uKGNvZGUpe190aGlzLnJlYWRJdGVtcz1fdGhpcy5yZWFkSXRlbXMuc2xpY2UoX3RoaXMucmVhZEl0ZW1zLmluZGV4T2YoY29kZSksMSl9KSx0aGlzLnB3LnB3aW5ib3guZGVsZXRlTWVzc2FnZXNXaXRoQ29kZXMobWVzc2FnZXMpLnRoZW4oZnVuY3Rpb24oKXtfdGhpcy51cGRhdGVJbmJveCgpfSl9LEluYm94V2lkZ2V0LnByb3RvdHlwZS5vblRyaWdnZXJDbGlja0hhbmRsZXI9ZnVuY3Rpb24oZXZlbnQpe2V2ZW50LnN0b3BQcm9wYWdhdGlvbigpLGV2ZW50LnRhcmdldCYmdGhpcy50b2dnbGUoKX0sSW5ib3hXaWRnZXQucHJvdG90eXBlLm9uV2lkZ2V0Q2xpY2tIYW5kbGVyPWZ1bmN0aW9uKGV2ZW50KXtpZihldmVudC50YXJnZXQpe3ZhciBpdGVtRWxlbWVudD1ldmVudC50YXJnZXQuY2xvc2VzdChcIi5wdy1pbmJveF9pdGVtXCIpO2lmKGl0ZW1FbGVtZW50KXt2YXIgbWVzc2FnZUNvZGU9aXRlbUVsZW1lbnQuZ2V0QXR0cmlidXRlKFwiZGF0YS1wdy1pbmJveC1tZXNzYWdlLWlkXCIpO21lc3NhZ2VDb2RlJiYoZXZlbnQudGFyZ2V0LmNsb3Nlc3QoXCIucHctaW5ib3hfaXRlbS1yZW1vdmVcIik/dGhpcy5yZW1vdmVNZXNzYWdlcyhbbWVzc2FnZUNvZGVdKTp0aGlzLnBlcmZvcm1NZXNzYWdlQWN0aW9uKG1lc3NhZ2VDb2RlKSl9ZWxzZSB0aGlzLnRvZ2dsZSgpfX0sSW5ib3hXaWRnZXQucHJvdG90eXBlLm9uV2luZG93U2Nyb2xsSGFuZGxlcj1mdW5jdGlvbigpe3RoaXMuaXNGaXhlZCYmdGhpcy5pc09wZW5lZD90aGlzLnRvZ2dsZSgpOnRoaXMucG9zaXRpb25XaWRnZXQoKX0sSW5ib3hXaWRnZXR9KCk7ZXhwb3J0cy5kZWZhdWx0PUluYm94V2lkZ2V0fSxmdW5jdGlvbihtb2R1bGUsZXhwb3J0cyxfX3dlYnBhY2tfcmVxdWlyZV9fKXtcInVzZSBzdHJpY3RcIjtPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cyxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KTt2YXIgaGVscGVyc18xPV9fd2VicGFja19yZXF1aXJlX18oMCk7ZXhwb3J0cy53aWRnZXRUZW1wbGF0ZT1mdW5jdGlvbih0aXRsZSl7cmV0dXJuJ1xcbjxkaXYgY2xhc3M9XCJwdy1pbmJveF9fYXJyb3dcIj48L2Rpdj5cXG48ZGl2IGNsYXNzPVwicHctaW5ib3hfaW5uZXJcIj5cXG4gICAgPGRpdiBjbGFzcz1cInB3LWluYm94X3RpdGxlXCI+XFxuICAgICAgJyt0aXRsZSsnXFxuICAgIDwvZGl2PlxcbiAgICA8dWwgY2xhc3M9XCJwdy1pbmJveF9saXN0XCI+XFxuICAgIFxcbiAgICA8L3VsPlxcbjwvZGl2Pid9LGV4cG9ydHMud2lkZ2V0VGVtcGxhdGVFbXB0eT1mdW5jdGlvbihlbXB0eUluYm94SWNvblVybCxlbXB0eUluYm94VGl0bGUsZW1wdHlJbmJveFRleHQpe3JldHVybidcXG48ZGl2IGNsYXNzPVwicHctaW5ib3hfX2Fycm93XCI+PC9kaXY+XFxuPGRpdiBjbGFzcz1cInB3LWluYm94X2xpc3QtLWVtcHR5XCI+XFxuICAgIDxkaXYgY2xhc3M9XCJwdy1pbmJveF9saXN0LWljb25cIj5cXG4gICAgICA8aW1nIHNyYz1cIicrZW1wdHlJbmJveEljb25VcmwrJ1wiIGFsdD1cIicrZW1wdHlJbmJveFRpdGxlKydcIj5cXG4gICAgPC9kaXY+XFxuICAgIDxkaXYgY2xhc3M9XCJwdy1pbmJveF9saXN0LXRpdGxlXCI+XFxuICAgICAgJytlbXB0eUluYm94VGl0bGUrJ1xcbiAgICA8L2Rpdj5cXG4gICAgPGRpdiBjbGFzcz1cImlwdy1pbmJveF9saXN0LWJvZHlcIj5cXG4gICAgICAnK2VtcHR5SW5ib3hUZXh0K1wiXFxuICAgIDwvZGl2PlxcbjwvZGl2PlwifSxleHBvcnRzLm1lc3NhZ2VUZW1wbGF0ZT1mdW5jdGlvbihfYSl7dmFyIGltYWdlVXJsPV9hLmltYWdlVXJsLHRpdGxlPV9hLnRpdGxlLG1lc3NhZ2U9X2EubWVzc2FnZSxzZW5kRGF0ZT1fYS5zZW5kRGF0ZTtyZXR1cm4nXFxuPGRpdiBjbGFzcz1cInB3LWluYm94X2l0ZW0taW5uZXJcIj5cXG4gIDxkaXYgY2xhc3M9XCJwdy1pbmJveF9pY29uXCI+XFxuICAgIDxpbWcgc3JjPVwiJytpbWFnZVVybCsnXCIgYWx0PVwiJysodGl0bGV8fG1lc3NhZ2UpKydcIiBjbGFzcz1cInB3LWluYm94X21lc3NhZ2UtaW1hZ2VcIj5cXG4gIDwvZGl2PlxcbiAgPGRpdiBjbGFzcz1cInB3LWluYm94X2NvbnRlbnRcIj5cXG4gICAgJysodGl0bGU/JzxkaXYgY2xhc3M9XCJwdy1pbmJveF9pdGVtLXRpdGxlXCI+XFxuICAgICAgJyt0aXRsZStcIlxcbiAgICA8L2Rpdj5cIjpudWxsKSsnXFxuICAgIDxkaXYgY2xhc3M9XCJwdy1pbmJveF9pdGVtLWJvZHlcIj5cXG4gICAgICAnK21lc3NhZ2UrJ1xcbiAgICA8L2Rpdj5cXG4gICAgPGRpdiBjbGFzcz1cInB3LWluYm94X2l0ZW0tdGltZVwiPlxcbiAgICAgICcraGVscGVyc18xLmdldE1lc3NhZ2VUaW1lKHNlbmREYXRlKSsnXFxuICAgIDwvZGl2PlxcbiAgPC9kaXY+XFxuPC9kaXY+XFxuPHNwYW4gY2xhc3M9XCJwdy1pbmJveF9pdGVtLXJlbW92ZVwiPjwvc3Bhbj4nfX0sZnVuY3Rpb24obW9kdWxlLGV4cG9ydHMsX193ZWJwYWNrX3JlcXVpcmVfXyl7dmFyIHJlc3VsdD1fX3dlYnBhY2tfcmVxdWlyZV9fKDYpO21vZHVsZS5leHBvcnRzPVwic3RyaW5nXCI9PXR5cGVvZiByZXN1bHQ/cmVzdWx0OnJlc3VsdC50b1N0cmluZygpfSxmdW5jdGlvbihtb2R1bGUsZXhwb3J0cyxfX3dlYnBhY2tfcmVxdWlyZV9fKXsobW9kdWxlLmV4cG9ydHM9X193ZWJwYWNrX3JlcXVpcmVfXyg3KSh2b2lkIDApKS5wdXNoKFttb2R1bGUuaSxcIi5wdy1pbmJveC10cmlnZ2VyIHtcXG4gIHBvc2l0aW9uOiByZWxhdGl2ZTtcXG4gIGN1cnNvcjogcG9pbnRlcjtcXG59XFxuXFxuLnB3LWluYm94LXRyaWdnZXI6YWZ0ZXIge1xcbiAgY29udGVudDogYXR0cihkYXRhLXB3LWNvdW50KTtcXG4gIGRpc3BsYXk6IGJsb2NrO1xcbiAgcG9zaXRpb246IGFic29sdXRlO1xcbiAgcmlnaHQ6IDA7XFxuICB0b3A6IDA7XFxuICBiYWNrZ3JvdW5kOiB2YXIoLS1iYWRnZUJnQ29sb3IpO1xcbiAgLXdlYmtpdC1ib3JkZXItcmFkaXVzOiA4cHg7XFxuICAgICAgICAgIGJvcmRlci1yYWRpdXM6IDhweDtcXG4gIGNvbG9yOiB2YXIoLS1iYWRnZVRleHRDb2xvcik7XFxuICBmb250LXNpemU6IDEwcHg7XFxuICBmb250LXdlaWdodDogbm9ybWFsO1xcbiAgbGluZS1oZWlnaHQ6IDE2cHg7XFxuICB3aWR0aDogMTZweDtcXG4gIHBhZGRpbmc6IDAgMnB4O1xcbiAgLXdlYmtpdC1ib3gtc2l6aW5nOiBib3JkZXItYm94O1xcbiAgICAgICAgICBib3gtc2l6aW5nOiBib3JkZXItYm94O1xcbiAgdGV4dC1hbGlnbjogY2VudGVyO1xcbn1cXG5cXG4ucHctaW5ib3gtdHJpZ2dlci5wdy1lbXB0eTphZnRlciB7XFxuICBkaXNwbGF5OiBub25lO1xcbn1cXG5cXG4ucHctaW5ib3gtd2lkZ2V0ICoge1xcbiAgcG9zaXRpb246IHN0YXRpYztcXG4gIC13ZWJraXQtYm94LXNpemluZzogYm9yZGVyLWJveDtcXG4gICAgICAgICAgYm94LXNpemluZzogYm9yZGVyLWJveDtcXG4gIGZvbnQtc2l6ZTogMWVtO1xcbiAgb3V0bGluZTogbm9uZTtcXG4gIGZvbnQtZmFtaWx5OiB2YXIoLS1mb250RmFtaWx5KTtcXG59XFxuLnB3LWluYm94LXdpZGdldCB7XFxuICBmb250LXNpemU6IDE0cHg7XFxuICBwb3NpdGlvbjogYWJzb2x1dGU7XFxuICB0b3A6IDA7XFxuICBsZWZ0OiAtMTAwMHB4O1xcbiAgYmFja2dyb3VuZDogdmFyKC0tYmdDb2xvcik7XFxuICBib3JkZXI6IHNvbGlkIDFweCB2YXIoLS1ib3JkZXJDb2xvcik7XFxuICAtd2Via2l0LWJvcmRlci1yYWRpdXM6IHZhcigtLWJvcmRlclJhZGl1cyk7XFxuICAgICAgICAgIGJvcmRlci1yYWRpdXM6IHZhcigtLWJvcmRlclJhZGl1cyk7XFxuICB3aWR0aDogdmFyKC0td2lkZ2V0V2lkdGgpO1xcbiAgLXdlYmtpdC1ib3gtc2hhZG93OiAwIDFweCA0cHggMCByZ2JhKDAsMCwwLC4yNSk7XFxuICAgICAgICAgIGJveC1zaGFkb3c6IDAgMXB4IDRweCAwIHJnYmEoMCwwLDAsLjI1KTtcXG4gIHotaW5kZXg6IHZhcigtLXpJbmRleCk7XFxuICBvcGFjaXR5OiAwO1xcbiAgLXdlYmtpdC10cmFuc2l0aW9uOiBvcGFjaXR5IC42cyBlYXNlO1xcbiAgLW8tdHJhbnNpdGlvbjogb3BhY2l0eSAuNnMgZWFzZTtcXG4gIHRyYW5zaXRpb246IG9wYWNpdHkgLjZzIGVhc2U7XFxuICAtd2Via2l0LXRyYW5zaXRpb24tZGVsYXk6IDEwMG1zO1xcbiAgICAgICAtby10cmFuc2l0aW9uLWRlbGF5OiAxMDBtcztcXG4gICAgICAgICAgdHJhbnNpdGlvbi1kZWxheTogMTAwbXM7XFxufVxcbi5wdy1pbmJveC13aWRnZXQucHctb3BlbiB7XFxuICBvcGFjaXR5OiAxO1xcbiAgLXdlYmtpdC10cmFuc2l0aW9uLWRlbGF5OiAwbXM7XFxuICAgICAgIC1vLXRyYW5zaXRpb24tZGVsYXk6IDBtcztcXG4gICAgICAgICAgdHJhbnNpdGlvbi1kZWxheTogMG1zO1xcbn1cXG4ucHctaW5ib3gtd2lkZ2V0LnB3LWluYm94LXdpZGdldC0taW5zZXQge1xcbiAgdG9wOiBhdXRvO1xcbiAgbGVmdDogYXV0bztcXG4gIGRpc3BsYXk6IG5vbmU7XFxufVxcbi5wdy1pbmJveC13aWRnZXQucHctaW5ib3gtd2lkZ2V0LS1pbnNldC5wdy1vcGVuIHtcXG4gIGRpc3BsYXk6IGJsb2NrO1xcbn1cXG4ucHctaW5ib3gtd2lkZ2V0LnB3LWluYm94LXdpZGdldC0taW5zZXQucHctYm90dG9tIHtcXG4gIHRvcDogMTAwJTtcXG4gIGxlZnQ6IDUwJTtcXG4gIC13ZWJraXQtdHJhbnNmb3JtOiB0cmFuc2xhdGVYKC01MCUpO1xcbiAgICAgIC1tcy10cmFuc2Zvcm06IHRyYW5zbGF0ZVgoLTUwJSk7XFxuICAgICAgICAgIHRyYW5zZm9ybTogdHJhbnNsYXRlWCgtNTAlKTtcXG59XFxuLnB3LWluYm94LXdpZGdldC5wdy1pbmJveC13aWRnZXQtLWluc2V0LnB3LXRvcCB7XFxuICBib3R0b206IDEwMCU7XFxuICBsZWZ0OiA1MCU7XFxuICAtd2Via2l0LXRyYW5zZm9ybTogdHJhbnNsYXRlWCgtNTAlKTtcXG4gICAgICAtbXMtdHJhbnNmb3JtOiB0cmFuc2xhdGVYKC01MCUpO1xcbiAgICAgICAgICB0cmFuc2Zvcm06IHRyYW5zbGF0ZVgoLTUwJSk7XFxufVxcbi5wdy1pbmJveC13aWRnZXQucHctaW5ib3gtd2lkZ2V0LS1pbnNldC5wdy1yaWdodCB7XFxuICBsZWZ0OiAxMDAlO1xcbiAgdG9wOiA1MCU7XFxuICAtd2Via2l0LXRyYW5zZm9ybTogdHJhbnNsYXRlWSgtNTAlKTtcXG4gICAgICAtbXMtdHJhbnNmb3JtOiB0cmFuc2xhdGVZKC01MCUpO1xcbiAgICAgICAgICB0cmFuc2Zvcm06IHRyYW5zbGF0ZVkoLTUwJSk7XFxufVxcbi5wdy1pbmJveC13aWRnZXQucHctaW5ib3gtd2lkZ2V0LS1pbnNldC5wdy1sZWZ0IHtcXG4gIHJpZ2h0OiAxMDAlO1xcbiAgdG9wOiA1MCU7XFxuICAtd2Via2l0LXRyYW5zZm9ybTogdHJhbnNsYXRlWSgtNTAlKTtcXG4gICAgICAtbXMtdHJhbnNmb3JtOiB0cmFuc2xhdGVZKC01MCUpO1xcbiAgICAgICAgICB0cmFuc2Zvcm06IHRyYW5zbGF0ZVkoLTUwJSk7XFxufVxcbi5wdy1pbmJveC13aWRnZXQucHctaW5ib3gtd2lkZ2V0LS1lbXB0eSB7XFxuICBtYXgtaGVpZ2h0OiBub25lO1xcbn1cXG4ucHctaW5ib3gtd2lkZ2V0IC5wdy1pbmJveF9fYXJyb3cge1xcbiAgZGlzcGxheTogYmxvY2s7XFxuICB3aWR0aDogMDtcXG4gIGhlaWdodDogMDtcXG4gIGJvcmRlci13aWR0aDogMTBweDtcXG4gIGJvcmRlci1zdHlsZTogc29saWQ7XFxuICBib3JkZXItY29sb3I6IHRyYW5zcGFyZW50O1xcbiAgcG9zaXRpb246IGFic29sdXRlO1xcbn1cXG4ucHctaW5ib3gtd2lkZ2V0IC5wdy1pbmJveF9fYXJyb3c6YmVmb3JlIHtcXG4gIGNvbnRlbnQ6IFxcXCJcXFwiO1xcbiAgZGlzcGxheTogYmxvY2s7XFxuICB3aWR0aDogMDtcXG4gIGhlaWdodDogMDtcXG4gIGJvcmRlci13aWR0aDogMTBweDtcXG4gIGJvcmRlci1zdHlsZTogc29saWQ7XFxuICBib3JkZXItY29sb3I6IHRyYW5zcGFyZW50O1xcbiAgcG9zaXRpb246IGFic29sdXRlO1xcbn1cXG4ucHctaW5ib3gtd2lkZ2V0LnB3LXRvcCB7XFxuICBtYXJnaW4tdG9wOiAtMTJweDtcXG59XFxuLnB3LWluYm94LXdpZGdldC5wdy10b3AgLnB3LWluYm94X19hcnJvdyB7XFxuICBib3JkZXItdG9wLWNvbG9yOiB2YXIoLS1hcnJvd0JvcmRlckNvbG9yKTtcXG4gIGJvdHRvbTogLTIxcHg7XFxuICBsZWZ0OiA1MCU7XFxuICAtd2Via2l0LXRyYW5zZm9ybTogdHJhbnNsYXRlWCgtNTAlKTtcXG4gICAgICAtbXMtdHJhbnNmb3JtOiB0cmFuc2xhdGVYKC01MCUpO1xcbiAgICAgICAgICB0cmFuc2Zvcm06IHRyYW5zbGF0ZVgoLTUwJSk7XFxufVxcbi5wdy1pbmJveC13aWRnZXQucHctdG9wIC5wdy1pbmJveF9fYXJyb3c6YmVmb3JlIHtcXG4gIGJvcmRlci10b3AtY29sb3I6IHZhcigtLWJnQ29sb3IpO1xcbiAgdG9wOiAtMTFweDtcXG4gIGxlZnQ6IC0xMHB4O1xcbn1cXG4ucHctaW5ib3gtd2lkZ2V0LnB3LWJvdHRvbSB7XFxuICBtYXJnaW4tdG9wOiAxMnB4O1xcbn1cXG4ucHctaW5ib3gtd2lkZ2V0LnB3LWJvdHRvbSAucHctaW5ib3hfX2Fycm93IHtcXG4gIGJvcmRlci1ib3R0b20tY29sb3I6IHZhcigtLWFycm93Qm9yZGVyQ29sb3IpO1xcbiAgdG9wOiAtMjFweDtcXG4gIGxlZnQ6IDUwJTtcXG4gIC13ZWJraXQtdHJhbnNmb3JtOiB0cmFuc2xhdGVYKC01MCUpO1xcbiAgICAgIC1tcy10cmFuc2Zvcm06IHRyYW5zbGF0ZVgoLTUwJSk7XFxuICAgICAgICAgIHRyYW5zZm9ybTogdHJhbnNsYXRlWCgtNTAlKTtcXG59XFxuLnB3LWluYm94LXdpZGdldC5wdy1ib3R0b20gLnB3LWluYm94X19hcnJvdzpiZWZvcmUge1xcbiAgYm9yZGVyLWJvdHRvbS1jb2xvcjogdmFyKC0tYmdDb2xvcik7XFxuICBib3R0b206IC0xMXB4O1xcbiAgbGVmdDogLTEwcHg7XFxufVxcbi5wdy1pbmJveC13aWRnZXQucHctbGVmdCB7XFxuICBtYXJnaW4tbGVmdDogLTEycHg7XFxufVxcbi5wdy1pbmJveC13aWRnZXQucHctbGVmdCAucHctaW5ib3hfX2Fycm93IHtcXG4gIGJvcmRlci1sZWZ0LWNvbG9yOiB2YXIoLS1hcnJvd0JvcmRlckNvbG9yKTtcXG4gIHJpZ2h0OiAtMjFweDtcXG4gIHRvcDogNTAlO1xcbiAgLXdlYmtpdC10cmFuc2Zvcm06IHRyYW5zbGF0ZVkoLTUwJSk7XFxuICAgICAgLW1zLXRyYW5zZm9ybTogdHJhbnNsYXRlWSgtNTAlKTtcXG4gICAgICAgICAgdHJhbnNmb3JtOiB0cmFuc2xhdGVZKC01MCUpO1xcbn1cXG4ucHctaW5ib3gtd2lkZ2V0LnB3LWxlZnQgLnB3LWluYm94X19hcnJvdzpiZWZvcmUge1xcbiAgYm9yZGVyLWxlZnQtY29sb3I6IHZhcigtLWJnQ29sb3IpO1xcbiAgbGVmdDogLTExcHg7XFxuICB0b3A6IC0xMHB4O1xcbn1cXG4ucHctaW5ib3gtd2lkZ2V0LnB3LXJpZ2h0IHtcXG4gIG1hcmdpbi1sZWZ0OiAxMnB4O1xcbn1cXG4ucHctaW5ib3gtd2lkZ2V0LnB3LXJpZ2h0IC5wdy1pbmJveF9fYXJyb3cge1xcbiAgYm9yZGVyLXJpZ2h0LWNvbG9yOiB2YXIoLS1hcnJvd0JvcmRlckNvbG9yKTtcXG4gIGxlZnQ6IC0yMXB4O1xcbiAgdG9wOiA1MCU7XFxuICAtd2Via2l0LXRyYW5zZm9ybTogdHJhbnNsYXRlWSgtNTAlKTtcXG4gICAgICAtbXMtdHJhbnNmb3JtOiB0cmFuc2xhdGVZKC01MCUpO1xcbiAgICAgICAgICB0cmFuc2Zvcm06IHRyYW5zbGF0ZVkoLTUwJSk7XFxufVxcbi5wdy1pbmJveC13aWRnZXQucHctcmlnaHQgLnB3LWluYm94X19hcnJvdzpiZWZvcmUge1xcbiAgYm9yZGVyLXJpZ2h0LWNvbG9yOiB2YXIoLS1iZ0NvbG9yKTtcXG4gIHJpZ2h0OiAtMTFweDtcXG4gIHRvcDogLTEwcHg7XFxufVxcbi5wdy1pbmJveF9pbm5lciB7XFxuICBvdmVyZmxvdzogaGlkZGVuO1xcbiAgZGlzcGxheTogLXdlYmtpdC1ib3g7XFxuICBkaXNwbGF5OiAtbXMtZmxleGJveDtcXG4gIGRpc3BsYXk6IGZsZXg7XFxuICAtd2Via2l0LWJveC1vcmllbnQ6IHZlcnRpY2FsO1xcbiAgLXdlYmtpdC1ib3gtZGlyZWN0aW9uOiBub3JtYWw7XFxuICAgICAgLW1zLWZsZXgtZGlyZWN0aW9uOiBjb2x1bW47XFxuICAgICAgICAgIGZsZXgtZGlyZWN0aW9uOiBjb2x1bW47XFxuICBoZWlnaHQ6IDEwMCU7XFxufVxcbi5wdy1pbmJveF90aXRsZSB7XFxuICBjb2xvcjogdmFyKC0tdGV4dENvbG9yKTtcXG4gIG1hcmdpbjogMDtcXG4gIHBhZGRpbmc6IDI4cHggMzJweCAxMnB4O1xcbiAgZm9udC1zaXplOiAyNHB4O1xcbiAgZm9udC13ZWlnaHQ6IDUwMDtcXG4gIGxpbmUtaGVpZ2h0OiAxLjE7XFxuICB0ZXh0LWFsaWduOiBsZWZ0O1xcbiAgLXdlYmtpdC1ib3gtZmxleDogMDtcXG4gICAgICAtbXMtZmxleDogMCAwIDY2cHg7XFxuICAgICAgICAgIGZsZXg6IDAgMCA2NnB4O1xcbn1cXG4ucHctaW5ib3hfbGlzdCB7XFxuICBvdmVyZmxvdy14OiBoaWRkZW47XFxuICBvdmVyZmxvdy15OiBhdXRvO1xcbiAgbWluLXdpZHRoOiAyMDBweDtcXG4gIG1heC1oZWlnaHQ6IDMwMHB4O1xcbiAgcGFkZGluZzogMDtcXG4gIG1hcmdpbjogMDtcXG4gIGxpc3Qtc3R5bGU6IG5vbmU7XFxuICBwb3NpdGlvbjogcmVsYXRpdmU7XFxuICAtd2Via2l0LWJveC1mbGV4OiAxO1xcbiAgICAgIC1tcy1mbGV4OiAxIDEgYXV0bztcXG4gICAgICAgICAgZmxleDogMSAxIGF1dG87XFxufVxcblxcbi5wdy1pbmJveF9pdGVtIHtcXG4gIHBvc2l0aW9uOiByZWxhdGl2ZTtcXG4gIHBhZGRpbmc6IDhweCAzMnB4O1xcbiAgbWFyZ2luOiAwO1xcbiAgdGV4dC1hbGlnbjogbGVmdDtcXG59XFxuLnB3LWluYm94X2l0ZW0taW5uZXIge1xcbiAgZGlzcGxheTogLXdlYmtpdC1ib3g7XFxuICBkaXNwbGF5OiAtbXMtZmxleGJveDtcXG4gIGRpc3BsYXk6IGZsZXg7XFxuICBjdXJzb3I6IHBvaW50ZXI7XFxufVxcbi5wdy1pbmJveF9pY29uIHtcXG4gIC13ZWJraXQtYm94LWZsZXg6IDA7XFxuICAgICAgLW1zLWZsZXg6IDAgMCA0MHB4O1xcbiAgICAgICAgICBmbGV4OiAwIDAgNDBweDtcXG59XFxuLnB3LWluYm94X21lc3NhZ2UtaW1hZ2Uge1xcbiAgd2lkdGg6IDI4cHg7XFxufVxcbi5wdy1pbmJveF9jb250ZW50IHtcXG4gIC13ZWJraXQtYm94LWZsZXg6IDA7XFxuICAgICAgLW1zLWZsZXg6IDAgMSAxMDAlO1xcbiAgICAgICAgICBmbGV4OiAwIDEgMTAwJTtcXG59XFxuLnB3LWluYm94X2l0ZW0tdGl0bGUge1xcbiAgY29sb3I6IHZhcigtLW1lc3NhZ2VUaXRsZUNvbG9yKTtcXG4gIGZvbnQtc2l6ZTogMTRweDtcXG4gIGxpbmUtaGVpZ2h0OiAyMHB4O1xcbiAgbWFyZ2luLWJvdHRvbTogNHB4O1xcbn1cXG4ucHctaW5ib3hfaXRlbS1ib2R5IHtcXG4gIGNvbG9yOiB2YXIoLS10ZXh0Q29sb3IpO1xcbiAgZm9udC1zaXplOiAxNHB4O1xcbiAgbGluZS1oZWlnaHQ6IDIwcHg7XFxuICBtYXJnaW4tYm90dG9tOiA0cHg7XFxufVxcbi5wdy1pbmJveF9pdGVtLXRpbWUge1xcbiAgY29sb3I6IHZhcigtLXRpbWVUZXh0Q29sb3IpO1xcbiAgZm9udC1zaXplOiAxMnB4O1xcbiAgbGluZS1oZWlnaHQ6IDE3cHg7XFxufVxcbi5wdy1pbmJveF9pdGVtLXJlbW92ZSB7XFxuICBwb3NpdGlvbjogYWJzb2x1dGU7XFxuICB6LWluZGV4OiAyO1xcbiAgdG9wOiA4cHg7XFxuICByaWdodDogOHB4O1xcbiAgZGlzcGxheTogbm9uZTtcXG4gIHdpZHRoOiAxMHB4O1xcbiAgaGVpZ2h0OiAxMHB4O1xcbiAgYmFja2dyb3VuZDogdHJhbnNwYXJlbnQgdXJsKCdodHRwczovL2Nkbi5wdXNod29vc2guY29tL3dlYnB1c2gvaW1nL2ljb25DbG9zZS5zdmcnKSA1MCUgbm8tcmVwZWF0O1xcbiAgY3Vyc29yOiBwb2ludGVyO1xcbn1cXG4ucHctaW5ib3hfaXRlbTpob3ZlciAucHctaW5ib3hfaXRlbS1yZW1vdmUge1xcbiAgZGlzcGxheTogYmxvY2s7XFxufVxcblxcbi5wdy1pbmJveF9pdGVtLnB3LW5ldyAucHctaW5ib3hfaXRlbS10aXRsZSB7XFxuICBjb2xvcjogdmFyKC0tdGV4dENvbG9yKTtcXG4gIGZvbnQtd2VpZ2h0OiA3MDA7XFxufVxcblxcbi5wdy1pbmJveF9pdGVtLnB3LW5ldyAucHctaW5ib3hfaXRlbS1ib2R5IHtcXG4gIGZvbnQtd2VpZ2h0OiA3MDA7XFxufVxcblxcbi5wdy1pbmJveF9saXN0LS1lbXB0eSB7XFxuICBwYWRkaW5nOiA1MHB4IDE2cHg7XFxuICB0ZXh0LWFsaWduOiBjZW50ZXI7XFxuICBtYXgtaGVpZ2h0OiAxMDAlO1xcbiAgb3ZlcmZsb3c6IGF1dG87XFxufVxcblxcbi5wdy1pbmJveF9saXN0LS1lbXB0eSAucHctaW5ib3hfbGlzdC1pY29uIHtcXG4gIHRleHQtYWxpZ246IGNlbnRlcjtcXG4gIG1hcmdpbi1ib3R0b206IDMwcHg7XFxufVxcbi5wdy1pbmJveF9saXN0LS1lbXB0eSAucHctaW5ib3hfbGlzdC1pY29uIGltZyB7XFxuICBtYXgtd2lkdGg6IDEwMCU7XFxufVxcblxcbi5wdy1pbmJveF9saXN0LS1lbXB0eSAucHctaW5ib3hfbGlzdC10aXRsZSB7XFxuICBmb250LXNpemU6IDI4cHg7XFxuICBsaW5lLWhlaWdodDogMzZweDtcXG4gIGNvbG9yOiB2YXIoLS1lbXB0eUluYm94VGl0bGVDb2xvcik7XFxuICBtYXJnaW4tYm90dG9tOiAyMHB4O1xcbn1cXG5cXG4ucHctaW5ib3hfbGlzdC0tZW1wdHkgLmlwdy1pbmJveF9saXN0LWJvZHkge1xcbiAgZm9udC1zaXplOiAxNHB4O1xcbiAgbGluZS1oZWlnaHQ6IDE4cHg7XFxuICBjb2xvcjogdmFyKC0tZW1wdHlJbmJveFRleHRDb2xvcik7XFxufVxcblwiLFwiXCJdKX0sZnVuY3Rpb24obW9kdWxlLGV4cG9ydHMpe21vZHVsZS5leHBvcnRzPWZ1bmN0aW9uKHVzZVNvdXJjZU1hcCl7dmFyIGxpc3Q9W107cmV0dXJuIGxpc3QudG9TdHJpbmc9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5tYXAoZnVuY3Rpb24oaXRlbSl7dmFyIGNvbnRlbnQ9ZnVuY3Rpb24oaXRlbSx1c2VTb3VyY2VNYXApe3ZhciBjb250ZW50PWl0ZW1bMV18fFwiXCIsY3NzTWFwcGluZz1pdGVtWzNdO2lmKCFjc3NNYXBwaW5nKXJldHVybiBjb250ZW50O2lmKHVzZVNvdXJjZU1hcCYmXCJmdW5jdGlvblwiPT10eXBlb2YgYnRvYSl7dmFyIHNvdXJjZU1hcHBpbmc9ZnVuY3Rpb24oc291cmNlTWFwKXtyZXR1cm5cIi8qIyBzb3VyY2VNYXBwaW5nVVJMPWRhdGE6YXBwbGljYXRpb24vanNvbjtjaGFyc2V0PXV0Zi04O2Jhc2U2NCxcIitidG9hKHVuZXNjYXBlKGVuY29kZVVSSUNvbXBvbmVudChKU09OLnN0cmluZ2lmeShzb3VyY2VNYXApKSkpK1wiICovXCJ9KGNzc01hcHBpbmcpLHNvdXJjZVVSTHM9Y3NzTWFwcGluZy5zb3VyY2VzLm1hcChmdW5jdGlvbihzb3VyY2Upe3JldHVyblwiLyojIHNvdXJjZVVSTD1cIitjc3NNYXBwaW5nLnNvdXJjZVJvb3Qrc291cmNlK1wiICovXCJ9KTtyZXR1cm5bY29udGVudF0uY29uY2F0KHNvdXJjZVVSTHMpLmNvbmNhdChbc291cmNlTWFwcGluZ10pLmpvaW4oXCJcXG5cIil9cmV0dXJuW2NvbnRlbnRdLmpvaW4oXCJcXG5cIil9KGl0ZW0sdXNlU291cmNlTWFwKTtyZXR1cm4gaXRlbVsyXT9cIkBtZWRpYSBcIitpdGVtWzJdK1wie1wiK2NvbnRlbnQrXCJ9XCI6Y29udGVudH0pLmpvaW4oXCJcIil9LGxpc3QuaT1mdW5jdGlvbihtb2R1bGVzLG1lZGlhUXVlcnkpe1wic3RyaW5nXCI9PXR5cGVvZiBtb2R1bGVzJiYobW9kdWxlcz1bW251bGwsbW9kdWxlcyxcIlwiXV0pO2Zvcih2YXIgYWxyZWFkeUltcG9ydGVkTW9kdWxlcz17fSxpPTA7aTx0aGlzLmxlbmd0aDtpKyspe3ZhciBpZD10aGlzW2ldWzBdO1wibnVtYmVyXCI9PXR5cGVvZiBpZCYmKGFscmVhZHlJbXBvcnRlZE1vZHVsZXNbaWRdPSEwKX1mb3IoaT0wO2k8bW9kdWxlcy5sZW5ndGg7aSsrKXt2YXIgaXRlbT1tb2R1bGVzW2ldO1wibnVtYmVyXCI9PXR5cGVvZiBpdGVtWzBdJiZhbHJlYWR5SW1wb3J0ZWRNb2R1bGVzW2l0ZW1bMF1dfHwobWVkaWFRdWVyeSYmIWl0ZW1bMl0/aXRlbVsyXT1tZWRpYVF1ZXJ5Om1lZGlhUXVlcnkmJihpdGVtWzJdPVwiKFwiK2l0ZW1bMl0rXCIpIGFuZCAoXCIrbWVkaWFRdWVyeStcIilcIiksbGlzdC5wdXNoKGl0ZW0pKX19LGxpc3R9fV0pfSxmdW5jdGlvbihtb2R1bGUsZXhwb3J0cyxfX3dlYnBhY2tfcmVxdWlyZV9fKXtcInVzZSBzdHJpY3RcIjtPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cyxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KTt2YXIgd2ViX3B1c2hfc3Vic2NyaWJlX3BvcHVwXzE9X193ZWJwYWNrX3JlcXVpcmVfXygxNTQpO2RvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJwdXNod29vc2guaW5pdGlhbGl6ZWRcIixmdW5jdGlvbihldil7aWYoZXYuZGV0YWlsLnB3LnN1YnNjcmliZVBvcHVwQ29uZmlnJiZldi5kZXRhaWwucHcuc3Vic2NyaWJlUG9wdXBDb25maWcuZW5hYmxlKXt2YXIgcG9wdXBfMT1uZXcgd2ViX3B1c2hfc3Vic2NyaWJlX3BvcHVwXzEuUFdTdWJzY3JpYmVQb3B1cChldi5kZXRhaWwucHcpO3BvcHVwXzEuaW5pdFBvcHVwKCkudGhlbihmdW5jdGlvbigpe2V2LmRldGFpbC5wdy5zdWJzY3JpYmVQb3B1cD1wb3B1cF8xfSl9fSl9LGZ1bmN0aW9uKG1vZHVsZSxleHBvcnRzLF9fd2VicGFja19yZXF1aXJlX18pe21vZHVsZS5leHBvcnRzPWZ1bmN0aW9uKG1vZHVsZXMpe3ZhciBpbnN0YWxsZWRNb2R1bGVzPXt9O2Z1bmN0aW9uIF9fd2VicGFja19yZXF1aXJlX18obW9kdWxlSWQpe2lmKGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdKXJldHVybiBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXS5leHBvcnRzO3ZhciBtb2R1bGU9aW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF09e2k6bW9kdWxlSWQsbDohMSxleHBvcnRzOnt9fTtyZXR1cm4gbW9kdWxlc1ttb2R1bGVJZF0uY2FsbChtb2R1bGUuZXhwb3J0cyxtb2R1bGUsbW9kdWxlLmV4cG9ydHMsX193ZWJwYWNrX3JlcXVpcmVfXyksbW9kdWxlLmw9ITAsbW9kdWxlLmV4cG9ydHN9cmV0dXJuIF9fd2VicGFja19yZXF1aXJlX18ubT1tb2R1bGVzLF9fd2VicGFja19yZXF1aXJlX18uYz1pbnN0YWxsZWRNb2R1bGVzLF9fd2VicGFja19yZXF1aXJlX18uZD1mdW5jdGlvbihleHBvcnRzLG5hbWUsZ2V0dGVyKXtfX3dlYnBhY2tfcmVxdWlyZV9fLm8oZXhwb3J0cyxuYW1lKXx8T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsbmFtZSx7Y29uZmlndXJhYmxlOiExLGVudW1lcmFibGU6ITAsZ2V0OmdldHRlcn0pfSxfX3dlYnBhY2tfcmVxdWlyZV9fLnI9ZnVuY3Rpb24oZXhwb3J0cyl7T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSl9LF9fd2VicGFja19yZXF1aXJlX18ubj1mdW5jdGlvbihtb2R1bGUpe3ZhciBnZXR0ZXI9bW9kdWxlJiZtb2R1bGUuX19lc01vZHVsZT9mdW5jdGlvbigpe3JldHVybiBtb2R1bGUuZGVmYXVsdH06ZnVuY3Rpb24oKXtyZXR1cm4gbW9kdWxlfTtyZXR1cm4gX193ZWJwYWNrX3JlcXVpcmVfXy5kKGdldHRlcixcImFcIixnZXR0ZXIpLGdldHRlcn0sX193ZWJwYWNrX3JlcXVpcmVfXy5vPWZ1bmN0aW9uKG9iamVjdCxwcm9wZXJ0eSl7cmV0dXJuIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmplY3QscHJvcGVydHkpfSxfX3dlYnBhY2tfcmVxdWlyZV9fLnA9XCJcIixfX3dlYnBhY2tfcmVxdWlyZV9fKF9fd2VicGFja19yZXF1aXJlX18ucz0xKX0oW2Z1bmN0aW9uKG1vZHVsZSxleHBvcnRzLF9fd2VicGFja19yZXF1aXJlX18pe1widXNlIHN0cmljdFwiO09iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pLGV4cG9ydHMuREVGQVVMVF9DT05GSUc9e3RleHQ6XCJEb27igJl0IG1pc3Mgb3V0IG9uIG91ciBuZXdzIGFuZCB1cGRhdGVzISBFbmFibGUgcHVzaCBub3RpZmljYXRpb25zXCIsYXNrTGF0ZXJCdXR0b25UZXh0OlwiTm90IG5vd1wiLGNvbmZpcm1TdWJzY3JpcHRpb25CdXR0b25UZXh0OlwiU3Vic2NyaWJlXCIsZGVsYXk6NjAscmV0cnlPZmZzZXQ6NjA0ODAwLG92ZXJsYXk6ITEscG9zaXRpb246XCJ0b3BcIixiZ0NvbG9yOlwiI2ZmZlwiLGJvcmRlckNvbG9yOlwidHJhbnNwYXJlbnRcIixib3hTaGFkb3c6XCIwIDNweCA2cHggcmdiYSgwLDAsMCwwLjE2KSwgMCAzcHggNnB4IHJnYmEoMCwwLDAsMC4yMylcIix0ZXh0Q29sb3I6XCIjMDAwXCIsdGV4dFNpemU6XCJpbmhlcml0XCIsZm9udEZhbWlseTpcImluaGVyaXRcIixzdWJzY3JpYmVCdG5CZ0NvbG9yOlwiIzQyODVmNFwiLHN1YnNjcmliZUJ0blRleHRDb2xvcjpcIiNmZmZcIixhc2tMYXRlckJ0bkJnQ29sb3I6XCJ0cmFuc3BhcmVudFwiLGFza0xhdGVyQnRuVGV4dENvbG9yOlwiIzAwMFwiLHRoZW1lOlwibWF0ZXJpYWxcIix2aWV3cG9ydDpcImh0bWxcIn0sZXhwb3J0cy5DT0xPUl9URVNUX1JFR0VYUD0vXigjKFtcXGRhLWZdezN9KXsxLDJ9JHwocmdifGhzbClhXFwoKFxcZHsxLDN9JT8sXFxzPyl7M30oMXwwP1xcLlxcZCspXFwpJHwocmdifGhzbClcXChcXGR7MSwzfSU/KCxcXHM/XFxkezEsM30lPyl7Mn1cXCkkKS8sZXhwb3J0cy5QRVJNSVNTSU9OX0RFTklFRD1cImRlbmllZFwiLGV4cG9ydHMuUEVSTUlTU0lPTl9HUkFOVEVEPVwiZ3JhbnRlZFwiLGV4cG9ydHMuQ09ORklHX1NUWUxFUz1be25hbWU6XCJiZ0NvbG9yXCIsdHlwZTpcImNvbG9yXCJ9LHtuYW1lOlwiYm9yZGVyQ29sb3JcIix0eXBlOlwiY29sb3JcIn0se25hbWU6XCJib3hTaGFkb3dcIix0eXBlOlwic3RyaW5nXCJ9LHtuYW1lOlwidGV4dENvbG9yXCIsdHlwZTpcImNvbG9yXCJ9LHtuYW1lOlwidGV4dFNpemVcIix0eXBlOlwic3RyaW5nXCJ9LHtuYW1lOlwiZm9udEZhbWlseVwiLHR5cGU6XCJzdHJpbmdcIn0se25hbWU6XCJzdWJzY3JpYmVCdG5CZ0NvbG9yXCIsdHlwZTpcImNvbG9yXCJ9LHtuYW1lOlwic3Vic2NyaWJlQnRuVGV4dENvbG9yXCIsdHlwZTpcImNvbG9yXCJ9LHtuYW1lOlwiYXNrTGF0ZXJCdG5CZ0NvbG9yXCIsdHlwZTpcImNvbG9yXCJ9LHtuYW1lOlwiYXNrTGF0ZXJCdG5UZXh0Q29sb3JcIix0eXBlOlwiY29sb3JcIn1dfSxmdW5jdGlvbihtb2R1bGUsZXhwb3J0cyxfX3dlYnBhY2tfcmVxdWlyZV9fKXtcInVzZSBzdHJpY3RcIjtPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cyxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KTt2YXIgU3Vic2NyaWJlUG9wdXBfMT1fX3dlYnBhY2tfcmVxdWlyZV9fKDIpO2V4cG9ydHMuUFdTdWJzY3JpYmVQb3B1cD1TdWJzY3JpYmVQb3B1cF8xLmRlZmF1bHR9LGZ1bmN0aW9uKG1vZHVsZSxleHBvcnRzLF9fd2VicGFja19yZXF1aXJlX18pe1widXNlIHN0cmljdFwiO3ZhciBfX2Fzc2lnbj10aGlzJiZ0aGlzLl9fYXNzaWdufHxPYmplY3QuYXNzaWdufHxmdW5jdGlvbih0KXtmb3IodmFyIHMsaT0xLG49YXJndW1lbnRzLmxlbmd0aDtpPG47aSsrKWZvcih2YXIgcCBpbiBzPWFyZ3VtZW50c1tpXSlPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwocyxwKSYmKHRbcF09c1twXSk7cmV0dXJuIHR9LF9fYXdhaXRlcj10aGlzJiZ0aGlzLl9fYXdhaXRlcnx8ZnVuY3Rpb24odGhpc0FyZyxfYXJndW1lbnRzLFAsZ2VuZXJhdG9yKXtyZXR1cm4gbmV3KFB8fChQPVByb21pc2UpKShmdW5jdGlvbihyZXNvbHZlLHJlamVjdCl7ZnVuY3Rpb24gZnVsZmlsbGVkKHZhbHVlKXt0cnl7c3RlcChnZW5lcmF0b3IubmV4dCh2YWx1ZSkpfWNhdGNoKGUpe3JlamVjdChlKX19ZnVuY3Rpb24gcmVqZWN0ZWQodmFsdWUpe3RyeXtzdGVwKGdlbmVyYXRvci50aHJvdyh2YWx1ZSkpfWNhdGNoKGUpe3JlamVjdChlKX19ZnVuY3Rpb24gc3RlcChyZXN1bHQpe3Jlc3VsdC5kb25lP3Jlc29sdmUocmVzdWx0LnZhbHVlKTpuZXcgUChmdW5jdGlvbihyZXNvbHZlKXtyZXNvbHZlKHJlc3VsdC52YWx1ZSl9KS50aGVuKGZ1bGZpbGxlZCxyZWplY3RlZCl9c3RlcCgoZ2VuZXJhdG9yPWdlbmVyYXRvci5hcHBseSh0aGlzQXJnLF9hcmd1bWVudHN8fFtdKSkubmV4dCgpKX0pfSxfX2dlbmVyYXRvcj10aGlzJiZ0aGlzLl9fZ2VuZXJhdG9yfHxmdW5jdGlvbih0aGlzQXJnLGJvZHkpe3ZhciBmLHksdCxnLF89e2xhYmVsOjAsc2VudDpmdW5jdGlvbigpe2lmKDEmdFswXSl0aHJvdyB0WzFdO3JldHVybiB0WzFdfSx0cnlzOltdLG9wczpbXX07cmV0dXJuIGc9e25leHQ6dmVyYigwKSx0aHJvdzp2ZXJiKDEpLHJldHVybjp2ZXJiKDIpfSxcImZ1bmN0aW9uXCI9PXR5cGVvZiBTeW1ib2wmJihnW1N5bWJvbC5pdGVyYXRvcl09ZnVuY3Rpb24oKXtyZXR1cm4gdGhpc30pLGc7ZnVuY3Rpb24gdmVyYihuKXtyZXR1cm4gZnVuY3Rpb24odil7cmV0dXJuIGZ1bmN0aW9uKG9wKXtpZihmKXRocm93IG5ldyBUeXBlRXJyb3IoXCJHZW5lcmF0b3IgaXMgYWxyZWFkeSBleGVjdXRpbmcuXCIpO2Zvcig7XzspdHJ5e2lmKGY9MSx5JiYodD0yJm9wWzBdP3kucmV0dXJuOm9wWzBdP3kudGhyb3d8fCgodD15LnJldHVybikmJnQuY2FsbCh5KSwwKTp5Lm5leHQpJiYhKHQ9dC5jYWxsKHksb3BbMV0pKS5kb25lKXJldHVybiB0O3N3aXRjaCh5PTAsdCYmKG9wPVsyJm9wWzBdLHQudmFsdWVdKSxvcFswXSl7Y2FzZSAwOmNhc2UgMTp0PW9wO2JyZWFrO2Nhc2UgNDpyZXR1cm4gXy5sYWJlbCsrLHt2YWx1ZTpvcFsxXSxkb25lOiExfTtjYXNlIDU6Xy5sYWJlbCsrLHk9b3BbMV0sb3A9WzBdO2NvbnRpbnVlO2Nhc2UgNzpvcD1fLm9wcy5wb3AoKSxfLnRyeXMucG9wKCk7Y29udGludWU7ZGVmYXVsdDppZighKHQ9KHQ9Xy50cnlzKS5sZW5ndGg+MCYmdFt0Lmxlbmd0aC0xXSkmJig2PT09b3BbMF18fDI9PT1vcFswXSkpe189MDtjb250aW51ZX1pZigzPT09b3BbMF0mJighdHx8b3BbMV0+dFswXSYmb3BbMV08dFszXSkpe18ubGFiZWw9b3BbMV07YnJlYWt9aWYoNj09PW9wWzBdJiZfLmxhYmVsPHRbMV0pe18ubGFiZWw9dFsxXSx0PW9wO2JyZWFrfWlmKHQmJl8ubGFiZWw8dFsyXSl7Xy5sYWJlbD10WzJdLF8ub3BzLnB1c2gob3ApO2JyZWFrfXRbMl0mJl8ub3BzLnBvcCgpLF8udHJ5cy5wb3AoKTtjb250aW51ZX1vcD1ib2R5LmNhbGwodGhpc0FyZyxfKX1jYXRjaChlKXtvcD1bNixlXSx5PTB9ZmluYWxseXtmPXQ9MH1pZig1Jm9wWzBdKXRocm93IG9wWzFdO3JldHVybnt2YWx1ZTpvcFswXT9vcFsxXTp2b2lkIDAsZG9uZTohMH19KFtuLHZdKX19fTtPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cyxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KTt2YXIgY29uc3RhbnRzXzE9X193ZWJwYWNrX3JlcXVpcmVfXygwKSxwb3B1cFRlbXBsYXRlc18xPV9fd2VicGFja19yZXF1aXJlX18oMyksY29uc3RhbnRzXzI9X193ZWJwYWNrX3JlcXVpcmVfXygwKSxoZWxwZXJzXzE9X193ZWJwYWNrX3JlcXVpcmVfXyg0KSxTdWJzY3JpYmVQb3B1cD1mdW5jdGlvbigpe2Z1bmN0aW9uIFN1YnNjcmliZVBvcHVwKHB3KXt0aGlzLnB3PXB3LHRoaXMuY29uZmlnPV9fYXNzaWduKHt9LGNvbnN0YW50c18xLkRFRkFVTFRfQ09ORklHLHRoaXMucHcuc3Vic2NyaWJlUG9wdXBDb25maWcpLHRoaXMub25Bc2tMYXRlckNsaWNrPXRoaXMub25Bc2tMYXRlckNsaWNrLmJpbmQodGhpcyksdGhpcy5vblN1YnNjcmliZUNsaWNrPXRoaXMub25TdWJzY3JpYmVDbGljay5iaW5kKHRoaXMpfXJldHVybiBTdWJzY3JpYmVQb3B1cC5wcm90b3R5cGUuaW5pdFBvcHVwPWZ1bmN0aW9uKCl7cmV0dXJuIF9fYXdhaXRlcih0aGlzLHZvaWQgMCx2b2lkIDAsZnVuY3Rpb24oKXt2YXIgaXNTdWJzY3JpYmVkLGlzTWFudWFsVW5zdWJzY3JpYmVkLHBlcm1pc3Npb24sbGFzdFBvcHVwT3BlbixsYXN0UG9wdXBPcGVuVGltZSxub3csX3RoaXM9dGhpcztyZXR1cm4gX19nZW5lcmF0b3IodGhpcyxmdW5jdGlvbihfYSl7c3dpdGNoKF9hLmxhYmVsKXtjYXNlIDA6cmV0dXJuWzQsdGhpcy5wdy5pc1N1YnNjcmliZWQoKV07Y2FzZSAxOnJldHVybiBpc1N1YnNjcmliZWQ9X2Euc2VudCgpLFs0LHRoaXMucHcuZGF0YS5nZXRTdGF0dXNNYW51YWxVbnN1YnNjcmliZWQoKV07Y2FzZSAyOnJldHVybiBpc01hbnVhbFVuc3Vic2NyaWJlZD1fYS5zZW50KCksaXNTdWJzY3JpYmVkfHxpc01hbnVhbFVuc3Vic2NyaWJlZD9bMl06WzQsdGhpcy5wdy5kcml2ZXIuZ2V0UGVybWlzc2lvbigpXTtjYXNlIDM6cmV0dXJuKHBlcm1pc3Npb249X2Euc2VudCgpKT09PWNvbnN0YW50c18yLlBFUk1JU1NJT05fR1JBTlRFRHx8cGVybWlzc2lvbj09PWNvbnN0YW50c18yLlBFUk1JU1NJT05fREVOSUVEP1syXToodGhpcy5yZW5kZXJQb3B1cCgpLHRoaXMuYXBwZW5kU3R5bGVzKCksbGFzdFBvcHVwT3Blbj1sb2NhbFN0b3JhZ2UuZ2V0SXRlbShcIkxBU1RfT1BFTl9TVUJTQ1JJUFRJT05fUE9QVVBcIiksbGFzdFBvcHVwT3BlblRpbWU9bGFzdFBvcHVwT3Blbj9wYXJzZUludChsYXN0UG9wdXBPcGVuKTowLG5vdz0obmV3IERhdGUpLmdldFRpbWUoKSxsYXN0UG9wdXBPcGVuVGltZSsxZTMqdGhpcy5jb25maWcucmV0cnlPZmZzZXQ8bm93JiZzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7X3RoaXMudG9nZ2xlKCEwKX0sMWUzKnRoaXMuY29uZmlnLmRlbGF5KSxbMl0pfX0pfSl9LFN1YnNjcmliZVBvcHVwLnByb3RvdHlwZS50b2dnbGU9ZnVuY3Rpb24oaXNTaG93bil7KFwiYm9vbGVhblwiPT10eXBlb2YgaXNTaG93bj9pc1Nob3duOiF0aGlzLmlzU2hvd24pP3RoaXMuc2hvd1BvcHVwKCk6dGhpcy5jbG9zZVBvcHVwKCl9LFN1YnNjcmliZVBvcHVwLnByb3RvdHlwZS5zaG93UG9wdXA9ZnVuY3Rpb24oKXt0aGlzLmlzU2hvd249ITAsdGhpcy5wb3B1cC5jbGFzc0xpc3QuYWRkKFwicHctc2hvd1wiKSxkb2N1bWVudC5ib2R5LmNsYXNzTGlzdC5hZGQoXCJwdy1wb3B1cC1vcGVuZWRcIik7dmFyIGV2ZW50PW5ldyBDdXN0b21FdmVudChcInNob3dQb3B1cFwiLHtidWJibGVzOiExLGNhbmNlbGFibGU6ITEsZGV0YWlsOntwb3B1cDp0aGlzLnBvcHVwfX0pO2lmKHRoaXMucG9wdXAuZGlzcGF0Y2hFdmVudChldmVudCksIShNYXRoLm1heChkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuY2xpZW50V2lkdGgsd2luZG93LmlubmVyV2lkdGh8fDApPDU0MSkpe3ZhciBfYT10aGlzLmNvbmZpZyx0aGVtZT1fYS50aGVtZSx2aWV3cG9ydD1fYS52aWV3cG9ydCxwb3NpdGlvbj1fYS5wb3NpdGlvbjtpZihcInRvcGJhclwiPT09dGhlbWUmJlwidG9wXCI9PT1wb3NpdGlvbil7dmFyIHZpZXdwb3J0RWxlbWVudD1kb2N1bWVudC5xdWVyeVNlbGVjdG9yKHZpZXdwb3J0KXx8ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKSxjdXJyZW50TWFyZ2luVG9wPXdpbmRvdy5nZXRDb21wdXRlZFN0eWxlKHZpZXdwb3J0RWxlbWVudCkubWFyZ2luVG9wfHxcIjBcIjt2aWV3cG9ydEVsZW1lbnQuc3R5bGUudHJhbnNpdGlvbj1cIm1hcmdpbi10b3AgLjNzIGVhc2Utb3V0XCIsdmlld3BvcnRFbGVtZW50LnN0eWxlLm1hcmdpblRvcD1wYXJzZUludChjdXJyZW50TWFyZ2luVG9wKSt0aGlzLnBvcHVwLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLmhlaWdodCtcInB4XCJ9fX0sU3Vic2NyaWJlUG9wdXAucHJvdG90eXBlLmNsb3NlUG9wdXA9ZnVuY3Rpb24oKXt0aGlzLmlzU2hvd249ITEsdGhpcy5wb3B1cC5jbGFzc0xpc3QucmVtb3ZlKFwicHctc2hvd1wiKSxkb2N1bWVudC5ib2R5LmNsYXNzTGlzdC5yZW1vdmUoXCJwdy1wb3B1cC1vcGVuZWRcIik7dmFyIGV2ZW50PW5ldyBDdXN0b21FdmVudChcImhpZGVQb3B1cFwiLHtidWJibGVzOiExLGNhbmNlbGFibGU6ITEsZGV0YWlsOntwb3B1cDp0aGlzLnBvcHVwfX0pO3RoaXMucG9wdXAuZGlzcGF0Y2hFdmVudChldmVudCk7dmFyIG5vdz0obmV3IERhdGUpLmdldFRpbWUoKS50b1N0cmluZygpO2lmKGxvY2FsU3RvcmFnZS5zZXRJdGVtKFwiTEFTVF9PUEVOX1NVQlNDUklQVElPTl9QT1BVUFwiLG5vdyksIShNYXRoLm1heChkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuY2xpZW50V2lkdGgsd2luZG93LmlubmVyV2lkdGh8fDApPDU0MSkpe3ZhciBfYT10aGlzLmNvbmZpZyx0aGVtZT1fYS50aGVtZSx2aWV3cG9ydD1fYS52aWV3cG9ydCxwb3NpdGlvbj1fYS5wb3NpdGlvbjtpZihcInRvcGJhclwiPT09dGhlbWUmJlwidG9wXCI9PT1wb3NpdGlvbil7dmFyIHZpZXdwb3J0RWxlbWVudD1kb2N1bWVudC5xdWVyeVNlbGVjdG9yKHZpZXdwb3J0KXx8ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKSxjdXJyZW50TWFyZ2luVG9wPXdpbmRvdy5nZXRDb21wdXRlZFN0eWxlKHZpZXdwb3J0RWxlbWVudCkubWFyZ2luVG9wfHxcIjBcIjt2aWV3cG9ydEVsZW1lbnQuc3R5bGUubWFyZ2luVG9wPXBhcnNlSW50KGN1cnJlbnRNYXJnaW5Ub3ApLXRoaXMucG9wdXAuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkuaGVpZ2h0K1wicHhcIn19fSxTdWJzY3JpYmVQb3B1cC5wcm90b3R5cGUucmVuZGVyUG9wdXA9ZnVuY3Rpb24oKXt0aGlzLnBvcHVwPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiksdGhpcy5wb3B1cC5pZD1cInB3U3Vic2NyaWJlUG9wdXBcIjt2YXIgX2E9dGhpcy5jb25maWcsdGV4dD1fYS50ZXh0LGFza0xhdGVyQnV0dG9uVGV4dD1fYS5hc2tMYXRlckJ1dHRvblRleHQsY29uZmlybVN1YnNjcmlwdGlvbkJ1dHRvblRleHQ9X2EuY29uZmlybVN1YnNjcmlwdGlvbkJ1dHRvblRleHQsaWNvblVybD1fYS5pY29uVXJsLHBvc2l0aW9uPV9hLnBvc2l0aW9uLG92ZXJsYXk9X2Eub3ZlcmxheSx0aGVtZT1fYS50aGVtZTt0aGlzLnBvcHVwLmNsYXNzTmFtZT1cInB3LXN1YnNjcmliZS1wb3B1cCBwdy1wb3NpdGlvbi1cIitwb3NpdGlvbitcIiBwdy1zdWJzY3JpYmUtcG9wdXAtXCIrdGhlbWUsdGhpcy5wb3B1cC5jbGFzc0xpc3QudG9nZ2xlKFwicHctc3Vic2NyaWJlLXBvcHVwX19vdmVybGF5XCIsb3ZlcmxheSksdGhpcy5wb3B1cC5pbm5lckhUTUw9cG9wdXBUZW1wbGF0ZXNfMS5pbm5lclRlbXBsYXRlKHt0ZXh0OnRleHQsYXNrTGF0ZXJCdXR0b25UZXh0OmFza0xhdGVyQnV0dG9uVGV4dCxjb25maXJtU3Vic2NyaXB0aW9uQnV0dG9uVGV4dDpjb25maXJtU3Vic2NyaXB0aW9uQnV0dG9uVGV4dCxpY29uVXJsOmljb25Vcmx9KSxkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKHRoaXMucG9wdXApLHRoaXMuYWRkTGlzdGVuZXJzKCl9LFN1YnNjcmliZVBvcHVwLnByb3RvdHlwZS5hcHBlbmRTdHlsZXM9ZnVuY3Rpb24oKXt2YXIgc3R5bGVzPV9fd2VicGFja19yZXF1aXJlX18oNSksc3R5bGU9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInN0eWxlXCIpO3N0eWxlLmlubmVySFRNTD10aGlzLmNvbmZpZ3VyZVN0eWxlKHN0eWxlcyksZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChzdHlsZSl9LFN1YnNjcmliZVBvcHVwLnByb3RvdHlwZS5nZXRTdHlsZUZvcm1hdHRlcj1mdW5jdGlvbihzdHlsZSl7c3dpdGNoKHN0eWxlLnR5cGUpe2Nhc2VcInNpemVcIjpyZXR1cm4odGhpcy5jb25maWdbc3R5bGUubmFtZV18fDApK1wicHhcIjtjYXNlXCJudW1iZXJcIjpyZXR1cm4gcGFyc2VGbG9hdCh0aGlzLmNvbmZpZ1tzdHlsZS5uYW1lXS50b1N0cmluZygpKS50b1N0cmluZygpO2Nhc2VcInN0cmluZ1wiOnJldHVybiB0aGlzLmNvbmZpZ1tzdHlsZS5uYW1lXS50b1N0cmluZygpO2Nhc2VcImNvbG9yXCI6cmV0dXJuIGhlbHBlcnNfMS5nZXRWYWxpZENvbG9yKHRoaXMuY29uZmlnW3N0eWxlLm5hbWVdLnRvU3RyaW5nKCkpO2RlZmF1bHQ6cmV0dXJuXCJub25lXCJ9fSxTdWJzY3JpYmVQb3B1cC5wcm90b3R5cGUuY29uZmlndXJlU3R5bGU9ZnVuY3Rpb24oc3R5bGVzKXt2YXIgX3RoaXM9dGhpcyxyZXN1bHRTdHlsZXM9c3R5bGVzLnRvU3RyaW5nKCk7cmV0dXJuIGNvbnN0YW50c18xLkNPTkZJR19TVFlMRVMuZm9yRWFjaChmdW5jdGlvbihzdHlsZSl7dmFyIHRlbXBsYXRlPW5ldyBSZWdFeHAoXCJ2YXJcXFxcKC0tXCIrc3R5bGUubmFtZStcIlxcXFwpXCIsXCJpZ1wiKSxyZXN1bHQ9X3RoaXMuZ2V0U3R5bGVGb3JtYXR0ZXIoc3R5bGUpO3Jlc3VsdFN0eWxlcz1yZXN1bHRTdHlsZXMucmVwbGFjZSh0ZW1wbGF0ZSxyZXN1bHQpfSkscmVzdWx0U3R5bGVzfSxTdWJzY3JpYmVQb3B1cC5wcm90b3R5cGUuYWRkTGlzdGVuZXJzPWZ1bmN0aW9uKCl7dmFyIGFza0xhdGVyQnV0dG9uPXRoaXMucG9wdXAucXVlcnlTZWxlY3RvcignYnV0dG9uW25hbWU9XCJwd0Fza0xhdGVyXCJdJyl8fGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJidXR0b25cIiksc3Vic2NyaWJlQnV0dG9uPXRoaXMucG9wdXAucXVlcnlTZWxlY3RvcignYnV0dG9uW25hbWU9XCJwd1N1YnNjcmliZVwiXScpfHxkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiYnV0dG9uXCIpO2Fza0xhdGVyQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLHRoaXMub25Bc2tMYXRlckNsaWNrKSxzdWJzY3JpYmVCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsdGhpcy5vblN1YnNjcmliZUNsaWNrKX0sU3Vic2NyaWJlUG9wdXAucHJvdG90eXBlLm9uQXNrTGF0ZXJDbGljaz1mdW5jdGlvbigpe3RoaXMudG9nZ2xlKCExKX0sU3Vic2NyaWJlUG9wdXAucHJvdG90eXBlLm9uU3Vic2NyaWJlQ2xpY2s9ZnVuY3Rpb24oKXt0aGlzLnB3LnN1YnNjcmliZSgpLHRoaXMudG9nZ2xlKCExKX0sU3Vic2NyaWJlUG9wdXB9KCk7ZXhwb3J0cy5kZWZhdWx0PVN1YnNjcmliZVBvcHVwfSxmdW5jdGlvbihtb2R1bGUsZXhwb3J0cyxfX3dlYnBhY2tfcmVxdWlyZV9fKXtcInVzZSBzdHJpY3RcIjtPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cyxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KSxleHBvcnRzLmlubmVyVGVtcGxhdGU9ZnVuY3Rpb24oX2Epe3ZhciBpY29uVXJsPV9hLmljb25VcmwsdGV4dD1fYS50ZXh0LGFza0xhdGVyQnV0dG9uVGV4dD1fYS5hc2tMYXRlckJ1dHRvblRleHQsY29uZmlybVN1YnNjcmlwdGlvbkJ1dHRvblRleHQ9X2EuY29uZmlybVN1YnNjcmlwdGlvbkJ1dHRvblRleHQ7cmV0dXJuJzxkaXYgY2xhc3M9XCJwdy1zdWJzY3JpcHRpb24tcG9wdXAtaW5uZXJcIj5cXG4gICAgPGRpdiBjbGFzcz1cInB3LXN1YnNjcmlwdGlvbi1wb3B1cC1jb250ZW50XCI+XFxuICAgICAgJysoaWNvblVybD8nPGRpdiBjbGFzcz1cInB3LXN1YnNjcmlwdGlvbi1wb3B1cC1pY29uXCI+XFxuICAgICAgICA8aW1nIHNyYz1cIicraWNvblVybCsnXCI+XFxuICAgICAgPC9kaXY+JzpcIlwiKSsnXFxuICAgICAgPGRpdiBjbGFzcz1cInB3LXN1YnNjcmlwdGlvbi1wb3B1cC10ZXh0XCI+XFxuICAgICAgICAnK3RleHQrJ1xcbiAgICAgIDwvZGl2PlxcbiAgICA8L2Rpdj5cXG4gICAgPGRpdiBjbGFzcz1cInB3LXN1YnNjcmlwdGlvbi1wb3B1cC1jb250cm9sc1wiPlxcbiAgICAgIDxidXR0b24gbmFtZT1cInB3U3Vic2NyaWJlXCIgY2xhc3M9XCJwdy1zdWJzY3JpYmUtcG9wdXAtYnV0dG9uIHB3LXN1YnNjcmliZS1wb3B1cC1idXR0b24tYWN0aXZlXCI+Jytjb25maXJtU3Vic2NyaXB0aW9uQnV0dG9uVGV4dCsnPC9idXR0b24+XFxuICAgICAgPGJ1dHRvbiBuYW1lPVwicHdBc2tMYXRlclwiIGNsYXNzPVwicHctc3Vic2NyaWJlLXBvcHVwLWJ1dHRvblwiPicrYXNrTGF0ZXJCdXR0b25UZXh0K1wiPC9idXR0b24+XFxuICAgIDwvZGl2PlxcbiAgPC9kaXY+XCJ9fSxmdW5jdGlvbihtb2R1bGUsZXhwb3J0cyxfX3dlYnBhY2tfcmVxdWlyZV9fKXtcInVzZSBzdHJpY3RcIjtPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cyxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KTt2YXIgY29uc3RhbnRzXzE9X193ZWJwYWNrX3JlcXVpcmVfXygwKTtleHBvcnRzLmdldFZhbGlkQ29sb3I9ZnVuY3Rpb24oY29sb3Ipe3JldHVyblwidHJhbnNwYXJlbnRcIj09PWNvbG9yP2NvbG9yOmNvbnN0YW50c18xLkNPTE9SX1RFU1RfUkVHRVhQLnRlc3QoY29sb3IpP2NvbG9yOlwiIzMzM1wifSxleHBvcnRzLmdldEdsb2JhbD1mdW5jdGlvbigpe3JldHVybiBGdW5jdGlvbihcInJldHVybiB0aGlzXCIpKCl9fSxmdW5jdGlvbihtb2R1bGUsZXhwb3J0cyxfX3dlYnBhY2tfcmVxdWlyZV9fKXt2YXIgcmVzdWx0PV9fd2VicGFja19yZXF1aXJlX18oNik7bW9kdWxlLmV4cG9ydHM9XCJzdHJpbmdcIj09dHlwZW9mIHJlc3VsdD9yZXN1bHQ6cmVzdWx0LnRvU3RyaW5nKCl9LGZ1bmN0aW9uKG1vZHVsZSxleHBvcnRzLF9fd2VicGFja19yZXF1aXJlX18peyhtb2R1bGUuZXhwb3J0cz1fX3dlYnBhY2tfcmVxdWlyZV9fKDcpKHZvaWQgMCkpLnB1c2goW21vZHVsZS5pLFwiLnB3LXN1YnNjcmliZS1wb3B1cCB7XFxuICBwb3NpdGlvbjogZml4ZWQ7XFxuICBsZWZ0OiA1MCU7XFxuICAtd2Via2l0LXRyYW5zZm9ybTogdHJhbnNsYXRlWCgtNTAlKTtcXG4gICAgICAtbXMtdHJhbnNmb3JtOiB0cmFuc2xhdGVYKC01MCUpO1xcbiAgICAgICAgICB0cmFuc2Zvcm06IHRyYW5zbGF0ZVgoLTUwJSk7XFxuICAtd2Via2l0LWJveC1wYWNrOiBjZW50ZXI7XFxuICAgICAgLW1zLWZsZXgtcGFjazogY2VudGVyO1xcbiAgICAgICAgICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjtcXG4gIHotaW5kZXg6IDEwMDAwMDA7XFxuICBkaXNwbGF5OiAtd2Via2l0LWJveDtcXG4gIGRpc3BsYXk6IC1tcy1mbGV4Ym94O1xcbiAgZGlzcGxheTogZmxleDtcXG4gIC13ZWJraXQtdHJhbnNpdGlvbjogYWxsIC40cyBlYXNlLW91dDtcXG4gIC1vLXRyYW5zaXRpb246IGFsbCAuNHMgZWFzZS1vdXQ7XFxuICB0cmFuc2l0aW9uOiBhbGwgLjRzIGVhc2Utb3V0O1xcbn1cXG5cXG4ucHctc3Vic2NyaWJlLXBvcHVwLnB3LXBvc2l0aW9uLXRvcCB7XFxuICB0b3A6IGNhbGMoLTEwMCUgLSAyNHB4KTtcXG59XFxuLnB3LXN1YnNjcmliZS1wb3B1cC5wdy1wb3NpdGlvbi10b3AucHctc2hvdyB7XFxuICB0b3A6IDA7XFxufVxcblxcbi5wdy1zdWJzY3JpYmUtcG9wdXAucHctcG9zaXRpb24tYm90dG9tIHtcXG4gIGJvdHRvbTogY2FsYygtMTAwJSAtIDI0cHgpO1xcbn1cXG4ucHctc3Vic2NyaWJlLXBvcHVwLnB3LXBvc2l0aW9uLWJvdHRvbS5wdy1zaG93IHtcXG4gIGJvdHRvbTogMDtcXG59XFxuXFxuLnB3LXN1YnNjcmliZS1wb3B1cC5wdy1wb3NpdGlvbi1jZW50ZXIge1xcbiAgZGlzcGxheTogbm9uZTtcXG59XFxuLnB3LXN1YnNjcmliZS1wb3B1cC5wdy1wb3NpdGlvbi1jZW50ZXIucHctc2hvdyB7XFxuICB0b3A6IDUwJTtcXG4gIGRpc3BsYXk6IC13ZWJraXQtYm94O1xcbiAgZGlzcGxheTogLW1zLWZsZXhib3g7XFxuICBkaXNwbGF5OiBmbGV4O1xcbn1cXG5cXG4ucHctc3Vic2NyaWJlLXBvcHVwX19vdmVybGF5IHtcXG4gIHBvc2l0aW9uOiBmaXhlZDtcXG4gIGxlZnQ6IDA7XFxuICByaWdodDogMDtcXG4gIC13ZWJraXQtdHJhbnNmb3JtOiBub25lO1xcbiAgICAgIC1tcy10cmFuc2Zvcm06IG5vbmU7XFxuICAgICAgICAgIHRyYW5zZm9ybTogbm9uZTtcXG4gIGhlaWdodDogMTAwJTtcXG4gIC13ZWJraXQtYm94LXBhY2s6IGNlbnRlcjtcXG4gICAgICAtbXMtZmxleC1wYWNrOiBjZW50ZXI7XFxuICAgICAgICAgIGp1c3RpZnktY29udGVudDogY2VudGVyO1xcbiAgYmFja2dyb3VuZDogcmdiYSgwLDAsMCwuNCk7XFxuICB6LWluZGV4OiAxMDAwMDAwO1xcbiAgZGlzcGxheTogbm9uZTtcXG4gIHRvcDogMDtcXG59XFxuXFxuLnB3LXN1YnNjcmliZS1wb3B1cF9fb3ZlcmxheS5wdy1wb3NpdGlvbi10b3Age1xcbiAgLXdlYmtpdC1ib3gtYWxpZ246IHN0YXJ0O1xcbiAgICAgIC1tcy1mbGV4LWFsaWduOiBzdGFydDtcXG4gICAgICAgICAgYWxpZ24taXRlbXM6IGZsZXgtc3RhcnQ7XFxufVxcblxcbi5wdy1zdWJzY3JpYmUtcG9wdXBfX292ZXJsYXkucHctcG9zaXRpb24tYm90dG9tIHtcXG4gIC13ZWJraXQtYm94LWFsaWduOiBlbmQ7XFxuICAgICAgLW1zLWZsZXgtYWxpZ246IGVuZDtcXG4gICAgICAgICAgYWxpZ24taXRlbXM6IGZsZXgtZW5kO1xcbn1cXG5cXG4ucHctc3Vic2NyaWJlLXBvcHVwX19vdmVybGF5LnB3LXBvc2l0aW9uLWNlbnRlciB7XFxuICAtd2Via2l0LWJveC1hbGlnbjogY2VudGVyO1xcbiAgICAgIC1tcy1mbGV4LWFsaWduOiBjZW50ZXI7XFxuICAgICAgICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7XFxufVxcblxcbi5wdy1zdWJzY3JpcHRpb24tcG9wdXAtaW5uZXIge1xcbiAgbWF4LXdpZHRoOiA0MDBweDtcXG4gIGZvbnQtc2l6ZTogdmFyKC0tdGV4dFNpemUpO1xcbiAgY29sb3I6IHZhcigtLXRleHRDb2xvcik7XFxuICBmb250LWZhbWlseTogdmFyKC0tZm9udEZhbWlseSk7XFxuICBib3JkZXItc3R5bGU6IHNvbGlkO1xcbiAgYm9yZGVyLXdpZHRoOiAxcHg7XFxuICBib3JkZXItY29sb3I6IHZhcigtLWJvcmRlckNvbG9yKTtcXG4gIGJhY2tncm91bmQ6IHZhcigtLWJnQ29sb3IpO1xcbiAgLXdlYmtpdC1ib3gtc2hhZG93OiB2YXIoLS1ib3hTaGFkb3cpO1xcbiAgICAgICAgICBib3gtc2hhZG93OiB2YXIoLS1ib3hTaGFkb3cpO1xcbn1cXG5cXG4ucHctc3Vic2NyaXB0aW9uLXBvcHVwLWNvbnRlbnQge1xcbiAgcGFkZGluZzogMTZweCAxNnB4IDRweDtcXG4gIGRpc3BsYXk6IC13ZWJraXQtYm94O1xcbiAgZGlzcGxheTogLW1zLWZsZXhib3g7XFxuICBkaXNwbGF5OiBmbGV4O1xcbiAgLXdlYmtpdC1ib3gtcGFjazogc3RyZXRjaDtcXG4gICAgICAtbXMtZmxleC1wYWNrOiBzdHJldGNoO1xcbiAgICAgICAgICBqdXN0aWZ5LWNvbnRlbnQ6IHN0cmV0Y2g7XFxufVxcblxcbi5wdy1zdWJzY3JpcHRpb24tcG9wdXAtaWNvbiB7XFxuICAtd2Via2l0LWJveC1mbGV4OiAwO1xcbiAgICAgIC1tcy1mbGV4OiAwIDAgNTBweDtcXG4gICAgICAgICAgZmxleDogMCAwIDUwcHg7XFxuICBtYXJnaW4tcmlnaHQ6IDEycHg7XFxuICBwYWRkaW5nLXRvcDogNHB4O1xcbn1cXG5cXG4ucHctc3Vic2NyaXB0aW9uLXBvcHVwLWljb24gaW1nIHtcXG4gIG1heC13aWR0aDogNjBweDtcXG4gIG1heC1oZWlnaHQ6IDYwcHg7XFxufVxcblxcbi5wdy1zdWJzY3JpcHRpb24tcG9wdXAtdGV4dCB7XFxuICAtd2Via2l0LWJveC1mbGV4OiAxO1xcbiAgICAgIC1tcy1mbGV4OiAxIDEgMzAwcHg7XFxuICAgICAgICAgIGZsZXg6IDEgMSAzMDBweDtcXG59XFxuXFxuLnB3LXN1YnNjcmlwdGlvbi1wb3B1cC1jb250cm9scyB7XFxuICBkaXNwbGF5OiAtd2Via2l0LWJveDtcXG4gIGRpc3BsYXk6IC1tcy1mbGV4Ym94O1xcbiAgZGlzcGxheTogZmxleDtcXG4gIC1tcy1mbGV4LXdyYXA6IHdyYXA7XFxuICAgICAgZmxleC13cmFwOiB3cmFwO1xcbiAgLXdlYmtpdC1ib3gtcGFjazogY2VudGVyO1xcbiAgICAgIC1tcy1mbGV4LXBhY2s6IGNlbnRlcjtcXG4gICAgICAgICAganVzdGlmeS1jb250ZW50OiBjZW50ZXI7XFxuICBwYWRkaW5nOiA4cHggMTZweCAxNnB4O1xcbn1cXG5cXG5idXR0b24ucHctc3Vic2NyaWJlLXBvcHVwLWJ1dHRvbiB7XFxuICBib3JkZXI6IHNvbGlkIDFweCB0cmFuc3BhcmVudDtcXG4gIC13ZWJraXQtYm9yZGVyLXJhZGl1czogMnB4O1xcbiAgICAgICAgICBib3JkZXItcmFkaXVzOiAycHg7XFxuICBkaXNwbGF5OiBpbmxpbmUtYmxvY2s7XFxuICBoZWlnaHQ6IDM2cHg7XFxuICBsaW5lLWhlaWdodDogMzZweDtcXG4gIHBhZGRpbmc6IDAgMTZweDtcXG4gIHRleHQtdHJhbnNmb3JtOiB1cHBlcmNhc2U7XFxuICB2ZXJ0aWNhbC1hbGlnbjogbWlkZGxlO1xcbiAgLXdlYmtpdC10YXAtaGlnaGxpZ2h0LWNvbG9yOiB0cmFuc3BhcmVudDtcXG4gIGZvbnQtc2l6ZTogMTRweDtcXG4gIG91dGxpbmU6IDA7XFxuICB0ZXh0LWRlY29yYXRpb246IG5vbmU7XFxuICBjb2xvcjogdmFyKC0tYXNrTGF0ZXJCdG5UZXh0Q29sb3IpO1xcbiAgdGV4dC1hbGlnbjogY2VudGVyO1xcbiAgbGV0dGVyLXNwYWNpbmc6IC41cHg7XFxuICBjdXJzb3I6IHBvaW50ZXI7XFxuICBiYWNrZ3JvdW5kOiB2YXIoLS1hc2tMYXRlckJ0bkJnQ29sb3IpO1xcbiAgbWFyZ2luOiA0cHggOHB4O1xcbn1cXG5idXR0b24ucHctc3Vic2NyaWJlLXBvcHVwLWJ1dHRvbjpob3ZlciB7XFxuICBiYWNrZ3JvdW5kOiByZ2JhKDAsMCwwLC4wNCk7XFxufVxcbmJ1dHRvbi5wdy1zdWJzY3JpYmUtcG9wdXAtYnV0dG9uOmFjdGl2ZSB7XFxuICBiYWNrZ3JvdW5kOiByZ2JhKDAsMCwwLC4xMik7XFxufVxcblxcbmJ1dHRvbi5wdy1zdWJzY3JpYmUtcG9wdXAtYnV0dG9uLnB3LXN1YnNjcmliZS1wb3B1cC1idXR0b24tYWN0aXZlIHtcXG4gIGNvbG9yOiB2YXIoLS1zdWJzY3JpYmVCdG5UZXh0Q29sb3IpO1xcbiAgYmFja2dyb3VuZDogdmFyKC0tc3Vic2NyaWJlQnRuQmdDb2xvcik7XFxuICAtd2Via2l0LWJveC1zaGFkb3c6IDAgMnB4IDJweCAwIHJnYmEoMCwwLDAsMC4xNCksXFxuICAwIDNweCAxcHggLTJweCByZ2JhKDAsMCwwLDAuMTIpLFxcbiAgMCAxcHggNXB4IDAgcmdiYSgwLDAsMCwwLjIpO1xcbiAgICAgICAgICBib3gtc2hhZG93OiAwIDJweCAycHggMCByZ2JhKDAsMCwwLDAuMTQpLFxcbiAgMCAzcHggMXB4IC0ycHggcmdiYSgwLDAsMCwwLjEyKSxcXG4gIDAgMXB4IDVweCAwIHJnYmEoMCwwLDAsMC4yKTtcXG59XFxuYnV0dG9uLnB3LXN1YnNjcmliZS1wb3B1cC1idXR0b24ucHctc3Vic2NyaWJlLXBvcHVwLWJ1dHRvbi1hY3RpdmU6aG92ZXIge1xcbiAgLXdlYmtpdC1ib3gtc2hhZG93OiAwIDNweCAzcHggMCByZ2JhKDAsMCwwLDAuMTQpLFxcbiAgMCAxcHggN3B4IDAgcmdiYSgwLDAsMCwwLjEyKSxcXG4gIDAgM3B4IDFweCAtMXB4IHJnYmEoMCwwLDAsMC4yKTtcXG4gICAgICAgICAgYm94LXNoYWRvdzogMCAzcHggM3B4IDAgcmdiYSgwLDAsMCwwLjE0KSxcXG4gIDAgMXB4IDdweCAwIHJnYmEoMCwwLDAsMC4xMiksXFxuICAwIDNweCAxcHggLTFweCByZ2JhKDAsMCwwLDAuMik7XFxufVxcbmJ1dHRvbi5wdy1zdWJzY3JpYmUtcG9wdXAtYnV0dG9uLnB3LXN1YnNjcmliZS1wb3B1cC1idXR0b24tYWN0aXZlOmFjdGl2ZSB7XFxuICAtd2Via2l0LWJveC1zaGFkb3c6IDAgMnB4IDJweCAwIHJnYmEoMCwwLDAsMC4xNCksXFxuICAwIDNweCAxcHggLTJweCByZ2JhKDAsMCwwLDAuMTIpLFxcbiAgMCAxcHggNXB4IDAgcmdiYSgwLDAsMCwwLjIpO1xcbiAgICAgICAgICBib3gtc2hhZG93OiAwIDJweCAycHggMCByZ2JhKDAsMCwwLDAuMTQpLFxcbiAgMCAzcHggMXB4IC0ycHggcmdiYSgwLDAsMCwwLjEyKSxcXG4gIDAgMXB4IDVweCAwIHJnYmEoMCwwLDAsMC4yKTtcXG59XFxuXFxuQG1lZGlhIHNjcmVlbiBhbmQgKG1pbi13aWR0aDogNTQxcHgpIHtcXG5cXG4gIC5wdy1zdWJzY3JpYmUtcG9wdXAtdG9wYmFyIHtcXG4gICAgd2lkdGg6IDEwMCU7XFxuICB9XFxuXFxuICAucHctc3Vic2NyaWJlLXBvcHVwLXRvcGJhciAucHctc3Vic2NyaXB0aW9uLXBvcHVwLWlubmVyIHtcXG4gICAgbWF4LXdpZHRoOiAxMDAlO1xcbiAgICB3aWR0aDogMTAwJTtcXG4gICAgZGlzcGxheTogLXdlYmtpdC1ib3g7XFxuICAgIGRpc3BsYXk6IC1tcy1mbGV4Ym94O1xcbiAgICBkaXNwbGF5OiBmbGV4O1xcbiAgICAtd2Via2l0LWJveC1vcmllbnQ6IGhvcml6b250YWw7XFxuICAgIC13ZWJraXQtYm94LWRpcmVjdGlvbjogbm9ybWFsO1xcbiAgICAgICAgLW1zLWZsZXgtZGlyZWN0aW9uOiByb3c7XFxuICAgICAgICAgICAgZmxleC1kaXJlY3Rpb246IHJvdztcXG4gICAgcGFkZGluZzogMnB4IDQwcHg7XFxuICAgIC13ZWJraXQtYm94LXBhY2s6IGp1c3RpZnk7XFxuICAgICAgICAtbXMtZmxleC1wYWNrOiBqdXN0aWZ5O1xcbiAgICAgICAgICAgIGp1c3RpZnktY29udGVudDogc3BhY2UtYmV0d2VlbjtcXG4gICAgLXdlYmtpdC1ib3gtYWxpZ246IGNlbnRlcjtcXG4gICAgICAgIC1tcy1mbGV4LWFsaWduOiBjZW50ZXI7XFxuICAgICAgICAgICAgYWxpZ24taXRlbXM6IGNlbnRlcjtcXG4gICAgLW1zLWZsZXgtd3JhcDogbm93cmFwO1xcbiAgICAgICAgZmxleC13cmFwOiBub3dyYXA7XFxuICB9XFxuXFxuICAucHctc3Vic2NyaWJlLXBvcHVwLXRvcGJhciAucHctc3Vic2NyaXB0aW9uLXBvcHVwLWNvbnRlbnQge1xcbiAgICBwYWRkaW5nOiAwO1xcbiAgICAtd2Via2l0LWJveC1wYWNrOiBzdGFydDtcXG4gICAgICAgIC1tcy1mbGV4LXBhY2s6IHN0YXJ0O1xcbiAgICAgICAgICAgIGp1c3RpZnktY29udGVudDogZmxleC1zdGFydDtcXG4gICAgLXdlYmtpdC1ib3gtYWxpZ246IGNlbnRlcjtcXG4gICAgICAgIC1tcy1mbGV4LWFsaWduOiBjZW50ZXI7XFxuICAgICAgICAgICAgYWxpZ24taXRlbXM6IGNlbnRlcjtcXG4gICAgLXdlYmtpdC1ib3gtZmxleDogMTtcXG4gICAgICAgIC1tcy1mbGV4OiAxIDEgNjAlO1xcbiAgICAgICAgICAgIGZsZXg6IDEgMSA2MCU7XFxuICB9XFxuXFxuICAucHctc3Vic2NyaWJlLXBvcHVwLXRvcGJhciAucHctc3Vic2NyaXB0aW9uLXBvcHVwLWljb24gaW1nIHtcXG4gICAgbWF4LXdpZHRoOiAyOHB4O1xcbiAgICBtYXgtaGVpZ2h0OiAyOHB4O1xcbiAgfVxcblxcbiAgLnB3LXN1YnNjcmliZS1wb3B1cC10b3BiYXIgYnV0dG9uLnB3LXN1YnNjcmliZS1wb3B1cC1idXR0b24ge1xcbiAgICBoZWlnaHQ6IDMycHg7XFxuICAgIGxpbmUtaGVpZ2h0OiAzMnB4O1xcbiAgfVxcblxcbiAgLnB3LXN1YnNjcmliZS1wb3B1cC10b3BiYXIgLnB3LXN1YnNjcmlwdGlvbi1wb3B1cC1jb250cm9scyB7XFxuICAgIHBhZGRpbmc6IDAgMCAwIDE2cHg7XFxuICAgIC13ZWJraXQtYm94LWFsaWduOiBjZW50ZXI7XFxuICAgICAgICAtbXMtZmxleC1hbGlnbjogY2VudGVyO1xcbiAgICAgICAgICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7XFxuICB9XFxufVxcbkBtZWRpYSBzY3JlZW4gYW5kIChtYXgtd2lkdGg6IDU0MHB4KSB7XFxuICAucHctc3Vic2NyaWJlLXBvcHVwLFxcbiAgLnB3LXN1YnNjcmliZS1wb3B1cC5wdy1wb3NpdGlvbi10b3AsXFxuICAucHctc3Vic2NyaWJlLXBvcHVwLnB3LXBvc2l0aW9uLWNlbnRlcixcXG4gIC5wdy1zdWJzY3JpYmUtcG9wdXAucHctcG9zaXRpb24tYm90dG9tIHtcXG4gICAgdG9wOiBhdXRvO1xcbiAgICBib3R0b206IC0xMTAlO1xcbiAgICBsZWZ0OiAwO1xcbiAgICByaWdodDogMDtcXG4gICAgLXdlYmtpdC10cmFuc2Zvcm06IG5vbmU7XFxuICAgICAgICAtbXMtdHJhbnNmb3JtOiBub25lO1xcbiAgICAgICAgICAgIHRyYW5zZm9ybTogbm9uZTtcXG4gICAgZGlzcGxheTogLXdlYmtpdC1ib3g7XFxuICAgIGRpc3BsYXk6IC1tcy1mbGV4Ym94O1xcbiAgICBkaXNwbGF5OiBmbGV4O1xcbiAgICAtd2Via2l0LXRyYW5zaXRpb246IGJvdHRvbSAuNHMgZWFzZS1vdXQ7XFxuICAgIC1vLXRyYW5zaXRpb246IGJvdHRvbSAuNHMgZWFzZS1vdXQ7XFxuICAgIHRyYW5zaXRpb246IGJvdHRvbSAuNHMgZWFzZS1vdXQ7XFxuICAgIC13ZWJraXQtYm94LWFsaWduOiBlbmQ7XFxuICAgICAgICAtbXMtZmxleC1hbGlnbjogZW5kO1xcbiAgICAgICAgICAgIGFsaWduLWl0ZW1zOiBmbGV4LWVuZDtcXG4gIH1cXG5cXG4gIC5wdy1zdWJzY3JpYmUtcG9wdXAucHctc3Vic2NyaWJlLXBvcHVwX19vdmVybGF5IHtcXG4gICAgaGVpZ2h0OiAxMDAlO1xcbiAgICAtd2Via2l0LWJveC1hbGlnbjogZW5kO1xcbiAgICAgICAgLW1zLWZsZXgtYWxpZ246IGVuZDtcXG4gICAgICAgICAgICBhbGlnbi1pdGVtczogZmxleC1lbmQ7XFxuICB9XFxuXFxuICAucHctc3Vic2NyaWJlLXBvcHVwLnB3LXNob3cge1xcbiAgICBib3R0b206IDA7XFxuICB9XFxuXFxuICAucHctc3Vic2NyaWJlLXBvcHVwX19vdmVybGF5IC5wdy1zdWJzY3JpcHRpb24tcG9wdXAtaW5uZXIge1xcbiAgICAtd2Via2l0LWJveC1hbGlnbjogZW5kO1xcbiAgICAgICAgLW1zLWZsZXgtYWxpZ246IGVuZDtcXG4gICAgICAgICAgICBhbGlnbi1pdGVtczogZmxleC1lbmQ7XFxuICAgIC13ZWJraXQtYm94LXBhY2s6IHN0cmV0Y2g7XFxuICAgICAgICAtbXMtZmxleC1wYWNrOiBzdHJldGNoO1xcbiAgICAgICAgICAgIGp1c3RpZnktY29udGVudDogc3RyZXRjaDtcXG4gIH1cXG5cXG4gIC5wdy1zdWJzY3JpcHRpb24tcG9wdXAtaW5uZXIge1xcbiAgICBtYXgtd2lkdGg6IDEwMCU7XFxuICAgIHdpZHRoOiAxMDAlO1xcbiAgfVxcbn1cXG5cIixcIlwiXSl9LGZ1bmN0aW9uKG1vZHVsZSxleHBvcnRzKXttb2R1bGUuZXhwb3J0cz1mdW5jdGlvbih1c2VTb3VyY2VNYXApe3ZhciBsaXN0PVtdO3JldHVybiBsaXN0LnRvU3RyaW5nPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMubWFwKGZ1bmN0aW9uKGl0ZW0pe3ZhciBjb250ZW50PWZ1bmN0aW9uKGl0ZW0sdXNlU291cmNlTWFwKXt2YXIgY29udGVudD1pdGVtWzFdfHxcIlwiLGNzc01hcHBpbmc9aXRlbVszXTtpZighY3NzTWFwcGluZylyZXR1cm4gY29udGVudDtpZih1c2VTb3VyY2VNYXAmJlwiZnVuY3Rpb25cIj09dHlwZW9mIGJ0b2Epe3ZhciBzb3VyY2VNYXBwaW5nPWZ1bmN0aW9uKHNvdXJjZU1hcCl7cmV0dXJuXCIvKiMgc291cmNlTWFwcGluZ1VSTD1kYXRhOmFwcGxpY2F0aW9uL2pzb247Y2hhcnNldD11dGYtODtiYXNlNjQsXCIrYnRvYSh1bmVzY2FwZShlbmNvZGVVUklDb21wb25lbnQoSlNPTi5zdHJpbmdpZnkoc291cmNlTWFwKSkpKStcIiAqL1wifShjc3NNYXBwaW5nKSxzb3VyY2VVUkxzPWNzc01hcHBpbmcuc291cmNlcy5tYXAoZnVuY3Rpb24oc291cmNlKXtyZXR1cm5cIi8qIyBzb3VyY2VVUkw9XCIrY3NzTWFwcGluZy5zb3VyY2VSb290K3NvdXJjZStcIiAqL1wifSk7cmV0dXJuW2NvbnRlbnRdLmNvbmNhdChzb3VyY2VVUkxzKS5jb25jYXQoW3NvdXJjZU1hcHBpbmddKS5qb2luKFwiXFxuXCIpfXJldHVybltjb250ZW50XS5qb2luKFwiXFxuXCIpfShpdGVtLHVzZVNvdXJjZU1hcCk7cmV0dXJuIGl0ZW1bMl0/XCJAbWVkaWEgXCIraXRlbVsyXStcIntcIitjb250ZW50K1wifVwiOmNvbnRlbnR9KS5qb2luKFwiXCIpfSxsaXN0Lmk9ZnVuY3Rpb24obW9kdWxlcyxtZWRpYVF1ZXJ5KXtcInN0cmluZ1wiPT10eXBlb2YgbW9kdWxlcyYmKG1vZHVsZXM9W1tudWxsLG1vZHVsZXMsXCJcIl1dKTtmb3IodmFyIGFscmVhZHlJbXBvcnRlZE1vZHVsZXM9e30saT0wO2k8dGhpcy5sZW5ndGg7aSsrKXt2YXIgaWQ9dGhpc1tpXVswXTtcIm51bWJlclwiPT10eXBlb2YgaWQmJihhbHJlYWR5SW1wb3J0ZWRNb2R1bGVzW2lkXT0hMCl9Zm9yKGk9MDtpPG1vZHVsZXMubGVuZ3RoO2krKyl7dmFyIGl0ZW09bW9kdWxlc1tpXTtcIm51bWJlclwiPT10eXBlb2YgaXRlbVswXSYmYWxyZWFkeUltcG9ydGVkTW9kdWxlc1tpdGVtWzBdXXx8KG1lZGlhUXVlcnkmJiFpdGVtWzJdP2l0ZW1bMl09bWVkaWFRdWVyeTptZWRpYVF1ZXJ5JiYoaXRlbVsyXT1cIihcIitpdGVtWzJdK1wiKSBhbmQgKFwiK21lZGlhUXVlcnkrXCIpXCIpLGxpc3QucHVzaChpdGVtKSl9fSxsaXN0fX1dKX1dKX0pOyJdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///../../../node_modules/@deriv/web-push-notifications/lib/index.js\n");

/***/ })

}]);